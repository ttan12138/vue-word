(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["index"]=t(require("vue")):e["index"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(){var t={4213:function(e,t,n){var o,r,s;(function(n,i){r=[],o=i,s="function"===typeof o?o.apply(t,r):o,void 0===s||(e.exports=s)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function o(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){A(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(o){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),A=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,n){var a=i.URL||i.webkitURL,A=document.createElement("a");t=t||e.name||"download",A.download=t,A.rel="noopener","string"==typeof e?(A.href=e,A.origin===location.origin?s(A):r(A.href)?o(e,t,n):s(A,A.target="_blank")):(A.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(A.href)}),4e4),setTimeout((function(){s(A)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),n);else if(r(e))o(e,n,i);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){s(a)}))}}:function(e,t,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,n);var s="application/octet-stream"===e.type,A=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&A||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},c.readAsDataURL(e)}else{var u=i.URL||i.webkitURL,d=u.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});i.saveAs=A.saveAs=A,e.exports=A}))},354:function(e){
/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
(function(t,n){e.exports=n()})(0,(function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};function o(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function i(e){try{A(o.next(e))}catch(Kt){s(Kt)}}function a(e){try{A(o["throw"](e))}catch(Kt){s(Kt)}}function A(e){e.done?n(e.value):r(e.value).then(i,a)}A((o=o.apply(e,t||[])).next())}))}function r(e,t){var n,o,r,s,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return A([e,t])}}function A(s){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,o&&(r=2&s[0]?o["return"]:s[0]?o["throw"]||((r=o["return"])&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(Kt){s=[6,Kt],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function s(e,t,n){if(n||2===arguments.length)for(var o,r=0,s=t.length;r<s;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||t)}for(var i=function(){function e(e,t,n,o){this.left=e,this.top=t,this.width=n,this.height=o}return e.prototype.add=function(t,n,o,r){return new e(this.left+t,this.top+n,this.width+o,this.height+r)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var o=Array.from(n).find((function(e){return 0!==e.width}));return o?new e(o.left+t.windowBounds.left,o.top+t.windowBounds.top,o.width,o.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),a=function(e,t){return i.fromClientRect(e,t.getBoundingClientRect())},A=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var o=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),r=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new i(0,0,o,r)},l=function(e){var t=[],n=0,o=e.length;while(n<o){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<o){var s=e.charCodeAt(n++);56320===(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),n--)}else t.push(r)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";var o=[],r=-1,s="";while(++r<n){var i=e[r];i<=65535?o.push(i):(i-=65536,o.push(55296+(i>>10),i%1024+56320)),(r+1===n||o.length>16384)&&(s+=String.fromCharCode.apply(String,o),o.length=0)}return s},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),m=0;m<u.length;m++)d[u.charCodeAt(m)]=m;for(var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="undefined"===typeof Uint8Array?[]:new Uint8Array(256),p=0;p<h.length;p++)g[h.charCodeAt(p)]=p;for(var f=function(e){var t,n,o,r,s,i=.75*e.length,a=e.length,A=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<a;t+=4)n=g[e.charCodeAt(t)],o=g[e.charCodeAt(t+1)],r=g[e.charCodeAt(t+2)],s=g[e.charCodeAt(t+3)],c[A++]=n<<2|o>>4,c[A++]=(15&o)<<4|r>>2,c[A++]=(3&r)<<6|63&s;return l},b=function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n.push(e[o+1]<<8|e[o]);return n},v=function(e){for(var t=e.length,n=[],o=0;o<t;o+=4)n.push(e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o]);return n},w=5,y=11,B=2,C=y-w,x=65536>>w,S=1<<w,F=S-1,k=1024>>w,E=x+k,_=E,O=32,U=_+O,T=65536>>y,L=1<<C,N=L-1,Q=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},D=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},I=function(e,t){var n=f(e),o=Array.isArray(n)?v(n):new Uint32Array(n),r=Array.isArray(n)?b(n):new Uint16Array(n),s=24,i=Q(r,s/2,o[4]/2),a=2===o[5]?Q(r,(s+o[4])/2):D(o,Math.ceil((s+o[4])/4));return new H(o[0],o[1],o[2],o[3],i,a)},H=function(){function e(e,t,n,o,r,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=o,this.index=r,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>w],t=(t<<B)+(e&F),this.data[t];if(e<=65535)return t=this.index[x+(e-55296>>w)],t=(t<<B)+(e&F),this.data[t];if(e<this.highStart)return t=U-T+(e>>y),t=this.index[t],t+=e>>w&N,t=this.index[t],t=(t<<B)+(e&F),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R="undefined"===typeof Uint8Array?[]:new Uint8Array(256),P=0;P<M.length;P++)R[M.charCodeAt(P)]=P;var V="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",j=50,z=1,K=2,W=3,G=4,q=5,Z=7,X=8,J=9,Y=10,$=11,ee=12,te=13,ne=14,oe=15,re=16,se=17,ie=18,ae=19,Ae=20,le=21,ce=22,ue=23,de=24,me=25,he=26,ge=27,pe=28,fe=29,be=30,ve=31,we=32,ye=33,Be=34,Ce=35,xe=36,Se=37,Fe=38,ke=39,Ee=40,_e=41,Oe=42,Ue=43,Te=[9001,65288],Le="!",Ne="×",Qe="÷",De=I(V),Ie=[be,xe],He=[z,K,W,q],Me=[Y,X],Re=[ge,he],Pe=He.concat(Me),Ve=[Fe,ke,Ee,Be,Ce],je=[oe,te],ze=function(e,t){void 0===t&&(t="strict");var n=[],o=[],r=[];return e.forEach((function(e,s){var i=De.get(e);if(i>j?(r.push(!0),i-=j):r.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return o.push(s),n.push(re);if(i===G||i===$){if(0===s)return o.push(s),n.push(be);var a=n[s-1];return-1===Pe.indexOf(a)?(o.push(o[s-1]),n.push(a)):(o.push(s),n.push(be))}return o.push(s),i===ve?n.push("strict"===t?le:Se):i===Oe||i===fe?n.push(be):i===Ue?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(Se):n.push(be):void n.push(i)})),[o,n,r]},Ke=function(e,t,n,o){var r=o[n];if(Array.isArray(e)?-1!==e.indexOf(r):e===r){var s=n;while(s<=o.length){s++;var i=o[s];if(i===t)return!0;if(i!==Y)break}}if(r===Y){s=n;while(s>0){s--;var a=o[s];if(Array.isArray(e)?-1!==e.indexOf(a):e===a){var A=n;while(A<=o.length){A++;i=o[A];if(i===t)return!0;if(i!==Y)break}}if(a!==Y)break}}return!1},We=function(e,t){var n=e;while(n>=0){var o=t[n];if(o!==Y)return o;n--}return 0},Ge=function(e,t,n,o,r){if(0===n[o])return Ne;var s=o-1;if(Array.isArray(r)&&!0===r[s])return Ne;var i=s-1,a=s+1,A=t[s],l=i>=0?t[i]:0,c=t[a];if(A===K&&c===W)return Ne;if(-1!==He.indexOf(A))return Le;if(-1!==He.indexOf(c))return Ne;if(-1!==Me.indexOf(c))return Ne;if(We(s,t)===X)return Qe;if(De.get(e[s])===$)return Ne;if((A===we||A===ye)&&De.get(e[a])===$)return Ne;if(A===Z||c===Z)return Ne;if(A===J)return Ne;if(-1===[Y,te,oe].indexOf(A)&&c===J)return Ne;if(-1!==[se,ie,ae,de,pe].indexOf(c))return Ne;if(We(s,t)===ce)return Ne;if(Ke(ue,ce,s,t))return Ne;if(Ke([se,ie],le,s,t))return Ne;if(Ke(ee,ee,s,t))return Ne;if(A===Y)return Qe;if(A===ue||c===ue)return Ne;if(c===re||A===re)return Qe;if(-1!==[te,oe,le].indexOf(c)||A===ne)return Ne;if(l===xe&&-1!==je.indexOf(A))return Ne;if(A===pe&&c===xe)return Ne;if(c===Ae)return Ne;if(-1!==Ie.indexOf(c)&&A===me||-1!==Ie.indexOf(A)&&c===me)return Ne;if(A===ge&&-1!==[Se,we,ye].indexOf(c)||-1!==[Se,we,ye].indexOf(A)&&c===he)return Ne;if(-1!==Ie.indexOf(A)&&-1!==Re.indexOf(c)||-1!==Re.indexOf(A)&&-1!==Ie.indexOf(c))return Ne;if(-1!==[ge,he].indexOf(A)&&(c===me||-1!==[ce,oe].indexOf(c)&&t[a+1]===me)||-1!==[ce,oe].indexOf(A)&&c===me||A===me&&-1!==[me,pe,de].indexOf(c))return Ne;if(-1!==[me,pe,de,se,ie].indexOf(c)){var u=s;while(u>=0){var d=t[u];if(d===me)return Ne;if(-1===[pe,de].indexOf(d))break;u--}}if(-1!==[ge,he].indexOf(c)){u=-1!==[se,ie].indexOf(A)?i:s;while(u>=0){d=t[u];if(d===me)return Ne;if(-1===[pe,de].indexOf(d))break;u--}}if(Fe===A&&-1!==[Fe,ke,Be,Ce].indexOf(c)||-1!==[ke,Be].indexOf(A)&&-1!==[ke,Ee].indexOf(c)||-1!==[Ee,Ce].indexOf(A)&&c===Ee)return Ne;if(-1!==Ve.indexOf(A)&&-1!==[Ae,he].indexOf(c)||-1!==Ve.indexOf(c)&&A===ge)return Ne;if(-1!==Ie.indexOf(A)&&-1!==Ie.indexOf(c))return Ne;if(A===de&&-1!==Ie.indexOf(c))return Ne;if(-1!==Ie.concat(me).indexOf(A)&&c===ce&&-1===Te.indexOf(e[a])||-1!==Ie.concat(me).indexOf(c)&&A===ie)return Ne;if(A===_e&&c===_e){var m=n[s],h=1;while(m>0){if(m--,t[m]!==_e)break;h++}if(h%2!==0)return Ne}return A===we&&c===ye?Ne:Qe},qe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=ze(e,t.lineBreak),o=n[0],r=n[1],s=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(r=r.map((function(e){return-1!==[me,be,Oe].indexOf(e)?Se:e})));var i="keep-all"===t.wordBreak?s.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[o,r,i]},Ze=function(){function e(e,t,n,o){this.codePoints=e,this.required=t===Le,this.start=n,this.end=o}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Xe=function(e,t){var n=l(e),o=qe(n,t),r=o[0],s=o[1],i=o[2],a=n.length,A=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};var e=Ne;while(c<a&&(e=Ge(n,s,r,++c,i))===Ne);if(e!==Ne||c===a){var t=new Ze(n,e,A,c);return A=c,{value:t,done:!1}}return{done:!0,value:null}}}},Je=1,Ye=2,$e=4,et=8,tt=10,nt=47,ot=92,rt=9,st=32,it=34,at=61,At=35,lt=36,ct=37,ut=39,dt=40,mt=41,ht=95,gt=45,pt=33,ft=60,bt=62,vt=64,wt=91,yt=93,Bt=61,Ct=123,xt=63,St=125,Ft=124,kt=126,Et=128,_t=65533,Ot=42,Ut=43,Tt=44,Lt=58,Nt=59,Qt=46,Dt=0,It=8,Ht=11,Mt=14,Rt=31,Pt=127,Vt=-1,jt=48,zt=97,Kt=101,Wt=102,Gt=117,qt=122,Zt=65,Xt=69,Jt=70,Yt=85,$t=90,en=function(e){return e>=jt&&e<=57},tn=function(e){return e>=55296&&e<=57343},nn=function(e){return en(e)||e>=Zt&&e<=Jt||e>=zt&&e<=Wt},on=function(e){return e>=zt&&e<=qt},rn=function(e){return e>=Zt&&e<=$t},sn=function(e){return on(e)||rn(e)},an=function(e){return e>=Et},An=function(e){return e===tt||e===rt||e===st},ln=function(e){return sn(e)||an(e)||e===ht},cn=function(e){return ln(e)||en(e)||e===gt},un=function(e){return e>=Dt&&e<=It||e===Ht||e>=Mt&&e<=Rt||e===Pt},dn=function(e,t){return e===ot&&t!==tt},mn=function(e,t,n){return e===gt?ln(t)||dn(t,n):!!ln(e)||!(e!==ot||!dn(e,t))},hn=function(e,t,n){return e===Ut||e===gt?!!en(t)||t===Qt&&en(n):en(e===Qt?t:e)},gn=function(e){var t=0,n=1;e[t]!==Ut&&e[t]!==gt||(e[t]===gt&&(n=-1),t++);var o=[];while(en(e[t]))o.push(e[t++]);var r=o.length?parseInt(c.apply(void 0,o),10):0;e[t]===Qt&&t++;var s=[];while(en(e[t]))s.push(e[t++]);var i=s.length,a=i?parseInt(c.apply(void 0,s),10):0;e[t]!==Xt&&e[t]!==Kt||t++;var A=1;e[t]!==Ut&&e[t]!==gt||(e[t]===gt&&(A=-1),t++);var l=[];while(en(e[t]))l.push(e[t++]);var u=l.length?parseInt(c.apply(void 0,l),10):0;return n*(r+a*Math.pow(10,-i))*Math.pow(10,A*u)},pn={type:2},fn={type:3},bn={type:4},vn={type:13},wn={type:8},yn={type:21},Bn={type:9},Cn={type:10},xn={type:11},Sn={type:12},Fn={type:14},kn={type:23},En={type:1},_n={type:25},On={type:24},Un={type:26},Tn={type:27},Ln={type:28},Nn={type:29},Qn={type:31},Dn={type:32},In=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){var e=[],t=this.consumeToken();while(t!==Dn)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case it:return this.consumeStringToken(it);case At:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),o=this.peekCodePoint(2);if(cn(t)||dn(n,o)){var r=mn(t,n,o)?Ye:Je,s=this.consumeName();return{type:5,value:s,flags:r}}break;case lt:if(this.peekCodePoint(0)===at)return this.consumeCodePoint(),vn;break;case ut:return this.consumeStringToken(ut);case dt:return pn;case mt:return fn;case Ot:if(this.peekCodePoint(0)===at)return this.consumeCodePoint(),Fn;break;case Ut:if(hn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Tt:return bn;case gt:var i=e,a=this.peekCodePoint(0),A=this.peekCodePoint(1);if(hn(i,a,A))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(mn(i,a,A))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===gt&&A===bt)return this.consumeCodePoint(),this.consumeCodePoint(),On;break;case Qt:if(hn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case nt:if(this.peekCodePoint(0)===Ot){this.consumeCodePoint();while(1){var l=this.consumeCodePoint();if(l===Ot&&(l=this.consumeCodePoint(),l===nt))return this.consumeToken();if(l===Vt)return this.consumeToken()}}break;case Lt:return Un;case Nt:return Tn;case ft:if(this.peekCodePoint(0)===pt&&this.peekCodePoint(1)===gt&&this.peekCodePoint(2)===gt)return this.consumeCodePoint(),this.consumeCodePoint(),_n;break;case vt:var u=this.peekCodePoint(0),d=this.peekCodePoint(1),m=this.peekCodePoint(2);if(mn(u,d,m)){s=this.consumeName();return{type:7,value:s}}break;case wt:return Ln;case ot:if(dn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case yt:return Nn;case Bt:if(this.peekCodePoint(0)===at)return this.consumeCodePoint(),wn;break;case Ct:return xn;case St:return Sn;case Gt:case Yt:var h=this.peekCodePoint(0),g=this.peekCodePoint(1);return h!==Ut||!nn(g)&&g!==xt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Ft:if(this.peekCodePoint(0)===at)return this.consumeCodePoint(),Bn;if(this.peekCodePoint(0)===Ft)return this.consumeCodePoint(),yn;break;case kt:if(this.peekCodePoint(0)===at)return this.consumeCodePoint(),Cn;break;case Vt:return Dn}return An(e)?(this.consumeWhiteSpace(),Qn):en(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ln(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){var e=[],t=this.consumeCodePoint();while(nn(t)&&e.length<6)e.push(t),t=this.consumeCodePoint();var n=!1;while(t===xt&&e.length<6)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var o=parseInt(c.apply(void 0,e.map((function(e){return e===xt?jt:e}))),16),r=parseInt(c.apply(void 0,e.map((function(e){return e===xt?Jt:e}))),16);return{type:30,start:o,end:r}}var s=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===gt&&nn(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();var i=[];while(nn(t)&&i.length<6)i.push(t),t=this.consumeCodePoint();r=parseInt(c.apply(void 0,i),16);return{type:30,start:s,end:r}}return{type:30,start:s,end:s}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===dt?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===dt?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===ut||t===it){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vt||this.peekCodePoint(0)===mt)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),kn)}while(1){var o=this.consumeCodePoint();if(o===Vt||o===mt)return{type:22,value:c.apply(void 0,e)};if(An(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Vt||this.peekCodePoint(0)===mt?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),kn);if(o===it||o===ut||o===dt||un(o))return this.consumeBadUrlRemnants(),kn;if(o===ot){if(!dn(o,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),kn;e.push(this.consumeEscapedCodePoint())}else e.push(o)}},e.prototype.consumeWhiteSpace=function(){while(An(this.peekCodePoint(0)))this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){while(1){var e=this.consumeCodePoint();if(e===mt||e===Vt)return;dn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){var t=5e4,n="";while(e>0){var o=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,o)),e-=o}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){var t="",n=0;do{var o=this._value[n];if(o===Vt||void 0===o||o===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(o===tt)return this._value.splice(0,n),En;if(o===ot){var r=this._value[n+1];r!==Vt&&void 0!==r&&(r===tt?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):dn(o,r)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}while(1)},e.prototype.consumeNumber=function(){var e=[],t=$e,n=this.peekCodePoint(0);n!==Ut&&n!==gt||e.push(this.consumeCodePoint());while(en(this.peekCodePoint(0)))e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(n===Qt&&en(o)){e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=et;while(en(this.peekCodePoint(0)))e.push(this.consumeCodePoint())}n=this.peekCodePoint(0),o=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((n===Xt||n===Kt)&&((o===Ut||o===gt)&&en(r)||en(o))){e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=et;while(en(this.peekCodePoint(0)))e.push(this.consumeCodePoint())}return[gn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],o=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(mn(o,r,s)){var i=this.consumeName();return{type:15,number:t,flags:n,unit:i}}return o===ct?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(nn(e)){var t=c(e);while(nn(this.peekCodePoint(0))&&t.length<6)t+=c(this.consumeCodePoint());An(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||tn(n)||n>1114111?_t:n}return e===Vt?_t:e},e.prototype.consumeName=function(){var e="";while(1){var t=this.consumeCodePoint();if(cn(t))e+=c(t);else{if(!dn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),Hn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new In;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){var e=this.consumeToken();while(31===e.type)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){var e=[];while(1){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){var t={type:e,values:[]},n=this.consumeToken();while(1){if(32===n.type||Gn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){var t={name:e.value,values:[],type:18};while(1){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?Dn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Mn=function(e){return 15===e.type},Rn=function(e){return 17===e.type},Pn=function(e){return 20===e.type},Vn=function(e){return 0===e.type},jn=function(e,t){return Pn(e)&&e.value===t},zn=function(e){return 31!==e.type},Kn=function(e){return 31!==e.type&&4!==e.type},Wn=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Gn=function(e,t){return 11===t&&12===e.type||(28===t&&29===e.type||2===t&&3===e.type)},qn=function(e){return 17===e.type||15===e.type},Zn=function(e){return 16===e.type||qn(e)},Xn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Jn={type:17,number:0,flags:$e},Yn={type:16,number:50,flags:$e},$n={type:16,number:100,flags:$e},eo=function(e,t,n){var o=e[0],r=e[1];return[to(o,t),to("undefined"!==typeof r?r:o,n)]},to=function(e,t){if(16===e.type)return e.number/100*t;if(Mn(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},no="deg",oo="grad",ro="rad",so="turn",io={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case no:return Math.PI*t.number/180;case oo:return Math.PI/200*t.number;case ro:return t.number;case so:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},ao=function(e){return 15===e.type&&(e.unit===no||e.unit===oo||e.unit===ro||e.unit===so)},Ao=function(e){var t=e.filter(Pn).map((function(e){return e.value})).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Jn,Jn];case"to top":case"bottom":return lo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Jn,$n];case"to right":case"left":return lo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[$n,$n];case"to bottom":case"top":return lo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[$n,Jn];case"to left":case"right":return lo(270)}return 0},lo=function(e){return Math.PI*e/180},co={name:"color",parse:function(e,t){if(18===t.type){var n=vo[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var o=t.value.substring(0,1),r=t.value.substring(1,2),s=t.value.substring(2,3);return ho(parseInt(o+o,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(4===t.value.length){o=t.value.substring(0,1),r=t.value.substring(1,2),s=t.value.substring(2,3);var i=t.value.substring(3,4);return ho(parseInt(o+o,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(6===t.value.length){o=t.value.substring(0,2),r=t.value.substring(2,4),s=t.value.substring(4,6);return ho(parseInt(o,16),parseInt(r,16),parseInt(s,16),1)}if(8===t.value.length){o=t.value.substring(0,2),r=t.value.substring(2,4),s=t.value.substring(4,6),i=t.value.substring(6,8);return ho(parseInt(o,16),parseInt(r,16),parseInt(s,16),parseInt(i,16)/255)}}if(20===t.type){var a=yo[t.value.toUpperCase()];if("undefined"!==typeof a)return a}return yo.TRANSPARENT}},uo=function(e){return 0===(255&e)},mo=function(e){var t=255&e,n=255&e>>8,o=255&e>>16,r=255&e>>24;return t<255?"rgba("+r+","+o+","+n+","+t/255+")":"rgb("+r+","+o+","+n+")"},ho=function(e,t,n,o){return(e<<24|t<<16|n<<8|Math.round(255*o))>>>0},go=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},po=function(e,t){var n=t.filter(Kn);if(3===n.length){var o=n.map(go),r=o[0],s=o[1],i=o[2];return ho(r,s,i,1)}if(4===n.length){var a=n.map(go),A=(r=a[0],s=a[1],i=a[2],a[3]);return ho(r,s,i,A)}return 0};function fo(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var bo=function(e,t){var n=t.filter(Kn),o=n[0],r=n[1],s=n[2],i=n[3],a=(17===o.type?lo(o.number):io.parse(e,o))/(2*Math.PI),A=Zn(r)?r.number/100:0,l=Zn(s)?s.number/100:0,c="undefined"!==typeof i&&Zn(i)?to(i,1):1;if(0===A)return ho(255*l,255*l,255*l,1);var u=l<=.5?l*(A+1):l+A-l*A,d=2*l-u,m=fo(d,u,a+1/3),h=fo(d,u,a),g=fo(d,u,a-1/3);return ho(255*m,255*h,255*g,c)},vo={hsl:bo,hsla:bo,rgb:po,rgba:po},wo=function(e,t){return co.parse(e,Hn.create(t).parseComponentValue())},yo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Bo={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Pn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Co={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xo=function(e,t){var n=co.parse(e,t[0]),o=t[1];return o&&Zn(o)?{color:n,stop:o}:{color:n,stop:null}},So=function(e,t){var n=e[0],o=e[e.length-1];null===n.stop&&(n.stop=Jn),null===o.stop&&(o.stop=$n);for(var r=[],s=0,i=0;i<e.length;i++){var a=e[i].stop;if(null!==a){var A=to(a,t);A>s?r.push(A):r.push(s),s=A}else r.push(null)}var l=null;for(i=0;i<r.length;i++){var c=r[i];if(null===c)null===l&&(l=i);else if(null!==l){for(var u=i-l,d=r[l-1],m=(c-d)/(u+1),h=1;h<=u;h++)r[l+h-1]=m*h;l=null}}return e.map((function(e,n){var o=e.color;return{color:o,stop:Math.max(Math.min(1,r[n]/t),0)}}))},Fo=function(e,t,n){var o=t/2,r=n/2,s=to(e[0],t)-o,i=r-to(e[1],n);return(Math.atan2(i,s)+2*Math.PI)%(2*Math.PI)},ko=function(e,t,n){var o="number"===typeof e?e:Fo(e,t,n),r=Math.abs(t*Math.sin(o))+Math.abs(n*Math.cos(o)),s=t/2,i=n/2,a=r/2,A=Math.sin(o-Math.PI/2)*a,l=Math.cos(o-Math.PI/2)*a;return[r,s-l,s+l,i-A,i+A]},Eo=function(e,t){return Math.sqrt(e*e+t*t)},_o=function(e,t,n,o,r){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce((function(e,t){var s=t[0],i=t[1],a=Eo(n-s,o-i);return(r?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},Oo=function(e,t,n,o,r){var s=0,i=0;switch(e.size){case 0:0===e.shape?s=i=Math.min(Math.abs(t),Math.abs(t-o),Math.abs(n),Math.abs(n-r)):1===e.shape&&(s=Math.min(Math.abs(t),Math.abs(t-o)),i=Math.min(Math.abs(n),Math.abs(n-r)));break;case 2:if(0===e.shape)s=i=Math.min(Eo(t,n),Eo(t,n-r),Eo(t-o,n),Eo(t-o,n-r));else if(1===e.shape){var a=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(t),Math.abs(t-o)),A=_o(o,r,t,n,!0),l=A[0],c=A[1];s=Eo(l-t,(c-n)/a),i=a*s}break;case 1:0===e.shape?s=i=Math.max(Math.abs(t),Math.abs(t-o),Math.abs(n),Math.abs(n-r)):1===e.shape&&(s=Math.max(Math.abs(t),Math.abs(t-o)),i=Math.max(Math.abs(n),Math.abs(n-r)));break;case 3:if(0===e.shape)s=i=Math.max(Eo(t,n),Eo(t,n-r),Eo(t-o,n),Eo(t-o,n-r));else if(1===e.shape){a=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(t),Math.abs(t-o));var u=_o(o,r,t,n,!1);l=u[0],c=u[1];s=Eo(l-t,(c-n)/a),i=a*s}break}return Array.isArray(e.size)&&(s=to(e.size[0],o),i=2===e.size.length?to(e.size[1],r):s),[s,i]},Uo=function(e,t){var n=lo(180),o=[];return Wn(t).forEach((function(t,r){if(0===r){var s=t[0];if(20===s.type&&"to"===s.value)return void(n=Ao(t));if(ao(s))return void(n=io.parse(e,s))}var i=xo(e,t);o.push(i)})),{angle:n,stops:o,type:1}},To=function(e,t){var n=lo(180),o=[];return Wn(t).forEach((function(t,r){if(0===r){var s=t[0];if(20===s.type&&-1!==["top","left","right","bottom"].indexOf(s.value))return void(n=Ao(t));if(ao(s))return void(n=(io.parse(e,s)+lo(270))%lo(360))}var i=xo(e,t);o.push(i)})),{angle:n,stops:o,type:1}},Lo=function(e,t){var n=lo(180),o=[],r=1,s=0,i=3,a=[];return Wn(t).forEach((function(t,n){var s=t[0];if(0===n){if(Pn(s)&&"linear"===s.value)return void(r=1);if(Pn(s)&&"radial"===s.value)return void(r=2)}if(18===s.type)if("from"===s.name){var i=co.parse(e,s.values[0]);o.push({stop:Jn,color:i})}else if("to"===s.name){i=co.parse(e,s.values[0]);o.push({stop:$n,color:i})}else if("color-stop"===s.name){var a=s.values.filter(Kn);if(2===a.length){i=co.parse(e,a[1]);var A=a[0];Rn(A)&&o.push({stop:{type:16,number:100*A.number,flags:A.flags},color:i})}}})),1===r?{angle:(n+lo(180))%lo(360),stops:o,type:r}:{size:i,shape:s,stops:o,position:a,type:r}},No="closest-side",Qo="farthest-side",Do="closest-corner",Io="farthest-corner",Ho="circle",Mo="ellipse",Ro="cover",Po="contain",Vo=function(e,t){var n=0,o=3,r=[],s=[];return Wn(t).forEach((function(t,i){var a=!0;if(0===i){var A=!1;a=t.reduce((function(e,t){if(A)if(Pn(t))switch(t.value){case"center":return s.push(Yn),e;case"top":case"left":return s.push(Jn),e;case"right":case"bottom":return s.push($n),e}else(Zn(t)||qn(t))&&s.push(t);else if(Pn(t))switch(t.value){case Ho:return n=0,!1;case Mo:return n=1,!1;case"at":return A=!0,!1;case No:return o=0,!1;case Ro:case Qo:return o=1,!1;case Po:case Do:return o=2,!1;case Io:return o=3,!1}else if(qn(t)||Zn(t))return Array.isArray(o)||(o=[]),o.push(t),!1;return e}),a)}if(a){var l=xo(e,t);r.push(l)}})),{size:o,shape:n,stops:r,position:s,type:2}},jo=function(e,t){var n=0,o=3,r=[],s=[];return Wn(t).forEach((function(t,i){var a=!0;if(0===i?a=t.reduce((function(e,t){if(Pn(t))switch(t.value){case"center":return s.push(Yn),!1;case"top":case"left":return s.push(Jn),!1;case"right":case"bottom":return s.push($n),!1}else if(Zn(t)||qn(t))return s.push(t),!1;return e}),a):1===i&&(a=t.reduce((function(e,t){if(Pn(t))switch(t.value){case Ho:return n=0,!1;case Mo:return n=1,!1;case Po:case No:return o=0,!1;case Qo:return o=1,!1;case Do:return o=2,!1;case Ro:case Io:return o=3,!1}else if(qn(t)||Zn(t))return Array.isArray(o)||(o=[]),o.push(t),!1;return e}),a)),a){var A=xo(e,t);r.push(A)}})),{size:o,shape:n,stops:r,position:s,type:2}},zo=function(e){return 1===e.type},Ko=function(e){return 2===e.type},Wo={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var o=Zo[t.name];if("undefined"===typeof o)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return o(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Go(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Zo[e.name])}var qo,Zo={"linear-gradient":Uo,"-moz-linear-gradient":To,"-ms-linear-gradient":To,"-o-linear-gradient":To,"-webkit-linear-gradient":To,"radial-gradient":Vo,"-moz-radial-gradient":jo,"-ms-radial-gradient":jo,"-o-radial-gradient":jo,"-webkit-radial-gradient":jo,"-webkit-gradient":Lo},Xo={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Kn(e)&&Go(e)})).map((function(t){return Wo.parse(e,t)}))}},Jo={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Pn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Yo={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Wn(t).map((function(e){return e.filter(Zn)})).map(Xn)}},$o={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Wn(t).map((function(e){return e.filter(Pn).map((function(e){return e.value})).join(" ")})).map(er)}},er=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}};(function(e){e["AUTO"]="auto",e["CONTAIN"]="contain",e["COVER"]="cover"})(qo||(qo={}));var tr,nr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Wn(t).map((function(e){return e.filter(or)}))}},or=function(e){return Pn(e)||Zn(e)},rr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},sr=rr("top"),ir=rr("right"),ar=rr("bottom"),Ar=rr("left"),lr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Xn(t.filter(Zn))}}},cr=lr("top-left"),ur=lr("top-right"),dr=lr("bottom-right"),mr=lr("bottom-left"),hr=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},gr=hr("top"),pr=hr("right"),fr=hr("bottom"),br=hr("left"),vr=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Mn(t)?t.number:0}}},wr=vr("top"),yr=vr("right"),Br=vr("bottom"),Cr=vr("left"),xr={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Sr={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},Fr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Pn).reduce((function(e,t){return e|kr(t.value)}),0)}},kr=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Er={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},_r={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};(function(e){e["NORMAL"]="normal",e["STRICT"]="strict"})(tr||(tr={}));var Or,Ur={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return tr.STRICT;case"normal":default:return tr.NORMAL}}},Tr={name:"line-height",initialValue:"normal",prefix:!1,type:4},Lr=function(e,t){return Pn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Zn(e)?to(e,t):t},Nr={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Wo.parse(e,t)}},Qr={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},Dr={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ir=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Hr=Ir("top"),Mr=Ir("right"),Rr=Ir("bottom"),Pr=Ir("left"),Vr={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Pn).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}}))}},jr={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},zr=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Kr=zr("top"),Wr=zr("right"),Gr=zr("bottom"),qr=zr("left"),Zr={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Xr={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Jr={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&jn(t[0],"none")?[]:Wn(t).map((function(t){for(var n={color:yo.TRANSPARENT,offsetX:Jn,offsetY:Jn,blur:Jn},o=0,r=0;r<t.length;r++){var s=t[r];qn(s)?(0===o?n.offsetX=s:1===o?n.offsetY=s:n.blur=s,o++):n.color=co.parse(e,s)}return n}))}},Yr={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},$r={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=ns[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},es=function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},ts=function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],o=t[1];t[2],t[3];var r=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],a=t[13];return t[14],t[15],16===t.length?[n,o,r,s,i,a]:null},ns={matrix:es,matrix3d:ts},os={type:16,number:50,flags:$e},rs=[os,os],ss={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Zn);return 2!==n.length?rs:[n[0],n[1]]}},is={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}};(function(e){e["NORMAL"]="normal",e["BREAK_ALL"]="break-all",e["KEEP_ALL"]="keep-all"})(Or||(Or={}));for(var as={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Or.BREAK_ALL;case"keep-all":return Or.KEEP_ALL;case"normal":default:return Or.NORMAL}}},As={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Rn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},ls={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},cs={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Rn(t)?t.number:1}},us={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ds={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Pn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},ms={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],o=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:o.push(n.join(" ")),n.length=0;break}})),n.length&&o.push(n.join(" ")),o.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},hs={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},gs={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Rn(t))return t.number;if(Pn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},ps={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Pn).map((function(e){return e.value}))}},fs={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},bs=function(e,t){return 0!==(e&t)},vs={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},ws={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var o=[],r=t.filter(zn),s=0;s<r.length;s++){var i=r[s],a=r[s+1];if(20===i.type){var A=a&&Rn(a)?a.number:1;o.push({counter:i.value,increment:A})}}return o}},ys={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],o=t.filter(zn),r=0;r<o.length;r++){var s=o[r],i=o[r+1];if(Pn(s)&&"none"!==s.value){var a=i&&Rn(i)?i.number:0;n.push({counter:s.value,reset:a})}}return n}},Bs={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Mn).map((function(t){return ls.parse(e,t)}))}},Cs={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var o=[],r=t.filter(Vn);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var i=r[s].value,a=r[s+1].value;o.push({open:i,close:a})}return o}},xs=function(e,t,n){if(!e)return"";var o=e[Math.min(t,e.length-1)];return o?n?o.open:o.close:""},Ss={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&jn(t[0],"none")?[]:Wn(t).map((function(t){for(var n={color:255,offsetX:Jn,offsetY:Jn,blur:Jn,spread:Jn,inset:!1},o=0,r=0;r<t.length;r++){var s=t[r];jn(s,"inset")?n.inset=!0:qn(s)?(0===o?n.offsetX=s:1===o?n.offsetY=s:2===o?n.blur=s:n.spread=s,o++):n.color=co.parse(e,s)}return n}))}},Fs={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],o=[];return t.filter(Pn).forEach((function(e){switch(e.value){case"stroke":o.push(1);break;case"fill":o.push(0);break;case"markers":o.push(2);break}})),n.forEach((function(e){-1===o.indexOf(e)&&o.push(e)})),o}},ks={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Es={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Mn(t)?t.number:0}},_s=function(){function e(e,t){var n,o;this.animationDuration=Ts(e,Bs,t.animationDuration),this.backgroundClip=Ts(e,Bo,t.backgroundClip),this.backgroundColor=Ts(e,Co,t.backgroundColor),this.backgroundImage=Ts(e,Xo,t.backgroundImage),this.backgroundOrigin=Ts(e,Jo,t.backgroundOrigin),this.backgroundPosition=Ts(e,Yo,t.backgroundPosition),this.backgroundRepeat=Ts(e,$o,t.backgroundRepeat),this.backgroundSize=Ts(e,nr,t.backgroundSize),this.borderTopColor=Ts(e,sr,t.borderTopColor),this.borderRightColor=Ts(e,ir,t.borderRightColor),this.borderBottomColor=Ts(e,ar,t.borderBottomColor),this.borderLeftColor=Ts(e,Ar,t.borderLeftColor),this.borderTopLeftRadius=Ts(e,cr,t.borderTopLeftRadius),this.borderTopRightRadius=Ts(e,ur,t.borderTopRightRadius),this.borderBottomRightRadius=Ts(e,dr,t.borderBottomRightRadius),this.borderBottomLeftRadius=Ts(e,mr,t.borderBottomLeftRadius),this.borderTopStyle=Ts(e,gr,t.borderTopStyle),this.borderRightStyle=Ts(e,pr,t.borderRightStyle),this.borderBottomStyle=Ts(e,fr,t.borderBottomStyle),this.borderLeftStyle=Ts(e,br,t.borderLeftStyle),this.borderTopWidth=Ts(e,wr,t.borderTopWidth),this.borderRightWidth=Ts(e,yr,t.borderRightWidth),this.borderBottomWidth=Ts(e,Br,t.borderBottomWidth),this.borderLeftWidth=Ts(e,Cr,t.borderLeftWidth),this.boxShadow=Ts(e,Ss,t.boxShadow),this.color=Ts(e,xr,t.color),this.direction=Ts(e,Sr,t.direction),this.display=Ts(e,Fr,t.display),this.float=Ts(e,Er,t.cssFloat),this.fontFamily=Ts(e,ms,t.fontFamily),this.fontSize=Ts(e,hs,t.fontSize),this.fontStyle=Ts(e,fs,t.fontStyle),this.fontVariant=Ts(e,ps,t.fontVariant),this.fontWeight=Ts(e,gs,t.fontWeight),this.letterSpacing=Ts(e,_r,t.letterSpacing),this.lineBreak=Ts(e,Ur,t.lineBreak),this.lineHeight=Ts(e,Tr,t.lineHeight),this.listStyleImage=Ts(e,Nr,t.listStyleImage),this.listStylePosition=Ts(e,Qr,t.listStylePosition),this.listStyleType=Ts(e,Dr,t.listStyleType),this.marginTop=Ts(e,Hr,t.marginTop),this.marginRight=Ts(e,Mr,t.marginRight),this.marginBottom=Ts(e,Rr,t.marginBottom),this.marginLeft=Ts(e,Pr,t.marginLeft),this.opacity=Ts(e,cs,t.opacity);var r=Ts(e,Vr,t.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=Ts(e,jr,t.overflowWrap),this.paddingTop=Ts(e,Kr,t.paddingTop),this.paddingRight=Ts(e,Wr,t.paddingRight),this.paddingBottom=Ts(e,Gr,t.paddingBottom),this.paddingLeft=Ts(e,qr,t.paddingLeft),this.paintOrder=Ts(e,Fs,t.paintOrder),this.position=Ts(e,Xr,t.position),this.textAlign=Ts(e,Zr,t.textAlign),this.textDecorationColor=Ts(e,us,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=Ts(e,ds,null!==(o=t.textDecorationLine)&&void 0!==o?o:t.textDecoration),this.textShadow=Ts(e,Jr,t.textShadow),this.textTransform=Ts(e,Yr,t.textTransform),this.transform=Ts(e,$r,t.transform),this.transformOrigin=Ts(e,ss,t.transformOrigin),this.visibility=Ts(e,is,t.visibility),this.webkitTextStrokeColor=Ts(e,ks,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ts(e,Es,t.webkitTextStrokeWidth),this.wordBreak=Ts(e,as,t.wordBreak),this.zIndex=Ts(e,As,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return uo(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return bs(this.display,4)||bs(this.display,33554432)||bs(this.display,268435456)||bs(this.display,536870912)||bs(this.display,67108864)||bs(this.display,134217728)},e}(),Os=function(){function e(e,t){this.content=Ts(e,vs,t.content),this.quotes=Ts(e,Cs,t.quotes)}return e}(),Us=function(){function e(e,t){this.counterIncrement=Ts(e,ws,t.counterIncrement),this.counterReset=Ts(e,ys,t.counterReset)}return e}(),Ts=function(e,t,n){var o=new In,r=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;o.write(r);var s=new Hn(o.read());switch(t.type){case 2:var i=s.parseComponentValue();return t.parse(e,Pn(i)?i.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return io.parse(e,s.parseComponentValue());case"color":return co.parse(e,s.parseComponentValue());case"image":return Wo.parse(e,s.parseComponentValue());case"length":var a=s.parseComponentValue();return qn(a)?a:Jn;case"length-percentage":var A=s.parseComponentValue();return Zn(A)?A:Jn;case"time":return ls.parse(e,s.parseComponentValue())}break}},Ls="data-html2canvas-debug",Ns=function(e){var t=e.getAttribute(Ls);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Qs=function(e,t){var n=Ns(e);return 1===n||t===n},Ds=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Qs(t,3),this.styles=new _s(e,window.getComputedStyle(t,null)),Oa(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=a(this.context,t),Qs(t,4)&&(this.flags|=16)}return e}(),Is="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Hs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ms="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Rs=0;Rs<Hs.length;Rs++)Ms[Hs.charCodeAt(Rs)]=Rs;for(var Ps=function(e){var t,n,o,r,s,i=.75*e.length,a=e.length,A=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<a;t+=4)n=Ms[e.charCodeAt(t)],o=Ms[e.charCodeAt(t+1)],r=Ms[e.charCodeAt(t+2)],s=Ms[e.charCodeAt(t+3)],c[A++]=n<<2|o>>4,c[A++]=(15&o)<<4|r>>2,c[A++]=(3&r)<<6|63&s;return l},Vs=function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n.push(e[o+1]<<8|e[o]);return n},js=function(e){for(var t=e.length,n=[],o=0;o<t;o+=4)n.push(e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o]);return n},zs=5,Ks=11,Ws=2,Gs=Ks-zs,qs=65536>>zs,Zs=1<<zs,Xs=Zs-1,Js=1024>>zs,Ys=qs+Js,$s=Ys,ei=32,ti=$s+ei,ni=65536>>Ks,oi=1<<Gs,ri=oi-1,si=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},ii=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},ai=function(e,t){var n=Ps(e),o=Array.isArray(n)?js(n):new Uint32Array(n),r=Array.isArray(n)?Vs(n):new Uint16Array(n),s=24,i=si(r,s/2,o[4]/2),a=2===o[5]?si(r,(s+o[4])/2):ii(o,Math.ceil((s+o[4])/4));return new Ai(o[0],o[1],o[2],o[3],i,a)},Ai=function(){function e(e,t,n,o,r,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=o,this.index=r,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>zs],t=(t<<Ws)+(e&Xs),this.data[t];if(e<=65535)return t=this.index[qs+(e-55296>>zs)],t=(t<<Ws)+(e&Xs),this.data[t];if(e<this.highStart)return t=ti-ni+(e>>Ks),t=this.index[t],t+=e>>zs&ri,t=this.index[t],t=(t<<Ws)+(e&Xs),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ci="undefined"===typeof Uint8Array?[]:new Uint8Array(256),ui=0;ui<li.length;ui++)ci[li.charCodeAt(ui)]=ui;var di,mi=1,hi=2,gi=3,pi=4,fi=5,bi=7,vi=8,wi=9,yi=10,Bi=11,Ci=12,xi=13,Si=14,Fi=15,ki=function(e){var t=[],n=0,o=e.length;while(n<o){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<o){var s=e.charCodeAt(n++);56320===(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),n--)}else t.push(r)}return t},Ei=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";var o=[],r=-1,s="";while(++r<n){var i=e[r];i<=65535?o.push(i):(i-=65536,o.push(55296+(i>>10),i%1024+56320)),(r+1===n||o.length>16384)&&(s+=String.fromCharCode.apply(String,o),o.length=0)}return s},_i=ai(Is),Oi="×",Ui="÷",Ti=function(e){return _i.get(e)},Li=function(e,t,n){var o=n-2,r=t[o],s=t[n-1],i=t[n];if(s===hi&&i===gi)return Oi;if(s===hi||s===gi||s===pi)return Ui;if(i===hi||i===gi||i===pi)return Ui;if(s===vi&&-1!==[vi,wi,Bi,Ci].indexOf(i))return Oi;if((s===Bi||s===wi)&&(i===wi||i===yi))return Oi;if((s===Ci||s===yi)&&i===yi)return Oi;if(i===xi||i===fi)return Oi;if(i===bi)return Oi;if(s===mi)return Oi;if(s===xi&&i===Si){while(r===fi)r=t[--o];if(r===Si)return Oi}if(s===Fi&&i===Fi){var a=0;while(r===Fi)a++,r=t[--o];if(a%2===0)return Oi}return Ui},Ni=function(e){var t=ki(e),n=t.length,o=0,r=0,s=t.map(Ti);return{next:function(){if(o>=n)return{done:!0,value:null};var e=Oi;while(o<n&&(e=Li(t,s,++o))===Oi);if(e!==Oi||o===n){var i=Ei.apply(null,t.slice(r,o));return r=o,{value:i,done:!1}}return{done:!0,value:null}}}},Qi=function(e){var t,n=Ni(e),o=[];while(!(t=n.next()).done)t.value&&o.push(t.value.slice());return o},Di=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var o=e.createElement("boundtest");o.style.height=t+"px",o.style.display="block",e.body.appendChild(o),n.selectNode(o);var r=n.getBoundingClientRect(),s=Math.round(r.height);if(e.body.removeChild(o),s===t)return!0}}return!1},Ii=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var o=t.firstChild,r=l(o.data).map((function(e){return c(e)})),s=0,i={},a=r.every((function(e,t){n.setStart(o,s),n.setEnd(o,s+e.length);var r=n.getBoundingClientRect();s+=e.length;var a=r.x>i.x||r.y>i.y;return i=r,0===t||a}));return e.body.removeChild(t),a},Hi=function(){return"undefined"!==typeof(new Image).crossOrigin},Mi=function(){return"string"===typeof(new XMLHttpRequest).responseType},Ri=function(e){var t=new Image,n=e.createElement("canvas"),o=n.getContext("2d");if(!o)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{o.drawImage(t,0,0),n.toDataURL()}catch(Kt){return!1}return!0},Pi=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Vi=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var o=t.getContext("2d");if(!o)return Promise.reject(!1);o.fillStyle="rgb(0, 255, 0)",o.fillRect(0,0,n,n);var r=new Image,s=t.toDataURL();r.src=s;var i=ji(n,n,0,0,r);return o.fillStyle="red",o.fillRect(0,0,n,n),zi(i).then((function(t){o.drawImage(t,0,0);var r=o.getImageData(0,0,n,n).data;o.fillStyle="red",o.fillRect(0,0,n,n);var i=e.createElement("div");return i.style.backgroundImage="url("+s+")",i.style.height=n+"px",Pi(r)?zi(ji(n,n,0,0,i)):Promise.reject(!1)})).then((function(e){return o.drawImage(e,0,0),Pi(o.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},ji=function(e,t,n,o,r){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",o.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(a),a.appendChild(r),i},zi=function(e){return new Promise((function(t,n){var o=new Image;o.onload=function(){return t(o)},o.onerror=n,o.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ki={get SUPPORT_RANGE_BOUNDS(){var e=Di(document);return Object.defineProperty(Ki,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ki.SUPPORT_RANGE_BOUNDS&&Ii(document);return Object.defineProperty(Ki,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Ri(document);return Object.defineProperty(Ki,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?Vi(document):Promise.resolve(!1);return Object.defineProperty(Ki,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=Hi();return Object.defineProperty(Ki,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Mi();return Object.defineProperty(Ki,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ki,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Ki,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Wi=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Gi=function(e,t,n,o){var r=Yi(t,n),s=[],a=0;return r.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Ki.SUPPORT_RANGE_BOUNDS){var r=Zi(o,a,t.length).getClientRects();if(r.length>1){var A=Xi(t),l=0;A.forEach((function(t){s.push(new Wi(t,i.fromDOMRectList(e,Zi(o,l+a,t.length).getClientRects()))),l+=t.length}))}else s.push(new Wi(t,i.fromDOMRectList(e,r)))}else{var c=o.splitText(t.length);s.push(new Wi(t,qi(e,o))),o=c}else Ki.SUPPORT_RANGE_BOUNDS||(o=o.splitText(t.length));a+=t.length})),s},qi=function(e,t){var n=t.ownerDocument;if(n){var o=n.createElement("html2canvaswrapper");o.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(o,t);var s=a(e,o);return o.firstChild&&r.replaceChild(o.firstChild,o),s}}return i.EMPTY},Zi=function(e,t,n){var o=e.ownerDocument;if(!o)throw new Error("Node has no owner document");var r=o.createRange();return r.setStart(e,t),r.setEnd(e,t+n),r},Xi=function(e){if(Ki.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return Qi(e)},Ji=function(e,t){if(Ki.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return ea(e,t)},Yi=function(e,t){return 0!==t.letterSpacing?Xi(e):Ji(e,t)},$i=[32,160,4961,65792,65793,4153,4241],ea=function(e,t){var n,o=Xe(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),r=[],s=function(){if(n.value){var e=n.value.slice(),t=l(e),o="";t.forEach((function(e){-1===$i.indexOf(e)?o+=c(e):(o.length&&r.push(o),r.push(c(e)),o="")})),o.length&&r.push(o)}};while(!(n=o.next()).done)s();return r},ta=function(){function e(e,t,n){this.text=na(t.data,n.textTransform),this.textBounds=Gi(e,this.text,n,t)}return e}(),na=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(oa,ra);case 2:return e.toUpperCase();default:return e}},oa=/(^|\s|:|-|\(|\))([a-z])/g,ra=function(e,t,n){return e.length>0?t+n.toUpperCase():e},sa=function(e){function n(t,n){var o=e.call(this,t,n)||this;return o.src=n.currentSrc||n.src,o.intrinsicWidth=n.naturalWidth,o.intrinsicHeight=n.naturalHeight,o.context.cache.addImage(o.src),o}return t(n,e),n}(Ds),ia=function(e){function n(t,n){var o=e.call(this,t,n)||this;return o.canvas=n,o.intrinsicWidth=n.width,o.intrinsicHeight=n.height,o}return t(n,e),n}(Ds),aa=function(e){function n(t,n){var o=e.call(this,t,n)||this,r=new XMLSerializer,s=a(t,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(n)),o.intrinsicWidth=n.width.baseVal.value,o.intrinsicHeight=n.height.baseVal.value,o.context.cache.addImage(o.svg),o}return t(n,e),n}(Ds),Aa=function(e){function n(t,n){var o=e.call(this,t,n)||this;return o.value=n.value,o}return t(n,e),n}(Ds),la=function(e){function n(t,n){var o=e.call(this,t,n)||this;return o.start=n.start,o.reversed="boolean"===typeof n.reversed&&!0===n.reversed,o}return t(n,e),n}(Ds),ca=[{type:15,flags:0,unit:"px",number:3}],ua=[{type:16,flags:0,number:50}],da=function(e){return e.width>e.height?new i(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new i(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},ma=function(e){var t=e.type===pa?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t},ha="checkbox",ga="radio",pa="password",fa=707406591,ba=function(e){function n(t,n){var o=e.call(this,t,n)||this;switch(o.type=n.type.toLowerCase(),o.checked=n.checked,o.value=ma(n),o.type!==ha&&o.type!==ga||(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=da(o.bounds)),o.type){case ha:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=ca;break;case ga:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=ua;break}return o}return t(n,e),n}(Ds),va=function(e){function n(t,n){var o=e.call(this,t,n)||this,r=n.options[n.selectedIndex||0];return o.value=r&&r.text||"",o}return t(n,e),n}(Ds),wa=function(e){function n(t,n){var o=e.call(this,t,n)||this;return o.value=n.value,o}return t(n,e),n}(Ds),ya=function(e){function n(t,n){var o=e.call(this,t,n)||this;o.src=n.src,o.width=parseInt(n.width,10)||0,o.height=parseInt(n.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){o.tree=Sa(t,n.contentWindow.document.documentElement);var r=n.contentWindow.document.documentElement?wo(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):yo.TRANSPARENT,s=n.contentWindow.document.body?wo(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):yo.TRANSPARENT;o.backgroundColor=uo(r)?uo(s)?o.styles.backgroundColor:s:r}}catch(Kt){}return o}return t(n,e),n}(Ds),Ba=["OL","UL","MENU"],Ca=function(e,t,n,o){for(var r=t.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,Ea(r)&&r.data.trim().length>0)n.textNodes.push(new ta(e,r,n.styles));else if(_a(r))if(Wa(r)&&r.assignedNodes)r.assignedNodes().forEach((function(t){return Ca(e,t,n,o)}));else{var i=xa(e,r);i.styles.isVisible()&&(Fa(r,i,o)?i.flags|=4:ka(i.styles)&&(i.flags|=2),-1!==Ba.indexOf(r.tagName)&&(i.flags|=8),n.elements.push(i),r.slot,r.shadowRoot?Ca(e,r.shadowRoot,i,o):za(r)||Da(r)||Ka(r)||Ca(e,r,i,o))}},xa=function(e,t){return Ra(t)?new sa(e,t):Ha(t)?new ia(e,t):Da(t)?new aa(e,t):Ta(t)?new Aa(e,t):La(t)?new la(e,t):Na(t)?new ba(e,t):Ka(t)?new va(e,t):za(t)?new wa(e,t):Pa(t)?new ya(e,t):new Ds(e,t)},Sa=function(e,t){var n=xa(e,t);return n.flags|=4,Ca(e,t,n,n),n},Fa=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Ia(e)&&n.styles.isTransparent()},ka=function(e){return e.isPositioned()||e.isFloating()},Ea=function(e){return e.nodeType===Node.TEXT_NODE},_a=function(e){return e.nodeType===Node.ELEMENT_NODE},Oa=function(e){return _a(e)&&"undefined"!==typeof e.style&&!Ua(e)},Ua=function(e){return"object"===typeof e.className},Ta=function(e){return"LI"===e.tagName},La=function(e){return"OL"===e.tagName},Na=function(e){return"INPUT"===e.tagName},Qa=function(e){return"HTML"===e.tagName},Da=function(e){return"svg"===e.tagName},Ia=function(e){return"BODY"===e.tagName},Ha=function(e){return"CANVAS"===e.tagName},Ma=function(e){return"VIDEO"===e.tagName},Ra=function(e){return"IMG"===e.tagName},Pa=function(e){return"IFRAME"===e.tagName},Va=function(e){return"STYLE"===e.tagName},ja=function(e){return"SCRIPT"===e.tagName},za=function(e){return"TEXTAREA"===e.tagName},Ka=function(e){return"SELECT"===e.tagName},Wa=function(e){return"SLOT"===e.tagName},Ga=function(e){return e.tagName.indexOf("-")>0},qa=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,o=e.counterReset,r=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(r=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var s=[];return r&&o.forEach((function(e){var n=t.counters[e.counter];s.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),s},e}(),Za={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Xa={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Ja={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Ya={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},$a=function(e,t,n,o,r,s){return e<t||e>n?dA(e,r,s.length>0):o.integers.reduce((function(t,n,r){while(e>=n)e-=n,t+=o.values[r];return t}),"")+s},eA=function(e,t,n,o){var r="";do{n||e--,r=o(e)+r,e/=t}while(e*t>=t);return r},tA=function(e,t,n,o,r){var s=n-t+1;return(e<0?"-":"")+(eA(Math.abs(e),s,o,(function(e){return c(Math.floor(e%s)+t)}))+r)},nA=function(e,t,n){void 0===n&&(n=". ");var o=t.length;return eA(Math.abs(e),o,!1,(function(e){return t[Math.floor(e%o)]}))+n},oA=1,rA=2,sA=4,iA=8,aA=function(e,t,n,o,r,s){if(e<-9999||e>9999)return dA(e,4,r.length>0);var i=Math.abs(e),a=r;if(0===i)return t[0]+a;for(var A=0;i>0&&A<=4;A++){var l=i%10;0===l&&bs(s,oA)&&""!==a?a=t[l]+a:l>1||1===l&&0===A||1===l&&1===A&&bs(s,rA)||1===l&&1===A&&bs(s,sA)&&e>100||1===l&&A>1&&bs(s,iA)?a=t[l]+(A>0?n[A-1]:"")+a:1===l&&A>0&&(a=n[A-1]+a),i=Math.floor(i/10)}return(e<0?o:"")+a},AA="十百千萬",lA="拾佰仟萬",cA="マイナス",uA="마이너스",dA=function(e,t,n){var o=n?". ":"",r=n?"、":"",s=n?", ":"",i=n?" ":"";switch(t){case 0:return"•"+i;case 1:return"◦"+i;case 2:return"◾"+i;case 5:var a=tA(e,48,57,!0,o);return a.length<4?"0"+a:a;case 4:return nA(e,"〇一二三四五六七八九",r);case 6:return $a(e,1,3999,Za,3,o).toLowerCase();case 7:return $a(e,1,3999,Za,3,o);case 8:return tA(e,945,969,!1,o);case 9:return tA(e,97,122,!1,o);case 10:return tA(e,65,90,!1,o);case 11:return tA(e,1632,1641,!0,o);case 12:case 49:return $a(e,1,9999,Xa,3,o);case 35:return $a(e,1,9999,Xa,3,o).toLowerCase();case 13:return tA(e,2534,2543,!0,o);case 14:case 30:return tA(e,6112,6121,!0,o);case 15:return nA(e,"子丑寅卯辰巳午未申酉戌亥",r);case 16:return nA(e,"甲乙丙丁戊己庚辛壬癸",r);case 17:case 48:return aA(e,"零一二三四五六七八九",AA,"負",r,rA|sA|iA);case 47:return aA(e,"零壹貳參肆伍陸柒捌玖",lA,"負",r,oA|rA|sA|iA);case 42:return aA(e,"零一二三四五六七八九",AA,"负",r,rA|sA|iA);case 41:return aA(e,"零壹贰叁肆伍陆柒捌玖",lA,"负",r,oA|rA|sA|iA);case 26:return aA(e,"〇一二三四五六七八九","十百千万",cA,r,0);case 25:return aA(e,"零壱弐参四伍六七八九","拾百千万",cA,r,oA|rA|sA);case 31:return aA(e,"영일이삼사오육칠팔구","십백천만",uA,s,oA|rA|sA);case 33:return aA(e,"零一二三四五六七八九","十百千萬",uA,s,0);case 32:return aA(e,"零壹貳參四五六七八九","拾百千",uA,s,oA|rA|sA);case 18:return tA(e,2406,2415,!0,o);case 20:return $a(e,1,19999,Ya,3,o);case 21:return tA(e,2790,2799,!0,o);case 22:return tA(e,2662,2671,!0,o);case 22:return $a(e,1,10999,Ja,3,o);case 23:return nA(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return nA(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return tA(e,3302,3311,!0,o);case 28:return nA(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",r);case 29:return nA(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",r);case 34:return tA(e,3792,3801,!0,o);case 37:return tA(e,6160,6169,!0,o);case 38:return tA(e,4160,4169,!0,o);case 39:return tA(e,2918,2927,!0,o);case 40:return tA(e,1776,1785,!0,o);case 43:return tA(e,3046,3055,!0,o);case 44:return tA(e,3174,3183,!0,o);case 45:return tA(e,3664,3673,!0,o);case 46:return tA(e,3872,3881,!0,o);case 3:default:return tA(e,48,57,!0,o)}},mA="data-html2canvas-ignore",hA=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new qa,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,s=pA(e,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,A=s.contentWindow,l=A.document,c=vA(s).then((function(){return o(n,void 0,void 0,(function(){var e,n;return r(this,(function(o){switch(o.label){case 0:return this.scrolledElements.forEach(xA),A&&(A.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||A.scrollY===t.top&&A.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-t.left,A.scrollY-t.top,0,0))),e=this.options.onclone,n=this.clonedReferenceElement,"undefined"===typeof n?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:o.sent(),o.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,bA(l)]:[3,4];case 3:o.sent(),o.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(l,n)})).then((function(){return s}))]:[2,s]}}))}))}));return l.open(),l.write(BA(document.doctype)+"<html></html>"),CA(this.referenceElement.ownerDocument,i,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(e){if(Qs(e,2),Ha(e))return this.createCanvasClone(e);if(Ma(e))return this.createVideoClone(e);if(Va(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Ra(t)&&(Ra(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Ga(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return yA(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e}),""),o=e.cloneNode(!1);return o.textContent=n,o}}catch(Kt){if(this.context.logger.error("Unable to access cssRules property",Kt),"SecurityError"!==Kt.name)throw Kt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Kt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var o=e.cloneNode(!1);try{o.width=e.width,o.height=e.height;var r=e.getContext("2d"),s=o.getContext("2d");if(s)if(!this.options.allowTaint&&r)s.putImageData(r.getImageData(0,0,e.width,e.height),0,0);else{var i=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(i){var a=i.getContextAttributes();!1===(null===a||void 0===a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return o}catch(Kt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return o},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Kt){this.context.logger.info("Unable to clone video as it is tainted",e)}var o=e.ownerDocument.createElement("canvas");return o.width=e.offsetWidth,o.height=e.offsetHeight,o},e.prototype.appendChildNode=function(e,t,n){_a(t)&&(ja(t)||t.hasAttribute(mA)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&_a(t)&&Va(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var o=this,r=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;r;r=r.nextSibling)if(_a(r)&&Wa(r)&&"function"===typeof r.assignedNodes){var s=r.assignedNodes();s.length&&s.forEach((function(e){return o.appendChildNode(t,e,n)}))}else this.appendChildNode(t,r,n)},e.prototype.cloneNode=function(e,t){if(Ea(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&_a(e)&&(Oa(e)||Ua(e))){var o=this.createElementClone(e);o.style.transitionProperty="none";var r=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),i=n.getComputedStyle(e,":after");this.referenceElement===e&&Oa(o)&&(this.clonedReferenceElement=o),Ia(o)&&OA(o);var a=this.counters.parse(new Us(this.context,r)),A=this.resolvePseudoContent(e,o,s,di.BEFORE);Ga(e)&&(t=!0),Ma(e)||this.cloneChildNodes(e,o,t),A&&o.insertBefore(A,o.firstChild);var l=this.resolvePseudoContent(e,o,i,di.AFTER);return l&&o.appendChild(l),this.counters.pop(a),(r&&(this.options.copyStyles||Ua(e))&&!Pa(e)||t)&&yA(r,o),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([o,e.scrollLeft,e.scrollTop]),(za(e)||Ka(e))&&(za(o)||Ka(o))&&(o.value=e.value),o}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,o){var r=this;if(n){var s=n.content,i=t.ownerDocument;if(i&&s&&"none"!==s&&"-moz-alt-content"!==s&&"none"!==n.display){this.counters.parse(new Us(this.context,n));var a=new Os(this.context,n),A=i.createElement("html2canvaspseudoelement");yA(n,A),a.content.forEach((function(t){if(0===t.type)A.appendChild(i.createTextNode(t.value));else if(22===t.type){var n=i.createElement("img");n.src=t.value,n.style.opacity="1",A.appendChild(n)}else if(18===t.type){if("attr"===t.name){var o=t.values.filter(Pn);o.length&&A.appendChild(i.createTextNode(e.getAttribute(o[0].value)||""))}else if("counter"===t.name){var s=t.values.filter(Kn),l=s[0],c=s[1];if(l&&Pn(l)){var u=r.counters.getCounterValue(l.value),d=c&&Pn(c)?Dr.parse(r.context,c.value):3;A.appendChild(i.createTextNode(dA(u,d,!1)))}}else if("counters"===t.name){var m=t.values.filter(Kn),h=(l=m[0],m[1]);c=m[2];if(l&&Pn(l)){var g=r.counters.getCounterValues(l.value),p=c&&Pn(c)?Dr.parse(r.context,c.value):3,f=h&&0===h.type?h.value:"",b=g.map((function(e){return dA(e,p,!1)})).join(f);A.appendChild(i.createTextNode(b))}}}else if(20===t.type)switch(t.value){case"open-quote":A.appendChild(i.createTextNode(xs(a.quotes,r.quoteDepth++,!0)));break;case"close-quote":A.appendChild(i.createTextNode(xs(a.quotes,--r.quoteDepth,!1)));break;default:A.appendChild(i.createTextNode(t.value))}})),A.className=kA+" "+EA;var l=o===di.BEFORE?" "+kA:" "+EA;return Ua(t)?t.className.baseValue+=l:t.className+=l,A}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();(function(e){e[e["BEFORE"]=0]="BEFORE",e[e["AFTER"]=1]="AFTER"})(di||(di={}));var gA,pA=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(mA,"true"),e.body.appendChild(n),n},fA=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},bA=function(e){return Promise.all([].slice.call(e.images,0).map(fA))},vA=function(e){return new Promise((function(t,n){var o=e.contentWindow;if(!o)return n("No window assigned for iframe");var r=o.document;o.onload=e.onload=function(){o.onload=e.onload=null;var n=setInterval((function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(n),t(e))}),50)}}))},wA=["all","d","content"],yA=function(e,t){for(var n=e.length-1;n>=0;n--){var o=e.item(n);-1===wA.indexOf(o)&&t.style.setProperty(o,e.getPropertyValue(o))}return t},BA=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},CA=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},xA=function(e){var t=e[0],n=e[1],o=e[2];t.scrollLeft=n,t.scrollTop=o},SA=":before",FA=":after",kA="___html2canvas___pseudoelement_before",EA="___html2canvas___pseudoelement_after",_A='{\n    content: "" !important;\n    display: none !important;\n}',OA=function(e){UA(e,"."+kA+SA+_A+"\n         ."+EA+FA+_A)},UA=function(e,t){var n=e.ownerDocument;if(n){var o=n.createElement("style");o.textContent=t,e.appendChild(o)}},TA=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),LA=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:RA(e)||IA(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return o(this,void 0,void 0,(function(){var t,n,o,s,i=this;return r(this,(function(r){switch(r.label){case 0:return t=TA.isSameOrigin(e),n=!HA(e)&&!0===this._options.useCORS&&Ki.SUPPORT_CORS_IMAGES&&!t,o=!HA(e)&&!t&&!RA(e)&&"string"===typeof this._options.proxy&&Ki.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||HA(e)||RA(e)||o||n?(s=e,o?[4,this.proxy(s)]:[3,2]):[2];case 1:s=r.sent(),r.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var o=new Image;o.onload=function(){return e(o)},o.onerror=t,(MA(s)||n)&&(o.crossOrigin="anonymous"),o.src=s,!0===o.complete&&setTimeout((function(){return e(o)}),500),i._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+i._options.imageTimeout+"ms) loading image")}),i._options.imageTimeout)}))];case 3:return[2,r.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var o=e.substring(0,256);return new Promise((function(r,s){var i=Ki.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===i)r(a.response);else{var e=new FileReader;e.addEventListener("load",(function(){return r(e.result)}),!1),e.addEventListener("error",(function(e){return s(e)}),!1),e.readAsDataURL(a.response)}else s("Failed to proxy resource "+o+" with status code "+a.status)},a.onerror=s;var A=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+A+"url="+encodeURIComponent(e)+"&responseType="+i),"text"!==i&&a instanceof XMLHttpRequest&&(a.responseType=i),t._options.imageTimeout){var l=t._options.imageTimeout;a.timeout=l,a.ontimeout=function(){return s("Timed out ("+l+"ms) proxying "+o)}}a.send()}))},e}(),NA=/^data:image\/svg\+xml/i,QA=/^data:image\/.*;base64,/i,DA=/^data:image\/.*/i,IA=function(e){return Ki.SUPPORT_SVG_DRAWING||!PA(e)},HA=function(e){return DA.test(e)},MA=function(e){return QA.test(e)},RA=function(e){return"blob"===e.substr(0,4)},PA=function(e){return"svg"===e.substr(-3).toLowerCase()||NA.test(e)},VA=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),jA=function(e,t,n){return new VA(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},zA=function(){function e(e,t,n,o){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=o}return e.prototype.subdivide=function(t,n){var o=jA(this.start,this.startControl,t),r=jA(this.startControl,this.endControl,t),s=jA(this.endControl,this.end,t),i=jA(o,r,t),a=jA(r,s,t),A=jA(i,a,t);return n?new e(this.start,o,i,A):new e(A,a,s,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),KA=function(e){return 1===e.type},WA=function(){function e(e){var t=e.styles,n=e.bounds,o=eo(t.borderTopLeftRadius,n.width,n.height),r=o[0],s=o[1],i=eo(t.borderTopRightRadius,n.width,n.height),a=i[0],A=i[1],l=eo(t.borderBottomRightRadius,n.width,n.height),c=l[0],u=l[1],d=eo(t.borderBottomLeftRadius,n.width,n.height),m=d[0],h=d[1],g=[];g.push((r+a)/n.width),g.push((m+c)/n.width),g.push((s+h)/n.height),g.push((A+u)/n.height);var p=Math.max.apply(Math,g);p>1&&(r/=p,s/=p,a/=p,A/=p,c/=p,u/=p,m/=p,h/=p);var f=n.width-a,b=n.height-u,v=n.width-c,w=n.height-h,y=t.borderTopWidth,B=t.borderRightWidth,C=t.borderBottomWidth,x=t.borderLeftWidth,S=to(t.paddingTop,e.bounds.width),F=to(t.paddingRight,e.bounds.width),k=to(t.paddingBottom,e.bounds.width),E=to(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||s>0?GA(n.left+x/3,n.top+y/3,r-x/3,s-y/3,gA.TOP_LEFT):new VA(n.left+x/3,n.top+y/3),this.topRightBorderDoubleOuterBox=r>0||s>0?GA(n.left+f,n.top+y/3,a-B/3,A-y/3,gA.TOP_RIGHT):new VA(n.left+n.width-B/3,n.top+y/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?GA(n.left+v,n.top+b,c-B/3,u-C/3,gA.BOTTOM_RIGHT):new VA(n.left+n.width-B/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=m>0||h>0?GA(n.left+x/3,n.top+w,m-x/3,h-C/3,gA.BOTTOM_LEFT):new VA(n.left+x/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=r>0||s>0?GA(n.left+2*x/3,n.top+2*y/3,r-2*x/3,s-2*y/3,gA.TOP_LEFT):new VA(n.left+2*x/3,n.top+2*y/3),this.topRightBorderDoubleInnerBox=r>0||s>0?GA(n.left+f,n.top+2*y/3,a-2*B/3,A-2*y/3,gA.TOP_RIGHT):new VA(n.left+n.width-2*B/3,n.top+2*y/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?GA(n.left+v,n.top+b,c-2*B/3,u-2*C/3,gA.BOTTOM_RIGHT):new VA(n.left+n.width-2*B/3,n.top+n.height-2*C/3),this.bottomLeftBorderDoubleInnerBox=m>0||h>0?GA(n.left+2*x/3,n.top+w,m-2*x/3,h-2*C/3,gA.BOTTOM_LEFT):new VA(n.left+2*x/3,n.top+n.height-2*C/3),this.topLeftBorderStroke=r>0||s>0?GA(n.left+x/2,n.top+y/2,r-x/2,s-y/2,gA.TOP_LEFT):new VA(n.left+x/2,n.top+y/2),this.topRightBorderStroke=r>0||s>0?GA(n.left+f,n.top+y/2,a-B/2,A-y/2,gA.TOP_RIGHT):new VA(n.left+n.width-B/2,n.top+y/2),this.bottomRightBorderStroke=c>0||u>0?GA(n.left+v,n.top+b,c-B/2,u-C/2,gA.BOTTOM_RIGHT):new VA(n.left+n.width-B/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=m>0||h>0?GA(n.left+x/2,n.top+w,m-x/2,h-C/2,gA.BOTTOM_LEFT):new VA(n.left+x/2,n.top+n.height-C/2),this.topLeftBorderBox=r>0||s>0?GA(n.left,n.top,r,s,gA.TOP_LEFT):new VA(n.left,n.top),this.topRightBorderBox=a>0||A>0?GA(n.left+f,n.top,a,A,gA.TOP_RIGHT):new VA(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?GA(n.left+v,n.top+b,c,u,gA.BOTTOM_RIGHT):new VA(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||h>0?GA(n.left,n.top+w,m,h,gA.BOTTOM_LEFT):new VA(n.left,n.top+n.height),this.topLeftPaddingBox=r>0||s>0?GA(n.left+x,n.top+y,Math.max(0,r-x),Math.max(0,s-y),gA.TOP_LEFT):new VA(n.left+x,n.top+y),this.topRightPaddingBox=a>0||A>0?GA(n.left+Math.min(f,n.width-B),n.top+y,f>n.width+B?0:Math.max(0,a-B),Math.max(0,A-y),gA.TOP_RIGHT):new VA(n.left+n.width-B,n.top+y),this.bottomRightPaddingBox=c>0||u>0?GA(n.left+Math.min(v,n.width-x),n.top+Math.min(b,n.height-C),Math.max(0,c-B),Math.max(0,u-C),gA.BOTTOM_RIGHT):new VA(n.left+n.width-B,n.top+n.height-C),this.bottomLeftPaddingBox=m>0||h>0?GA(n.left+x,n.top+Math.min(w,n.height-C),Math.max(0,m-x),Math.max(0,h-C),gA.BOTTOM_LEFT):new VA(n.left+x,n.top+n.height-C),this.topLeftContentBox=r>0||s>0?GA(n.left+x+E,n.top+y+S,Math.max(0,r-(x+E)),Math.max(0,s-(y+S)),gA.TOP_LEFT):new VA(n.left+x+E,n.top+y+S),this.topRightContentBox=a>0||A>0?GA(n.left+Math.min(f,n.width+x+E),n.top+y+S,f>n.width+x+E?0:a-x+E,A-(y+S),gA.TOP_RIGHT):new VA(n.left+n.width-(B+F),n.top+y+S),this.bottomRightContentBox=c>0||u>0?GA(n.left+Math.min(v,n.width-(x+E)),n.top+Math.min(b,n.height+y+S),Math.max(0,c-(B+F)),u-(C+k),gA.BOTTOM_RIGHT):new VA(n.left+n.width-(B+F),n.top+n.height-(C+k)),this.bottomLeftContentBox=m>0||h>0?GA(n.left+x+E,n.top+w,Math.max(0,m-(x+E)),h-(C+k),gA.BOTTOM_LEFT):new VA(n.left+x+E,n.top+n.height-(C+k))}return e}();(function(e){e[e["TOP_LEFT"]=0]="TOP_LEFT",e[e["TOP_RIGHT"]=1]="TOP_RIGHT",e[e["BOTTOM_RIGHT"]=2]="BOTTOM_RIGHT",e[e["BOTTOM_LEFT"]=3]="BOTTOM_LEFT"})(gA||(gA={}));var GA=function(e,t,n,o,r){var s=(Math.sqrt(2)-1)/3*4,i=n*s,a=o*s,A=e+n,l=t+o;switch(r){case gA.TOP_LEFT:return new zA(new VA(e,l),new VA(e,l-a),new VA(A-i,t),new VA(A,t));case gA.TOP_RIGHT:return new zA(new VA(e,t),new VA(e+i,t),new VA(A,l-a),new VA(A,l));case gA.BOTTOM_RIGHT:return new zA(new VA(A,t),new VA(A,t+a),new VA(e+i,l),new VA(e,l));case gA.BOTTOM_LEFT:default:return new zA(new VA(A,l),new VA(A-i,l),new VA(e,t+a),new VA(e,t))}},qA=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},ZA=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},XA=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},JA=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),YA=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),$A=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),el=function(e){return 0===e.type},tl=function(e){return 1===e.type},nl=function(e){return 2===e.type},ol=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},rl=function(e,t,n,o,r){return e.map((function(e,s){switch(s){case 0:return e.add(t,n);case 1:return e.add(t+o,n);case 2:return e.add(t+o,n+r);case 3:return e.add(t,n+r)}return e}))},sl=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),il=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new WA(this.container),this.container.styles.opacity<1&&this.effects.push(new $A(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new JA(n,o,r))}if(0!==this.container.styles.overflowX){var s=qA(this.curves),i=XA(this.curves);ol(s,i)?this.effects.push(new YA(s,6)):(this.effects.push(new YA(s,2)),this.effects.push(new YA(i,4)))}}return e.prototype.getEffects=function(e){var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,o=this.effects.slice(0);while(n){var r=n.effects.filter((function(e){return!tl(e)}));if(t||0!==n.container.styles.position||!n.parent){if(o.unshift.apply(o,r),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var s=qA(n.curves),i=XA(n.curves);ol(s,i)||o.unshift(new YA(i,6))}}else o.unshift.apply(o,r);n=n.parent}return o.filter((function(t){return bs(t.target,e)}))},e}(),al=function(e,t,n,o){e.container.elements.forEach((function(r){var s=bs(r.flags,4),i=bs(r.flags,2),a=new il(r,e);bs(r.styles.display,2048)&&o.push(a);var A=bs(r.flags,8)?[]:o;if(s||i){var l=s||r.styles.isPositioned()?n:t,c=new sl(a);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var u=r.styles.zIndex.order;if(u<0){var d=0;l.negativeZIndex.some((function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0})),l.negativeZIndex.splice(d,0,c)}else if(u>0){var m=0;l.positiveZIndex.some((function(e,t){return u>=e.element.container.styles.zIndex.order?(m=t+1,!1):m>0})),l.positiveZIndex.splice(m,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else r.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);al(a,c,s?c:n,A)}else r.styles.isInlineLevel()?t.inlineLevel.push(a):t.nonInlineLevel.push(a),al(a,t,n,A);bs(r.flags,8)&&Al(r,A)}))},Al=function(e,t){for(var n=e instanceof la?e.start:1,o=e instanceof la&&e.reversed,r=0;r<t.length;r++){var s=t[r];s.container instanceof Aa&&"number"===typeof s.container.value&&0!==s.container.value&&(n=s.container.value),s.listValue=dA(n,s.container.styles.listStyleType,!0),n+=o?-1:1}},ll=function(e){var t=new il(e,null),n=new sl(t),o=[];return al(t,n,n,o),Al(t.container,o),n},cl=function(e,t){switch(t){case 0:return gl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return gl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return gl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return gl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},ul=function(e,t){switch(t){case 0:return gl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return gl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return gl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return gl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},dl=function(e,t){switch(t){case 0:return gl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return gl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return gl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return gl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},ml=function(e,t){switch(t){case 0:return hl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return hl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return hl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return hl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},hl=function(e,t){var n=[];return KA(e)?n.push(e.subdivide(.5,!1)):n.push(e),KA(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},gl=function(e,t,n,o){var r=[];return KA(e)?r.push(e.subdivide(.5,!1)):r.push(e),KA(n)?r.push(n.subdivide(.5,!0)):r.push(n),KA(o)?r.push(o.subdivide(.5,!0).reverse()):r.push(o),KA(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},pl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},fl=function(e){var t=e.styles,n=e.bounds,o=to(t.paddingLeft,n.width),r=to(t.paddingRight,n.width),s=to(t.paddingTop,n.width),i=to(t.paddingBottom,n.width);return n.add(o+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+o+r),-(t.borderTopWidth+t.borderBottomWidth+s+i))},bl=function(e,t){return 0===e?t.bounds:2===e?fl(t):pl(t)},vl=function(e,t){return 0===e?t.bounds:2===e?fl(t):pl(t)},wl=function(e,t,n){var o=bl(xl(e.styles.backgroundOrigin,t),e),r=vl(xl(e.styles.backgroundClip,t),e),s=Cl(xl(e.styles.backgroundSize,t),n,o),i=s[0],a=s[1],A=eo(xl(e.styles.backgroundPosition,t),o.width-i,o.height-a),l=Sl(xl(e.styles.backgroundRepeat,t),A,s,o,r),c=Math.round(o.left+A[0]),u=Math.round(o.top+A[1]);return[l,c,u,i,a]},yl=function(e){return Pn(e)&&e.value===qo.AUTO},Bl=function(e){return"number"===typeof e},Cl=function(e,t,n){var o=t[0],r=t[1],s=t[2],i=e[0],a=e[1];if(!i)return[0,0];if(Zn(i)&&a&&Zn(a))return[to(i,n.width),to(a,n.height)];var A=Bl(s);if(Pn(i)&&(i.value===qo.CONTAIN||i.value===qo.COVER)){if(Bl(s)){var l=n.width/n.height;return l<s!==(i.value===qo.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var c=Bl(o),u=Bl(r),d=c||u;if(yl(i)&&(!a||yl(a))){if(c&&u)return[o,r];if(!A&&!d)return[n.width,n.height];if(d&&A){var m=c?o:r*s,h=u?r:o/s;return[m,h]}var g=c?o:n.width,p=u?r:n.height;return[g,p]}if(A){var f=0,b=0;return Zn(i)?f=to(i,n.width):Zn(a)&&(b=to(a,n.height)),yl(i)?f=b*s:a&&!yl(a)||(b=f/s),[f,b]}var v=null,w=null;if(Zn(i)?v=to(i,n.width):a&&Zn(a)&&(w=to(a,n.height)),null===v||a&&!yl(a)||(w=c&&u?v/o*r:n.height),null!==w&&yl(i)&&(v=c&&u?w/r*o:n.width),null!==v&&null!==w)return[v,w];throw new Error("Unable to calculate background-size for element")},xl=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},Sl=function(e,t,n,o,r){var s=t[0],i=t[1],a=n[0],A=n[1];switch(e){case 2:return[new VA(Math.round(o.left),Math.round(o.top+i)),new VA(Math.round(o.left+o.width),Math.round(o.top+i)),new VA(Math.round(o.left+o.width),Math.round(A+o.top+i)),new VA(Math.round(o.left),Math.round(A+o.top+i))];case 3:return[new VA(Math.round(o.left+s),Math.round(o.top)),new VA(Math.round(o.left+s+a),Math.round(o.top)),new VA(Math.round(o.left+s+a),Math.round(o.height+o.top)),new VA(Math.round(o.left+s),Math.round(o.height+o.top))];case 1:return[new VA(Math.round(o.left+s),Math.round(o.top+i)),new VA(Math.round(o.left+s+a),Math.round(o.top+i)),new VA(Math.round(o.left+s+a),Math.round(o.top+i+A)),new VA(Math.round(o.left+s),Math.round(o.top+i+A))];default:return[new VA(Math.round(r.left),Math.round(r.top)),new VA(Math.round(r.left+r.width),Math.round(r.top)),new VA(Math.round(r.left+r.width),Math.round(r.height+r.top)),new VA(Math.round(r.left),Math.round(r.height+r.top))]}},Fl="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",kl="Hidden Text",El=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),o=this._document.createElement("img"),r=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),o.src=Fl,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(kl)),n.appendChild(r),n.appendChild(o);var i=o.offsetTop-r.offsetTop+2;n.removeChild(r),n.appendChild(this._document.createTextNode(kl)),n.style.lineHeight="normal",o.style.verticalAlign="super";var a=o.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:i,middle:a}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),_l=function(){function e(e,t){this.context=e,this.options=t}return e}(),Ol=1e4,Ul=function(e){function n(t,n){var o=e.call(this,t,n)||this;return o._activeEffects=[],o.canvas=n.canvas?n.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),n.canvas||(o.canvas.width=Math.floor(n.width*n.scale),o.canvas.height=Math.floor(n.height*n.scale),o.canvas.style.width=n.width+"px",o.canvas.style.height=n.height+"px"),o.fontMetrics=new El(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-n.x,-n.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),o}return t(n,e),n.prototype.applyEffects=function(e){var t=this;while(this._activeEffects.length)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),nl(e)&&(this.ctx.globalAlpha=e.opacity),el(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),tl(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return o(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return t=e.element.container.styles,t.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return o(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return bs(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var o=this;if(0===t)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n);else{var r=Xi(e.text);r.reduce((function(t,r){return o.ctx.fillText(r,t,e.bounds.top+n),t+o.ctx.measureText(r).width}),e.bounds.left)}},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=Dl(e.fontFamily).join(", "),o=Mn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,o,n].join(" "),n,o]},n.prototype.renderTextNode=function(e,t){return o(this,void 0,void 0,(function(){var n,o,s,i,a,A,l,c,u=this;return r(this,(function(r){return n=this.createFontStyle(t),o=n[0],s=n[1],i=n[2],this.ctx.font=o,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(s,i),A=a.baseline,l=a.middle,c=t.paintOrder,e.textBounds.forEach((function(e){c.forEach((function(n){switch(n){case 0:u.ctx.fillStyle=mo(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,A);var o=t.textShadow;o.length&&e.text.trim().length&&(o.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=mo(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,A)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=mo(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+A),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1);break}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=mo(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+A)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter";break}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var o=fl(e),r=XA(t);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return o(this,void 0,void 0,(function(){var t,o,s,a,A,l,c,u,d,m,h,g,p,f,b,v,w,y,B;return r(this,(function(r){switch(r.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,o=e.curves,s=t.styles,a=0,A=t.textNodes,r.label=1;case 1:return a<A.length?(l=A[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:r.sent(),r.label=3;case 3:return a++,[3,1];case 4:if(!(t instanceof sa))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=r.sent(),this.renderReplacedElement(t,o,v),[3,8];case 7:return r.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof ia&&this.renderReplacedElement(t,o,t.canvas),!(t instanceof aa))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=r.sent(),this.renderReplacedElement(t,o,v),[3,12];case 11:return r.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ya&&t.tree?(c=new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}),[4,c.render(t.tree)]):[3,14];case 13:u=r.sent(),t.width&&t.height&&this.ctx.drawImage(u,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),r.label=14;case 14:if(t instanceof ba&&(d=Math.min(t.bounds.width,t.bounds.height),t.type===ha?t.checked&&(this.ctx.save(),this.path([new VA(t.bounds.left+.39363*d,t.bounds.top+.79*d),new VA(t.bounds.left+.16*d,t.bounds.top+.5549*d),new VA(t.bounds.left+.27347*d,t.bounds.top+.44071*d),new VA(t.bounds.left+.39694*d,t.bounds.top+.5649*d),new VA(t.bounds.left+.72983*d,t.bounds.top+.23*d),new VA(t.bounds.left+.84*d,t.bounds.top+.34085*d),new VA(t.bounds.left+.39363*d,t.bounds.top+.79*d)]),this.ctx.fillStyle=mo(fa),this.ctx.fill(),this.ctx.restore()):t.type===ga&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+d/2,t.bounds.top+d/2,d/4,0,2*Math.PI,!0),this.ctx.fillStyle=mo(fa),this.ctx.fill(),this.ctx.restore())),Tl(t)&&t.value.length){switch(m=this.createFontStyle(s),y=m[0],h=m[1],g=this.fontMetrics.getMetrics(y,h).baseline,this.ctx.font=y,this.ctx.fillStyle=mo(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Nl(t.styles.textAlign),B=fl(t),p=0,t.styles.textAlign){case 1:p+=B.width/2;break;case 2:p+=B.width;break}f=B.add(p,0,0,-B.height/2+1),this.ctx.save(),this.path([new VA(B.left,B.top),new VA(B.left+B.width,B.top),new VA(B.left+B.width,B.top+B.height),new VA(B.left,B.top+B.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Wi(t.value,f),s.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!bs(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(b=t.styles.listStyleImage,0!==b.type)return[3,18];v=void 0,w=b.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return v=r.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return r.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(y=this.createFontStyle(s)[0],this.ctx.font=y,this.ctx.fillStyle=mo(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",B=new i(t.bounds.left,t.bounds.top+to(t.styles.paddingTop,t.bounds.width),t.bounds.width,Lr(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Wi(e.listValue,B),s.letterSpacing,Lr(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return o(this,void 0,void 0,(function(){var t,n,o,s,i,a,A,l,c,u,d,m,h,g,p;return r(this,(function(r){switch(r.label){case 0:return bs(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:r.sent(),t=0,n=e.negativeZIndex,r.label=2;case 2:return t<n.length?(p=n[t],[4,this.renderStack(p)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:r.sent(),o=0,s=e.nonInlineLevel,r.label=7;case 7:return o<s.length?(p=s[o],[4,this.renderNode(p)]):[3,10];case 8:r.sent(),r.label=9;case 9:return o++,[3,7];case 10:i=0,a=e.nonPositionedFloats,r.label=11;case 11:return i<a.length?(p=a[i],[4,this.renderStack(p)]):[3,14];case 12:r.sent(),r.label=13;case 13:return i++,[3,11];case 14:A=0,l=e.nonPositionedInlineLevel,r.label=15;case 15:return A<l.length?(p=l[A],[4,this.renderStack(p)]):[3,18];case 16:r.sent(),r.label=17;case 17:return A++,[3,15];case 18:c=0,u=e.inlineLevel,r.label=19;case 19:return c<u.length?(p=u[c],[4,this.renderNode(p)]):[3,22];case 20:r.sent(),r.label=21;case 21:return c++,[3,19];case 22:d=0,m=e.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return d<m.length?(p=m[d],[4,this.renderStack(p)]):[3,26];case 24:r.sent(),r.label=25;case 25:return d++,[3,23];case 26:h=0,g=e.positiveZIndex,r.label=27;case 27:return h<g.length?(p=g[h],[4,this.renderStack(p)]):[3,30];case 28:r.sent(),r.label=29;case 29:return h++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var o=KA(e)?e.start:e;0===n?t.ctx.moveTo(o.x,o.y):t.ctx.lineTo(o.x,o.y),KA(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,o){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,o),this.ctx.fill(),this.ctx.translate(-n,-o)},n.prototype.resizeImage=function(e,t,n){var o;if(e.width===t&&e.height===n)return e;var r=null!==(o=this.canvas.ownerDocument)&&void 0!==o?o:document,s=r.createElement("canvas");s.width=Math.max(1,t),s.height=Math.max(1,n);var i=s.getContext("2d");return i.drawImage(e,0,0,e.width,e.height,0,0,t,n),s},n.prototype.renderBackgroundImage=function(e){return o(this,void 0,void 0,(function(){var t,n,o,s,i,a;return r(this,(function(A){switch(A.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var s,i,a,A,l,c,u,d,m,h,g,p,f,b,v,w,y,B,C,x,S,F,k,E,_,O,U,T,L,N,Q;return r(this,(function(r){switch(r.label){case 0:if(0!==n.type)return[3,5];s=void 0,i=n.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.context.cache.match(i)];case 2:return s=r.sent(),[3,4];case 3:return r.sent(),o.context.logger.error("Error loading background-image "+i),[3,4];case 4:return s&&(a=wl(e,t,[s.width,s.height,s.width/s.height]),w=a[0],F=a[1],k=a[2],C=a[3],x=a[4],b=o.ctx.createPattern(o.resizeImage(s,C,x),"repeat"),o.renderRepeat(w,b,F,k)),[3,6];case 5:zo(n)?(A=wl(e,t,[null,null,null]),w=A[0],F=A[1],k=A[2],C=A[3],x=A[4],l=ko(n.angle,C,x),c=l[0],u=l[1],d=l[2],m=l[3],h=l[4],g=document.createElement("canvas"),g.width=C,g.height=x,p=g.getContext("2d"),f=p.createLinearGradient(u,m,d,h),So(n.stops,c).forEach((function(e){return f.addColorStop(e.stop,mo(e.color))})),p.fillStyle=f,p.fillRect(0,0,C,x),C>0&&x>0&&(b=o.ctx.createPattern(g,"repeat"),o.renderRepeat(w,b,F,k))):Ko(n)&&(v=wl(e,t,[null,null,null]),w=v[0],y=v[1],B=v[2],C=v[3],x=v[4],S=0===n.position.length?[Yn]:n.position,F=to(S[0],C),k=to(S[S.length-1],x),E=Oo(n,F,k,C,x),_=E[0],O=E[1],_>0&&O>0&&(U=o.ctx.createRadialGradient(y+F,B+k,0,y+F,B+k,_),So(n.stops,2*_).forEach((function(e){return U.addColorStop(e.stop,mo(e.color))})),o.path(w),o.ctx.fillStyle=U,_!==O?(T=e.bounds.left+.5*e.bounds.width,L=e.bounds.top+.5*e.bounds.height,N=O/_,Q=1/N,o.ctx.save(),o.ctx.translate(T,L),o.ctx.transform(1,0,0,N,0,0),o.ctx.translate(-T,-L),o.ctx.fillRect(y,Q*(B-L)+L,C,x*Q),o.ctx.restore()):o.ctx.fill())),r.label=6;case 6:return t--,[2]}}))},o=this,s=0,i=e.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return s<i.length?(a=i[s],[5,n(a)]):[3,4];case 2:A.sent(),A.label=3;case 3:return s++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return o(this,void 0,void 0,(function(){return r(this,(function(o){return this.path(cl(n,t)),this.ctx.fillStyle=mo(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,s){return o(this,void 0,void 0,(function(){var o,i;return r(this,(function(r){switch(r.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,s)]:[3,2];case 1:return r.sent(),[2];case 2:return o=ul(s,n),this.path(o),this.ctx.fillStyle=mo(e),this.ctx.fill(),i=dl(s,n),this.path(i),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return o(this,void 0,void 0,(function(){var t,n,o,s,i,a,A,l,c=this;return r(this,(function(r){switch(r.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!uo(t.backgroundColor)||t.backgroundImage.length,o=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],s=Ll(xl(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),uo(t.backgroundColor)||(this.ctx.fillStyle=mo(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){c.ctx.save();var n=qA(e.curves),o=t.inset?0:Ol,r=rl(n,-o+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(r)):(c.mask(n),c.ctx.clip(),c.path(r)),c.ctx.shadowOffsetX=t.offsetX.number+o,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=mo(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?mo(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),r.label=2;case 2:i=0,a=0,A=o,r.label=3;case 3:return a<A.length?(l=A[a],0!==l.style&&!uo(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,i,e.curves,2)]:[3,11]):[3,13];case 4:return r.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,i,e.curves,3)];case 6:return r.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,i,e.curves)];case 8:return r.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,i,e.curves)];case 10:r.sent(),r.label=11;case 11:i++,r.label=12;case 12:return a++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,s,i){return o(this,void 0,void 0,(function(){var o,a,A,l,c,u,d,m,h,g,p,f,b,v,w,y;return r(this,(function(r){return this.ctx.save(),o=ml(s,n),a=cl(s,n),2===i&&(this.path(a),this.ctx.clip()),KA(a[0])?(A=a[0].start.x,l=a[0].start.y):(A=a[0].x,l=a[0].y),KA(a[1])?(c=a[1].end.x,u=a[1].end.y):(c=a[1].x,u=a[1].y),d=0===n||2===n?Math.abs(A-c):Math.abs(l-u),this.ctx.beginPath(),3===i?this.formatPath(o):this.formatPath(a.slice(0,2)),m=t<3?3*t:2*t,h=t<3?2*t:t,3===i&&(m=t,h=t),g=!0,d<=2*m?g=!1:d<=2*m+h?(p=d/(2*m+h),m*=p,h*=p):(f=Math.floor((d+h)/(m+h)),b=(d-f*m)/(f-1),v=(d-(f+1)*m)/f,h=v<=0||Math.abs(h-b)<Math.abs(h-v)?b:v),g&&(3===i?this.ctx.setLineDash([0,m+h]):this.ctx.setLineDash([m,h])),3===i?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=mo(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===i&&(KA(a[0])&&(w=a[3],y=a[0],this.ctx.beginPath(),this.formatPath([new VA(w.end.x,w.end.y),new VA(y.start.x,y.start.y)]),this.ctx.stroke()),KA(a[1])&&(w=a[1],y=a[2],this.ctx.beginPath(),this.formatPath([new VA(w.end.x,w.end.y),new VA(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return o(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=mo(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=ll(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(_l),Tl=function(e){return e instanceof wa||(e instanceof va||e instanceof ba&&e.type!==ga&&e.type!==ha)},Ll=function(e,t){switch(e){case 0:return qA(t);case 2:return ZA(t);case 1:default:return XA(t)}},Nl=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Ql=["-apple-system","system-ui"],Dl=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===Ql.indexOf(e)})):e},Il=function(e){function n(t,n){var o=e.call(this,t,n)||this;return o.canvas=n.canvas?n.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=n,o.canvas.width=Math.floor(n.width*n.scale),o.canvas.height=Math.floor(n.height*n.scale),o.canvas.style.width=n.width+"px",o.canvas.style.height=n.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-n.x,-n.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),o}return t(n,e),n.prototype.render=function(e){return o(this,void 0,void 0,(function(){var t,n;return r(this,(function(o){switch(o.label){case 0:return t=ji(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Hl(t)];case 1:return n=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=mo(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(_l),Hl=function(e){return new Promise((function(t,n){var o=new Image;o.onload=function(){t(o)},o.onerror=n,o.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ml=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,s([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Rl=function(){function e(t,n){var o;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new Ml({id:this.instanceName,enabled:t.logging}),this.cache=null!==(o=t.cache)&&void 0!==o?o:new LA(this,t)}return e.instanceCount=1,e}(),Pl=function(e,t){return void 0===t&&(t={}),Vl(e,t)};"undefined"!==typeof window&&TA.setContext(window);var Vl=function(e,t){return o(void 0,void 0,void 0,(function(){var o,s,l,c,u,d,m,h,g,p,f,b,v,w,y,B,C,x,S,F,k,E,_,O,U,T,L,N,Q,D,I,H,M,R,P,V,j,z,K;return r(this,(function(r){switch(r.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(o=e.ownerDocument,!o)throw new Error("Element is not attached to a Document");if(s=o.defaultView,!s)throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(_=t.allowTaint)&&void 0!==_&&_,imageTimeout:null!==(O=t.imageTimeout)&&void 0!==O?O:15e3,proxy:t.proxy,useCORS:null!==(U=t.useCORS)&&void 0!==U&&U},c=n({logging:null===(T=t.logging)||void 0===T||T,cache:t.cache},l),u={windowWidth:null!==(L=t.windowWidth)&&void 0!==L?L:s.innerWidth,windowHeight:null!==(N=t.windowHeight)&&void 0!==N?N:s.innerHeight,scrollX:null!==(Q=t.scrollX)&&void 0!==Q?Q:s.pageXOffset,scrollY:null!==(D=t.scrollY)&&void 0!==D?D:s.pageYOffset},d=new i(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),m=new Rl(c,d),h=null!==(I=t.foreignObjectRendering)&&void 0!==I&&I,g={allowTaint:null!==(H=t.allowTaint)&&void 0!==H&&H,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:h,copyStyles:h},m.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),p=new hA(m,e,g),f=p.clonedReferenceElement,f?[4,p.toIFrame(o,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return b=r.sent(),v=Ia(f)||Qa(f)?A(f.ownerDocument):a(m,f),w=v.width,y=v.height,B=v.left,C=v.top,x=jl(m,f,t.backgroundColor),S={canvas:t.canvas,backgroundColor:x,scale:null!==(R=null!==(M=t.scale)&&void 0!==M?M:s.devicePixelRatio)&&void 0!==R?R:1,x:(null!==(P=t.x)&&void 0!==P?P:0)+B,y:(null!==(V=t.y)&&void 0!==V?V:0)+C,width:null!==(j=t.width)&&void 0!==j?j:Math.ceil(w),height:null!==(z=t.height)&&void 0!==z?z:Math.ceil(y)},h?(m.logger.debug("Document cloned, using foreign object rendering"),E=new Il(m,S),[4,E.render(f)]):[3,3];case 2:return F=r.sent(),[3,5];case 3:return m.logger.debug("Document cloned, element located at "+B+","+C+" with size "+w+"x"+y+" using computed rendering"),m.logger.debug("Starting DOM parsing"),k=Sa(m,f),x===k.styles.backgroundColor&&(k.styles.backgroundColor=yo.TRANSPARENT),m.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),E=new Ul(m,S),[4,E.render(k)];case 4:F=r.sent(),r.label=5;case 5:return(null===(K=t.removeContainer)||void 0===K||K)&&(hA.destroy(b)||m.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),m.logger.debug("Finished rendering"),[2,F]}}))}))},jl=function(e,t,n){var o=t.ownerDocument,r=o.documentElement?wo(e,getComputedStyle(o.documentElement).backgroundColor):yo.TRANSPARENT,s=o.body?wo(e,getComputedStyle(o.body).backgroundColor):yo.TRANSPARENT,i="string"===typeof n?wo(e,n):null===n?yo.TRANSPARENT:4294967295;return t===o.documentElement?uo(r)?uo(s)?i:s:r:i};return Pl}))},4692:function(e,t){var n,o;
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */(function(t,n){"use strict";"object"===typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)})("undefined"!==typeof window?window:this,(function(r,s){"use strict";var i=[],a=Object.getPrototypeOf,A=i.slice,l=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},c=i.push,u=i.indexOf,d={},m=d.toString,h=d.hasOwnProperty,g=h.toString,p=g.call(Object),f={},b=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType&&"function"!==typeof e.item},v=function(e){return null!=e&&e===e.window},w=r.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function B(e,t,n){n=n||w;var o,r,s=n.createElement("script");if(s.text=e,t)for(o in y)r=t[o]||t.getAttribute&&t.getAttribute(o),r&&s.setAttribute(o,r);n.head.appendChild(s).parentNode.removeChild(s)}function C(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?d[m.call(e)]||"object":typeof e}var x="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function F(e){var t=!!e&&"length"in e&&e.length,n=C(e);return!b(e)&&!v(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}S.fn=S.prototype={jquery:x,constructor:S,length:0,toArray:function(){return A.call(this)},get:function(e){return null==e?A.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(e){return this.pushStack(S.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(A.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(S.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},S.extend=S.fn.extend=function(){var e,t,n,o,r,s,i=arguments[0]||{},a=1,A=arguments.length,l=!1;for("boolean"===typeof i&&(l=i,i=arguments[a]||{},a++),"object"===typeof i||b(i)||(i={}),a===A&&(i=this,a--);a<A;a++)if(null!=(e=arguments[a]))for(t in e)o=e[t],"__proto__"!==t&&i!==o&&(l&&o&&(S.isPlainObject(o)||(r=Array.isArray(o)))?(n=i[t],s=r&&!Array.isArray(n)?[]:r||S.isPlainObject(n)?n:{},r=!1,i[t]=S.extend(l,s,o)):void 0!==o&&(i[t]=o));return i},S.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==m.call(e))&&(t=a(e),!t||(n=h.call(t,"constructor")&&t.constructor,"function"===typeof n&&g.call(n)===p))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){B(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,o=0;if(F(e)){for(n=e.length;o<n;o++)if(!1===t.call(e[o],o,e[o]))break}else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(F(Object(e))?S.merge(n,"string"===typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,r=e.length;o<n;o++)e[r++]=t[o];return e.length=r,e},grep:function(e,t,n){for(var o,r=[],s=0,i=e.length,a=!n;s<i;s++)o=!t(e[s],s),o!==a&&r.push(e[s]);return r},map:function(e,t,n){var o,r,s=0,i=[];if(F(e))for(o=e.length;s<o;s++)r=t(e[s],s,n),null!=r&&i.push(r);else for(s in e)r=t(e[s],s,n),null!=r&&i.push(r);return l(i)},guid:1,support:f}),"function"===typeof Symbol&&(S.fn[Symbol.iterator]=i[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var k=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(e){var t,n,o,r,s,i,a,A,l,c,u,d,m,h,g,p,f,b,v,w="sizzle"+1*new Date,y=e.document,B=0,C=0,x=Ae(),S=Ae(),F=Ae(),k=Ae(),E=function(e,t){return e===t&&(u=!0),0},_={}.hasOwnProperty,O=[],U=O.pop,T=O.push,L=O.push,N=O.slice,Q=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",H="(?:\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",M="\\["+I+"*("+H+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+I+"*\\]",R=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",P=new RegExp(I+"+","g"),V=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),j=new RegExp("^"+I+"*,"+I+"*"),z=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),K=new RegExp(I+"|>"),W=new RegExp(R),G=new RegExp("^"+H+"$"),q={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},se=function(){d()},ie=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{L.apply(O=N.call(y.childNodes),y.childNodes),O[y.childNodes.length].nodeType}catch(ke){L={apply:O.length?function(e,t){T.apply(e,N.call(t))}:function(e,t){var n=e.length,o=0;while(e[n++]=t[o++]);e.length=n-1}}}function ae(e,t,o,r){var s,a,l,c,u,h,f,b=t&&t.ownerDocument,y=t?t.nodeType:9;if(o=o||[],"string"!==typeof e||!e||1!==y&&9!==y&&11!==y)return o;if(!r&&(d(t),t=t||m,g)){if(11!==y&&(u=$.exec(e)))if(s=u[1]){if(9===y){if(!(l=t.getElementById(s)))return o;if(l.id===s)return o.push(l),o}else if(b&&(l=b.getElementById(s))&&v(t,l)&&l.id===s)return o.push(l),o}else{if(u[2])return L.apply(o,t.getElementsByTagName(e)),o;if((s=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(o,t.getElementsByClassName(s)),o}if(n.qsa&&!k[e+" "]&&(!p||!p.test(e))&&(1!==y||"object"!==t.nodeName.toLowerCase())){if(f=e,b=t,1===y&&(K.test(e)||z.test(e))){b=ee.test(e)&&fe(t.parentNode)||t,b===t&&n.scope||((c=t.getAttribute("id"))?c=c.replace(oe,re):t.setAttribute("id",c=w)),h=i(e),a=h.length;while(a--)h[a]=(c?"#"+c:":scope")+" "+ve(h[a]);f=h.join(",")}try{return L.apply(o,b.querySelectorAll(f)),o}catch(B){k(e,!0)}finally{c===w&&t.removeAttribute("id")}}}return A(e.replace(V,"$1"),t,o,r)}function Ae(){var e=[];function t(n,r){return e.push(n+" ")>o.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function le(e){return e[w]=!0,e}function ce(e){var t=m.createElement("fieldset");try{return!!e(t)}catch(ke){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){var n=e.split("|"),r=n.length;while(r--)o.attrHandle[n[r]]=t}function de(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function me(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return le((function(t){return t=+t,le((function(n,o){var r,s=e([],n.length,t),i=s.length;while(i--)n[r=s[i]]&&(n[r]=!(o[r]=n[r]))}))}))}function fe(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}for(t in n=ae.support={},s=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Z.test(t||n&&n.nodeName||"HTML")},d=ae.setDocument=function(e){var t,r,i=e?e.ownerDocument||e:y;return i!=m&&9===i.nodeType&&i.documentElement?(m=i,h=m.documentElement,g=!s(m),y!=m&&(r=m.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",se,!1):r.attachEvent&&r.attachEvent("onunload",se)),n.scope=ce((function(e){return h.appendChild(e).appendChild(m.createElement("div")),"undefined"!==typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(m.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Y.test(m.getElementsByClassName),n.getById=ce((function(e){return h.appendChild(e).id=w,!m.getElementsByName||!m.getElementsByName(w).length})),n.getById?(o.filter["ID"]=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},o.find["ID"]=function(e,t){if("undefined"!==typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(o.filter["ID"]=function(e){var t=e.replace(te,ne);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},o.find["ID"]=function(e,t){if("undefined"!==typeof t.getElementById&&g){var n,o,r,s=t.getElementById(e);if(s){if(n=s.getAttributeNode("id"),n&&n.value===e)return[s];r=t.getElementsByName(e),o=0;while(s=r[o++])if(n=s.getAttributeNode("id"),n&&n.value===e)return[s]}return[]}}),o.find["TAG"]=n.getElementsByTagName?function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],r=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[r++])1===n.nodeType&&o.push(n);return o}return s},o.find["CLASS"]=n.getElementsByClassName&&function(e,t){if("undefined"!==typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},f=[],p=[],(n.qsa=Y.test(m.querySelectorAll))&&(ce((function(e){var t;h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&p.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||p.push("\\["+I+"*(?:value|"+D+")"),e.querySelectorAll("[id~="+w+"-]").length||p.push("~="),t=m.createElement("input"),t.setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||p.push("\\["+I+"*name"+I+"*="+I+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||p.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||p.push(".#.+[+~]"),e.querySelectorAll("\\\f"),p.push("[\\r\\n\\f]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=m.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&p.push("name"+I+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&p.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),p.push(",.*:")}))),(n.matchesSelector=Y.test(b=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),f.push("!=",R)})),p=p.length&&new RegExp(p.join("|")),f=f.length&&new RegExp(f.join("|")),t=Y.test(h.compareDocumentPosition),v=t||Y.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return u=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o||(o=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&o||!n.sortDetached&&t.compareDocumentPosition(e)===o?e==m||e.ownerDocument==y&&v(y,e)?-1:t==m||t.ownerDocument==y&&v(y,t)?1:c?Q(c,e)-Q(c,t):0:4&o?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,o=0,r=e.parentNode,s=t.parentNode,i=[e],a=[t];if(!r||!s)return e==m?-1:t==m?1:r?-1:s?1:c?Q(c,e)-Q(c,t):0;if(r===s)return de(e,t);n=e;while(n=n.parentNode)i.unshift(n);n=t;while(n=n.parentNode)a.unshift(n);while(i[o]===a[o])o++;return o?de(i[o],a[o]):i[o]==y?-1:a[o]==y?1:0},m):m},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(d(e),n.matchesSelector&&g&&!k[t+" "]&&(!f||!f.test(t))&&(!p||!p.test(t)))try{var o=b.call(e,t);if(o||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(ke){k(t,!0)}return ae(t,m,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=m&&d(e),v(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=m&&d(e);var r=o.attrHandle[t.toLowerCase()],s=r&&_.call(o.attrHandle,t.toLowerCase())?r(e,t,!g):void 0;return void 0!==s?s:n.attributes||!g?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ae.escape=function(e){return(e+"").replace(oe,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,o=[],r=0,s=0;if(u=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(E),u){while(t=e[s++])t===e[s]&&(r=o.push(s));while(r--)e.splice(o[r],1)}return c=null,e},r=ae.getText=function(e){var t,n="",o=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===s||4===s)return e.nodeValue}else while(t=e[o++])n+=r(t);return n},o=ae.selectors={cacheLength:50,createPseudo:le,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return q["CHILD"].test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=i(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&x(e,(function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(o){var r=ae.attr(o,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(P," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,o,r){var s="nth"!==e.slice(0,3),i="last"!==e.slice(-4),a="of-type"===t;return 1===o&&0===r?function(e){return!!e.parentNode}:function(t,n,A){var l,c,u,d,m,h,g=s!==i?"nextSibling":"previousSibling",p=t.parentNode,f=a&&t.nodeName.toLowerCase(),b=!A&&!a,v=!1;if(p){if(s){while(g){d=t;while(d=d[g])if(a?d.nodeName.toLowerCase()===f:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[i?p.firstChild:p.lastChild],i&&b){d=p,u=d[w]||(d[w]={}),c=u[d.uniqueID]||(u[d.uniqueID]={}),l=c[e]||[],m=l[0]===B&&l[1],v=m&&l[2],d=m&&p.childNodes[m];while(d=++m&&d&&d[g]||(v=m=0)||h.pop())if(1===d.nodeType&&++v&&d===t){c[e]=[B,m,v];break}}else if(b&&(d=t,u=d[w]||(d[w]={}),c=u[d.uniqueID]||(u[d.uniqueID]={}),l=c[e]||[],m=l[0]===B&&l[1],v=m),!1===v)while(d=++m&&d&&d[g]||(v=m=0)||h.pop())if((a?d.nodeName.toLowerCase()===f:1===d.nodeType)&&++v&&(b&&(u=d[w]||(d[w]={}),c=u[d.uniqueID]||(u[d.uniqueID]={}),c[e]=[B,v]),d===t))break;return v-=r,v===o||v%o===0&&v/o>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?le((function(e,n){var o,s=r(e,t),i=s.length;while(i--)o=Q(e,s[i]),e[o]=!(n[o]=s[i])})):function(e){return r(e,0,n)}):r}},pseudos:{not:le((function(e){var t=[],n=[],o=a(e.replace(V,"$1"));return o[w]?le((function(e,t,n,r){var s,i=o(e,null,r,[]),a=e.length;while(a--)(s=i[a])&&(e[a]=!(t[a]=s))})):function(e,r,s){return t[0]=e,o(t,null,s,n),t[0]=null,!n.pop()}})),has:le((function(e){return function(t){return ae(e,t).length>0}})),contains:le((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:le((function(e){return G.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===m.activeElement&&(!m.hasFocus||m.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!o.pseudos["empty"](e)},header:function(e){return J.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe((function(){return[0]})),last:pe((function(e,t){return[t-1]})),eq:pe((function(e,t,n){return[n<0?n+t:n]})),even:pe((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:pe((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:pe((function(e,t,n){for(var o=n<0?n+t:n>t?t:n;--o>=0;)e.push(o);return e})),gt:pe((function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e}))}},o.pseudos["nth"]=o.pseudos["eq"],{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[t]=me(t);for(t in{submit:!0,reset:!0})o.pseudos[t]=he(t);function be(){}function ve(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function we(e,t,n){var o=t.dir,r=t.next,s=r||o,i=n&&"parentNode"===s,a=C++;return t.first?function(t,n,r){while(t=t[o])if(1===t.nodeType||i)return e(t,n,r);return!1}:function(t,n,A){var l,c,u,d=[B,a];if(A){while(t=t[o])if((1===t.nodeType||i)&&e(t,n,A))return!0}else while(t=t[o])if(1===t.nodeType||i)if(u=t[w]||(t[w]={}),c=u[t.uniqueID]||(u[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[o]||t;else{if((l=c[s])&&l[0]===B&&l[1]===a)return d[2]=l[2];if(c[s]=d,d[2]=e(t,n,A))return!0}return!1}}function ye(e){return e.length>1?function(t,n,o){var r=e.length;while(r--)if(!e[r](t,n,o))return!1;return!0}:e[0]}function Be(e,t,n){for(var o=0,r=t.length;o<r;o++)ae(e,t[o],n);return n}function Ce(e,t,n,o,r){for(var s,i=[],a=0,A=e.length,l=null!=t;a<A;a++)(s=e[a])&&(n&&!n(s,o,r)||(i.push(s),l&&t.push(a)));return i}function xe(e,t,n,o,r,s){return o&&!o[w]&&(o=xe(o)),r&&!r[w]&&(r=xe(r,s)),le((function(s,i,a,A){var l,c,u,d=[],m=[],h=i.length,g=s||Be(t||"*",a.nodeType?[a]:a,[]),p=!e||!s&&t?g:Ce(g,d,e,a,A),f=n?r||(s?e:h||o)?[]:i:p;if(n&&n(p,f,a,A),o){l=Ce(f,m),o(l,[],a,A),c=l.length;while(c--)(u=l[c])&&(f[m[c]]=!(p[m[c]]=u))}if(s){if(r||e){if(r){l=[],c=f.length;while(c--)(u=f[c])&&l.push(p[c]=u);r(null,f=[],l,A)}c=f.length;while(c--)(u=f[c])&&(l=r?Q(s,u):d[c])>-1&&(s[l]=!(i[l]=u))}}else f=Ce(f===i?f.splice(h,f.length):f),r?r(null,i,f,A):L.apply(i,f)}))}function Se(e){for(var t,n,r,s=e.length,i=o.relative[e[0].type],a=i||o.relative[" "],A=i?1:0,c=we((function(e){return e===t}),a,!0),u=we((function(e){return Q(t,e)>-1}),a,!0),d=[function(e,n,o){var r=!i&&(o||n!==l)||((t=n).nodeType?c(e,n,o):u(e,n,o));return t=null,r}];A<s;A++)if(n=o.relative[e[A].type])d=[we(ye(d),n)];else{if(n=o.filter[e[A].type].apply(null,e[A].matches),n[w]){for(r=++A;r<s;r++)if(o.relative[e[r].type])break;return xe(A>1&&ye(d),A>1&&ve(e.slice(0,A-1).concat({value:" "===e[A-2].type?"*":""})).replace(V,"$1"),n,A<r&&Se(e.slice(A,r)),r<s&&Se(e=e.slice(r)),r<s&&ve(e))}d.push(n)}return ye(d)}function Fe(e,t){var n=t.length>0,r=e.length>0,s=function(s,i,a,A,c){var u,h,p,f=0,b="0",v=s&&[],w=[],y=l,C=s||r&&o.find["TAG"]("*",c),x=B+=null==y?1:Math.random()||.1,S=C.length;for(c&&(l=i==m||i||c);b!==S&&null!=(u=C[b]);b++){if(r&&u){h=0,i||u.ownerDocument==m||(d(u),a=!g);while(p=e[h++])if(p(u,i||m,a)){A.push(u);break}c&&(B=x)}n&&((u=!p&&u)&&f--,s&&v.push(u))}if(f+=b,n&&b!==f){h=0;while(p=t[h++])p(v,w,i,a);if(s){if(f>0)while(b--)v[b]||w[b]||(w[b]=U.call(A));w=Ce(w)}L.apply(A,w),c&&!s&&w.length>0&&f+t.length>1&&ae.uniqueSort(A)}return c&&(B=x,l=y),v};return n?le(s):s}return be.prototype=o.filters=o.pseudos,o.setFilters=new be,i=ae.tokenize=function(e,t){var n,r,s,i,a,A,l,c=S[e+" "];if(c)return t?0:c.slice(0);a=e,A=[],l=o.preFilter;while(a){for(i in n&&!(r=j.exec(a))||(r&&(a=a.slice(r[0].length)||a),A.push(s=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(V," ")}),a=a.slice(n.length)),o.filter)!(r=q[i].exec(a))||l[i]&&!(r=l[i](r))||(n=r.shift(),s.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):S(e,A).slice(0)},a=ae.compile=function(e,t){var n,o=[],r=[],s=F[e+" "];if(!s){t||(t=i(e)),n=t.length;while(n--)s=Se(t[n]),s[w]?o.push(s):r.push(s);s=F(e,Fe(r,o)),s.selector=e}return s},A=ae.select=function(e,t,n,r){var s,A,l,c,u,d="function"===typeof e&&e,m=!r&&i(e=d.selector||e);if(n=n||[],1===m.length){if(A=m[0]=m[0].slice(0),A.length>2&&"ID"===(l=A[0]).type&&9===t.nodeType&&g&&o.relative[A[1].type]){if(t=(o.find["ID"](l.matches[0].replace(te,ne),t)||[])[0],!t)return n;d&&(t=t.parentNode),e=e.slice(A.shift().value.length)}s=q["needsContext"].test(e)?0:A.length;while(s--){if(l=A[s],o.relative[c=l.type])break;if((u=o.find[c])&&(r=u(l.matches[0].replace(te,ne),ee.test(A[0].type)&&fe(t.parentNode)||t))){if(A.splice(s,1),e=r.length&&ve(A),!e)return L.apply(n,r),n;break}}}return(d||a(e,m))(r,t,!g,n,!t||ee.test(e)&&fe(t.parentNode)||t),n},n.sortStable=w.split("").sort(E).join("")===w,n.detectDuplicates=!!u,d(),n.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(m.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||ue(D,(function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null})),ae}(r);S.find=k,S.expr=k.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=k.uniqueSort,S.text=k.getText,S.isXMLDoc=k.isXML,S.contains=k.contains,S.escapeSelector=k.escape;var E=function(e,t,n){var o=[],r=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(r&&S(e).is(n))break;o.push(e)}return o},_=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},O=S.expr.match.needsContext;function U(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,n){return b(t)?S.grep(e,(function(e,o){return!!t.call(e,o,e)!==n})):t.nodeType?S.grep(e,(function(e){return e===t!==n})):"string"!==typeof t?S.grep(e,(function(e){return u.call(t,e)>-1!==n})):S.filter(t,e,n)}S.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?S.find.matchesSelector(o,e)?[o]:[]:S.find.matches(e,S.grep(t,(function(e){return 1===e.nodeType})))},S.fn.extend({find:function(e){var t,n,o=this.length,r=this;if("string"!==typeof e)return this.pushStack(S(e).filter((function(){for(t=0;t<o;t++)if(S.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<o;t++)S.find(e,r[t],n);return o>1?S.uniqueSort(n):n},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"===typeof e&&O.test(e)?S(e):e||[],!1).length}});var N,Q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,D=S.fn.init=function(e,t,n){var o,r;if(!e)return this;if(n=n||N,"string"===typeof e){if(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Q.exec(e),!o||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:w,!0)),T.test(o[1])&&S.isPlainObject(t))for(o in t)b(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return r=w.getElementById(o[2]),r&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)};D.prototype=S.fn,N=S(w);var I=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0}))},closest:function(e,t){var n,o=0,r=this.length,s=[],i="string"!==typeof e&&S(e);if(!O.test(e))for(;o<r;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(i?i.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?S.uniqueSort(s):s)},index:function(e){return e?"string"===typeof e?u.call(S(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return _((e.parentNode||{}).firstChild,e)},children:function(e){return _(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(U(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},(function(e,t){S.fn[e]=function(n,o){var r=S.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"===typeof o&&(r=S.filter(o,r)),this.length>1&&(H[e]||S.uniqueSort(r),I.test(e)&&r.reverse()),this.pushStack(r)}}));var R=/[^\x20\t\r\n\f]+/g;function P(e){var t={};return S.each(e.match(R)||[],(function(e,n){t[n]=!0})),t}function V(e){return e}function j(e){throw e}function z(e,t,n,o){var r;try{e&&b(r=e.promise)?r.call(e).done(t).fail(n):e&&b(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(e){e="string"===typeof e?P(e):S.extend({},e);var t,n,o,r,s=[],i=[],a=-1,A=function(){for(r=r||e.once,o=t=!0;i.length;a=-1){n=i.shift();while(++a<s.length)!1===s[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=s.length,n=!1)}e.memory||(n=!1),t=!1,r&&(s=n?[]:"")},l={add:function(){return s&&(n&&!t&&(a=s.length-1,i.push(n)),function t(n){S.each(n,(function(n,o){b(o)?e.unique&&l.has(o)||s.push(o):o&&o.length&&"string"!==C(o)&&t(o)}))}(arguments),n&&!t&&A()),this},remove:function(){return S.each(arguments,(function(e,t){var n;while((n=S.inArray(t,s,n))>-1)s.splice(n,1),n<=a&&a--})),this},has:function(e){return e?S.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=i=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=i=[],n||t||(s=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],i.push(n),t||A()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!o}};return l},S.extend({Deferred:function(e){var t=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return S.Deferred((function(n){S.each(t,(function(t,o){var r=b(e[o[4]])&&e[o[4]];s[o[1]]((function(){var e=r&&r.apply(this,arguments);e&&b(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,o){var s=0;function i(e,t,n,o){return function(){var a=this,A=arguments,l=function(){var r,l;if(!(e<s)){if(r=n.apply(a,A),r===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"===typeof r||"function"===typeof r)&&r.then,b(l)?o?l.call(r,i(s,t,V,o),i(s,t,j,o)):(s++,l.call(r,i(s,t,V,o),i(s,t,j,o),i(s,t,V,t.notifyWith))):(n!==V&&(a=void 0,A=[r]),(o||t.resolveWith)(a,A))}},c=o?l:function(){try{l()}catch(o){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(o,c.stackTrace),e+1>=s&&(n!==j&&(a=void 0,A=[o]),t.rejectWith(a,A))}};e?c():(S.Deferred.getStackHook&&(c.stackTrace=S.Deferred.getStackHook()),r.setTimeout(c))}}return S.Deferred((function(r){t[0][3].add(i(0,r,b(o)?o:V,r.notifyWith)),t[1][3].add(i(0,r,b(e)?e:V)),t[2][3].add(i(0,r,b(n)?n:j))})).promise()},promise:function(e){return null!=e?S.extend(e,o):o}},s={};return S.each(t,(function(e,r){var i=r[2],a=r[5];o[r[1]]=i.add,a&&i.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),i.add(r[3].fire),s[r[0]]=function(){return s[r[0]+"With"](this===s?void 0:this,arguments),this},s[r[0]+"With"]=i.fireWith})),o.promise(s),e&&e.call(s,s),s},when:function(e){var t=arguments.length,n=t,o=Array(n),r=A.call(arguments),s=S.Deferred(),i=function(e){return function(n){o[e]=this,r[e]=arguments.length>1?A.call(arguments):n,--t||s.resolveWith(o,r)}};if(t<=1&&(z(e,s.done(i(n)).resolve,s.reject,!t),"pending"===s.state()||b(r[n]&&r[n].then)))return s.then();while(n--)z(r[n],i(n),s.reject);return s.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&K.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){r.setTimeout((function(){throw e}))};var W=S.Deferred();function G(){w.removeEventListener("DOMContentLoaded",G),r.removeEventListener("load",G),S.ready()}S.fn.ready=function(e){return W.then(e).catch((function(e){S.readyException(e)})),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==e&&--S.readyWait>0||W.resolveWith(w,[S]))}}),S.ready.then=W.then,"complete"===w.readyState||"loading"!==w.readyState&&!w.documentElement.doScroll?r.setTimeout(S.ready):(w.addEventListener("DOMContentLoaded",G),r.addEventListener("load",G));var q=function(e,t,n,o,r,s,i){var a=0,A=e.length,l=null==n;if("object"===C(n))for(a in r=!0,n)q(e,t,a,n[a],!0,s,i);else if(void 0!==o&&(r=!0,b(o)||(i=!0),l&&(i?(t.call(e,o),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;a<A;a++)t(e[a],n,i?o:o.call(e[a],a,t(e[a],n)));return r?e:l?t.call(e):A?t(e[0],n):s},Z=/^-ms-/,X=/-([a-z])/g;function J(e,t){return t.toUpperCase()}function Y(e){return e.replace(Z,"ms-").replace(X,J)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ee(){this.expando=S.expando+ee.uid++}ee.uid=1,ee.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,r=this.cache(e);if("string"===typeof t)r[Y(t)]=n;else for(o in t)r[Y(o)]=t[o];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){Array.isArray(t)?t=t.map(Y):(t=Y(t),t=t in o?[t]:t.match(R)||[]),n=t.length;while(n--)delete o[t[n]]}(void 0===t||S.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var te=new ee,ne=new ee,oe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,re=/[A-Z]/g;function se(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:oe.test(e)?JSON.parse(e):e)}function ie(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(re,"-$&").toLowerCase(),n=e.getAttribute(o),"string"===typeof n){try{n=se(n)}catch(r){}ne.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return ne.hasData(e)||te.hasData(e)},data:function(e,t,n){return ne.access(e,t,n)},removeData:function(e,t){ne.remove(e,t)},_data:function(e,t,n){return te.access(e,t,n)},_removeData:function(e,t){te.remove(e,t)}}),S.fn.extend({data:function(e,t){var n,o,r,s=this[0],i=s&&s.attributes;if(void 0===e){if(this.length&&(r=ne.get(s),1===s.nodeType&&!te.get(s,"hasDataAttrs"))){n=i.length;while(n--)i[n]&&(o=i[n].name,0===o.indexOf("data-")&&(o=Y(o.slice(5)),ie(s,o,r[o])));te.set(s,"hasDataAttrs",!0)}return r}return"object"===typeof e?this.each((function(){ne.set(this,e)})):q(this,(function(t){var n;if(s&&void 0===t)return n=ne.get(s,e),void 0!==n?n:(n=ie(s,e),void 0!==n?n:void 0);this.each((function(){ne.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ne.remove(this,e)}))}}),S.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=te.get(e,t),n&&(!o||Array.isArray(n)?o=te.access(e,t,S.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),o=n.length,r=n.shift(),s=S._queueHooks(e,t),i=function(){S.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,i,s)),!o&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return te.get(e,n)||te.access(e,n,{empty:S.Callbacks("once memory").add((function(){te.remove(e,[t+"queue",n])}))})}}),S.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?S.queue(this[0],e):void 0===t?this:this.each((function(){var n=S.queue(this,e,t);S._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&S.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){S.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,r=S.Deferred(),s=this,i=this.length,a=function(){--o||r.resolveWith(s,[s])};"string"!==typeof e&&(t=e,e=void 0),e=e||"fx";while(i--)n=te.get(s[i],e+"queueHooks"),n&&n.empty&&(o++,n.empty.add(a));return a(),r.promise(t)}});var ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=new RegExp("^(?:([+-])=|)("+ae+")([a-z%]*)$","i"),le=["Top","Right","Bottom","Left"],ce=w.documentElement,ue=function(e){return S.contains(e.ownerDocument,e)},de={composed:!0};ce.getRootNode&&(ue=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(de)===e.ownerDocument});var me=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&ue(e)&&"none"===S.css(e,"display")};function he(e,t,n,o){var r,s,i=20,a=o?function(){return o.cur()}:function(){return S.css(e,t,"")},A=a(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+A)&&Ae.exec(S.css(e,t));if(c&&c[3]!==l){A/=2,l=l||c[3],c=+A||1;while(i--)S.style(e,t,c+l),(1-s)*(1-(s=a()/A||.5))<=0&&(i=0),c/=s;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+A||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],o&&(o.unit=l,o.start=c,o.end=r)),r}var ge={};function pe(e){var t,n=e.ownerDocument,o=e.nodeName,r=ge[o];return r||(t=n.body.appendChild(n.createElement(o)),r=S.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ge[o]=r,r)}function fe(e,t){for(var n,o,r=[],s=0,i=e.length;s<i;s++)o=e[s],o.style&&(n=o.style.display,t?("none"===n&&(r[s]=te.get(o,"display")||null,r[s]||(o.style.display="")),""===o.style.display&&me(o)&&(r[s]=pe(o))):"none"!==n&&(r[s]="none",te.set(o,"display",n)));for(s=0;s<i;s++)null!=r[s]&&(e[s].style.display=r[s]);return e}S.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each((function(){me(this)?S(this).show():S(this).hide()}))}});var be=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,we=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=w.createDocumentFragment(),t=e.appendChild(w.createElement("div")),n=w.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),f.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",f.option=!!t.lastChild})();var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Be(e,t){var n;return n="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&U(e,t)?S.merge([e],n):n}function Ce(e,t){for(var n=0,o=e.length;n<o;n++)te.set(e[n],"globalEval",!t||te.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,f.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var xe=/<|&#?\w+;/;function Se(e,t,n,o,r){for(var s,i,a,A,l,c,u=t.createDocumentFragment(),d=[],m=0,h=e.length;m<h;m++)if(s=e[m],s||0===s)if("object"===C(s))S.merge(d,s.nodeType?[s]:s);else if(xe.test(s)){i=i||u.appendChild(t.createElement("div")),a=(ve.exec(s)||["",""])[1].toLowerCase(),A=ye[a]||ye._default,i.innerHTML=A[1]+S.htmlPrefilter(s)+A[2],c=A[0];while(c--)i=i.lastChild;S.merge(d,i.childNodes),i=u.firstChild,i.textContent=""}else d.push(t.createTextNode(s));u.textContent="",m=0;while(s=d[m++])if(o&&S.inArray(s,o)>-1)r&&r.push(s);else if(l=ue(s),i=Be(u.appendChild(s),"script"),l&&Ce(i),n){c=0;while(s=i[c++])we.test(s.type||"")&&n.push(s)}return u}var Fe=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Ee(){return!1}function _e(e,t){return e===Oe()===("focus"===t)}function Oe(){try{return w.activeElement}catch(e){}}function Ue(e,t,n,o,r,s){var i,a;if("object"===typeof t){for(a in"string"!==typeof n&&(o=o||n,n=void 0),t)Ue(e,a,n,o,t[a],s);return e}if(null==o&&null==r?(r=n,o=n=void 0):null==r&&("string"===typeof n?(r=o,o=void 0):(r=o,o=n,n=void 0)),!1===r)r=Ee;else if(!r)return e;return 1===s&&(i=r,r=function(e){return S().off(e),i.apply(this,arguments)},r.guid=i.guid||(i.guid=S.guid++)),e.each((function(){S.event.add(this,t,r,o,n)}))}function Te(e,t,n){n?(te.set(e,t,!1),S.event.add(e,t,{namespace:!1,handler:function(e){var o,r,s=te.get(this,t);if(1&e.isTrigger&&this[t]){if(s.length)(S.event.special[t]||{}).delegateType&&e.stopPropagation();else if(s=A.call(arguments),te.set(this,t,s),o=n(this,t),this[t](),r=te.get(this,t),s!==r||o?te.set(this,t,!1):r={},s!==r)return e.stopImmediatePropagation(),e.preventDefault(),r&&r.value}else s.length&&(te.set(this,t,{value:S.event.trigger(S.extend(s[0],S.Event.prototype),s.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===te.get(e,t)&&S.event.add(e,t,ke)}S.event={global:{},add:function(e,t,n,o,r){var s,i,a,A,l,c,u,d,m,h,g,p=te.get(e);if($(e)){n.handler&&(s=n,n=s.handler,r=s.selector),r&&S.find.matchesSelector(ce,r),n.guid||(n.guid=S.guid++),(A=p.events)||(A=p.events=Object.create(null)),(i=p.handle)||(i=p.handle=function(t){return"undefined"!==typeof S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(R)||[""],l=t.length;while(l--)a=Fe.exec(t[l])||[],m=g=a[1],h=(a[2]||"").split(".").sort(),m&&(u=S.event.special[m]||{},m=(r?u.delegateType:u.bindType)||m,u=S.event.special[m]||{},c=S.extend({type:m,origType:g,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:h.join(".")},s),(d=A[m])||(d=A[m]=[],d.delegateCount=0,u.setup&&!1!==u.setup.call(e,o,h,i)||e.addEventListener&&e.addEventListener(m,i)),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),S.event.global[m]=!0)}},remove:function(e,t,n,o,r){var s,i,a,A,l,c,u,d,m,h,g,p=te.hasData(e)&&te.get(e);if(p&&(A=p.events)){t=(t||"").match(R)||[""],l=t.length;while(l--)if(a=Fe.exec(t[l])||[],m=g=a[1],h=(a[2]||"").split(".").sort(),m){u=S.event.special[m]||{},m=(o?u.delegateType:u.bindType)||m,d=A[m]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=s=d.length;while(s--)c=d[s],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||o&&o!==c.selector&&("**"!==o||!c.selector)||(d.splice(s,1),c.selector&&d.delegateCount--,u.remove&&u.remove.call(e,c));i&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,h,p.handle)||S.removeEvent(e,m,p.handle),delete A[m])}else for(m in A)S.event.remove(e,m+t[l],n,o,!0);S.isEmptyObject(A)&&te.remove(e,"handle events")}},dispatch:function(e){var t,n,o,r,s,i,a=new Array(arguments.length),A=S.event.fix(e),l=(te.get(this,"events")||Object.create(null))[A.type]||[],c=S.event.special[A.type]||{};for(a[0]=A,t=1;t<arguments.length;t++)a[t]=arguments[t];if(A.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,A)){i=S.event.handlers.call(this,A,l),t=0;while((r=i[t++])&&!A.isPropagationStopped()){A.currentTarget=r.elem,n=0;while((s=r.handlers[n++])&&!A.isImmediatePropagationStopped())A.rnamespace&&!1!==s.namespace&&!A.rnamespace.test(s.namespace)||(A.handleObj=s,A.data=s.data,o=((S.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a),void 0!==o&&!1===(A.result=o)&&(A.preventDefault(),A.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,A),A.result}},handlers:function(e,t){var n,o,r,s,i,a=[],A=t.delegateCount,l=e.target;if(A&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(s=[],i={},n=0;n<A;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?S(r,this).index(l)>-1:S.find(r,this,null,[l]).length),i[r]&&s.push(o);s.length&&a.push({elem:l,handlers:s})}return l=this,A<t.length&&a.push({elem:l,handlers:t.slice(A)}),a},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:b(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return be.test(t.type)&&t.click&&U(t,"input")&&Te(t,"click",ke),!1},trigger:function(e){var t=this||e;return be.test(t.type)&&t.click&&U(t,"input")&&Te(t,"click"),!0},_default:function(e){var t=e.target;return be.test(t.type)&&t.click&&U(t,"input")&&te.get(t,"click")||U(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(e,t){S.event.special[e]={setup:function(){return Te(this,e,_e),!1},trigger:function(){return Te(this,e),!0},_default:function(){return!0},delegateType:t}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){S.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=this,r=e.relatedTarget,s=e.handleObj;return r&&(r===o||S.contains(o,r))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}})),S.fn.extend({on:function(e,t,n,o){return Ue(this,e,t,n,o)},one:function(e,t,n,o){return Ue(this,e,t,n,o,1)},off:function(e,t,n){var o,r;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,S(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"===typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each((function(){S.event.remove(this,e,n,t)}))}});var Le=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return U(e,"table")&&U(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,o,r,s,i,a,A;if(1===t.nodeType){if(te.hasData(e)&&(s=te.get(e),A=s.events,A))for(r in te.remove(t,"handle events"),A)for(n=0,o=A[r].length;n<o;n++)S.event.add(t,r,A[r][n]);ne.hasData(e)&&(i=ne.access(e),a=S.extend({},i),ne.set(t,a))}}function Re(e,t){var n=t.nodeName.toLowerCase();"input"===n&&be.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Pe(e,t,n,o){t=l(t);var r,s,i,a,A,c,u=0,d=e.length,m=d-1,h=t[0],g=b(h);if(g||d>1&&"string"===typeof h&&!f.checkClone&&Ne.test(h))return e.each((function(r){var s=e.eq(r);g&&(t[0]=h.call(this,r,s.html())),Pe(s,t,n,o)}));if(d&&(r=Se(t,e[0].ownerDocument,!1,e,o),s=r.firstChild,1===r.childNodes.length&&(r=s),s||o)){for(i=S.map(Be(r,"script"),Ie),a=i.length;u<d;u++)A=r,u!==m&&(A=S.clone(A,!0,!0),a&&S.merge(i,Be(A,"script"))),n.call(e[u],A,u);if(a)for(c=i[i.length-1].ownerDocument,S.map(i,He),u=0;u<a;u++)A=i[u],we.test(A.type||"")&&!te.access(A,"globalEval")&&S.contains(c,A)&&(A.src&&"module"!==(A.type||"").toLowerCase()?S._evalUrl&&!A.noModule&&S._evalUrl(A.src,{nonce:A.nonce||A.getAttribute("nonce")},c):B(A.textContent.replace(Qe,""),A,c))}return e}function Ve(e,t,n){for(var o,r=t?S.filter(t,e):e,s=0;null!=(o=r[s]);s++)n||1!==o.nodeType||S.cleanData(Be(o)),o.parentNode&&(n&&ue(o)&&Ce(Be(o,"script")),o.parentNode.removeChild(o));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var o,r,s,i,a=e.cloneNode(!0),A=ue(e);if(!f.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!S.isXMLDoc(e))for(i=Be(a),s=Be(e),o=0,r=s.length;o<r;o++)Re(s[o],i[o]);if(t)if(n)for(s=s||Be(e),i=i||Be(a),o=0,r=s.length;o<r;o++)Me(s[o],i[o]);else Me(e,a);return i=Be(a,"script"),i.length>0&&Ce(i,!A&&Be(e,"script")),a},cleanData:function(e){for(var t,n,o,r=S.event.special,s=0;void 0!==(n=e[s]);s++)if($(n)){if(t=n[te.expando]){if(t.events)for(o in t.events)r[o]?S.event.remove(n,o):S.removeEvent(n,o,t.handle);n[te.expando]=void 0}n[ne.expando]&&(n[ne.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Ve(this,e,!0)},remove:function(e){return Ve(this,e)},text:function(e){return q(this,(function(e){return void 0===e?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Pe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.appendChild(e)}}))},prepend:function(){return Pe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Pe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Pe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(Be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return S.clone(this,e,t)}))},html:function(e){return q(this,(function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!Le.test(e)&&!ye[(ve.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<o;n++)t=this[n]||{},1===t.nodeType&&(S.cleanData(Be(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Pe(this,arguments,(function(t){var n=this.parentNode;S.inArray(this,e)<0&&(S.cleanData(Be(this)),n&&n.replaceChild(t,this))}),e)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){S.fn[e]=function(e){for(var n,o=[],r=S(e),s=r.length-1,i=0;i<=s;i++)n=i===s?this:this.clone(!0),S(r[i])[t](n),c.apply(o,n.get());return this.pushStack(o)}}));var je=new RegExp("^("+ae+")(?!px)[a-z%]+$","i"),ze=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ke=function(e,t,n){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in o=n.call(e),t)e.style[r]=s[r];return o},We=new RegExp(le.join("|"),"i");function Ge(e,t,n){var o,r,s,i,a=e.style;return n=n||ze(e),n&&(i=n.getPropertyValue(t)||n[t],""!==i||ue(e)||(i=S.style(e,t)),!f.pixelBoxStyles()&&je.test(i)&&We.test(t)&&(o=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=i,i=n.width,a.width=o,a.minWidth=r,a.maxWidth=s)),void 0!==i?i+"":i}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}(function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ce.appendChild(l).appendChild(c);var e=r.getComputedStyle(c);n="1%"!==e.top,A=12===t(e.marginLeft),c.style.right="60%",i=36===t(e.right),o=36===t(e.width),c.style.position="absolute",s=12===t(c.offsetWidth/3),ce.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var n,o,s,i,a,A,l=w.createElement("div"),c=w.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===c.style.backgroundClip,S.extend(f,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),i},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),A},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,t,n,o;return null==a&&(e=w.createElement("table"),t=w.createElement("tr"),n=w.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ce.appendChild(e).appendChild(t).appendChild(n),o=r.getComputedStyle(t),a=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,ce.removeChild(e)),a}}))})();var Ze=["Webkit","Moz","ms"],Xe=w.createElement("div").style,Je={};function Ye(e){var t=e[0].toUpperCase()+e.slice(1),n=Ze.length;while(n--)if(e=Ze[n]+t,e in Xe)return e}function $e(e){var t=S.cssProps[e]||Je[e];return t||(e in Xe?e:Je[e]=Ye(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt=/^--/,nt={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var o=Ae.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function st(e,t,n,o,r,s){var i="width"===t?1:0,a=0,A=0;if(n===(o?"border":"content"))return 0;for(;i<4;i+=2)"margin"===n&&(A+=S.css(e,n+le[i],!0,r)),o?("content"===n&&(A-=S.css(e,"padding"+le[i],!0,r)),"margin"!==n&&(A-=S.css(e,"border"+le[i]+"Width",!0,r))):(A+=S.css(e,"padding"+le[i],!0,r),"padding"!==n?A+=S.css(e,"border"+le[i]+"Width",!0,r):a+=S.css(e,"border"+le[i]+"Width",!0,r));return!o&&s>=0&&(A+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-A-a-.5))||0),A}function it(e,t,n){var o=ze(e),r=!f.boxSizingReliable()||n,s=r&&"border-box"===S.css(e,"boxSizing",!1,o),i=s,a=Ge(e,t,o),A="offset"+t[0].toUpperCase()+t.slice(1);if(je.test(a)){if(!n)return a;a="auto"}return(!f.boxSizingReliable()&&s||!f.reliableTrDimensions()&&U(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,o))&&e.getClientRects().length&&(s="border-box"===S.css(e,"boxSizing",!1,o),i=A in e,i&&(a=e[A])),a=parseFloat(a)||0,a+st(e,t,n||(s?"border":"content"),i,o,a)+"px"}function at(e,t,n,o,r){return new at.prototype.init(e,t,n,o,r)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,i,a=Y(t),A=tt.test(t),l=e.style;if(A||(t=$e(a)),i=S.cssHooks[t]||S.cssHooks[a],void 0===n)return i&&"get"in i&&void 0!==(r=i.get(e,!1,o))?r:l[t];s=typeof n,"string"===s&&(r=Ae.exec(n))&&r[1]&&(n=he(e,t,r),s="number"),null!=n&&n===n&&("number"!==s||A||(n+=r&&r[3]||(S.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),i&&"set"in i&&void 0===(n=i.set(e,n,o))||(A?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,o){var r,s,i,a=Y(t),A=tt.test(t);return A||(t=$e(a)),i=S.cssHooks[t]||S.cssHooks[a],i&&"get"in i&&(r=i.get(e,!0,n)),void 0===r&&(r=Ge(e,t,o)),"normal"===r&&t in ot&&(r=ot[t]),""===n||n?(s=parseFloat(r),!0===n||isFinite(s)?s||0:r):r}}),S.each(["height","width"],(function(e,t){S.cssHooks[t]={get:function(e,n,o){if(n)return!et.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?it(e,t,o):Ke(e,nt,(function(){return it(e,t,o)}))},set:function(e,n,o){var r,s=ze(e),i=!f.scrollboxSize()&&"absolute"===s.position,a=i||o,A=a&&"border-box"===S.css(e,"boxSizing",!1,s),l=o?st(e,t,o,A,s):0;return A&&i&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-st(e,t,"border",!1,s)-.5)),l&&(r=Ae.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=S.css(e,t)),rt(e,n,l)}}})),S.cssHooks.marginLeft=qe(f.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(e,t){S.cssHooks[e+t]={expand:function(n){for(var o=0,r={},s="string"===typeof n?n.split(" "):[n];o<4;o++)r[e+le[o]+t]=s[o]||s[o-2]||s[0];return r}},"margin"!==e&&(S.cssHooks[e+t].set=rt)})),S.fn.extend({css:function(e,t){return q(this,(function(e,t,n){var o,r,s={},i=0;if(Array.isArray(t)){for(o=ze(e),r=t.length;i<r;i++)s[t[i]]=S.css(e,t[i],!1,o);return s}return void 0!==n?S.style(e,t,n):S.css(e,t)}),e,t,arguments.length>1)}}),S.Tween=at,at.prototype={constructor:at,init:function(e,t,n,o,r,s){this.elem=e,this.prop=n,this.easing=r||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=s||(S.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[$e(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=at.prototype.init,S.fx.step={};var At,lt,ct=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function dt(){lt&&(!1===w.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(dt):r.setTimeout(dt,S.fx.interval),S.fx.tick())}function mt(){return r.setTimeout((function(){At=void 0})),At=Date.now()}function ht(e,t){var n,o=0,r={height:e};for(t=t?1:0;o<4;o+=2-t)n=le[o],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function gt(e,t,n){for(var o,r=(bt.tweeners[t]||[]).concat(bt.tweeners["*"]),s=0,i=r.length;s<i;s++)if(o=r[s].call(n,t,e))return o}function pt(e,t,n){var o,r,s,i,a,A,l,c,u="width"in t||"height"in t,d=this,m={},h=e.style,g=e.nodeType&&me(e),p=te.get(e,"fxshow");for(o in n.queue||(i=S._queueHooks(e,"fx"),null==i.unqueued&&(i.unqueued=0,a=i.empty.fire,i.empty.fire=function(){i.unqueued||a()}),i.unqueued++,d.always((function(){d.always((function(){i.unqueued--,S.queue(e,"fx").length||i.empty.fire()}))}))),t)if(r=t[o],ct.test(r)){if(delete t[o],s=s||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!p||void 0===p[o])continue;g=!0}m[o]=p&&p[o]||S.style(e,o)}if(A=!S.isEmptyObject(t),A||!S.isEmptyObject(m))for(o in u&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=p&&p.display,null==l&&(l=te.get(e,"display")),c=S.css(e,"display"),"none"===c&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=S.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(A||(d.done((function(){h.display=l})),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),A=!1,m)A||(p?"hidden"in p&&(g=p.hidden):p=te.access(e,"fxshow",{display:l}),s&&(p.hidden=!g),g&&fe([e],!0),d.done((function(){for(o in g||fe([e]),te.remove(e,"fxshow"),m)S.style(e,o,m[o])}))),A=gt(g?p[o]:0,o,d),o in p||(p[o]=A.start,g&&(A.end=A.start,A.start=0))}function ft(e,t){var n,o,r,s,i;for(n in e)if(o=Y(n),r=t[o],s=e[n],Array.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==o&&(e[o]=s,delete e[n]),i=S.cssHooks[o],i&&"expand"in i)for(n in s=i.expand(s),delete e[o],s)n in e||(e[n]=s[n],t[n]=r);else t[o]=r}function bt(e,t,n){var o,r,s=0,i=bt.prefilters.length,a=S.Deferred().always((function(){delete A.elem})),A=function(){if(r)return!1;for(var t=At||mt(),n=Math.max(0,l.startTime+l.duration-t),o=n/l.duration||0,s=1-o,i=0,A=l.tweens.length;i<A;i++)l.tweens[i].run(s);return a.notifyWith(e,[l,s,n]),s<1&&A?n:(A||a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:t,originalOptions:n,startTime:At||mt(),duration:n.duration,tweens:[],createTween:function(t,n){var o=S.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(o),o},stop:function(t){var n=0,o=t?l.tweens.length:0;if(r)return this;for(r=!0;n<o;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),c=l.props;for(ft(c,l.opts.specialEasing);s<i;s++)if(o=bt.prefilters[s].call(l,e,c,l.opts),o)return b(o.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=o.stop.bind(o)),o;return S.map(c,gt,l),b(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(A,{elem:e,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(bt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return he(n.elem,e,Ae.exec(t),n),n}]},tweener:function(e,t){b(e)?(t=e,e=["*"]):e=e.match(R);for(var n,o=0,r=e.length;o<r;o++)n=e[o],bt.tweeners[n]=bt.tweeners[n]||[],bt.tweeners[n].unshift(t)},prefilters:[pt],prefilter:function(e,t){t?bt.prefilters.unshift(e):bt.prefilters.push(e)}}),S.speed=function(e,t,n){var o=e&&"object"===typeof e?S.extend({},e):{complete:n||!n&&t||b(e)&&e,duration:e,easing:n&&t||t&&!b(t)&&t};return S.fx.off?o.duration=0:"number"!==typeof o.duration&&(o.duration in S.fx.speeds?o.duration=S.fx.speeds[o.duration]:o.duration=S.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){b(o.old)&&o.old.call(this),o.queue&&S.dequeue(this,o.queue)},o},S.fn.extend({fadeTo:function(e,t,n,o){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var r=S.isEmptyObject(e),s=S.speed(t,n,o),i=function(){var t=bt(this,S.extend({},e),s);(r||te.get(this,"finish"))&&t.stop(!0)};return i.finish=i,r||!1===s.queue?this.each(i):this.queue(s.queue,i)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",s=S.timers,i=te.get(this);if(r)i[r]&&i[r].stop&&o(i[r]);else for(r in i)i[r]&&i[r].stop&&ut.test(r)&&o(i[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(n),t=!1,s.splice(r,1));!t&&n||S.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=te.get(this),o=n[e+"queue"],r=n[e+"queueHooks"],s=S.timers,i=o?o.length:0;for(n.finish=!0,S.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<i;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish}))}}),S.each(["toggle","show","hide"],(function(e,t){var n=S.fn[t];S.fn[t]=function(e,o,r){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(ht(t,!0),e,o,r)}})),S.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){S.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}})),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(At=Date.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),At=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){lt||(lt=!0,dt())},S.fx.stop=function(){lt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(e,t){return e=S.fx&&S.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var o=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(o)}}))},function(){var e=w.createElement("input"),t=w.createElement("select"),n=t.appendChild(w.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=n.selected,e=w.createElement("input"),e.value="t",e.type="radio",f.radioValue="t"===e.value}();var vt,wt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return q(this,S.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){S.removeAttr(this,e)}))}}),S.extend({attr:function(e,t,n){var o,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"===typeof e.getAttribute?S.prop(e,t,n):(1===s&&S.isXMLDoc(e)||(r=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?vt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(o=r.get(e,t))?o:(o=S.find.attr(e,t),null==o?void 0:o))},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&U(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,r=t&&t.match(R);if(r&&1===e.nodeType)while(n=r[o++])e.removeAttribute(n)}}),vt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=wt[t]||S.find.attr;wt[t]=function(e,t,o){var r,s,i=t.toLowerCase();return o||(s=wt[i],wt[i]=r,r=null!=n(e,t,o)?i:null,wt[i]=s),r}}));var yt=/^(?:input|select|textarea|button)$/i,Bt=/^(?:a|area)$/i;function Ct(e){var t=e.match(R)||[];return t.join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function St(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(R)||[]}S.fn.extend({prop:function(e,t){return q(this,S.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[S.propFix[e]||e]}))}}),S.extend({prop:function(e,t,n){var o,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&S.isXMLDoc(e)||(t=S.propFix[t]||t,r=S.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:e[t]=n:r&&"get"in r&&null!==(o=r.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||Bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(e){var t,n,o,r,s,i,a,A=0;if(b(e))return this.each((function(t){S(this).addClass(e.call(this,t,xt(this)))}));if(t=St(e),t.length)while(n=this[A++])if(r=xt(n),o=1===n.nodeType&&" "+Ct(r)+" ",o){i=0;while(s=t[i++])o.indexOf(" "+s+" ")<0&&(o+=s+" ");a=Ct(o),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,o,r,s,i,a,A=0;if(b(e))return this.each((function(t){S(this).removeClass(e.call(this,t,xt(this)))}));if(!arguments.length)return this.attr("class","");if(t=St(e),t.length)while(n=this[A++])if(r=xt(n),o=1===n.nodeType&&" "+Ct(r)+" ",o){i=0;while(s=t[i++])while(o.indexOf(" "+s+" ")>-1)o=o.replace(" "+s+" "," ");a=Ct(o),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,o="string"===n||Array.isArray(e);return"boolean"===typeof t&&o?t?this.addClass(e):this.removeClass(e):b(e)?this.each((function(n){S(this).toggleClass(e.call(this,n,xt(this),t),t)})):this.each((function(){var t,r,s,i;if(o){r=0,s=S(this),i=St(e);while(t=i[r++])s.hasClass(t)?s.removeClass(t):s.addClass(t)}else void 0!==e&&"boolean"!==n||(t=xt(this),t&&te.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":te.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,o=0;t=" "+e+" ";while(n=this[o++])if(1===n.nodeType&&(" "+Ct(xt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ft=/\r/g;S.fn.extend({val:function(e){var t,n,o,r=this[0];return arguments.length?(o=b(e),this.each((function(n){var r;1===this.nodeType&&(r=o?e.call(this,n,S(this).val()):e,null==r?r="":"number"===typeof r?r+="":Array.isArray(r)&&(r=S.map(r,(function(e){return null==e?"":e+""}))),t=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=S.valHooks[r.type]||S.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"===typeof n?n.replace(Ft,""):null==n?"":n)):void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:Ct(S.text(e))}},select:{get:function(e){var t,n,o,r=e.options,s=e.selectedIndex,i="select-one"===e.type,a=i?null:[],A=i?s+1:r.length;for(o=s<0?A:i?s:0;o<A;o++)if(n=r[o],(n.selected||o===s)&&!n.disabled&&(!n.parentNode.disabled||!U(n.parentNode,"optgroup"))){if(t=S(n).val(),i)return t;a.push(t)}return a},set:function(e,t){var n,o,r=e.options,s=S.makeArray(t),i=r.length;while(i--)o=r[i],(o.selected=S.inArray(S.valHooks.option.get(o),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=S.inArray(S(e).val(),t)>-1}},f.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),f.focusin="onfocusin"in r;var kt=/^(?:focusinfocus|focusoutblur)$/,Et=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,o){var s,i,a,A,l,c,u,d,m=[n||w],g=h.call(e,"type")?e.type:e,p=h.call(e,"namespace")?e.namespace.split("."):[];if(i=d=a=n=n||w,3!==n.nodeType&&8!==n.nodeType&&!kt.test(g+S.event.triggered)&&(g.indexOf(".")>-1&&(p=g.split("."),g=p.shift(),p.sort()),l=g.indexOf(":")<0&&"on"+g,e=e[S.expando]?e:new S.Event(g,"object"===typeof e&&e),e.isTrigger=o?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),u=S.event.special[g]||{},o||!u.trigger||!1!==u.trigger.apply(n,t))){if(!o&&!u.noBubble&&!v(n)){for(A=u.delegateType||g,kt.test(A+g)||(i=i.parentNode);i;i=i.parentNode)m.push(i),a=i;a===(n.ownerDocument||w)&&m.push(a.defaultView||a.parentWindow||r)}s=0;while((i=m[s++])&&!e.isPropagationStopped())d=i,e.type=s>1?A:u.bindType||g,c=(te.get(i,"events")||Object.create(null))[e.type]&&te.get(i,"handle"),c&&c.apply(i,t),c=l&&i[l],c&&c.apply&&$(i)&&(e.result=c.apply(i,t),!1===e.result&&e.preventDefault());return e.type=g,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(m.pop(),t)||!$(n)||l&&b(n[g])&&!v(n)&&(a=n[l],a&&(n[l]=null),S.event.triggered=g,e.isPropagationStopped()&&d.addEventListener(g,Et),n[g](),e.isPropagationStopped()&&d.removeEventListener(g,Et),S.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(e,t,n){var o=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(o,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each((function(){S.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),f.focusin||S.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){S.event.simulate(t,e.target,S.event.fix(e))};S.event.special[t]={setup:function(){var o=this.ownerDocument||this.document||this,r=te.access(o,t);r||o.addEventListener(e,n,!0),te.access(o,t,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,r=te.access(o,t)-1;r?te.access(o,t,r):(o.removeEventListener(e,n,!0),te.remove(o,t))}}}));var _t=r.location,Ot={guid:Date.now()},Ut=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!==typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(o){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Tt=/\[\]$/,Lt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;function Dt(e,t,n,o){var r;if(Array.isArray(t))S.each(t,(function(t,r){n||Tt.test(e)?o(e,r):Dt(e+"["+("object"===typeof r&&null!=r?t:"")+"]",r,n,o)}));else if(n||"object"!==C(t))o(e,t);else for(r in t)Dt(e+"["+r+"]",t[r],n,o)}S.param=function(e,t){var n,o=[],r=function(e,t){var n=b(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,(function(){r(this.name,this.value)}));else for(n in e)Dt(n,e[n],t,r);return o.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Qt.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!be.test(e))})).map((function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,(function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}})):{name:t.name,value:n.replace(Lt,"\r\n")}})).get()}});var It=/%20/g,Ht=/#.*$/,Mt=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vt=/^(?:GET|HEAD)$/,jt=/^\/\//,zt={},Kt={},Wt="*/".concat("*"),Gt=w.createElement("a");function qt(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var o,r=0,s=t.toLowerCase().match(R)||[];if(b(n))while(o=s[r++])"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function Zt(e,t,n,o){var r={},s=e===Kt;function i(a){var A;return r[a]=!0,S.each(e[a]||[],(function(e,a){var l=a(t,n,o);return"string"!==typeof l||s||r[l]?s?!(A=l):void 0:(t.dataTypes.unshift(l),i(l),!1)})),A}return i(t.dataTypes[0])||!r["*"]&&i("*")}function Xt(e,t){var n,o,r=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:o||(o={}))[n]=t[n]);return o&&S.extend(!0,e,o),e}function Jt(e,t,n){var o,r,s,i,a=e.contents,A=e.dataTypes;while("*"===A[0])A.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in a)if(a[r]&&a[r].test(o)){A.unshift(r);break}if(A[0]in n)s=A[0];else{for(r in n){if(!A[0]||e.converters[r+" "+A[0]]){s=r;break}i||(i=r)}s=s||i}if(s)return s!==A[0]&&A.unshift(s),n[s]}function Yt(e,t,n,o){var r,s,i,a,A,l={},c=e.dataTypes.slice();if(c[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];s=c.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!A&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),A=s,s=c.shift(),s)if("*"===s)s=A;else if("*"!==A&&A!==s){if(i=l[A+" "+s]||l["* "+s],!i)for(r in l)if(a=r.split(" "),a[1]===s&&(i=l[A+" "+a[0]]||l["* "+a[0]],i)){!0===i?i=l[r]:!0!==l[r]&&(s=a[0],c.unshift(a[1]));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(u){return{state:"parsererror",error:i?u:"No conversion from "+A+" to "+s}}}return{state:"success",data:t}}Gt.href=_t.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:Pt.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Xt(Xt(e,S.ajaxSettings),t):Xt(S.ajaxSettings,e)},ajaxPrefilter:qt(zt),ajaxTransport:qt(Kt),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,o,s,i,a,A,l,c,u,d,m=S.ajaxSetup({},t),h=m.context||m,g=m.context&&(h.nodeType||h.jquery)?S(h):S.event,p=S.Deferred(),f=S.Callbacks("once memory"),b=m.statusCode||{},v={},y={},B="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(l){if(!i){i={};while(t=Rt.exec(s))i[t[1].toLowerCase()+" "]=(i[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=i[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(e,t){return null==l&&(e=y[e.toLowerCase()]=y[e.toLowerCase()]||e,v[e]=t),this},overrideMimeType:function(e){return null==l&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)C.always(e[C.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||B;return n&&n.abort(t),x(0,t),this}};if(p.promise(C),m.url=((e||m.url||_t.href)+"").replace(jt,_t.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(R)||[""],null==m.crossDomain){A=w.createElement("a");try{A.href=m.url,A.href=A.href,m.crossDomain=Gt.protocol+"//"+Gt.host!==A.protocol+"//"+A.host}catch(F){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!==typeof m.data&&(m.data=S.param(m.data,m.traditional)),Zt(zt,m,t,C),l)return C;for(u in c=S.event&&m.global,c&&0===S.active++&&S.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Vt.test(m.type),o=m.url.replace(Ht,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(It,"+")):(d=m.url.slice(o.length),m.data&&(m.processData||"string"===typeof m.data)&&(o+=(Ut.test(o)?"&":"?")+m.data,delete m.data),!1===m.cache&&(o=o.replace(Mt,"$1"),d=(Ut.test(o)?"&":"?")+"_="+Ot.guid+++d),m.url=o+d),m.ifModified&&(S.lastModified[o]&&C.setRequestHeader("If-Modified-Since",S.lastModified[o]),S.etag[o]&&C.setRequestHeader("If-None-Match",S.etag[o])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&C.setRequestHeader("Content-Type",m.contentType),C.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Wt+"; q=0.01":""):m.accepts["*"]),m.headers)C.setRequestHeader(u,m.headers[u]);if(m.beforeSend&&(!1===m.beforeSend.call(h,C,m)||l))return C.abort();if(B="abort",f.add(m.complete),C.done(m.success),C.fail(m.error),n=Zt(Kt,m,t,C),n){if(C.readyState=1,c&&g.trigger("ajaxSend",[C,m]),l)return C;m.async&&m.timeout>0&&(a=r.setTimeout((function(){C.abort("timeout")}),m.timeout));try{l=!1,n.send(v,x)}catch(F){if(l)throw F;x(-1,F)}}else x(-1,"No Transport");function x(e,t,i,A){var u,d,v,w,y,B=t;l||(l=!0,a&&r.clearTimeout(a),n=void 0,s=A||"",C.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(w=Jt(m,C,i)),!u&&S.inArray("script",m.dataTypes)>-1&&S.inArray("json",m.dataTypes)<0&&(m.converters["text script"]=function(){}),w=Yt(m,w,C,u),u?(m.ifModified&&(y=C.getResponseHeader("Last-Modified"),y&&(S.lastModified[o]=y),y=C.getResponseHeader("etag"),y&&(S.etag[o]=y)),204===e||"HEAD"===m.type?B="nocontent":304===e?B="notmodified":(B=w.state,d=w.data,v=w.error,u=!v)):(v=B,!e&&B||(B="error",e<0&&(e=0))),C.status=e,C.statusText=(t||B)+"",u?p.resolveWith(h,[d,B,C]):p.rejectWith(h,[C,B,v]),C.statusCode(b),b=void 0,c&&g.trigger(u?"ajaxSuccess":"ajaxError",[C,m,u?d:v]),f.fireWith(h,[C,B]),c&&(g.trigger("ajaxComplete",[C,m]),--S.active||S.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],(function(e,t){S[t]=function(e,n,o,r){return b(n)&&(r=r||o,o=n,n=void 0),S.ajax(S.extend({url:e,type:t,dataType:r,data:n,success:o},S.isPlainObject(e)&&e))}})),S.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(b(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return b(e)?this.each((function(t){S(this).wrapInner(e.call(this,t))})):this.each((function(){var t=S(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=b(e);return this.each((function(n){S(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},en=S.ajaxSettings.xhr();f.cors=!!en&&"withCredentials"in en,f.ajax=en=!!en,S.ajaxTransport((function(e){var t,n;if(f.cors||en&&!e.crossDomain)return{send:function(o,s){var i,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)a[i]=e.xhrFields[i];for(i in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(i,o[i]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!==typeof a.status?s(0,"error"):s(a.status,a.statusText):s($t[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!==typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(A){if(t)throw A}},abort:function(){t&&t()}}})),S.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),S.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(o,r){t=S("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),w.head.appendChild(t[0])},abort:function(){n&&n()}}}));var tn=[],nn=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||S.expando+"_"+Ot.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",(function(e,t,n){var o,s,i,a=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(nn,"$1"+o):!1!==e.jsonp&&(e.url+=(Ut.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return i||S.error(o+" was not called"),i[0]},e.dataTypes[0]="json",s=r[o],r[o]=function(){i=arguments},n.always((function(){void 0===s?S(r).removeProp(o):r[o]=s,e[o]&&(e.jsonpCallback=t.jsonpCallback,tn.push(o)),i&&b(s)&&s(i[0]),i=s=void 0})),"script"})),f.createHTMLDocument=function(){var e=w.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),S.parseHTML=function(e,t,n){return"string"!==typeof e?[]:("boolean"===typeof t&&(n=t,t=!1),t||(f.createHTMLDocument?(t=w.implementation.createHTMLDocument(""),o=t.createElement("base"),o.href=w.location.href,t.head.appendChild(o)):t=w),r=T.exec(e),s=!n&&[],r?[t.createElement(r[1])]:(r=Se([e],t,s),s&&s.length&&S(s).remove(),S.merge([],r.childNodes)));var o,r,s},S.fn.load=function(e,t,n){var o,r,s,i=this,a=e.indexOf(" ");return a>-1&&(o=Ct(e.slice(a)),e=e.slice(0,a)),b(t)?(n=t,t=void 0):t&&"object"===typeof t&&(r="POST"),i.length>0&&S.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){s=arguments,i.html(o?S("<div>").append(S.parseHTML(e)).find(o):e)})).always(n&&function(e,t){i.each((function(){n.apply(this,s||[e.responseText,t,e])}))}),this},S.expr.pseudos.animated=function(e){return S.grep(S.timers,(function(t){return e===t.elem})).length},S.offset={setOffset:function(e,t,n){var o,r,s,i,a,A,l,c=S.css(e,"position"),u=S(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),s=S.css(e,"top"),A=S.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(s+A).indexOf("auto")>-1,l?(o=u.position(),i=o.top,r=o.left):(i=parseFloat(s)||0,r=parseFloat(A)||0),b(t)&&(t=t.call(e,n,S.extend({},a))),null!=t.top&&(d.top=t.top-a.top+i),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):u.css(d)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){S.offset.setOffset(this,e,t)}));var t,n,o=this[0];return o?o.getClientRects().length?(t=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],r={top:0,left:0};if("fixed"===S.css(o,"position"))t=o.getBoundingClientRect();else{t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==o&&1===e.nodeType&&(r=S(e).offset(),r.top+=S.css(e,"borderTopWidth",!0),r.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-S.css(o,"marginTop",!0),left:t.left-r.left-S.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||ce}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;S.fn[e]=function(o){return q(this,(function(e,o,r){var s;if(v(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===r)return s?s[t]:e[o];s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):e[o]=r}),e,o,arguments.length)}})),S.each(["top","left"],(function(e,t){S.cssHooks[t]=qe(f.pixelPosition,(function(e,n){if(n)return n=Ge(e,t),je.test(n)?S(e).position()[t]+"px":n}))})),S.each({Height:"height",Width:"width"},(function(e,t){S.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,o){S.fn[o]=function(r,s){var i=arguments.length&&(n||"boolean"!==typeof r),a=n||(!0===r||!0===s?"margin":"border");return q(this,(function(t,n,r){var s;return v(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===r?S.css(t,n,a):S.style(t,n,r,a)}),t,i?r:void 0,i)}}))})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){S.fn[t]=function(e){return this.on(t,e)}})),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){S.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var on=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,o,r;if("string"===typeof t&&(n=e[t],t=e,e=n),b(e))return o=A.call(arguments,2),r=function(){return e.apply(t||this,o.concat(A.call(arguments)))},r.guid=e.guid=e.guid||S.guid++,r},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=U,S.isFunction=b,S.isWindow=v,S.camelCase=Y,S.type=C,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(on,"")},n=[],o=function(){return S}.apply(t,n),void 0===o||(e.exports=o);var rn=r.jQuery,sn=r.$;return S.noConflict=function(e){return r.$===S&&(r.$=sn),e&&r.jQuery===S&&(r.jQuery=rn),S},"undefined"===typeof s&&(r.jQuery=r.$=S),S}))},2983:function(){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8 15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8Zm0 0 2.2 5.7-2.3-5.8ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},7726:function(e,t,n){n(9595)},9595:function(){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n},o=e=>t=>n(t)===e,r=e=>t=>typeof t===e,s=e=>t=>e===t,i=o("string"),a=o("object"),A=o("array"),l=s(null),c=r("boolean"),u=e=>null===e||void 0===e,d=e=>!u(e),m=r("function"),h=r("number"),g=()=>{},p=(e,t)=>(...n)=>e(t.apply(null,n)),f=(e,t)=>n=>e(t(n)),b=e=>()=>e,v=e=>e,w=(e,t)=>e===t;function y(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const B=e=>t=>!e(t),C=e=>()=>{throw new Error(e)},x=e=>e(),S=b(!1),F=b(!0);class k{constructor(e,t){this.tag=e,this.value=t}static some(e){return new k(!0,e)}static none(){return k.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?k.some(e(this.value)):k.none()}bind(e){return this.tag?e(this.value):k.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:k.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return d(e)?k.some(e):k.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}k.singletonNone=new k(!1);const E=Array.prototype.slice,_=Array.prototype.indexOf,O=Array.prototype.push,U=(e,t)=>_.call(e,t),T=(e,t)=>U(e,t)>-1,L=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return!0}return!1},N=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},Q=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},D=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},I=(e,t)=>{for(let n=e.length-1;n>=0;n--){const o=e[n];t(o,n)}},H=(e,t)=>{const n=[],o=[];for(let r=0,s=e.length;r<s;r++){const s=e[r],i=t(s,r)?n:o;i.push(s)}return{pass:n,fail:o}},M=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},R=(e,t,n)=>(I(e,((e,o)=>{n=t(n,e,o)})),n),P=(e,t,n)=>(D(e,((e,o)=>{n=t(n,e,o)})),n),V=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return k.some(r);if(n(r,o))break}return k.none()},j=(e,t)=>V(e,t,S),z=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return k.some(n)}return k.none()},K=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!A(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t},W=(e,t)=>K(Q(e,t)),G=(e,t)=>{for(let n=0,o=e.length;n<o;++n){const o=e[n];if(!0!==t(o,n))return!1}return!0},q=e=>{const t=E.call(e,0);return t.reverse(),t},Z=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},X=(e,t)=>{const n=E.call(e,0);return n.sort(t),n},J=(e,t)=>t>=0&&t<e.length?k.some(e[t]):k.none(),Y=e=>J(e,0),$=e=>J(e,e.length-1),ee=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return k.none()},te=Object.keys,ne=Object.hasOwnProperty,oe=(e,t)=>{const n=te(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],s=e[r];t(s,r)}},re=(e,t)=>se(e,((e,n)=>({k:n,v:t(e,n)}))),se=(e,t)=>{const n={};return oe(e,((e,o)=>{const r=t(e,o);n[r.k]=r.v})),n},ie=e=>(t,n)=>{e[n]=t},ae=(e,t,n,o)=>{const r={};return oe(e,((e,r)=>{(t(e,r)?n:o)(e,r)})),r},Ae=(e,t)=>{const n={};return ae(e,t,ie(n),g),n},le=(e,t)=>{const n=[];return oe(e,((e,o)=>{n.push(t(e,o))})),n},ce=e=>le(e,v),ue=(e,t)=>de(e,t)?k.from(e[t]):k.none(),de=(e,t)=>ne.call(e,t),me=(e,t)=>de(e,t)&&void 0!==e[t]&&null!==e[t],he=e=>{for(const t in e)if(ne.call(e,t))return!1;return!0};"undefined"!==typeof window?window:Function("return this;")();const ge=8,pe=9,fe=11,be=1,ve=3,we=e=>{const t=e.dom.nodeName;return t.toLowerCase()},ye=e=>e.dom.nodeType,Be=e=>t=>ye(t)===e,Ce=e=>ye(e)===ge||"#comment"===we(e),xe=Be(be),Se=Be(ve),Fe=Be(pe),ke=Be(fe),Ee=e=>t=>xe(t)&&we(t)===e,_e=(e,t,n)=>{if(!(i(n)||c(n)||h(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Oe=(e,t,n)=>{_e(e.dom,t,n)},Ue=(e,t)=>{const n=e.dom;oe(t,((e,t)=>{_e(n,t,e)}))},Te=(e,t)=>{oe(t,((t,n)=>{t.fold((()=>{Qe(e,n)}),(t=>{_e(e.dom,n,t)}))}))},Le=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Ne=(e,t)=>k.from(Le(e,t)),Qe=(e,t)=>{e.dom.removeAttribute(t)},De=e=>P(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Ie=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Re(o.childNodes[0])},He=(e,t)=>{const n=t||document,o=n.createElement(e);return Re(o)},Me=(e,t)=>{const n=t||document,o=n.createTextNode(e);return Re(o)},Re=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},Pe=(e,t,n)=>k.from(e.dom.elementFromPoint(t,n)).map(Re),Ve={fromHtml:Ie,fromTag:He,fromText:Me,fromDom:Re,fromPoint:Pe},je=(e,t)=>{const n=e.dom;if(n.nodeType!==be)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},ze=e=>e.nodeType!==be&&e.nodeType!==pe&&e.nodeType!==fe||0===e.childElementCount,Ke=(e,t)=>{const n=void 0===t?document:t.dom;return ze(n)?[]:Q(n.querySelectorAll(e),Ve.fromDom)},We=(e,t)=>{const n=void 0===t?document:t.dom;return ze(n)?k.none():k.from(n.querySelector(e)).map(Ve.fromDom)},Ge=(e,t)=>e.dom===t.dom,qe=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},Ze=je,Xe=e=>Ve.fromDom(e.dom.ownerDocument),Je=e=>Fe(e)?e:Xe(e),Ye=e=>Ve.fromDom(Je(e).dom.documentElement),$e=e=>Ve.fromDom(Je(e).dom.defaultView),et=e=>k.from(e.dom.parentNode).map(Ve.fromDom),tt=e=>k.from(e.dom.parentElement).map(Ve.fromDom),nt=(e,t)=>{const n=m(t)?t:S;let o=e.dom;const r=[];while(null!==o.parentNode&&void 0!==o.parentNode){const e=o.parentNode,t=Ve.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},ot=e=>k.from(e.dom.previousSibling).map(Ve.fromDom),rt=e=>k.from(e.dom.nextSibling).map(Ve.fromDom),st=e=>Q(e.dom.childNodes,Ve.fromDom),it=(e,t)=>{const n=e.dom.childNodes;return k.from(n[t]).map(Ve.fromDom)},at=e=>it(e,0),At=(e,t)=>{const n=et(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},lt=(e,t)=>{const n=rt(e);n.fold((()=>{const n=et(e);n.each((e=>{ut(e,t)}))}),(e=>{At(e,t)}))},ct=(e,t)=>{const n=at(e);n.fold((()=>{ut(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},ut=(e,t)=>{e.dom.appendChild(t.dom)},dt=(e,t,n)=>{it(e,n).fold((()=>{ut(e,t)}),(e=>{At(e,t)}))},mt=(e,t)=>{At(e,t),ut(t,e)},ht=(e,t)=>{D(t,((n,o)=>{const r=0===o?e:t[o-1];lt(r,n)}))},gt=(e,t)=>{D(t,(t=>{ut(e,t)}))},pt=e=>{e.dom.textContent="",D(st(e),(e=>{ft(e)}))},ft=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},bt=e=>{const t=st(e);t.length>0&&ht(e,t),ft(e)},vt=(e,t)=>Ve.fromDom(e.dom.cloneNode(t)),wt=e=>vt(e,!1),yt=e=>vt(e,!0),Bt=(e,t)=>{const n=Ve.fromTag(t),o=De(e);return Ue(n,o),n},Ct=(e,t)=>{const n=Bt(e,t),o=st(yt(e));return gt(n,o),n},xt=(e,t)=>{const n=Bt(e,t);lt(e,n);const o=st(e);return gt(n,o),ft(e),n},St=["tfoot","thead","tbody","colgroup"],Ft=e=>T(St,e),kt=(e,t)=>({rows:e,columns:t}),Et=(e,t)=>({row:e,column:t}),_t=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Ot=(e,t,n,o)=>({element:e,rowspan:t,colspan:n,isNew:o}),Ut=(e,t,n,o,r,s)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:s}),Tt=(e,t,n)=>({element:e,cells:t,section:n}),Lt=(e,t,n,o)=>({element:e,cells:t,section:n,isNew:o}),Nt=(e,t,n)=>({element:e,isNew:t,isLocked:n}),Qt=(e,t,n,o)=>({element:e,cells:t,section:n,isNew:o}),Dt=(e,t,n,o)=>({startRow:e,startCol:t,finishRow:n,finishCol:o}),It=(e,t,n)=>({element:e,colspan:t,column:n}),Ht=(e,t)=>({element:e,columns:t}),Mt=e=>ke(e)&&d(e.dom.host),Rt=m(Element.prototype.attachShadow)&&m(Node.prototype.getRootNode),Pt=b(Rt),Vt=Rt?e=>Ve.fromDom(e.dom.getRootNode()):Je,jt=e=>{const t=Vt(e);return Mt(t)?k.some(t):k.none()},zt=e=>Ve.fromDom(e.dom.host),Kt=e=>{if(Pt()&&d(e.target)){const t=Ve.fromDom(e.target);if(xe(t)&&Wt(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return Y(t)}}return k.from(e.target)},Wt=e=>d(e.dom.shadowRoot),Gt=e=>{const t=Se(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return jt(Ve.fromDom(t)).fold((()=>n.body.contains(t)),f(Gt,zt))},qt=()=>Zt(Ve.fromDom(document)),Zt=e=>{const t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return Ve.fromDom(t)},Xt=(e,t,n)=>M(nt(e,n),t),Jt=(e,t)=>M(st(e),t),Yt=(e,t)=>{let n=[];return D(st(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(Yt(e,t))})),n},$t=(e,t,n)=>Xt(e,(e=>je(e,t)),n),en=(e,t)=>Jt(e,(e=>je(e,t))),tn=(e,t)=>Ke(t,e);var nn=(e,t,n,o,r)=>e(n,o)?k.some(n):m(r)&&r(n)?k.none():t(n,o,r);const on=(e,t,n)=>{let o=e.dom;const r=m(n)?n:S;while(o.parentNode){o=o.parentNode;const e=Ve.fromDom(o);if(t(e))return k.some(e);if(r(e))break}return k.none()},rn=(e,t,n)=>{const o=(e,t)=>t(e);return nn(o,on,e,t,n)},sn=(e,t)=>{const n=e=>t(Ve.fromDom(e)),o=j(e.dom.childNodes,n);return o.map(Ve.fromDom)},an=(e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=Ve.fromDom(e.childNodes[o]);if(t(r))return k.some(r);const s=n(e.childNodes[o]);if(s.isSome())return s}return k.none()};return n(e.dom)},An=(e,t,n)=>on(e,(e=>je(e,t)),n),ln=(e,t)=>sn(e,(e=>je(e,t))),cn=(e,t)=>We(t,e),un=(e,t,n)=>{const o=(e,t)=>je(e,t);return nn(o,An,e,t,n)},dn=(e,t,n=w)=>e.exists((e=>n(e,t))),mn=e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t},hn=(e,t)=>void 0!==e&&null!==e?t(e):k.none(),gn=(e,t)=>e?k.some(t):k.none(),pn=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,fn=(e,t)=>-1!==e.indexOf(t),bn=(e,t)=>pn(e,t,0),vn=(e,t)=>pn(e,t,e.length-t.length),wn=e=>t=>t.replace(e,""),yn=wn(/^\s+|\s+$/g),Bn=e=>e.length>0,Cn=e=>{const t=parseFloat(e);return isNaN(t)?k.none():k.some(t)},xn=e=>void 0!==e.style&&m(e.style.getPropertyValue),Sn=(e,t,n)=>{if(!i(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);xn(e)&&e.style.setProperty(t,n)},Fn=(e,t)=>{xn(e)&&e.style.removeProperty(t)},kn=(e,t,n)=>{const o=e.dom;Sn(o,t,n)},En=(e,t)=>{const n=e.dom;oe(t,((e,t)=>{Sn(n,t,e)}))},_n=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n),r=o.getPropertyValue(t);return""!==r||Gt(e)?r:On(n,t)},On=(e,t)=>xn(e)?e.style.getPropertyValue(t):"",Un=(e,t)=>{const n=e.dom,o=On(n,t);return k.from(o).filter((e=>e.length>0))},Tn=(e,t)=>{const n=e.dom;Fn(n,t),dn(Ne(e,"style").map(yn),"")&&Qe(e,"style")},Ln=(e,t)=>{const n=e.dom,o=t.dom;xn(n)&&xn(o)&&(o.style.cssText=n.style.cssText)},Nn=(e,t,n=0)=>Ne(e,t).map((e=>parseInt(e,10))).getOr(n),Qn=(e,t)=>Nn(e,t,1),Dn=e=>Ee("col")(e)?Nn(e,"span",1)>1:Qn(e,"colspan")>1,In=e=>Qn(e,"rowspan")>1,Hn=(e,t)=>parseInt(_n(e,t),10),Mn=b(10),Rn=b(10),Pn=(e,t)=>Vn(e,t,F),Vn=(e,t,n)=>W(st(e),(e=>je(e,t)?n(e)?[e]:[]:Vn(e,t,n))),jn=(e,t,n=S)=>{if(n(t))return k.none();if(T(e,we(t)))return k.some(t);const o=e=>je(e,"table")||n(e);return An(t,e.join(","),o)},zn=(e,t)=>jn(["td","th"],e,t),Kn=e=>Pn(e,"th,td"),Wn=e=>je(e,"colgroup")?en(e,"col"):W(Zn(e),(e=>en(e,"col"))),Gn=(e,t)=>un(e,"table",t),qn=e=>Pn(e,"tr"),Zn=e=>Gn(e).fold(b([]),(e=>en(e,"colgroup"))),Xn=(e,t)=>Q(e,(e=>{if("colgroup"===we(e)){const t=Q(Wn(e),(e=>{const t=Nn(e,"span",1);return _t(e,1,t)}));return Tt(e,t,"colgroup")}{const n=Q(Kn(e),(e=>{const t=Nn(e,"rowspan",1),n=Nn(e,"colspan",1);return _t(e,t,n)}));return Tt(e,n,t(e))}})),Jn=e=>et(e).map((e=>{const t=we(e);return Ft(t)?t:"tbody"})).getOr("tbody"),Yn=e=>{const t=qn(e),n=Zn(e),o=[...n,...t];return Xn(o,Jn)},$n=(e,t)=>Xn(e,(()=>t)),eo=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},to=(e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!r,i=e.isiOS()||e.isAndroid(),a=i||o("(pointer:coarse)"),A=r||!s&&i&&o("(min-device-width:768px)"),l=s||i&&!A,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!l&&!A&&!c;return{isiPad:b(r),isiPhone:b(s),isTablet:b(A),isPhone:b(l),isTouch:b(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:b(c),isDesktop:b(u)}},no=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}},oo=(e,t)=>{const n=no(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return io(o(1),o(2))},ro=(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?so():oo(e,n)},so=()=>io(0,0),io=(e,t)=>({major:e,minor:t}),ao={nu:io,detect:ro,unknown:so},Ao=(e,t)=>ee(t.brands,(t=>{const n=t.brand.toLowerCase();return j(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:ao.nu(parseInt(t.version,10),0)})))})),lo=(e,t)=>{const n=String(t).toLowerCase();return j(e,(e=>e.search(n)))},co=(e,t)=>lo(e,t).map((e=>{const n=ao.detect(e.versionRegexes,t);return{current:e.name,version:n}})),uo=(e,t)=>lo(e,t).map((e=>{const n=ao.detect(e.versionRegexes,t);return{current:e.name,version:n}})),mo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ho=e=>t=>fn(t,e),go=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>fn(e,"edge/")&&fn(e,"chrome")&&fn(e,"safari")&&fn(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,mo],search:e=>fn(e,"chrome")&&!fn(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>fn(e,"msie")||fn(e,"trident")},{name:"Opera",versionRegexes:[mo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ho("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ho("firefox")},{name:"Safari",versionRegexes:[mo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(fn(e,"safari")||fn(e,"mobile/"))&&fn(e,"applewebkit")}],po=[{name:"Windows",search:ho("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>fn(e,"iphone")||fn(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ho("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ho("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ho("linux"),versionRegexes:[]},{name:"Solaris",search:ho("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ho("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ho("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],fo={browsers:b(go),oses:b(po)},bo="Edge",vo="Chromium",wo="IE",yo="Opera",Bo="Firefox",Co="Safari",xo=()=>So({current:void 0,version:ao.unknown()}),So=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(bo),isChromium:o(vo),isIE:o(wo),isOpera:o(yo),isFirefox:o(Bo),isSafari:o(Co)}},Fo={unknown:xo,nu:So,edge:b(bo),chromium:b(vo),ie:b(wo),opera:b(yo),firefox:b(Bo),safari:b(Co)},ko="Windows",Eo="iOS",_o="Android",Oo="Linux",Uo="macOS",To="Solaris",Lo="FreeBSD",No="ChromeOS",Qo=()=>Do({current:void 0,version:ao.unknown()}),Do=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(ko),isiOS:o(Eo),isAndroid:o(_o),isMacOS:o(Uo),isLinux:o(Oo),isSolaris:o(To),isFreeBSD:o(Lo),isChromeOS:o(No)}},Io={unknown:Qo,nu:Do,windows:b(ko),ios:b(Eo),android:b(_o),linux:b(Oo),macos:b(Uo),solaris:b(To),freebsd:b(Lo),chromeos:b(No)},Ho=(e,t,n)=>{const o=fo.browsers(),r=fo.oses(),s=t.bind((e=>Ao(o,e))).orThunk((()=>co(o,e))).fold(Fo.unknown,Fo.nu),i=uo(r,e).fold(Io.unknown,Io.nu),a=to(i,s,e,n);return{browser:s,os:i,deviceType:a}},Mo={detect:Ho},Ro=e=>window.matchMedia(e).matches;let Po=eo((()=>Mo.detect(navigator.userAgent,k.from(navigator.userAgentData),Ro)));const Vo=()=>Po(),jo=(e,t)=>{const n=(t,n)=>{if(!h(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;xn(o)&&(o.style[e]=n+"px")},o=n=>{const o=t(n);if(o<=0||null===o){const t=_n(n,e);return parseFloat(t)||0}return o},r=o,s=(e,t)=>P(t,((t,n)=>{const o=_n(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0),i=(e,t,n)=>{const o=s(e,n),r=t>o?t-o:0;return r};return{set:n,get:o,getOuter:r,aggregate:s,max:i}},zo=(e,t)=>Cn(e).getOr(t),Ko=(e,t,n)=>zo(_n(e,t),n),Wo=(e,t,n,o)=>{const r=Ko(e,`padding-${n}`,0),s=Ko(e,`padding-${o}`,0),i=Ko(e,`border-${n}-width`,0),a=Ko(e,`border-${o}-width`,0);return t-r-s-i-a},Go=(e,t)=>{const n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?o:Wo(e,o,"left","right")},qo=e=>Ko(e,"height",e.dom.offsetHeight),Zo=e=>Ko(e,"width",e.dom.offsetWidth),Xo=e=>Go(e,"content-box"),Jo=jo("width",(e=>e.dom.offsetWidth)),Yo=e=>Jo.get(e),$o=e=>Jo.getOuter(e),er=Xo,tr=Zo,nr=(e,t,n)=>{const o=e.cells,r=o.slice(0,t),s=o.slice(t),i=r.concat(n).concat(s);return sr(e,i)},or=(e,t,n)=>nr(e,t,[n]),rr=(e,t,n)=>{const o=e.cells;o[t]=n},sr=(e,t)=>Qt(e.element,t,e.section,e.isNew),ir=(e,t)=>{const n=e.cells,o=Q(n,t);return Qt(e.element,o,e.section,e.isNew)},ar=(e,t)=>e.cells[t],Ar=(e,t)=>ar(e,t).element,lr=e=>e.cells.length,cr=e=>{const t=H(e,(e=>"colgroup"===e.section));return{rows:t.fail,cols:t.pass}},ur=(e,t,n)=>{const o=Q(e.cells,n);return Qt(t(e.element),o,e.section,!0)},dr="data-snooker-locked-cols",mr=e=>Ne(e,dr).bind((e=>k.from(e.match(/\d+/g)))).map((e=>Z(e,F))),hr=e=>{const t=P(cr(e).rows,((e,t)=>(D(t.cells,((t,n)=>{t.isLocked&&(e[n]=!0)})),e)),{}),n=le(t,((e,t)=>parseInt(t,10)));return X(n)},gr=(e,t)=>e+","+t,pr=(e,t,n)=>k.from(e.access[gr(t,n)]),fr=(e,t,n)=>{const o=br(e,(e=>n(t,e.element)));return o.length>0?k.some(o[0]):k.none()},br=(e,t)=>{const n=W(e.all,(e=>e.cells));return M(n,t)},vr=e=>{const t={};let n=0;return D(e.cells,(e=>{const o=e.colspan;N(o,(r=>{const s=n+r;t[s]=It(e.element,o,s)})),n+=o})),t},wr=e=>{const t={},n=[],o=Y(e).map((e=>e.element)).bind(Gn),r=o.bind(mr).getOr({});let s=0,i=0,a=0;const{pass:A,fail:l}=H(e,(e=>"colgroup"===e.section));D(l,(e=>{const o=[];D(e.cells,(e=>{let n=0;while(void 0!==t[gr(a,n)])n++;const s=me(r,n.toString()),A=Ut(e.element,e.rowspan,e.colspan,a,n,s);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=a+r,s=n+o,l=gr(e,s);t[l]=A,i=Math.max(i,s+1)}o.push(A)})),s++,n.push(Tt(e.element,o,e.section)),a++}));const{columns:c,colgroups:u}=$(A).map((e=>{const t=vr(e),n=Ht(e.element,ce(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),d=kt(s,i);return{grid:d,access:t,all:n,columns:c,colgroups:u}},yr=e=>{const t=Yn(e);return wr(t)},Br=e=>W(e.all,(e=>e.cells)),Cr=e=>ce(e.columns),xr=e=>te(e.columns).length>0,Sr=(e,t)=>k.from(e.columns[t]),Fr={fromTable:yr,generate:wr,getAt:pr,findItem:fr,filterItems:br,justCells:Br,justColumns:Cr,hasColumns:xr,getColumnAt:Sr},kr=(e,t=F)=>{const n=e.grid,o=N(n.columns,v),r=N(n.rows,v);return Q(o,(n=>{const o=()=>W(r,(t=>Fr.getAt(e,t,n).filter((e=>e.column===n)).toArray())),s=e=>1===e.colspan&&t(e.element),i=()=>Fr.getAt(e,0,n);return Er(o,s,i)}))},Er=(e,t,n)=>{const o=e(),r=j(o,t),s=r.orThunk((()=>k.from(o[0]).orThunk(n)));return s.map((e=>e.element))},_r=e=>{const t=e.grid,n=N(t.rows,v),o=N(t.columns,v);return Q(n,(t=>{const n=()=>W(o,(n=>Fr.getAt(e,t,n).filter((e=>e.row===t)).fold(b([]),(e=>[e])))),r=e=>1===e.rowspan,s=()=>Fr.getAt(e,t,0);return Er(n,r,s)}))},Or=(e,t)=>{if(t<0||t>=e.length-1)return k.none();const n=e[t].fold((()=>{const n=q(e.slice(0,t));return ee(n,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>k.some({value:e,delta:0}))),o=e[t+1].fold((()=>{const n=e.slice(t+1);return ee(n,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>k.some({value:e,delta:1})));return n.bind((e=>o.map((t=>{const n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))))},Ur=(e,t)=>n=>"rtl"===Tr(n)?t:e,Tr=e=>"rtl"===_n(e,"direction")?"rtl":"ltr",Lr=jo("height",(e=>{const t=e.dom;return Gt(e)?t.getBoundingClientRect().height:t.offsetHeight})),Nr=e=>Lr.get(e),Qr=e=>Lr.getOuter(e),Dr=qo,Ir=(e,t)=>{const n=(n,o)=>Ir(e+n,t+o);return{left:e,top:t,translate:n}},Hr=Ir,Mr=e=>{const t=e.getBoundingClientRect();return Hr(t.left,t.top)},Rr=(e,t)=>void 0!==e?e:void 0!==t?t:0,Pr=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return Hr(n.offsetLeft,n.offsetTop);const s=Rr(null===o||void 0===o?void 0:o.pageYOffset,r.scrollTop),i=Rr(null===o||void 0===o?void 0:o.pageXOffset,r.scrollLeft),a=Rr(r.clientTop,n.clientTop),A=Rr(r.clientLeft,n.clientLeft);return Vr(e).translate(i-A,s-a)},Vr=e=>{const t=e.dom,n=t.ownerDocument,o=n.body;return o===t?Hr(o.offsetLeft,o.offsetTop):Gt(e)?Mr(t):Hr(0,0)},jr=(e,t)=>({row:e,y:t}),zr=(e,t)=>({col:e,x:t}),Kr=e=>{const t=Pr(e);return t.left+$o(e)},Wr=e=>Pr(e).left,Gr=(e,t)=>zr(e,Wr(t)),qr=(e,t)=>zr(e,Kr(t)),Zr=e=>Pr(e).top,Xr=(e,t)=>jr(e,Zr(t)),Jr=(e,t)=>jr(e,Zr(t)+Qr(t)),Yr=(e,t,n)=>{if(0===n.length)return[];const o=Q(n.slice(1),((t,n)=>t.map((t=>e(n,t))))),r=n[n.length-1].map((e=>t(n.length-1,e)));return o.concat([r])},$r=e=>-e,es={delta:v,positions:e=>Yr(Xr,Jr,e),edge:Zr},ts={delta:v,edge:Wr,positions:e=>Yr(Gr,qr,e)},ns={delta:$r,edge:Kr,positions:e=>Yr(qr,Gr,e)},os=Ur(ts,ns),rs={delta:(e,t)=>os(t).delta(e,t),positions:(e,t)=>os(t).positions(e,t),edge:e=>os(e).edge(e)},ss={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},is=(()=>{const e="[0-9]+",t="[+-]?"+e,n="[eE]"+t,o="\\.",r=e=>`(?:${e})?`,s=["Infinity",e+o+r(e)+r(n),o+e+r(n),e+r(n)].join("|"),i=`[+-]?(?:${s})`;return new RegExp(`^(${i})(.*)$`)})(),as=(e,t)=>L(t,(t=>L(ss[t],(t=>e===t)))),As=(e,t)=>{const n=k.from(is.exec(e));return n.bind((e=>{const n=Number(e[1]),o=e[2];return as(o,t)?k.some({value:n,unit:o}):k.none()}))},ls=/(\d+(\.\d+)?)%/,cs=/(\d+(\.\d+)?)px|em/,us=Ee("col"),ds=(e,t,n)=>{const o=tt(e).getOrThunk((()=>Zt(Xe(e))));return t(e)/n(o)*100},ms=(e,t)=>{kn(e,"width",t+"px")},hs=(e,t)=>{kn(e,"width",t+"%")},gs=(e,t)=>{kn(e,"height",t+"px")},ps=e=>Dr(e)+"px",fs=(e,t,n,o)=>{const r=Gn(e).map((e=>{const o=n(e);return Math.floor(t/100*o)})).getOr(t);return o(e,r),r},bs=(e,t,n,o)=>{const r=parseFloat(e);return vn(e,"%")&&"table"!==we(t)?fs(t,r,n,o):r},vs=e=>{const t=ps(e);return t?bs(t,e,Nr,gs):Nr(e)},ws=(e,t,n)=>{const o=n(e),r=Qn(e,t);return o/r},ys=(e,t)=>Un(e,t).orThunk((()=>Ne(e,t).map((e=>e+"px")))),Bs=e=>ys(e,"width"),Cs=e=>ys(e,"height"),xs=e=>ds(e,Yo,er),Ss=e=>us(e)?Yo(e):tr(e),Fs=e=>ws(e,"rowspan",vs),ks=e=>{const t=Bs(e);return t.bind((e=>As(e,["fixed","relative","empty"])))},Es=(e,t,n)=>{kn(e,"width",t+n)},_s=e=>Yo(e)+"px",Os=e=>ds(e,Yo,er)+"%",Us=e=>Bs(e).exists((e=>ls.test(e))),Ts=e=>Bs(e).exists((e=>cs.test(e))),Ls=e=>Bs(e).isNone(),Ns=b(ls),Qs=Ee("col"),Ds=e=>Bs(e).getOrThunk((()=>Ss(e)+"px")),Is=e=>Cs(e).getOrThunk((()=>Fs(e)+"px")),Hs=e=>Q(Fr.justColumns(e),(e=>k.from(e.element))),Ms=e=>{const t=Vo().browser,n=t.isChromium()||t.isFirefox();return!Qs(e)||n},Rs=(e,t,n,o,r,s)=>e.filter(o).fold((()=>s(Or(n,t))),(e=>r(e))),Ps=(e,t,n,o)=>{const r=kr(e),s=Fr.hasColumns(e)?Hs(e):r,i=[k.some(rs.edge(t))].concat(Q(rs.positions(r,t),(e=>e.map((e=>e.x))))),a=B(Dn);return Q(s,((e,t)=>Rs(e,t,i,a,(e=>{if(Ms(e))return n(e);{const e=hn(r[t],v);return Rs(e,t,i,a,(e=>o(k.some(Yo(e)))),o)}}),o)))},Vs=e=>e.map((e=>e+"px")).getOr(""),js=(e,t)=>Ps(e,t,Ds,Vs),zs=(e,t,n)=>Ps(e,t,xs,(e=>e.fold((()=>n.minCellWidth()),(e=>e/n.pixelWidth()*100)))),Ks=(e,t,n)=>Ps(e,t,Ss,(e=>e.getOrThunk(n.minCellWidth))),Ws=(e,t,n,o,r)=>{const s=_r(e),i=[k.some(n.edge(t))].concat(Q(n.positions(s,t),(e=>e.map((e=>e.y)))));return Q(s,((e,t)=>Rs(e,t,i,B(In),o,r)))},Gs=(e,t,n)=>Ws(e,t,n,Fs,(e=>e.getOrThunk(Rn))),qs=(e,t,n)=>Ws(e,t,n,Is,Vs),Zs=(e,t)=>()=>Gt(e)?t(e):parseFloat(Un(e,"width").getOr("0")),Xs=e=>{const t=Zs(e,Yo),n=b(0),o=(t,n)=>Ks(t,e,n);return{width:t,pixelWidth:t,getWidths:o,getCellDelta:n,singleColumnWidth:b([0]),minCellWidth:n,setElementWidth:g,adjustTableWidth:g,isRelative:!0,label:"none"}},Js=e=>{const t=Zs(e,(e=>parseFloat(Os(e)))),n=Zs(e,Yo),o=e=>e/n()*100,r=(e,t)=>[100-e],s=()=>Mn()/n()*100,i=n=>{const o=t(),r=n/100*o,s=o+r;hs(e,s)},a=(t,n)=>zs(t,e,n);return{width:t,pixelWidth:n,getWidths:a,getCellDelta:o,singleColumnWidth:r,minCellWidth:s,setElementWidth:hs,adjustTableWidth:i,isRelative:!0,label:"percent"}},Ys=e=>{const t=Zs(e,Yo),n=v,o=(e,t)=>{const n=Math.max(Mn(),e+t);return[n-e]},r=n=>{const o=t()+n;ms(e,o)},s=(t,n)=>Ks(t,e,n);return{width:t,pixelWidth:t,getWidths:s,getCellDelta:n,singleColumnWidth:o,minCellWidth:Mn,setElementWidth:ms,adjustTableWidth:r,isRelative:!1,label:"pixel"}},$s=(e,t)=>{const n=Ns().exec(t);return null!==n?Js(e):Ys(e)},ei=e=>{const t=Bs(e);return t.fold((()=>Xs(e)),(t=>$s(e,t)))},ti={getTableSize:ei,pixelSize:Ys,percentageSize:Js,noneSize:Xs},ni=(e,t,n,o,r,s)=>({minRow:e,minCol:t,maxRow:n,maxCol:o,allCells:r,selectedCells:s}),oi=(e,t)=>{const n=e.grid.columns,o=e.grid.rows;let r=o,s=n,i=0,a=0;const A=[],l=[];return oe(e.access,(e=>{if(A.push(e),t(e)){l.push(e);const t=e.row,n=t+e.rowspan-1,o=e.column,A=o+e.colspan-1;t<r?r=t:n>i&&(i=n),o<s?s=o:A>a&&(a=A)}})),ni(r,s,i,a,A,l)},ri=(e,t,n)=>{const o=e[n].element,r=Ve.fromTag("td");ut(r,Ve.fromTag("br"));const s=t?ut:ct;s(o,r)},si=(e,t,n,o)=>{const r=M(e,(e=>"colgroup"!==e.section)),s=t.grid.columns,i=t.grid.rows;for(let a=0;a<i;a++){let e=!1;for(let i=0;i<s;i++)if(!(a<n.minRow||a>n.maxRow||i<n.minCol||i>n.maxCol)){const n=Fr.getAt(t,a,i).filter(o).isNone();n?ri(r,e,a):e=!0}}},ii=(e,t,n,o)=>{oe(n.columns,(e=>{(e.column<t.minCol||e.column>t.maxCol)&&ft(e.element)}));const r=M(Pn(e,"tr"),(e=>0===e.dom.childElementCount));D(r,ft),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||D(Pn(e,"th,td"),(e=>{Qe(e,"rowspan"),Qe(e,"colspan")})),Qe(e,dr),Qe(e,"data-snooker-col-series");const s=ti.getTableSize(e);s.adjustTableWidth(o)},ai=(e,t,n,o)=>{if(0===o.minCol&&t.grid.columns===o.maxCol+1)return 0;const r=Ks(t,e,n),s=P(r,((e,t)=>e+t),0),i=P(r.slice(o.minCol,o.maxCol+1),((e,t)=>e+t),0),a=i/s*n.pixelWidth(),A=a-n.pixelWidth();return n.getCellDelta(A)},Ai=(e,t)=>{const n=e=>je(e.element,t),o=yt(e),r=Yn(o),s=ti.getTableSize(e),i=Fr.generate(r),a=oi(i,n),A="th:not("+t+"),td:not("+t+")",l=Vn(o,"th,td",(e=>je(e,A)));D(l,ft),si(r,i,a,n);const c=Fr.fromTable(e),u=ai(e,c,s,a);return ii(o,a,i,u),o},li=" ",ci=(e,t)=>{const n=n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return o(n).getOr("")},o=t=>e(t)?k.from(t.dom.nodeValue):k.none(),r=(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o};return{get:n,getOption:o,set:r}},ui=ci(Se,"text"),di=e=>ui.get(e),mi=e=>ui.getOption(e),hi=(e,t)=>ui.set(e,t),gi=e=>"img"===we(e)?1:mi(e).fold((()=>st(e).length),(e=>e.length)),pi=e=>mi(e).filter((e=>0!==e.trim().length||e.indexOf(li)>-1)).isSome(),fi=["img","br"],bi=e=>{const t=pi(e);return t||T(fi,we(e))},vi=e=>an(e,bi),wi=e=>yi(e,bi),yi=(e,t)=>{const n=e=>{const o=st(e);for(let r=o.length-1;r>=0;r--){const e=o[r];if(t(e))return k.some(e);const s=n(e);if(s.isSome())return s}return k.none()};return n(e)},Bi={scope:["row","col"]},Ci=e=>()=>{const t=Ve.fromTag("td",e.dom);return ut(t,Ve.fromTag("br",e.dom)),t},xi=e=>()=>Ve.fromTag("col",e.dom),Si=e=>()=>Ve.fromTag("colgroup",e.dom),Fi=e=>()=>Ve.fromTag("tr",e.dom),ki=(e,t,n)=>{const o=Ct(e,t);return oe(n,((e,t)=>{null===e?Qe(o,t):Oe(o,t,e)})),o},Ei=e=>e,_i=(e,t,n)=>{const o=vi(e);return o.map((o=>{const r=n.join(","),s=$t(o,r,(t=>Ge(t,e)));return R(s,((e,t)=>{const n=wt(t);return Qe(n,"contenteditable"),ut(e,n),n}),t)})).getOr(t)},Oi=(e,t)=>{oe(Bi,((n,o)=>Ne(e,o).filter((e=>T(n,e))).each((e=>Oe(t,o,e)))))},Ui=(e,t,n)=>{const o=(e,t)=>{Ln(e.element,t),Tn(t,"height"),1!==e.colspan&&Tn(t,"width")},r=r=>{const s=Ve.fromTag(we(r.element),t.dom),i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=i.length>0?_i(r.element,s,i):s;return ut(a,Ve.fromTag("br")),o(r,s),Oi(r.element,s),e(r.element,s),s},s=n=>{const r=Ve.fromTag(we(n.element),t.dom);return o(n,r),e(n.element,r),r};return{col:s,colgroup:Si(t),row:Fi(t),cell:r,replace:ki,colGap:xi(t),gap:Ci(t)}},Ti=e=>({col:xi(e),colgroup:Si(e),row:Fi(e),cell:Ci(e),replace:Ei,colGap:xi(e),gap:Ci(e)}),Li=(e,t)=>{const n=t||document,o=n.createElement("div");return o.innerHTML=e,st(Ve.fromDom(o))},Ni=e=>Q(e,Ve.fromDom),Qi=e=>Ve.fromDom(e.getBody()),Di=e=>t=>Ge(t,Qi(e)),Ii=e=>{Qe(e,"data-mce-style");const t=e=>Qe(e,"data-mce-style");D(Kn(e),t),D(Wn(e),t),D(qn(e),t)},Hi=e=>Ve.fromDom(e.selection.getStart()),Mi=e=>e.getBoundingClientRect().width,Ri=e=>e.getBoundingClientRect().height,Pi=(e,t)=>{const n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return k.from(n).filter(Bn)},Vi=e=>/^(\d+(\.\d+)?)%$/.test(e),ji=e=>/^(\d+(\.\d+)?)px$/.test(e),zi=(e,t)=>{const n=t.column,o=t.column+t.colspan-1,r=t.row,s=t.row+t.rowspan-1;return n<=e.finishCol&&o>=e.startCol&&r<=e.finishRow&&s>=e.startRow},Ki=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Wi=(e,t)=>{let n=!0;const o=y(Ki,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let s=t.startCol;s<=t.finishCol;s++)n=n&&Fr.getAt(e,r,s).exists(o);return n?k.some(t):k.none()},Gi=(e,t)=>Dt(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1)),qi=(e,t,n)=>{const o=Fr.findItem(e,t,Ge),r=Fr.findItem(e,n,Ge);return o.bind((e=>r.map((t=>Gi(e,t)))))},Zi=(e,t,n)=>qi(e,t,n).bind((t=>Wi(e,t))),Xi=(e,t,n,o)=>Fr.findItem(e,t,Ge).bind((t=>{const r=n>0?t.row+t.rowspan-1:t.row,s=o>0?t.column+t.colspan-1:t.column,i=Fr.getAt(e,r+n,s+o);return i.map((e=>e.element))})),Ji=(e,t,n)=>qi(e,t,n).map((t=>{const n=Fr.filterItems(e,y(zi,t));return Q(n,(e=>e.element))})),Yi=(e,t)=>{const n=(e,t)=>qe(t,e);return Fr.findItem(e,t,n).map((e=>e.element))},$i=(e,t,n)=>Gn(e).bind((o=>{const r=oa(o);return Xi(r,e,t,n)})),ea=(e,t,n)=>{const o=oa(e);return Ji(o,t,n)},ta=(e,t,n,o,r)=>{const s=oa(e),i=Ge(e,n)?k.some(t):Yi(s,t),a=Ge(e,r)?k.some(o):Yi(s,o);return i.bind((e=>a.bind((t=>Ji(s,e,t)))))},na=(e,t,n)=>{const o=oa(e);return Zi(o,t,n)},oa=Fr.fromTable;var ra=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],sa=()=>{const e=e=>Ve.fromDom(e.dom.cloneNode(!1)),t=e=>Je(e).dom,n=e=>!!xe(e)&&("body"===we(e)||T(ra,we(e))),o=e=>!!xe(e)&&T(["br","img","hr","input"],we(e)),r=e=>xe(e)&&"false"===Le(e,"contenteditable"),s=(e,t)=>e.dom.compareDocumentPosition(t.dom),i=(e,t)=>{const n=De(e);Ue(t,n)},a=e=>{const t=we(e);return T(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},A=e=>xe(e)?Ne(e,"lang"):k.none();return{up:b({selector:An,closest:un,predicate:on,all:nt}),down:b({selector:tn,predicate:Yt}),styles:b({get:_n,getRaw:Un,set:kn,remove:Tn}),attrs:b({get:Le,set:Oe,remove:Qe,copyTo:i}),insert:b({before:At,after:lt,afterAll:ht,append:ut,appendAll:gt,prepend:ct,wrap:mt}),remove:b({unwrap:bt,remove:ft}),create:b({nu:Ve.fromTag,clone:e,text:Ve.fromText}),query:b({comparePosition:s,prevSibling:ot,nextSibling:rt}),property:b({children:st,name:we,parent:et,document:t,isText:Se,isComment:Ce,isElement:xe,isSpecial:a,getLanguage:A,getText:di,setText:hi,isBoundary:n,isEmptyTag:o,isNonEditable:r}),eq:Ge,is:Ze}};const ia=(e,t,n,o)=>{const r=n[0],s=n.slice(1);return o(e,t,r,s)},aa=(e,t,n)=>n.length>0?ia(e,t,n,Aa):k.none(),Aa=(e,t,n,o)=>{const r=t(e,n);return R(o,((n,o)=>{const r=t(e,o);return la(e,n,r)}),r)},la=(e,t,n)=>t.bind((t=>n.filter(y(e.eq,t)))),ca=(e,t)=>y(e.eq,t),ua=(e,t,n,o=S)=>{const r=[t].concat(e.up().all(t)),s=[n].concat(e.up().all(n)),i=e=>{const t=z(e,o);return t.fold((()=>e),(t=>e.slice(0,t+1)))},a=i(r),A=i(s),l=j(a,(t=>L(A,ca(e,t))));return{firstpath:a,secondpath:A,shared:l}},da=aa,ma=ua,ha=sa(),ga=(e,t)=>da(ha,((t,n)=>e(n)),t),pa=(e,t,n)=>ma(ha,e,t,n),fa=e=>An(e,"table"),ba=(e,t,n)=>{const o=e=>t=>void 0!==n&&n(t)||Ge(t,e);return Ge(e,t)?k.some({boxes:k.some([e]),start:e,finish:t}):fa(e).bind((r=>fa(t).bind((s=>{if(Ge(r,s))return k.some({boxes:ea(r,e,t),start:e,finish:t});if(qe(r,s)){const n=$t(t,"td,th",o(r)),i=n.length>0?n[n.length-1]:t;return k.some({boxes:ta(r,e,r,t,s),start:e,finish:i})}if(qe(s,r)){const n=$t(e,"td,th",o(s)),i=n.length>0?n[n.length-1]:e;return k.some({boxes:ta(s,e,r,t,s),start:e,finish:i})}return pa(e,t).shared.bind((i=>un(i,"table",n).bind((n=>{const i=$t(t,"td,th",o(n)),a=i.length>0?i[i.length-1]:t,A=$t(e,"td,th",o(n)),l=A.length>0?A[A.length-1]:e;return k.some({boxes:ta(n,e,r,t,s),start:l,finish:a})}))))}))))},va=(e,t)=>{const n=tn(e,t);return n.length>0?k.some(n):k.none()},wa=(e,t)=>j(e,(e=>je(e,t))),ya=(e,t,n)=>cn(e,t).bind((t=>cn(e,n).bind((e=>ga(fa,[t,e]).map((n=>({first:t,last:e,table:n}))))))),Ba=(e,t)=>An(e,"table").bind((n=>cn(n,t).bind((t=>ba(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish}))))))))),Ca=(e,t,n,o,r)=>wa(e,r).bind((e=>$i(e,t,n).bind((e=>Ba(e,o))))),xa=(e,t)=>va(e,t),Sa=(e,t,n)=>ya(e,t,n).bind((t=>{const n=t=>Ge(e,t),o="thead,tfoot,tbody,table",r=An(t.first,o,n),s=An(t.last,o,n);return r.bind((e=>s.bind((n=>Ge(e,n)?na(t.table,t.first,t.last):k.none()))))})),Fa=v,ka=e=>{const t=(e,t)=>Ne(e,t).exists((e=>parseInt(e,10)>1)),n=e=>t(e,"rowspan")||t(e,"colspan");return e.length>0&&G(e,n)?k.some(e):k.none()},Ea=(e,t,n)=>t.length<=1?k.none():Sa(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),_a="data-mce-selected",Oa="td["+_a+"],th["+_a+"]",Ua="["+_a+"]",Ta="data-mce-first-selected",La="td["+Ta+"],th["+Ta+"]",Na="data-mce-last-selected",Qa="td["+Na+"],th["+Na+"]",Da=Ua,Ia={selected:_a,selectedSelector:Oa,firstSelected:Ta,firstSelectedSelector:La,lastSelected:Na,lastSelectedSelector:Qa},Ha=(e,t,n)=>({element:n,mergable:Ea(t,e,Ia),unmergable:ka(e),selection:Fa(e)}),Ma=(e,t,n)=>({element:e,clipboard:t,generators:n}),Ra=(e,t,n,o)=>({selection:Fa(e),clipboard:n,generators:o}),Pa=e=>Gn(e).bind((e=>xa(e,Ia.firstSelectedSelector))).fold(b(e),(e=>e[0])),Va=e=>(t,n)=>{const o=we(t),r="col"===o||"colgroup"===o?Pa(t):t;return un(r,e,n)},ja=Va("th,td,caption"),za=Va("th,td"),Ka=e=>Ni(e.model.table.getSelectedCells()),Wa=e=>M(Ka(e),(e=>je(e,Ia.selectedSelector))),Ga=e=>Gn(e[0]).map((e=>{const t=Ai(e,Da);return Ii(t),[t]})),qa=(e,t)=>Q(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join(""),Za=e=>Q(e,(e=>e.dom.innerText)).join(""),Xa=(e,t)=>{e.on("BeforeGetContent",(t=>{const n=n=>{t.preventDefault(),Ga(n).each((n=>{t.content="text"===t.format?Za(n):qa(e,n)}))};if(!0===t.selection){const t=Wa(e);t.length>=1&&n(t)}})),e.on("BeforeSetContent",(n=>{if(!0===n.selection&&!0===n.paste){const o=Ka(e);Y(o).each((o=>{Gn(o).each((r=>{const s=M(Li(n.content),(e=>"meta"!==we(e))),i=Ee("table");if(1===s.length&&i(s[0])){n.preventDefault();const i=Ve.fromDom(e.getDoc()),a=Ti(i),A=Ma(o,s[0],a);t.pasteCells(r,A).each((()=>{e.focus()}))}}))}))}}))},Ja=(e,t)=>({element:e,offset:t}),Ya=(e,t,n)=>e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((t=>Ya(e,t,n).orThunk((()=>k.some(t))))):k.none(),$a=(e,t)=>{if(e.property().isText(t))return e.property().getText(t).length;const n=e.property().children(t);return n.length},eA=(e,t)=>{const n=Ya(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return Ja(n,$a(e,n));const o=e.property().children(n);return o.length>0?eA(e,o[o.length-1]):Ja(n,$a(e,n))},tA=eA,nA=sa(),oA=e=>tA(nA,e),rA=(e,t)=>{if(!Dn(e)){const n=ks(e);n.each((n=>{const o=n.value/2;Es(e,o,n.unit),Es(t,o,n.unit)}))}},sA=e=>Q(e,b(0)),iA=(e,t,n,o,r)=>r(e.slice(0,t)).concat(o).concat(r(e.slice(n))),aA=e=>(t,n,o,r)=>{if(e(o)){const e=Math.max(r,t[n]-Math.abs(o)),s=Math.abs(e-t[n]);return o>=0?s:-s}return o},AA=aA((e=>e<0)),lA=aA(F),cA=()=>{const e=(e,t,n,o,r)=>{const s=AA(e,t,o,r);return iA(e,t,n+1,[s,0],sA)},t=(e,t,n,o)=>{const r=(100+n)/100,s=Math.max(o,(e[t]+n)/r);return Q(e,((e,n)=>{const o=n===t?s:e/r;return o-e}))},n=(n,o,r,s,i,a)=>a?t(n,o,s,i):e(n,o,r,s,i),o=(e,t,o,r,s,i,a)=>n(e,o,r,s,i,a),r=(e,t)=>e(t),s=(e,n,o,r,s,i)=>{if(i)return t(e,o,r,s);{const t=AA(e,o,r,s);return sA(e.slice(0,o)).concat([t])}},i=(e,t,n,o)=>{if(o){const o=t+n,r=o/t,s=Q(e,(e=>e/r));return{delta:100*r-100,newSizes:s}}return{delta:n,newSizes:e}};return{resizeTable:r,clampTableDelta:AA,calcLeftEdgeDeltas:n,calcMiddleDeltas:o,calcRightEdgeDeltas:s,calcRedestributedWidths:i}},uA=()=>{const e=(e,t,n,o,r)=>{const s=o>=0?n:t,i=lA(e,s,o,r);return iA(e,t,n+1,[i,-i],sA)},t=(t,n,o,r,s,i)=>e(t,o,r,s,i),n=(e,t,n)=>{n&&e(t)},o=(e,t,n,o,r,s)=>{if(s)return sA(e);{const t=o/e.length;return Q(e,b(t))}},r=(e,t,n,o,r)=>{if(r){if(n>=0)return n;{const t=P(e,((e,t)=>e+t-o),0);return Math.max(-t,n)}}return AA(e,t,n,o)},s=(e,t,n,o)=>({delta:0,newSizes:e});return{resizeTable:n,clampTableDelta:r,calcLeftEdgeDeltas:e,calcMiddleDeltas:t,calcRightEdgeDeltas:o,calcRedestributedWidths:s}},dA=e=>{const t=Fr.fromTable(e);return t.grid},mA=Ee("th"),hA=e=>G(e,(e=>mA(e.element))),gA=(e,t)=>e&&t?"sectionCells":e?"section":"cells",pA=e=>{const t="thead"===e.section,n=dn(fA(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:gA(t,n)}:{type:"body"}},fA=e=>{const t=M(e,(e=>mA(e.element)));return 0===t.length?k.some("td"):t.length===e.length?k.some("th"):k.none()},bA=e=>{const t=Q(e,(e=>pA(e).type)),n=T(t,"header"),o=T(t,"footer");if(n||o){const e=T(t,"body");return!n||e||o?n||e||!o?k.none():k.some("footer"):k.some("header")}return k.some("body")},vA=e=>ee(e.all,(e=>{const t=pA(e);return"header"===t.type?k.from(t.subType):k.none()})),wA=(e,t,n)=>Nt(n(e.element,t),!0,e.isLocked),yA=(e,t)=>e.section!==t?Qt(e.element,e.cells,t,e.isNew):e,BA=()=>({transformRow:yA,transformCell:(e,t,n)=>{const o=n(e.element,t),r="td"!==we(o)?xt(o,"td"):o;return Nt(r,e.isNew,e.isLocked)}}),CA=()=>({transformRow:yA,transformCell:wA}),xA=()=>({transformRow:(e,t)=>{const n="thead"===t?"tbody":t;return yA(e,n)},transformCell:wA}),SA=()=>({transformRow:v,transformCell:wA}),FA=(e,t)=>{const n=Fr.fromTable(e),o=vA(n).getOr(t);switch(o){case"section":return BA();case"sectionCells":return CA();case"cells":return xA()}},kA={getTableSectionType:FA,section:BA,sectionCells:CA,cells:xA,fallback:SA},EA=e=>un(e,"[contenteditable]"),_A=(e,t=!1)=>Gt(e)?e.dom.isContentEditable:EA(e).fold(b(t),(e=>"true"===OA(e))),OA=e=>e.dom.contentEditable,UA=(e,t,n,o)=>{n===o?Qe(e,t):Oe(e,t,n)},TA=(e,t,n)=>{$(en(e,t)).fold((()=>ct(e,n)),(e=>lt(e,n)))},LA=(e,t)=>{const n=ln(e,t).getOrThunk((()=>{const n=Ve.fromTag(t,Xe(e).dom);return"thead"===t?TA(e,"caption,colgroup",n):"colgroup"===t?TA(e,"caption",n):ut(e,n),n}));return pt(n),n},NA=(e,t)=>{const n=[],o=[],r=e=>Q(e,(e=>{e.isNew&&n.push(e.element);const t=e.element;return pt(t),D(e.cells,(e=>{e.isNew&&o.push(e.element),UA(e.element,"colspan",e.colspan,1),UA(e.element,"rowspan",e.rowspan,1),ut(t,e.element)})),t})),s=e=>W(e,(e=>Q(e.cells,(e=>(UA(e.element,"span",e.colspan,1),e.element))))),i=(t,n)=>{const o=LA(e,n),i="colgroup"===n?s:r,a=i(t);gt(o,a)},a=t=>{ln(e,t).each(ft)},A=(e,t)=>{e.length>0?i(e,t):a(t)},l=[],c=[],u=[],d=[];return D(t,(e=>{switch(e.section){case"thead":l.push(e);break;case"tbody":c.push(e);break;case"tfoot":u.push(e);break;case"colgroup":d.push(e);break}})),A(d,"colgroup"),A(l,"thead"),A(c,"tbody"),A(u,"tfoot"),{newRows:n,newCells:o}},QA=e=>Q(e,(e=>{const t=wt(e.element);return D(e.cells,(e=>{const n=yt(e.element);UA(n,"colspan",e.colspan,1),UA(n,"rowspan",e.rowspan,1),ut(t,n)})),t})),DA=(e,t)=>Q(e,(e=>ar(e,t))),IA=(e,t)=>e[t],HA=(e,t)=>{if(0===e.length)return 0;const n=e[0],o=z(e,(e=>!t(n.element,e.element)));return o.getOr(e.length)},MA=(e,t,n,o)=>{const r=IA(e,t),s="colgroup"===r.section,i=HA(r.cells.slice(n),o),a=s?1:HA(DA(e.slice(t),n),o);return{colspan:i,rowspan:a}},RA=(e,t)=>{const n=Q(e,(e=>Q(e.cells,S))),o=(e,t,o,r)=>{for(let s=e;s<e+o;s++)for(let e=t;e<t+r;e++)n[s][e]=!0};return Q(e,((r,s)=>{const i=W(r.cells,((r,i)=>{if(!1===n[s][i]){const n=MA(e,s,i,t);return o(s,i,n.rowspan,n.colspan),[Ot(r.element,n.rowspan,n.colspan,r.isNew)]}return[]}));return Lt(r.element,i,r.section,r.isNew)}))},PA=(e,t,n)=>{const o=[];D(e.colgroups,(r=>{const s=[];for(let o=0;o<e.grid.columns;o++){const r=Fr.getColumnAt(e,o).map((e=>Nt(e.element,n,!1))).getOrThunk((()=>Nt(t.colGap(),!0,!1)));s.push(r)}o.push(Qt(r.element,s,"colgroup",n))}));for(let r=0;r<e.grid.rows;r++){const s=[];for(let o=0;o<e.grid.columns;o++){const i=Fr.getAt(e,r,o).map((e=>Nt(e.element,n,e.isLocked))).getOrThunk((()=>Nt(t.gap(),!0,!1)));s.push(i)}const i=e.all[r],a=Qt(i.element,s,i.section,n);o.push(a)}return o},VA=(e,t)=>PA(e,t,!1),jA=e=>RA(e,Ge),zA=(e,t)=>ee(e.all,(e=>j(e.cells,(e=>Ge(t,e.element))))),KA=(e,t,n)=>{const o=Q(t.selection,(t=>zn(t).bind((t=>zA(e,t))).filter(n))),r=mn(o);return gn(r.length>0,r)},WA=(e,t,n,o,r)=>(s,i,a,A)=>{const l=Fr.fromTable(s),c=k.from(null===A||void 0===A?void 0:A.section).getOrThunk(kA.fallback),u=t(l,i).map((t=>{const n=VA(l,a),o=e(n,t,Ge,r(a),c),s=hr(o.grid),i=jA(o.grid);return{info:t,grid:i,cursor:o.cursor,lockedColumns:s}}));return u.bind((e=>{const t=NA(s,e.grid),r=k.from(null===A||void 0===A?void 0:A.sizing).getOrThunk((()=>ti.getTableSize(s))),i=k.from(null===A||void 0===A?void 0:A.resize).getOrThunk(uA);return n(s,e.grid,e.info,{sizing:r,resize:i,section:c}),o(s),Qe(s,dr),e.lockedColumns.length>0&&Oe(s,dr,e.lockedColumns.join(",")),k.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))},GA=(e,t)=>zn(t.element).bind((n=>zA(e,n).map((e=>{const n={...e,generators:t.generators,clipboard:t.clipboard};return n})))),qA=(e,t)=>KA(e,t,F).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard}))),ZA=(e,t)=>t.mergable,XA=(e,t)=>t.unmergable,JA=(e,t)=>KA(e,t,F),YA=(e,t)=>KA(e,t,(e=>!e.isLocked)),$A=(e,t)=>zA(e,t).exists((e=>!e.isLocked)),el=(e,t)=>G(t,(t=>$A(e,t))),tl=(e,t)=>ZA(e,t).filter((t=>el(e,t.cells))),nl=(e,t)=>XA(e,t).filter((t=>el(e,t))),ol=(e,t,n,o)=>{const r=cr(e).rows;if(0===r.length)return e;for(let s=t.startRow;s<=t.finishRow;s++)for(let e=t.startCol;e<=t.finishCol;e++){const t=r[s],n=ar(t,e).isLocked;rr(t,e,Nt(o(),!1,n))}return e},rl=(e,t,n,o)=>{const r=cr(e).rows;let s=!0;for(let i=0;i<r.length;i++)for(let e=0;e<lr(r[0]);e++){const a=r[i],A=ar(a,e),l=A.element,c=n(l,t);c&&!s?rr(a,e,Nt(o(),!0,A.isLocked)):c&&(s=!1)}return e},sl=(e,t)=>P(e,((e,n)=>L(e,(e=>t(e.element,n.element)))?e:e.concat([n])),[]),il=(e,t,n,o)=>(t>0&&t<e[0].cells.length&&D(e,(e=>{const r=e.cells[t-1];let s=0;const i=o();while(e.cells.length>t+s&&n(r.element,e.cells[t+s].element))rr(e,t+s,Nt(i,!0,e.cells[t+s].isLocked)),s++})),e),al=(e,t,n,o)=>{const r=cr(e).rows;if(t>0&&t<r.length){const e=r[t-1].cells,s=sl(e,n);D(s,(e=>{let s=k.none();for(let i=t;i<r.length;i++)for(let t=0;t<lr(r[0]);t++){const a=r[i],A=ar(a,t),l=n(A.element,e.element);l&&(s.isNone()&&(s=k.some(o())),s.each((e=>{rr(a,t,Nt(e,!0,A.isLocked))})))}}))}return e},Al=e=>{const t=t=>t(e),n=b(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:F,isError:S,map:t=>ul.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>k.some(e)};return r},ll=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:S,isError:F,map:t,mapError:t=>ul.error(t(e)),bind:t,exists:S,forall:F,getOr:v,or:v,getOrThunk:x,orThunk:x,getOrDie:C(String(e)),each:g,toOptional:k.none};return n},cl=(e,t)=>e.fold((()=>ll(t)),Al),ul={value:Al,error:ll,fromOption:cl},dl=(e,t,n)=>{if(e.row>=t.length||e.column>lr(t[0]))return ul.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);const o=t.slice(e.row),r=o[0].cells.slice(e.column),s=lr(n[0]),i=n.length;return ul.value({rowDelta:o.length-i,colDelta:r.length-s})},ml=(e,t)=>{const n=lr(e[0]),o=lr(t[0]);return{rowDelta:0,colDelta:n-o}},hl=(e,t)=>{const n=e.length,o=t.length;return{rowDelta:n-o,colDelta:0}},gl=(e,t,n,o)=>{const r="colgroup"===t.section?n.col:n.cell;return N(e,(e=>Nt(r(),!0,o(e))))},pl=(e,t,n,o)=>{const r=e[e.length-1];return e.concat(N(t,(()=>{const e="colgroup"===r.section?n.colgroup:n.row,t=ur(r,e,v),s=gl(t.cells.length,t,n,(e=>de(o,e.toString())));return sr(t,s)})))},fl=(e,t,n,o)=>Q(e,(e=>{const r=gl(t,e,n,S);return nr(e,o,r)})),bl=(e,t,n)=>Q(e,(e=>P(n,((n,o)=>{const r=gl(1,e,t,F)[0];return or(n,o,r)}),e))),vl=(e,t,n)=>{const o=t.colDelta<0?fl:v,r=t.rowDelta<0?pl:v,s=hr(e),i=lr(e[0]),a=L(s,(e=>e===i-1)),A=o(e,Math.abs(t.colDelta),n,a?i-1:i),l=hr(A);return r(A,Math.abs(t.rowDelta),n,Z(l,F))},wl=(e,t,n,o)=>{const r=ar(e[t],n),s=y(o,r.element),i=e[t];return e.length>1&&lr(i)>1&&(n>0&&s(Ar(i,n-1))||n<i.cells.length-1&&s(Ar(i,n+1))||t>0&&s(Ar(e[t-1],n))||t<e.length-1&&s(Ar(e[t+1],n)))},yl=(e,t,n,o,r,s)=>{const i=e.row,a=e.column,A=n.length,l=lr(n[0]),c=i+A,u=a+l+s.length,d=Z(s,F);for(let m=i;m<c;m++){let e=0;for(let s=a;s<u;s++){if(d[s]){e++;continue}wl(t,m,s,r)&&rl(t,Ar(t[m],s),r,o.cell);const A=s-a-e,l=ar(n[m-i],A),c=l.element,u=o.replace(c);rr(t[m],s,Nt(u,!0,l.isLocked))}}return t},Bl=(e,t,n)=>{const o=lr(t[0]),r=cr(t).cols.length+e.row,s=N(o-e.column,(t=>t+e.column)),i=j(s,(e=>G(n,(t=>t!==e)))).getOr(o-1);return{row:r,column:i}},Cl=(e,t,n)=>M(n,(n=>n>=e.column&&n<=lr(t[0])+e.column)),xl=(e,t,n,o,r)=>{const s=hr(t),i=Bl(e,t,s),a=cr(n).rows,A=Cl(i,a,s),l=dl(i,t,a);return l.map((e=>{const n={...e,colDelta:e.colDelta-A.length},s=vl(t,n,o),l=hr(s),c=Cl(i,a,l);return yl(i,s,a,o,r,c)}))},Sl=(e,t,n,o,r)=>{il(t,e,r,o.cell);const s=hl(n,t),i=vl(n,s,o),a=hl(t,i),A=vl(t,a,o);return Q(A,((t,n)=>nr(t,e,i[n].cells)))},Fl=(e,t,n,o,r)=>{al(t,e,r,o.cell);const s=hr(t),i=ml(t,n),a={...i,colDelta:i.colDelta-s.length},A=vl(t,a,o),{cols:l,rows:c}=cr(A),u=hr(A),d=ml(n,t),m={...d,colDelta:d.colDelta+u.length},h=bl(n,o,u),g=vl(h,m,o);return[...l,...c.slice(0,e),...g,...c.slice(e,c.length)]},kl=(e,t,n,o)=>ur(e,(e=>o(e,n)),t),El=(e,t,n,o,r)=>{const{rows:s,cols:i}=cr(e),a=s.slice(0,t),A=s.slice(t),l=kl(s[n],((e,n)=>{const i=t>0&&t<s.length&&o(Ar(s[t-1],n),Ar(s[t],n)),a=i?ar(s[t],n):Nt(r(e.element,o),!0,e.isLocked);return a}),o,r);return[...i,...a,l,...A]},_l=(e,t,n,o,r,s,i)=>{if("colgroup"!==n&&o)return ar(e,t);{const t=ar(e,r);return Nt(i(t.element,s),!0,!1)}},Ol=(e,t,n,o,r)=>Q(e,(e=>{const s=t>0&&t<lr(e)&&o(Ar(e,t-1),Ar(e,t)),i=_l(e,t,e.section,s,n,o,r);return or(e,t,i)})),Ul=(e,t)=>W(e,(e=>{const n=e.cells,o=R(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),n);return o.length>0?[Qt(e.element,o,e.section,e.isNew)]:[]})),Tl=(e,t,n)=>{const{rows:o,cols:r}=cr(e);return[...r,...o.slice(0,t),...o.slice(n+1)]},Ll=(e,t,n,o)=>void 0!==Ar(e[t],n)&&t>0&&o(Ar(e[t-1],n),Ar(e[t],n)),Nl=(e,t,n)=>t>0&&n(Ar(e,t-1),Ar(e,t)),Ql=(e,t,n,o)=>Ll(e,t,n,o)||Nl(e[t],n,o),Dl=(e,t)=>{const n=G(t,v)&&hA(e.cells);return n?F:(e,n,o)=>{const r=we(e.element);return!("th"===r&&t[o])}},Il=(e,t)=>{const n=G(t,v)&&hA(e);return n?F:(e,n,o)=>{const r=we(e.element);return!("th"===r&&t[n])}},Hl=(e,t,n,o)=>{const r=e=>"row"===e?In(t):Dn(t),s=e=>r(e)?`${e}group`:e;if(e)return mA(t)?s(n):null;if(o&&mA(t)){const e="row"===n?"col":"row";return s(e)}return null},Ml=(e,t)=>(n,o,r)=>k.some(Hl(e,n.element,"col",t[r])),Rl=(e,t)=>(n,o)=>k.some(Hl(e,n.element,"row",t[o])),Pl=(e,t,n)=>Nt(n(e.element,t),!0,e.isLocked),Vl=(e,t,n,o,r,s,i)=>{const a=e=>L(t,(t=>n(e.element,t.element)));return Q(e,((e,t)=>ir(e,((e,A)=>{if(a(e)){const a=i(e,t,A)?r(e,n,o):e;return s(a,t,A).each((e=>{Te(a.element,{scope:k.from(e)})})),a}return e}))))},jl=(e,t,n)=>W(e,((o,r)=>Ql(e,r,t,n)?[]:[ar(o,t)])),zl=(e,t,n)=>{const o=e[t];return W(o.cells,((o,r)=>Ql(e,t,r,n)?[]:[o]))},Kl=(e,t,n,o,r)=>{const s=cr(e).rows,i=W(t,(e=>jl(s,e,o))),a=Q(s,(e=>hA(e.cells))),A=Il(i,a),l=Rl(n,a);return Vl(e,i,o,r,Pl,l,A)},Wl=(e,t,n,o,r,s,i)=>{const{cols:a,rows:A}=cr(e),l=A[t[0]],c=W(t,(e=>zl(A,e,r))),u=Q(l.cells,((e,t)=>hA(jl(A,t,r)))),d=[...A];D(t,(e=>{d[e]=i.transformRow(A[e],n)}));const m=[...a,...d],h=Dl(l,u),g=Ml(o,u);return Vl(m,c,r,s,i.transformCell,g,h)},Gl=(e,t,n,o)=>{const r=cr(e).rows,s=Q(t,(e=>ar(r[e.row],e.column)));return Vl(e,s,n,o,Pl,k.none,F)},ql=e=>{if(!A(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return D(e,((o,r)=>{const s=te(o);if(1!==s.length)throw new Error("one and only one name per case");const i=s[0],a=o[i];if(void 0!==n[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!A(a))throw new Error("case arguments must be an array");t.push(i),n[i]=(...n)=>{const o=n.length;if(o!==a.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+a.length+" ("+a+"), got "+o);const s=e=>{const o=te(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));const r=G(t,(e=>T(o,e)));if(!r)throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,n)};return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);const o=t[r];return o.apply(null,n)},match:s,log:e=>{console.log(e,{constructors:t,constructor:i,params:n})}}}})),n},Zl={generate:ql},Xl=Zl.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Jl={...Xl},Yl=(e,t)=>0===e.length?Jl.none():1===e.length?Jl.only(0):0===t?Jl.left(0,1):t===e.length-1?Jl.right(t-1,t):t>0&&t<e.length-1?Jl.middle(t-1,t,t+1):Jl.none(),$l=(e,t,n,o,r)=>{const s=e.slice(0),i=Yl(e,t),a=b(Q(s,b(0))),A=e=>o.singleColumnWidth(s[e],n),l=(e,t)=>r.calcLeftEdgeDeltas(s,e,t,n,o.minCellWidth(),o.isRelative),c=(e,t,i)=>r.calcMiddleDeltas(s,e,t,i,n,o.minCellWidth(),o.isRelative),u=(e,t)=>r.calcRightEdgeDeltas(s,e,t,n,o.minCellWidth(),o.isRelative);return i.fold(a,A,l,c,u)},ec=(e,t,n)=>{let o=0;for(let r=e;r<t;r++)o+=void 0!==n[r]?n[r]:0;return o},tc=(e,t)=>{const n=Fr.justCells(e);return Q(n,(e=>{const n=ec(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))},nc=(e,t)=>{const n=Fr.justColumns(e);return Q(n,((e,n)=>({element:e.element,width:t[n],colspan:e.colspan})))},oc=(e,t)=>{const n=Fr.justCells(e);return Q(n,(e=>{const n=ec(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))},rc=(e,t)=>Q(e.all,((e,n)=>({element:e.element,height:t[n]}))),sc=e=>R(e,((e,t)=>e+t),0),ic=(e,t)=>Fr.hasColumns(e)?nc(e,t):tc(e,t),ac=(e,t,n)=>{const o=ic(e,t);D(o,(e=>{n.setElementWidth(e.element,e.width)}))},Ac=(e,t,n,o,r)=>{const s=Fr.fromTable(e),i=r.getCellDelta(t),a=r.getWidths(s,r),A=n===s.grid.columns-1,l=o.clampTableDelta(a,n,i,r.minCellWidth(),A),c=$l(a,n,l,r,o),u=Q(c,((e,t)=>e+a[t]));ac(s,u,r),o.resizeTable(r.adjustTableWidth,l,A)},lc=(e,t,n,o)=>{const r=Fr.fromTable(e),s=Gs(r,e,o),i=Q(s,((e,o)=>n===o?Math.max(t+e,Rn()):e)),a=oc(r,i),A=rc(r,i);D(A,(e=>{gs(e.element,e.height)})),D(a,(e=>{gs(e.element,e.height)}));const l=sc(i);gs(e,l)},cc=(e,t,n,o,r)=>{const s=Fr.generate(t),i=o.getWidths(s,o),a=o.pixelWidth(),{newSizes:A,delta:l}=r.calcRedestributedWidths(i,a,n.pixelDelta,o.isRelative);ac(s,A,o),o.adjustTableWidth(l)},uc=(e,t,n,o)=>{const r=Fr.generate(t),s=o.getWidths(r,o);ac(r,s,o)},dc=e=>{const t=(e,t)=>{const n=L(e,(e=>e.column===t.column));return n?e:e.concat([t])};return P(e,t,[]).sort(((e,t)=>e.column-t.column))},mc=Ee("col"),hc=Ee("colgroup"),gc=e=>"tr"===we(e)||hc(e),pc=e=>{const t=Nn(e,"colspan",1),n=Nn(e,"rowspan",1);return{element:e,colspan:t,rowspan:n}},fc=(e,t=pc)=>{const n=t=>mc(t.element)?e.col(t):e.cell(t),o=t=>hc(t.element)?e.colgroup(t):e.row(t),r=e=>{if(gc(e))return o({element:e});{const o=e,r=n(t(o));return s=k.some({item:o,replacement:r}),r}};let s=k.none();const i=(e,t)=>s.fold((()=>r(e)),(n=>t(e,n.item)?n.replacement:r(e)));return{getOrInit:i}},bc=e=>t=>{const n=[],o=(e,t)=>j(n,(n=>t(n.item,e))),r=o=>{const r="td"===e?{scope:null}:{},s=t.replace(o,e,r);return n.push({item:o,sub:s}),s},s=(e,t)=>{if(gc(e)||mc(e))return e;{const n=e;return o(n,t).fold((()=>r(n)),(o=>t(e,o.item)?o.sub:r(n)))}};return{replaceOrInit:s}},vc=e=>Ne(e,"scope").map((e=>e.substr(0,3))),wc=e=>{const t=t=>{const n=vc(t);return n.each((e=>Oe(t,"scope",e))),()=>{const o=e.cell({element:t,colspan:1,rowspan:1});return Tn(o,"width"),Tn(t,"width"),n.each((e=>Oe(o,"scope",e))),o}},n=e=>{const t=()=>{const t=mn(Q(e,vc));if(0===t.length)return k.none();{const e=t[0],n=["row","col"],o=L(t,(t=>t!==e&&T(n,t)));return o?k.none():k.from(e)}};return Tn(e[0],"width"),t().fold((()=>Qe(e[0],"scope")),(t=>Oe(e[0],"scope",t+"group"))),b(e[0])};return{unmerge:t,merge:n}},yc={modification:fc,transform:bc,merging:wc},Bc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Cc=(e,t)=>{const n=e.property().name(t);return T(["ol","ul"],n)},xc=(e,t)=>{const n=e.property().name(t);return T(Bc,n)},Sc=(e,t)=>T(["br","img","hr","input"],e.property().name(t)),Fc=sa(),kc=e=>xc(Fc,e),Ec=e=>Cc(Fc,e),_c=e=>Sc(Fc,e),Oc=e=>{const t=Ee("br"),n=e=>G(e,(e=>t(e)||Se(e)&&0===di(e).trim().length)),o=e=>"li"===we(e)||on(e,Ec).isSome(),r=e=>rt(e).map((e=>!!kc(e)||!!_c(e)&&"img"!==we(e))).getOr(!1),s=e=>wi(e).bind((n=>{const s=r(n);return et(n).map((r=>!0===s||o(r)||t(n)||kc(r)&&!Ge(e,r)?[]:[Ve.fromTag("br")]))})).getOr([]),i=()=>{const t=W(e,(e=>{const t=st(e);return n(t)?[]:t.concat(s(e))}));return 0===t.length?[Ve.fromTag("br")]:t},a=i();pt(e[0]),gt(e[0],a)},Uc=e=>_A(e,!0),Tc=e=>{const t=Kn(e);0===t.length&&ft(e)},Lc=(e,t)=>({grid:e,cursor:t}),Nc=e=>ee(e,(e=>ee(e.cells,(e=>{const t=e.element;return gn(Uc(t),t)})))),Qc=(e,t,n)=>{var o,r;const s=cr(e).rows;return k.from(null===(r=null===(o=s[t])||void 0===o?void 0:o.cells[n])||void 0===r?void 0:r.element).filter(Uc).orThunk((()=>Nc(s)))},Dc=(e,t,n)=>{const o=Qc(e,t,n);return Lc(e,o)},Ic=e=>{const t=(e,t)=>{const n=L(e,(e=>e.row===t.row));return n?e:e.concat([t])};return P(e,t,[]).sort(((e,t)=>e.row-t.row))},Hc=(e,t,n,o)=>{const r=t[0].row,s=Ic(t),i=R(s,((e,t)=>{const s=El(e.grid,r,t.row+e.delta,n,o.getOrInit);return{grid:s,delta:e.delta+1}}),{grid:e,delta:0}).grid;return Dc(i,r,t[0].column)},Mc=(e,t,n,o)=>{const r=Ic(t),s=r[r.length-1],i=s.row+s.rowspan,a=R(r,((e,t)=>El(e,i,t.row,n,o.getOrInit)),e);return Dc(a,i,t[0].column)},Rc=(e,t,n,o)=>{const r=t.details,s=dc(r),i=s[0].column,a=R(s,((e,t)=>{const r=Ol(e.grid,i,t.column+e.delta,n,o.getOrInit);return{grid:r,delta:e.delta+1}}),{grid:e,delta:0}).grid;return Dc(a,r[0].row,i)},Pc=(e,t,n,o)=>{const r=t.details,s=r[r.length-1],i=s.column+s.colspan,a=dc(r),A=R(a,((e,t)=>Ol(e,i,t.column,n,o.getOrInit)),e);return Dc(A,r[0].row,i)},Vc=(e,t,n,o)=>{const r=dc(t),s=Q(r,(e=>e.column)),i=Kl(e,s,!0,n,o.replaceOrInit);return Dc(i,t[0].row,t[0].column)},jc=(e,t,n,o)=>{const r=Gl(e,t,n,o.replaceOrInit);return Dc(r,t[0].row,t[0].column)},zc=(e,t,n,o)=>{const r=dc(t),s=Q(r,(e=>e.column)),i=Kl(e,s,!1,n,o.replaceOrInit);return Dc(i,t[0].row,t[0].column)},Kc=(e,t,n,o)=>{const r=Gl(e,t,n,o.replaceOrInit);return Dc(r,t[0].row,t[0].column)},Wc=(e,t)=>(n,o,r,s,i)=>{const a=Ic(o),A=Q(a,(e=>e.row)),l=Wl(n,A,e,t,r,s.replaceOrInit,i);return Dc(l,o[0].row,o[0].column)},Gc=Wc("thead",!0),qc=Wc("tbody",!1),Zc=Wc("tfoot",!1),Xc=(e,t,n,o)=>{const r=dc(t.details),s=Ul(e,Q(r,(e=>e.column))),i=s.length>0?s[0].cells.length-1:0;return Dc(s,r[0].row,Math.min(r[0].column,i))},Jc=(e,t,n,o)=>{const r=Ic(t),s=Tl(e,r[0].row,r[r.length-1].row),i=s.length>0?s.length-1:0;return Dc(s,Math.min(t[0].row,i),t[0].column)},Yc=(e,t,n,o)=>{const r=t.cells;Oc(r);const s=ol(e,t.bounds,n,o.merge(r));return Lc(s,k.from(r[0]))},$c=(e,t,n,o)=>{const r=(e,t)=>rl(e,t,n,o.unmerge(t)),s=R(t,r,e);return Lc(s,k.from(t[0]))},eu=(e,t,n,o)=>{const r=(e,t)=>{const n=Fr.fromTable(e);return PA(n,t,!0)},s=r(t.clipboard,t.generators),i=Et(t.row,t.column),a=xl(i,e,s,t.generators,n);return a.fold((()=>Lc(e,k.some(t.element))),(e=>Dc(e,t.row,t.column)))},tu=(e,t,n)=>{const o=$n(e,n.section),r=Fr.generate(o);return PA(r,t,!0)},nu=(e,t,n,o)=>{const r=cr(e).rows,s=t.cells[0].column,i=r[t.cells[0].row],a=tu(t.clipboard,t.generators,i),A=Sl(s,e,a,t.generators,n);return Dc(A,t.cells[0].row,t.cells[0].column)},ou=(e,t,n,o)=>{const r=cr(e).rows,s=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,i=r[t.cells[0].row],a=tu(t.clipboard,t.generators,i),A=Sl(s,e,a,t.generators,n);return Dc(A,t.cells[0].row,t.cells[0].column)},ru=(e,t,n,o)=>{const r=cr(e).rows,s=t.cells[0].row,i=r[s],a=tu(t.clipboard,t.generators,i),A=Fl(s,e,a,t.generators,n);return Dc(A,t.cells[0].row,t.cells[0].column)},su=(e,t,n,o)=>{const r=cr(e).rows,s=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,i=r[t.cells[0].row],a=tu(t.clipboard,t.generators,i),A=Fl(s,e,a,t.generators,n);return Dc(A,t.cells[0].row,t.cells[0].column)},iu=(e,t)=>{const n=Fr.fromTable(e),o=JA(n,t);return o.bind((e=>{const t=e[e.length-1],o=e[0].column,r=t.column+t.colspan,s=K(Q(n.all,(e=>M(e.cells,(e=>e.column>=o&&e.column<r)))));return fA(s)})).getOr("")},au=(e,t)=>{const n=Fr.fromTable(e),o=JA(n,t);return o.bind(fA).getOr("")},Au=(e,t)=>{const n=Fr.fromTable(e),o=JA(n,t);return o.bind((e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan,s=n.all.slice(o,r);return bA(s)})).getOr("")},lu=(e,t,n,o)=>uc(e,t,n,o.sizing),cu=(e,t,n,o)=>cc(e,t,n,o.sizing,o.resize),uu=(e,t)=>L(t,(e=>0===e.column&&e.isLocked)),du=(e,t)=>L(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked)),mu=(e,t)=>{const n=kr(e),o=dc(t);return P(o,((e,t)=>{const o=n[t.column],r=o.map($o).getOr(0);return e+r}),0)},hu=e=>(t,n)=>JA(t,n).filter((n=>{const o=e?uu:du;return!o(t,n)})).map((e=>({details:e,pixelDelta:mu(t,e)}))),gu=(e,t)=>YA(e,t).map((t=>({details:t,pixelDelta:-mu(e,t)}))),pu=e=>(t,n)=>qA(t,n).filter((n=>{const o=e?uu:du;return!o(t,n.cells)})),fu=yc.transform("th"),bu=yc.transform("td"),vu=WA(Hc,JA,g,g,yc.modification),wu=WA(Mc,JA,g,g,yc.modification),yu=WA(Rc,hu(!0),cu,g,yc.modification),Bu=WA(Pc,hu(!1),cu,g,yc.modification),Cu=WA(Xc,gu,cu,Tc,yc.modification),xu=WA(Jc,JA,g,Tc,yc.modification),Su=WA(Vc,YA,g,g,fu),Fu=WA(zc,YA,g,g,bu),ku=WA(Gc,YA,g,g,fu),Eu=WA(qc,YA,g,g,bu),_u=WA(Zc,YA,g,g,bu),Ou=WA(jc,YA,g,g,fu),Uu=WA(Kc,YA,g,g,bu),Tu=WA(Yc,tl,lu,g,yc.merging),Lu=WA($c,nl,lu,g,yc.merging),Nu=WA(eu,GA,lu,g,yc.modification),Qu=WA(nu,pu(!0),g,g,yc.modification),Du=WA(ou,pu(!1),g,g,yc.modification),Iu=WA(ru,qA,g,g,yc.modification),Hu=WA(su,qA,g,g,yc.modification),Mu=iu,Ru=au,Pu=Au,Vu=(e,t)=>e.dispatch("NewRow",{node:t}),ju=(e,t)=>e.dispatch("NewCell",{node:t}),zu=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},Ku=(e,t,n,o,r)=>{e.dispatch("TableSelectionChange",{cells:t,start:n,finish:o,otherCells:r})},Wu=e=>{e.dispatch("TableSelectionClear")},Gu=(e,t,n,o,r)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:r})},qu=(e,t,n,o,r)=>{e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:r})},Zu={structure:!1,style:!0},Xu={structure:!0,style:!1},Ju={structure:!0,style:!0},Yu=e=>t=>t.options.get(e),$u="100%",ed=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return er(Ve.fromDom(o))+"px"},td=(e,t)=>md(e)||!gd(e)?t:dd(e)?{...t,width:ed(e)}:{...t,width:$u},nd=(e,t)=>md(e)||gd(e)?t:dd(e)?{...t,width:ed(e)}:{...t,width:$u},od=e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{const t=T(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{const t=T(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0})},rd=e=>k.from(e.options.get("table_clone_elements")),sd=e=>{const t=e.options.get("object_resizing");return T(t.split(","),"table")},id=Yu("table_header_type"),ad=Yu("table_column_resizing"),Ad=e=>"preservetable"===ad(e),ld=e=>"resizetable"===ad(e),cd=Yu("table_sizing_mode"),ud=e=>"relative"===cd(e),dd=e=>"fixed"===cd(e),md=e=>"responsive"===cd(e),hd=Yu("table_resize_bars"),gd=Yu("table_style_by_css"),pd=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:nd(e,n)},fd=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:td(e,n)},bd=Yu("table_use_colgroups"),vd=(e,t)=>ud(e)?ti.percentageSize(t):dd(e)?ti.pixelSize(t):ti.getTableSize(t),wd=(e,t,n)=>{const o=e=>"table"===we(Qi(e)),r=t=>!1===o(e)||dA(t).rows>1,s=t=>!1===o(e)||dA(t).columns>1,i=rd(e),a=ld(e)?g:rA,A=t=>{switch(id(e)){case"section":return kA.section();case"sectionCells":return kA.sectionCells();case"cells":return kA.cells();default:return kA.getTableSectionType(t,"section")}},l=(t,o)=>o.cursor.fold((()=>{const o=Kn(t);return Y(o).filter(Gt).map((o=>{n.clearSelectedCells(t.dom);const r=e.dom.createRng();return r.selectNode(o.dom),e.selection.setRng(r),Oe(o,"data-mce-selected","1"),r}))}),(o=>{const r=oA(o),s=e.dom.createRng();return s.setStart(r.element.dom,r.offset),s.setEnd(r.element.dom,r.offset),e.selection.setRng(s),n.clearSelectedCells(t.dom),k.some(s)})),c=(n,o,r,s)=>(a,c,u=!1)=>{Ii(a);const d=Ve.fromDom(e.getDoc()),m=Ui(r,d,i),h={sizing:vd(e,a),resize:ld(e)?cA():uA(),section:A(a)};return o(a)?n(a,c,m,h).bind((n=>{t.refresh(a.dom),D(n.newRows,(t=>{Vu(e,t.dom)})),D(n.newCells,(t=>{ju(e,t.dom)}));const o=l(a,n);return Gt(a)&&(Ii(a),u||zu(e,a.dom,s)),o.map((e=>({rng:e,effect:s})))})):k.none()},u=c(xu,r,g,Xu),d=c(Cu,s,g,Xu),m=c(vu,F,g,Xu),h=c(wu,F,g,Xu),p=c(yu,F,a,Xu),f=c(Bu,F,a,Xu),b=c(Tu,F,g,Xu),v=c(Lu,F,g,Xu),w=c(Qu,F,g,Xu),y=c(Du,F,g,Xu),B=c(Iu,F,g,Xu),C=c(Hu,F,g,Xu),x=c(Nu,F,g,Ju),S=c(Ou,F,g,Xu),E=c(Uu,F,g,Xu),_=c(Su,F,g,Xu),O=c(Fu,F,g,Xu),U=c(ku,F,g,Xu),T=c(Eu,F,g,Xu),L=c(_u,F,g,Xu),N=Ru,Q=Mu,I=Pu;return{deleteRow:u,deleteColumn:d,insertRowsBefore:m,insertRowsAfter:h,insertColumnsBefore:p,insertColumnsAfter:f,mergeCells:b,unmergeCells:v,pasteColsBefore:w,pasteColsAfter:y,pasteRowsBefore:B,pasteRowsAfter:C,pasteCells:x,makeCellsHeader:S,unmakeCellsHeader:E,makeColumnsHeader:_,unmakeColumnsHeader:O,makeRowsHeader:U,makeRowsBody:T,makeRowsFooter:L,getTableRowType:I,getTableCellType:N,getTableColType:Q}},yd=(e,t,n)=>{const o=Nn(e,t,1);1===n||o<=1?Qe(e,t):Oe(e,t,Math.min(n,o))},Bd=(e,t)=>n=>{const o=n.column+n.colspan-1,r=n.column;return o>=e&&r<t},Cd=(e,t,n)=>{if(Fr.hasColumns(e)){const o=M(Fr.justColumns(e),Bd(t,n)),r=Q(o,(e=>{const o=yt(e.element);return yd(o,"span",n-t),o})),s=Ve.fromTag("colgroup");return gt(s,r),[s]}return[]},xd=(e,t,n)=>Q(e.all,(e=>{const o=M(e.cells,Bd(t,n)),r=Q(o,(e=>{const o=yt(e.element);return yd(o,"colspan",n-t),o})),s=Ve.fromTag("tr");return gt(s,r),s})),Sd=(e,t)=>{const n=Fr.fromTable(e),o=YA(n,t);return o.map((e=>{const t=e[e.length-1],o=e[0].column,r=t.column+t.colspan,s=Cd(n,o,r),i=xd(n,o,r);return[...s,...i]}))},Fd=(e,t,n)=>{const o=Fr.fromTable(e),r=JA(o,t);return r.bind((e=>{const t=PA(o,n,!1),r=cr(t).rows,s=r.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),i=W(s,(e=>{const t=M(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]})),a=jA(i);return gn(a.length>0,a)})).map((e=>QA(e)))},kd=Zl.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Ed=(e,t,n)=>{const o=n.substring(0,n.length-e.length),r=parseFloat(o);return o===r.toString()?t(r):kd.invalid(n)},_d=e=>vn(e,"%")?Ed("%",kd.percent,e):vn(e,"px")?Ed("px",kd.pixels,e):kd.invalid(e),Od={...kd,from:_d},Ud=(e,t)=>Q(e,(e=>{const n=Od.from(e);return n.fold((()=>e),(e=>{const n=e/t*100;return n+"%"}),(e=>e+"%"))})),Td=(e,t,n)=>{const o=n/t;return Q(e,(e=>{const t=Od.from(e);return t.fold((()=>e),(e=>e*o+"px"),(e=>e/100*n+"px"))}))},Ld=(e,t)=>{const n=e.fold((()=>b("")),(e=>{const n=e/t;return b(n+"px")}),(()=>{const e=100/t;return b(e+"%")}));return N(t,n)},Nd=(e,t,n)=>e.fold((()=>t),(e=>Td(t,n,e)),(e=>Ud(t,n))),Qd=(e,t,n)=>{const o=Od.from(n),r=G(e,(e=>"0px"===e))?Ld(o,e.length):Nd(o,e,t);return Md(r)},Dd=(e,t)=>0===e.length?t:R(e,((e,t)=>Od.from(t).fold(b(0),v,v)+e),0),Id=(e,t)=>{const n=Math.floor(e);return{value:n+t,remainder:e-n}},Hd=(e,t)=>Od.from(e).fold(b(e),(e=>e+t+"px"),(e=>e+t+"%")),Md=e=>{if(0===e.length)return e;const t=R(e,((e,t)=>{const n=Od.from(t).fold((()=>({value:t,remainder:0})),(e=>Id(e,"px")),(e=>({value:e+"%",remainder:0})));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([Hd(n[n.length-1],Math.round(t.remainder))])},Rd=Od.from,Pd=(e,t,n)=>{D(t,(t=>{const o=e.slice(t.column,t.colspan+t.column),r=Dd(o,Mn());kn(t.element,"width",r+n)}))},Vd=(e,t,n)=>{D(t,((t,o)=>{const r=Dd([e[o]],Mn());kn(t.element,"width",r+n)}))},jd=(e,t,n,o)=>{D(n,(t=>{const n=e.slice(t.row,t.rowspan+t.row),r=Dd(n,Rn());kn(t.element,"height",r+o)})),D(t,((t,n)=>{kn(t.element,"height",e[n])}))},zd=e=>Rd(e).fold(b("px"),b("px"),b("%")),Kd=(e,t,n)=>{const o=Fr.fromTable(e),r=o.all,s=Fr.justCells(o),i=Fr.justColumns(o);t.each((t=>{const n=zd(t),r=Yo(e),a=js(o,e),A=Qd(a,r,t);Fr.hasColumns(o)?Vd(A,i,n):Pd(A,s,n),kn(e,"width",t)})),n.each((t=>{const n=zd(t),i=Nr(e),a=qs(o,e,es),A=Qd(a,i,t);jd(A,r,s,n),kn(e,"height",t)}))},Wd=Us,Gd=Ts,qd=Ls,Zd=e=>{Qe(e,"width")},Xd=e=>{const t=Os(e);Kd(e,k.some(t),k.none()),Zd(e)},Jd=e=>{const t=_s(e);Kd(e,k.some(t),k.none()),Zd(e)},Yd=e=>{Tn(e,"width");const t=Wn(e),n=t.length>0?t:Kn(e);D(n,(e=>{Tn(e,"width"),Zd(e)})),Zd(e)},$d={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},em=()=>Ve.fromTag("th"),tm=()=>Ve.fromTag("td"),nm=()=>Ve.fromTag("col"),om=(e,t,n,o)=>{const r=Ve.fromTag("tr");for(let s=0;s<e;s++){const e=o<t||s<n?em():tm();s<n&&Oe(e,"scope","row"),o<t&&Oe(e,"scope","col"),ut(e,Ve.fromTag("br")),ut(r,e)}return r},rm=e=>{const t=Ve.fromTag("colgroup");return N(e,(()=>ut(t,nm()))),t},sm=(e,t,n,o)=>N(e,(e=>om(t,n,o,e))),im=(e,t,n,o,r,s=$d)=>{const i=Ve.fromTag("table"),a="cells"!==r;En(i,s.styles),Ue(i,s.attributes),s.colGroups&&ut(i,rm(t));const A=Math.min(e,n);if(a&&n>0){const e=Ve.fromTag("thead");ut(i,e);const s="sectionCells"===r?A:0,a=sm(n,t,s,o);gt(e,a)}const l=Ve.fromTag("tbody");ut(i,l);const c=a?e-A:e,u=a?0:n,d=sm(c,t,u,o);return gt(l,d),i},am=e=>e.dom.innerHTML,Am=e=>{const t=Ve.fromTag("div"),n=Ve.fromDom(e.dom.cloneNode(!0));return ut(t,n),am(t)},lm=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},cm=(e,t)=>{cn(t,"td,th").each(y(lm,e))},um=(e,t)=>{D(tn(t,"tr"),(t=>{Vu(e,t.dom),D(tn(t,"th,td"),(t=>{ju(e,t.dom)}))}))},dm=e=>i(e)&&-1!==e.indexOf("%"),mm=(e,t,n,o,r)=>{const s=fd(e),i={styles:s,attributes:pd(e),colGroups:bd(e)};return e.undoManager.ignore((()=>{const s=im(n,t,r,o,id(e),i);Oe(s,"data-mce-id","__mce");const a=Am(s);e.insertContent(a),e.addVisual()})),cn(Qi(e),'table[data-mce-id="__mce"]').map((t=>(dd(e)?Jd(t):md(e)?Yd(t):(ud(e)||dm(s.width))&&Xd(t),Ii(t),Qe(t,"data-mce-id"),um(e,t),cm(e,t),t.dom))).getOr(null)},hm=(e,t,n,o={})=>{const r=e=>h(e)&&e>0;if(r(t)&&r(n)){const r=o.headerRows||0,s=o.headerColumns||0;return mm(e,n,t,s,r)}return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var gm=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const pm="x-tinymce/dom-table-",fm=pm+"rows",bm=pm+"columns",vm=e=>{const t=gm.FakeClipboardItem(e);gm.write([t])},wm=e=>{var t;const n=null!==(t=gm.read())&&void 0!==t?t:[];return ee(n,(t=>k.from(t.getType(e))))},ym=e=>{wm(e).isSome()&&gm.clear()},Bm=e=>{e.fold(xm,(e=>vm({[fm]:e})))},Cm=()=>wm(fm),xm=()=>ym(fm),Sm=e=>{e.fold(km,(e=>vm({[bm]:e})))},Fm=()=>wm(bm),km=()=>ym(bm),Em=e=>ja(Hi(e),Di(e)),_m=e=>za(Hi(e),Di(e)),Om=(e,t)=>{const n=Di(e),o=()=>Em(e).each((t=>{Gn(t,n).filter(B(n)).each((t=>{const n=Ve.fromText("");if(lt(t,n),ft(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{const t=e.dom.createRng();t.setStart(n.dom,0),t.setEnd(n.dom,0),e.selection.setRng(t),e.nodeChanged()}}))})),r=t=>Em(e).each((o=>{const r=md(e)||dd(e)||ud(e);r||Gn(o,n).each((n=>{"relative"!==t||Wd(n)?"fixed"!==t||Gd(n)?"responsive"!==t||qd(n)||Yd(n):Jd(n):Xd(n),Ii(n),zu(e,n.dom,Xu)}))})),s=e=>Gn(e,n),A=t=>_m(e).bind((e=>s(e).map((n=>t(n,e))))),l=(t,n)=>{A((t=>{e.formatter.toggle("tableclass",{value:n},t.dom),zu(e,t.dom,Zu)}))},c=(t,n)=>{A((t=>{const o=Ka(e),r=G(o,(t=>e.formatter.match("tablecellclass",{value:n},t.dom))),s=r?e.formatter.remove:e.formatter.apply;D(o,(e=>s("tablecellclass",{value:n},e.dom))),zu(e,t.dom,Zu)}))},u=()=>{Em(e).each((t=>{Gn(t,n).each((n=>{ln(n,"caption").fold((()=>{const t=Ve.fromTag("caption");ut(t,Ve.fromText("Caption")),dt(n,t,0),e.selection.setCursorLocation(t.dom,0)}),(o=>{Ee("caption")(t)&&We("td",n).each((t=>e.selection.setCursorLocation(t.dom,0))),ft(o)})),zu(e,n.dom,Xu)}))}))},d=t=>{e.focus()},m=(t,n=!1)=>A(((o,r)=>{const s=Ha(Ka(e),o,r);t(o,s,n).each(d)})),h=()=>A(((t,n)=>{const o=Ha(Ka(e),t,n),r=Ui(g,Ve.fromDom(e.getDoc()),k.none());return Fd(t,o,r)})),p=()=>A(((t,n)=>{const o=Ha(Ka(e),t,n);return Sd(t,o)})),f=(t,n)=>n().each((n=>{const o=Q(n,(e=>yt(e)));A(((n,r)=>{const s=Ti(Ve.fromDom(e.getDoc())),i=Ra(Ka(e),r,o,s);t(n,i).each(d)}))})),b=e=>(t,n)=>ue(n,"type").each((t=>{m(e(t),n.no_events)}));oe({mceTableSplitCells:()=>m(t.unmergeCells),mceTableMergeCells:()=>m(t.mergeCells),mceTableInsertRowBefore:()=>m(t.insertRowsBefore),mceTableInsertRowAfter:()=>m(t.insertRowsAfter),mceTableInsertColBefore:()=>m(t.insertColumnsBefore),mceTableInsertColAfter:()=>m(t.insertColumnsAfter),mceTableDeleteCol:()=>m(t.deleteColumn),mceTableDeleteRow:()=>m(t.deleteRow),mceTableCutCol:()=>p().each((e=>{Sm(e),m(t.deleteColumn)})),mceTableCutRow:()=>h().each((e=>{Bm(e),m(t.deleteRow)})),mceTableCopyCol:()=>p().each((e=>Sm(e))),mceTableCopyRow:()=>h().each((e=>Bm(e))),mceTablePasteColBefore:()=>f(t.pasteColsBefore,Fm),mceTablePasteColAfter:()=>f(t.pasteColsAfter,Fm),mceTablePasteRowBefore:()=>f(t.pasteRowsBefore,Cm),mceTablePasteRowAfter:()=>f(t.pasteRowsAfter,Cm),mceTableDelete:o,mceTableCellToggleClass:c,mceTableToggleClass:l,mceTableToggleCaption:u,mceTableSizingMode:(e,t)=>r(t),mceTableCellType:b((e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:b((e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:b((e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,n)=>e.addCommand(n,t))),e.addCommand("mceInsertTable",((t,n)=>{hm(e,n.rows,n.columns,n.options)})),e.addCommand("mceTableApplyCellStyle",((t,n)=>{const o=e=>"tablecell"+e.toLowerCase().replace("-","");if(!a(n))return;const r=Ka(e);if(0===r.length)return;const A=Ae(n,((t,n)=>e.formatter.has(o(n))&&i(t)));he(A)||(oe(A,((t,n)=>{const s=o(n);D(r,(n=>{""===t?e.formatter.remove(s,{value:null},n.dom,!0):e.formatter.apply(s,{value:t},n.dom)}))})),s(r[0]).each((t=>zu(e,t.dom,Zu))))}))},Um=(e,t)=>{const n=Di(e),o=t=>za(Hi(e)).bind((o=>Gn(o,n).map((n=>{const r=Ha(Ka(e),n,o);return t(n,r)})))).getOr("");oe({mceTableRowType:()=>o(t.getTableRowType),mceTableCellType:()=>o(t.getTableCellType),mceTableColType:()=>o(t.getTableColType)},((t,n)=>e.addQueryValueHandler(n,t)))},Tm=Zl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Lm=(e,t,n,o)=>e.fold(t,n,o),Nm=e=>e.fold(v,v,v),Qm=Tm.before,Dm=Tm.on,Im=Tm.after,Hm={before:Qm,on:Dm,after:Im,cata:Lm,getStart:Nm},Mm=(e,t)=>({selection:e,kill:t}),Rm={create:Mm},Pm=(e,t)=>{const n=e.document.createRange();return n.selectNode(t.dom),n},Vm=(e,t)=>{const n=e.document.createRange();return jm(n,t),n},jm=(e,t)=>e.selectNodeContents(t.dom),zm=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,n)=>{e.setStart(t.dom,n)}),(t=>{e.setStartAfter(t.dom)}))},Km=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))},Wm=(e,t,n)=>{const o=e.document.createRange();return zm(o,t),Km(o,n),o},Gm=(e,t,n,o,r)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(o.dom,r),s},qm=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Zm=e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?k.some(n).map(qm):k.none()},Xm=Zl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Jm=(e,t,n)=>t(Ve.fromDom(n.startContainer),n.startOffset,Ve.fromDom(n.endContainer),n.endOffset),Ym=(e,t)=>t.match({domRange:e=>({ltr:b(e),rtl:k.none}),relative:(t,n)=>({ltr:eo((()=>Wm(e,t,n))),rtl:eo((()=>k.some(Wm(e,n,t))))}),exact:(t,n,o,r)=>({ltr:eo((()=>Gm(e,t,n,o,r))),rtl:eo((()=>k.some(Gm(e,o,r,t,n))))})}),$m=(e,t)=>{const n=t.ltr();if(n.collapsed){const o=t.rtl().filter((e=>!1===e.collapsed));return o.map((e=>Xm.rtl(Ve.fromDom(e.endContainer),e.endOffset,Ve.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Jm(e,Xm.ltr,n)))}return Jm(e,Xm.ltr,n)},eh=(e,t)=>{const n=Ym(e,t);return $m(e,n)},th=(e,t)=>{const n=eh(e,t);return n.match({ltr:(t,n,o,r)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(o.dom,r),s},rtl:(t,n,o,r)=>{const s=e.document.createRange();return s.setStart(o.dom,r),s.setEnd(t.dom,n),s}})};Xm.ltr,Xm.rtl;const nh=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),oh={create:nh},rh=(e,t,n,o)=>({start:Hm.on(e,t),finish:Hm.on(n,o)}),sh={create:rh},ih=(e,t)=>{const n=th(e,t);return oh.create(Ve.fromDom(n.startContainer),n.startOffset,Ve.fromDom(n.endContainer),n.endOffset)},ah=sh.create,Ah=(e,t,n,o,r,s,i)=>Ge(n,r)&&o===s?k.none():un(n,"td,th",t).bind((n=>un(r,"td,th",t).bind((o=>lh(e,t,n,o,i))))),lh=(e,t,n,o,r)=>Ge(n,o)?k.none():ba(n,o,t).bind((t=>{const o=t.boxes.getOr([]);return o.length>1?(r(e,o,t.start,t.finish),k.some(Rm.create(k.some(ah(n,0,n,gi(n))),!0))):k.none()})),ch=(e,t,n,o,r)=>{const s=e=>(r.clearBeforeUpdate(n),r.selectRange(n,e.boxes,e.start,e.finish),e.boxes);return Ca(o,e,t,r.firstSelectedSelector,r.lastSelectedSelector).map(s)},uh=(e,t)=>({item:e,mode:t}),dh=(e,t,n,o=mh)=>e.property().parent(t).map((e=>uh(e,o))),mh=(e,t,n,o=hh)=>n.sibling(e,t).map((e=>uh(e,o))),hh=(e,t,n,o=hh)=>{const r=e.property().children(t),s=n.first(r);return s.map((e=>uh(e,o)))},gh=[{current:dh,next:mh,fallback:k.none()},{current:mh,next:hh,fallback:k.some(dh)},{current:hh,next:hh,fallback:k.some(mh)}],ph=(e,t,n,o,r=gh)=>{const s=j(r,(e=>e.current===n));return s.bind((n=>n.current(e,t,o,n.next).orThunk((()=>n.fallback.bind((n=>ph(e,t,n,o)))))))},fh=()=>{const e=(e,t)=>e.query().prevSibling(t),t=e=>e.length>0?k.some(e[e.length-1]):k.none();return{sibling:e,first:t}},bh=()=>{const e=(e,t)=>e.query().nextSibling(t),t=e=>e.length>0?k.some(e[0]):k.none();return{sibling:e,first:t}},vh={left:fh,right:bh},wh=(e,t,n,o,r,s)=>{const i=ph(e,t,o,r);return i.bind((t=>s(t.item)?k.none():n(t.item)?k.some(t.item):wh(e,t.item,n,t.mode,r,s)))},yh=(e,t,n,o)=>wh(e,t,n,mh,vh.left(),o),Bh=(e,t,n,o)=>wh(e,t,n,mh,vh.right(),o),Ch=e=>t=>0===e.property().children(t).length,xh=(e,t,n)=>Fh(e,t,Ch(e),n),Sh=(e,t,n)=>kh(e,t,Ch(e),n),Fh=yh,kh=Bh,Eh=sa(),_h=(e,t)=>xh(Eh,e,t),Oh=(e,t)=>Sh(Eh,e,t),Uh=(e,t,n)=>Fh(Eh,e,t,n),Th=(e,t,n)=>kh(Eh,e,t,n),Lh=(e,t,n)=>on(e,t,n).isSome(),Nh=Zl.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Qh=(e,t,n)=>{const o=e.getRect(t),r=e.getRect(n);return r.right>o.left&&r.left<o.right},Dh=e=>un(e,"tr"),Ih=(e,t,n,o,r,s,i)=>un(o,"td,th",i).bind((n=>un(t,"td,th",i).map((t=>Ge(n,t)?Ge(o,n)&&gi(n)===r?s(t):Nh.none("in same cell"):ga(Dh,[n,t]).fold((()=>Qh(e,t,n)?Nh.success():s(t)),(e=>s(t))))))).getOr(Nh.none("default")),Hh=(e,t,n,o,r)=>e.fold(t,n,o,r),Mh={...Nh,verify:Ih,cata:Hh},Rh=(e,t,n,o)=>({parent:e,children:t,element:n,index:o}),Ph=e=>et(e).bind((t=>{const n=st(t);return Vh(n,e).map((o=>Rh(t,n,e,o)))})),Vh=(e,t)=>z(e,y(Ge,t)),jh=Ee("br"),zh=(e,t,n)=>t(e,n).bind((e=>Se(e)&&0===di(e).trim().length?zh(e,t,n):k.some(e))),Kh=(e,t,n)=>n.traverse(t).orThunk((()=>zh(t,n.gather,e))).map(n.relative),Wh=(e,t)=>it(e,t).filter(jh).orThunk((()=>it(e,t-1).filter(jh))),Gh=(e,t,n,o)=>Wh(t,n).bind((t=>o.traverse(t).fold((()=>zh(t,o.gather,e).map(o.relative)),(e=>Ph(e).map((e=>Hm.on(e.parent,e.index))))))),qh=(e,t,n,o)=>{const r=jh(t)?Kh(e,t,o):Gh(e,t,n,o);return r.map((e=>({start:e,finish:e})))},Zh=e=>Mh.cata(e,(e=>k.none()),(()=>k.none()),(e=>k.some(Ja(e,0))),(e=>k.some(Ja(e,gi(e))))),Xh=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),Jh=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),Yh=(e,t,n)=>({left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}),$h=e=>e.top,eg=e=>e.bottom,tg=(e,t,n)=>n>=0&&n<gi(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):k.none(),ng=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),og=(e,t)=>k.some(e.getRect(t)),rg=(e,t,n)=>xe(t)?og(e,t).map(ng):Se(t)?tg(e,t,n).map(ng):k.none(),sg=(e,t)=>xe(t)?og(e,t).map(ng):Se(t)?e.getRangedRect(t,0,t,gi(t)).map(ng):k.none(),ig=5,ag=100,Ag=Zl.generate([{none:[]},{retry:["caret"]}]),lg=(e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right,cg=(e,t,n)=>rn(t,kc).fold(S,(t=>sg(e,t).exists((e=>lg(n,e))))),ug=(e,t,n,o,r)=>{const s=Xh(r,ig);return Math.abs(n.bottom-o.bottom)<1||n.top>r.bottom?Ag.retry(s):n.top===r.bottom?Ag.retry(Xh(r,1)):cg(e,t,r)?Ag.retry(Yh(s,ig,0)):Ag.none()},dg=(e,t,n,o,r)=>{const s=Jh(r,ig);return Math.abs(n.top-o.top)<1||n.bottom<r.top?Ag.retry(s):n.bottom===r.top?Ag.retry(Jh(r,1)):cg(e,t,r)?Ag.retry(Yh(s,ig,0)):Ag.none()},mg={point:$h,adjuster:dg,move:Jh,gather:_h},hg={point:eg,adjuster:ug,move:Xh,gather:Oh},gg=(e,t,n)=>e.elementFromPoint(t,n).filter((e=>"table"===we(e))).isSome(),pg=(e,t,n,o,r)=>fg(e,t,n,t.move(o,ig),r),fg=(e,t,n,o,r)=>0===r?k.some(o):gg(e,o.left,t.point(o))?pg(e,t,n,o,r-1):e.situsFromPoint(o.left,t.point(o)).bind((s=>s.start.fold(k.none,(s=>sg(e,s).bind((i=>t.adjuster(e,s,i,n,o).fold(k.none,(o=>fg(e,t,n,o,r-1))))).orThunk((()=>k.some(o)))),k.none))),bg=(e,t,n)=>e.point(t)>n.getInnerHeight()?k.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?k.some(-e.point(t)):k.none(),vg=(e,t,n)=>{const o=e.move(n,ig),r=fg(t,e,n,o,ag).getOr(o);return bg(e,r,t).fold((()=>t.situsFromPoint(r.left,e.point(r))),(n=>(t.scrollBy(0,n),t.situsFromPoint(r.left,e.point(r)-n))))},wg={tryUp:y(vg,mg),tryDown:y(vg,hg),getJumpSize:b(ig)},yg=20,Bg=(e,t,n)=>e.getSelection().bind((o=>qh(t,o.finish,o.foffset,n).fold((()=>k.some(Ja(o.finish,o.foffset))),(r=>{const s=e.fromSitus(r),i=Mh.verify(e,o.finish,o.foffset,s.finish,s.foffset,n.failure,t);return Zh(i)})))),Cg=(e,t,n,o,r,s)=>0===s?k.none():Fg(e,t,n,o,r).bind((i=>{const a=e.fromSitus(i),A=Mh.verify(e,n,o,a.finish,a.foffset,r.failure,t);return Mh.cata(A,(()=>k.none()),(()=>k.some(i)),(i=>Ge(n,i)&&0===o?xg(e,n,o,Jh,r):Cg(e,t,i,0,r,s-1)),(i=>Ge(n,i)&&o===gi(i)?xg(e,n,o,Xh,r):Cg(e,t,i,gi(i),r,s-1)))})),xg=(e,t,n,o,r)=>rg(e,t,n).bind((t=>Sg(e,r,o(t,wg.getJumpSize())))),Sg=(e,t,n)=>{const o=Vo().browser;return o.isChromium()||o.isSafari()||o.isFirefox()?t.retry(e,n):k.none()},Fg=(e,t,n,o,r)=>rg(e,n,o).bind((t=>Sg(e,r,t))),kg=(e,t,n)=>Bg(e,t,n).bind((o=>Cg(e,t,o.element,o.offset,n,yg).map(e.fromSitus))),Eg=(e,t)=>Lh(e,(e=>et(e).exists((e=>Ge(e,t))))),_g=(e,t,n,o,r)=>un(o,"td,th",t).bind((o=>un(o,"table",t).bind((s=>Eg(r,s)?kg(e,t,n).bind((e=>un(e.finish,"td,th",t).map((t=>({start:o,finish:t,range:e}))))):k.none())))),Og=(e,t,n,o,r,s)=>s(o,t).orThunk((()=>_g(e,t,n,o,r).map((e=>{const t=e.range;return Rm.create(k.some(ah(t.start,t.soffset,t.finish,t.foffset)),!0)})))),Ug=(e,t)=>un(e,"tr",t).bind((e=>un(e,"table",t).bind((n=>{const o=tn(n,"tr");return Ge(e,o[0])?Uh(n,(e=>wi(e).isSome()),t).map((e=>{const t=gi(e);return Rm.create(k.some(ah(e,t,e,t)),!0)})):k.none()})))),Tg=(e,t)=>un(e,"tr",t).bind((e=>un(e,"table",t).bind((n=>{const o=tn(n,"tr");return Ge(e,o[o.length-1])?Th(n,(e=>vi(e).isSome()),t).map((e=>Rm.create(k.some(ah(e,0,e,0)),!0))):k.none()})))),Lg=(e,t,n,o,r,s,i)=>_g(e,n,o,r,s).bind((e=>lh(t,n,e.start,e.finish,i))),Ng=e=>{let t=e;const n=()=>t,o=e=>{t=e};return{get:n,set:o}},Qg=e=>{const t=Ng(k.none()),n=()=>t.get().each(e),o=()=>{n(),t.set(k.none())},r=()=>t.get().isSome(),s=()=>t.get(),i=e=>{n(),t.set(k.some(e))};return{clear:o,isSet:r,get:s,set:i}},Dg=()=>{const e=Qg(g),t=t=>e.get().each(t);return{...e,on:t}},Ig=(e,t)=>un(e,"td,th",t),Hg=(e,t,n,o)=>{const r=Dg(),s=r.clear,i=s=>{r.on((r=>{o.clearBeforeUpdate(t),Ig(s.target,n).each((i=>{ba(r,i,n).each((n=>{const r=n.boxes.getOr([]);if(1===r.length){const n=r[0],i="false"===OA(n),a=dn(EA(s.target),n,Ge);i&&a&&(o.selectRange(t,r,n,n),e.selectContents(n))}else r.length>1&&(o.selectRange(t,r,n.start,n.finish),e.selectContents(i))}))}))}))},a=e=>{o.clear(t),Ig(e.target,n).each(r.set)},A=e=>{i(e)},l=e=>{i(e),s()};return{clearstate:s,mousedown:a,mouseover:A,mouseup:l}},Mg={traverse:rt,gather:Oh,relative:Hm.before,retry:wg.tryDown,failure:Mh.failedDown},Rg={traverse:ot,gather:_h,relative:Hm.before,retry:wg.tryUp,failure:Mh.failedUp},Pg=e=>t=>t===e,Vg=Pg(38),jg=Pg(40),zg=e=>e>=37&&e<=40,Kg={isBackward:Pg(37),isForward:Pg(39)},Wg={isBackward:Pg(39),isForward:Pg(37)},Gg=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Hr(n,o)},qg=(e,t,n)=>{const o=void 0!==n?n.dom:document,r=o.defaultView;r&&r.scrollBy(e,t)},Zg=Zl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Xg=e=>Zg.exact(e.start,e.soffset,e.finish,e.foffset),Jg=e=>e.match({domRange:e=>Ve.fromDom(e.startContainer),relative:(e,t)=>Hm.getStart(e),exact:(e,t,n,o)=>e}),Yg=Zg.domRange,$g=Zg.relative,ep=Zg.exact,tp=e=>{const t=Jg(e);return $e(t)},np=oh.create,op={domRange:Yg,relative:$g,exact:ep,exactFromRange:Xg,getWin:tp,range:np},rp=(e,t,n)=>{var o,r;return k.from(null===(r=(o=e.dom).caretPositionFromPoint)||void 0===r?void 0:r.call(o,t,n)).bind((t=>{if(null===t.offsetNode)return k.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),k.some(n)}))},sp=(e,t,n)=>{var o,r;return k.from(null===(r=(o=e.dom).caretRangeFromPoint)||void 0===r?void 0:r.call(o,t,n))},ip=(()=>document.caretPositionFromPoint?rp:document.caretRangeFromPoint?sp:k.none)(),ap=(e,t,n)=>{const o=Ve.fromDom(e.document);return ip(o,t,n).map((e=>oh.create(Ve.fromDom(e.startContainer),e.startOffset,Ve.fromDom(e.endContainer),e.endOffset)))},Ap=(e,t)=>{const n=we(e);return"input"===n?Hm.after(e):T(["br","img"],n)?0===t?Hm.before(e):Hm.after(e):Hm.on(e,t)},lp=(e,t)=>{const n=e.fold(Hm.before,Ap,Hm.after),o=t.fold(Hm.before,Ap,Hm.after);return op.relative(n,o)},cp=(e,t,n,o)=>{const r=Ap(e,t),s=Ap(n,o);return op.relative(r,s)},up=(e,t,n,o)=>{const r=Xe(e),s=r.dom.createRange();return s.setStart(e.dom,t),s.setEnd(n.dom,o),s},dp=(e,t,n,o)=>{const r=up(e,t,n,o),s=Ge(e,n)&&t===o;return r.collapsed&&!s},mp=e=>k.from(e.getSelection()),hp=(e,t)=>{mp(e).each((e=>{e.removeAllRanges(),e.addRange(t)}))},gp=(e,t,n,o,r)=>{const s=Gm(e,t,n,o,r);hp(e,s)},pp=(e,t,n,o,r,s)=>{t.collapse(n.dom,o),t.extend(r.dom,s)},fp=(e,t)=>eh(e,t).match({ltr:(t,n,o,r)=>{gp(e,t,n,o,r)},rtl:(t,n,o,r)=>{mp(e).each((s=>{if(s.setBaseAndExtent)s.setBaseAndExtent(t.dom,n,o.dom,r);else if(s.extend)try{pp(e,s,t,n,o,r)}catch(i){gp(e,o,r,t,n)}else gp(e,o,r,t,n)}))}}),bp=(e,t,n,o,r)=>{const s=cp(t,n,o,r);fp(e,s)},vp=(e,t,n)=>{const o=lp(t,n);fp(e,o)},wp=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return k.some(oh.create(Ve.fromDom(t.startContainer),t.startOffset,Ve.fromDom(n.endContainer),n.endOffset))}return k.none()},yp=e=>{if(null===e.anchorNode||null===e.focusNode)return wp(e);{const t=Ve.fromDom(e.anchorNode),n=Ve.fromDom(e.focusNode);return dp(t,e.anchorOffset,n,e.focusOffset)?k.some(oh.create(t,e.anchorOffset,n,e.focusOffset)):wp(e)}},Bp=(e,t,n=!0)=>{const o=n?Vm:Pm,r=o(e,t);hp(e,r)},Cp=e=>mp(e).filter((e=>e.rangeCount>0)).bind(yp),xp=e=>Cp(e).map((e=>op.exact(e.start,e.soffset,e.finish,e.foffset))),Sp=(e,t)=>{const n=th(e,t);return Zm(n)},Fp=(e,t,n)=>ap(e,t,n),kp=e=>{mp(e).each((e=>e.removeAllRanges()))},Ep=e=>{const t=(t,n)=>Ve.fromPoint(Ve.fromDom(e.document),t,n),n=e=>e.dom.getBoundingClientRect(),o=(t,n,o,r)=>{const s=op.exact(t,n,o,r);return Sp(e,s)},r=()=>xp(e).map((t=>ih(e,t))),s=t=>{const n=op.relative(t.start,t.finish);return ih(e,n)},i=(t,n)=>Fp(e,t,n).map((e=>sh.create(e.start,e.soffset,e.finish,e.foffset))),a=()=>{kp(e)},A=(t=!1)=>{xp(e).each((n=>n.fold((e=>e.collapse(t)),((n,o)=>{const r=t?n:o;vp(e,r,r)}),((n,o,r,s)=>{const i=t?n:r,a=t?o:s;bp(e,i,a,i,a)}))))},l=t=>{Bp(e,t,!1)},c=t=>{Bp(e,t)},u=t=>{bp(e,t.start,t.soffset,t.finish,t.foffset)},d=(t,n)=>{vp(e,t,n)},m=()=>e.innerHeight,h=()=>{const t=Gg(Ve.fromDom(e.document));return t.top},g=(t,n)=>{qg(t,n,Ve.fromDom(e.document))};return{elementFromPoint:t,getRect:n,getRangedRect:o,getSelection:r,fromSitus:s,situsFromPoint:i,clearSelection:a,collapseSelection:A,setSelection:u,setRelativeSelection:d,selectNode:l,selectContents:c,getInnerHeight:m,getScrollY:h,scrollBy:g}},_p=(e,t)=>({rows:e,cols:t}),Op=(e,t,n,o)=>{const r=Ep(e),s=Hg(r,t,n,o);return{clearstate:s.clearstate,mousedown:s.mousedown,mouseover:s.mouseover,mouseup:s.mouseup}},Up=(e,t,n,o)=>{const r=Ep(e),s=()=>(o.clear(t),k.none()),i=(e,i,a,A,l,c)=>{const u=e.raw,d=u.which,m=!0===u.shiftKey,h=va(t,o.selectedSelector).fold((()=>(zg(d)&&!m&&o.clearBeforeUpdate(t),jg(d)&&m?y(Lg,r,t,n,Mg,A,i,o.selectRange):Vg(d)&&m?y(Lg,r,t,n,Rg,A,i,o.selectRange):jg(d)?y(Og,r,n,Mg,A,i,Tg):Vg(d)?y(Og,r,n,Rg,A,i,Ug):k.none)),(e=>{const n=n=>()=>{const s=ee(n,(n=>ch(n.rows,n.cols,t,e,o)));return s.fold((()=>ya(t,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>{const n=jg(d)||c.isForward(d)?Hm.after:Hm.before;return r.setRelativeSelection(Hm.on(e.first,0),n(e.table)),o.clear(t),Rm.create(k.none(),!0)}))),(e=>k.some(Rm.create(k.none(),!0))))};return jg(d)&&m?n([_p(1,0)]):Vg(d)&&m?n([_p(-1,0)]):c.isBackward(d)&&m?n([_p(0,-1),_p(-1,0)]):c.isForward(d)&&m?n([_p(0,1),_p(1,0)]):zg(d)&&!m?s:k.none}));return h()},a=(e,r,s,i,a)=>va(t,o.selectedSelector).fold((()=>{const A=e.raw,l=A.which,c=!0===A.shiftKey;return c&&zg(l)?Ah(t,n,r,s,i,a,o.selectRange):k.none()}),k.none);return{keydown:i,keyup:a}},Tp=(e,t,n,o)=>{const r=Ep(e);return(e,s)=>{o.clearBeforeUpdate(t),ba(e,s,n).each((e=>{const n=e.boxes.getOr([]);o.selectRange(t,n,e.start,e.finish),r.selectContents(s),r.collapseSelection()}))}},Lp=(e,t)=>{const n=Le(e,t);return void 0===n||""===n?[]:n.split(" ")},Np=(e,t,n)=>{const o=Lp(e,t),r=o.concat([n]);return Oe(e,t,r.join(" ")),!0},Qp=(e,t,n)=>{const o=M(Lp(e,t),(e=>e!==n));return o.length>0?Oe(e,t,o.join(" ")):Qe(e,t),!1},Dp=e=>void 0!==e.dom.classList,Ip=e=>Lp(e,"class"),Hp=(e,t)=>Np(e,"class",t),Mp=(e,t)=>Qp(e,"class",t),Rp=(e,t)=>{Dp(e)?e.dom.classList.add(t):Hp(e,t)},Pp=e=>{const t=Dp(e)?e.dom.classList:Ip(e);0===t.length&&Qe(e,"class")},Vp=(e,t)=>{if(Dp(e)){const n=e.dom.classList;n.remove(t)}else Mp(e,t);Pp(e)},jp=(e,t)=>Dp(e)&&e.dom.classList.contains(t),zp=(e,t)=>{D(t,(t=>{Vp(e,t)}))},Kp=e=>t=>{Rp(t,e)},Wp=e=>t=>{zp(t,e)},Gp=e=>{const t=Kp(e.selected),n=Wp([e.selected,e.lastSelected,e.firstSelected]),o=t=>{const o=tn(t,e.selectedSelector);D(o,n)},r=(n,r,s,i)=>{o(n),D(r,t),Rp(s,e.firstSelected),Rp(i,e.lastSelected)};return{clearBeforeUpdate:o,clear:o,selectRange:r,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},qp=(e,t,n)=>{const o=t=>{Qe(t,e.selected),Qe(t,e.firstSelected),Qe(t,e.lastSelected)},r=t=>{Oe(t,e.selected,"1")},s=e=>{i(e),n()},i=t=>{const n=tn(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);D(n,o)},a=(n,o,i,a)=>{s(n),D(o,r),Oe(i,e.firstSelected,"1"),Oe(a,e.lastSelected,"1"),t(o,i,a)};return{clearBeforeUpdate:i,clear:s,selectRange:a,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},Zp={byClass:Gp,byAttr:qp},Xp=(e,t,n,o)=>{switch(e.tag){case"none":return t();case"single":return o(e.element);case"multiple":return n(e.elements)}},Jp=()=>({tag:"none"}),Yp=e=>({tag:"multiple",elements:e}),$p=e=>({tag:"single",element:e}),ef=(e,t,n)=>{const o=()=>xa(e(),n).fold((()=>t().fold(Jp,$p)),Yp);return{get:o}},tf=(e,t)=>{const n=e.slice(0,t[t.length-1].row+1),o=jA(n);return W(o,(e=>{const n=e.cells.slice(0,t[t.length-1].column+1);return Q(n,(e=>e.element))}))},nf=(e,t)=>{const n=e.slice(t[0].row+t[0].rowspan-1,e.length),o=jA(n);return W(o,(e=>{const n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return Q(n,(e=>e.element))}))},of=(e,t,n)=>{const o=Fr.fromTable(e),r=JA(o,t);return r.map((e=>{const t=PA(o,n,!1),{rows:r}=cr(t),s=tf(r,e),i=nf(r,e);return{upOrLeftCells:s,downOrRightCells:i}}))},rf=(e,t,n,o,r,s,i)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:s,raw:i}),sf=e=>{const t=Ve.fromDom(Kt(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=p(o,n);return rf(t,e.clientX,e.clientY,n,o,r,e)},af=(e,t)=>n=>{e(n)&&t(sf(n))},Af=(e,t,n,o,r)=>{const s=af(n,o);return e.dom.addEventListener(t,s,r),{unbind:y(cf,e,t,s,r)}},lf=(e,t,n,o)=>Af(e,t,n,o,!1),cf=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},uf=F,df=(e,t,n)=>lf(e,t,uf,n),mf=sf,hf=e=>!1===jp(Ve.fromDom(e.target),"ephox-snooker-resizer-bar"),gf=(e,t)=>{const n=ef((()=>Ve.fromDom(e.getBody())),(()=>za(Hi(e),Di(e))),Ia.selectedSelector),o=(t,n,o)=>{const r=Gn(n);r.each((r=>{const s=rd(e),i=Ui(g,Ve.fromDom(e.getDoc()),s),a=Ka(e),A=of(r,{selection:a},i);Ku(e,t,n,o,A)}))},r=()=>Wu(e),s=Zp.byAttr(Ia,o,r);e.on("init",(n=>{const o=e.getWin(),r=Qi(e),i=Di(e),a=()=>{const t=e.selection,n=Ve.fromDom(t.getStart()),o=Ve.fromDom(t.getEnd()),i=ga(Gn,[n,o]);i.fold((()=>s.clear(r)),g)},A=Op(o,r,i,s),l=Up(o,r,i,s),c=Tp(o,r,i,s),u=e=>!0===e.raw.shiftKey;e.on("TableSelectorChange",(e=>c(e.start,e.finish)));const d=(t,n)=>{u(t)&&(n.kill&&t.kill(),n.selection.each((t=>{const n=op.relative(t.start,t.finish),r=th(o,n);e.selection.setRng(r)})))},m=t=>{const n=mf(t);if(n.raw.shiftKey&&zg(n.raw.which)){const t=e.selection.getRng(),o=Ve.fromDom(t.startContainer),r=Ve.fromDom(t.endContainer);l.keyup(n,o,t.startOffset,r,t.endOffset).each((e=>{d(n,e)}))}},h=n=>{const o=mf(n);t.hide();const r=e.selection.getRng(),s=Ve.fromDom(r.startContainer),i=Ve.fromDom(r.endContainer),a=Ur(Kg,Wg)(Ve.fromDom(e.selection.getStart()));l.keydown(o,s,r.startOffset,i,r.endOffset,a).each((e=>{d(o,e)})),t.show()},p=e=>0===e.button,f=e=>void 0===e.buttons||0!==(1&e.buttons),b=e=>{A.clearstate()},v=e=>{p(e)&&hf(e)&&A.mousedown(mf(e))},w=e=>{f(e)&&hf(e)&&A.mouseover(mf(e))},y=e=>{p(e)&&hf(e)&&A.mouseup(mf(e))},B=()=>{const e=Ng(Ve.fromDom(r)),t=Ng(0),n=n=>{const o=Ve.fromDom(n.target);if(Ee("td")(o)||Ee("th")(o)){const r=e.get(),s=t.get();Ge(r,o)&&n.timeStamp-s<300&&(n.preventDefault(),c(o,o))}e.set(o),t.set(n.timeStamp)};return{touchEnd:n}},C=B();e.on("dragstart",b),e.on("mousedown",v),e.on("mouseover",w),e.on("mouseup",y),e.on("touchend",C.touchEnd),e.on("keyup",m),e.on("keydown",h),e.on("NodeChange",a)})),e.on("PreInit",(()=>{e.serializer.addTempAttr(Ia.firstSelected),e.serializer.addTempAttr(Ia.lastSelected)}));const i=e=>s.clear(Ve.fromDom(e)),a=()=>Xp(n.get(),b([]),(e=>Q(e,(e=>e.dom))),(e=>[e.dom]));return{getSelectedCells:a,clearSelectedCells:i}},pf=e=>{let t=[];const n=e=>{if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},o=e=>{t=M(t,(t=>t!==e))},r=(...n)=>{const o={};D(e,((e,t)=>{o[e]=n[t]})),D(t,(e=>{e(o)}))};return{bind:n,unbind:o,trigger:r}},ff=e=>{const t=re(e,(e=>({bind:e.bind,unbind:e.unbind}))),n=re(e,(e=>e.trigger));return{registry:t,trigger:n}},bf=(e,t)=>{let n=null;const o=()=>{l(n)||(clearTimeout(n),n=null)},r=(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)};return{cancel:o,throttle:r}},vf=e=>e.slice(0).sort(),wf=(e,t)=>{throw new Error("All required keys ("+vf(e).join(", ")+") were not specified. Specified keys were: "+vf(t).join(", ")+".")},yf=e=>{throw new Error("Unsupported keys for object: "+vf(e).join(", "))},Bf=(e,t)=>{if(!A(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");D(t,(t=>{if(!i(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))},Cf=(e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+vf(e).join(", ")+") were not.")},xf=e=>{const t=vf(e),n=j(t,((e,n)=>n<t.length-1&&e===t[n+1]));n.each((e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))},Sf=(e,t)=>Ff(e,t,{validate:m,label:"function"}),Ff=(e,t,n)=>{if(0===t.length)throw new Error("You must specify at least one required field.");return Bf("required",t),xf(t),o=>{const r=te(o),s=G(t,(e=>T(r,e)));s||wf(t,r),e(t,r);const i=M(t,(e=>!n.validate(o[e],e)));return i.length>0&&Cf(i,n.label),o}},kf=(e,t)=>{const n=M(t,(t=>!T(e,t)));n.length>0&&yf(n)},Ef=e=>Sf(kf,e),_f=Ef(["compare","extract","mutate","sink"]),Of=Ef(["element","start","stop","destroy"]),Uf=Ef(["forceDrop","drop","move","delayDrop"]),Tf=()=>{let e=k.none();const t=()=>{e=k.none()},n=(t,n)=>{const o=e.map((e=>t.compare(e,n)));return e=k.some(n),o},o=(e,t)=>{const o=t.extract(e);o.each((e=>{const o=n(t,e);o.each((e=>{r.trigger.move(e)}))}))},r=ff({move:pf(["info"])});return{onEvent:o,reset:t,events:r.registry}},Lf=()=>{const e=ff({move:pf(["info"])});return{onEvent:g,reset:g,events:e.registry}},Nf=()=>{const e=Lf(),t=Tf();let n=e;const o=()=>{n.reset(),n=t},r=()=>{n.reset(),n=e},s=(e,t)=>{n.onEvent(e,t)},i=()=>n===t;return{on:o,off:r,isOn:i,onEvent:s,events:t.events}},Qf=(e,t,n)=>{let o=!1;const r=ff({start:pf([]),stop:pf([])}),s=Nf(),i=()=>{m.stop(),s.isOn()&&(s.off(),r.trigger.stop())},a=bf(i,200),A=e=>{m.start(e),s.on(),r.trigger.start()},l=e=>{a.cancel(),s.onEvent(e,t)};s.events.move.bind((n=>{t.mutate(e,n.info)}));const c=()=>{o=!0},u=()=>{o=!1},d=e=>(...t)=>{o&&e.apply(null,t)},m=t.sink(Uf({forceDrop:i,drop:d(i),move:d(l),delayDrop:d(a.throttle)}),n),h=()=>{m.destroy()};return{element:m.element,go:A,on:c,off:u,destroy:h,events:r.registry}},Df=e=>{const t=e.replace(/\./g,"-"),n=e=>t+"-"+e;return{resolve:n}},If=Df("ephox-dragster"),Hf=If.resolve,Mf=e=>{const t={layerClass:Hf("blocker"),...e},n=Ve.fromTag("div");Oe(n,"role","presentation"),En(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Rp(n,Hf("blocker")),Rp(n,t.layerClass);const o=b(n),r=()=>{ft(n)};return{element:o,destroy:r}},Rf=(e,t)=>Hr(t.left-e.left,t.top-e.top),Pf=e=>k.some(Hr(e.x,e.y)),Vf=(e,t)=>{e.mutate(t.left,t.top)},jf=(e,t)=>{const n=Mf(t),o=df(n.element(),"mousedown",e.forceDrop),r=df(n.element(),"mouseup",e.drop),s=df(n.element(),"mousemove",e.move),i=df(n.element(),"mouseout",e.delayDrop),a=()=>{n.destroy(),r.unbind(),s.unbind(),i.unbind(),o.unbind()},A=e=>{ut(e,n.element())},l=()=>{ft(n.element())};return Of({element:n.element,start:A,stop:l,destroy:a})};var zf=_f({compare:Rf,extract:Pf,sink:jf,mutate:Vf});const Kf=(e,t={})=>{var n;const o=null!==(n=t.mode)&&void 0!==n?n:zf;return Qf(e,o,t)},Wf=Df("ephox-snooker"),Gf=Wf.resolve,qf=()=>{const e=ff({drag:pf(["xDelta","yDelta"])}),t=(t,n)=>{e.trigger.drag(t,n)};return{mutate:t,events:e.registry}},Zf=()=>{const e=ff({drag:pf(["xDelta","yDelta","target"])});let t=k.none();const n=qf();n.events.drag.bind((n=>{t.each((t=>{e.trigger.drag(n.xDelta,n.yDelta,t)}))}));const o=e=>{t=k.some(e)},r=()=>t;return{assign:o,get:r,mutate:n.mutate,events:e.registry}},Xf=(e,t,n,o,r)=>{const s=Ve.fromTag("div");return En(s,{position:"absolute",left:t-o/2+"px",top:n+"px",height:r+"px",width:o+"px"}),Ue(s,{"data-column":e,role:"presentation"}),s},Jf=(e,t,n,o,r)=>{const s=Ve.fromTag("div");return En(s,{position:"absolute",left:t+"px",top:n-r/2+"px",height:r+"px",width:o+"px"}),Ue(s,{"data-row":e,role:"presentation"}),s},Yf=Gf("resizer-bar"),$f=Gf("resizer-rows"),eb=Gf("resizer-cols"),tb=7,nb=(e,t)=>W(e.all,((e,n)=>t(e.element)?[n]:[])),ob=(e,t)=>{const n=[];return N(e.grid.columns,(o=>{const r=Fr.getColumnAt(e,o).map((e=>e.element));r.forall(t)&&n.push(o)})),M(n,(n=>{const o=Fr.filterItems(e,(e=>e.column===n));return G(o,(e=>t(e.element)))}))},rb=e=>{const t=tn(e.parent(),"."+Yf);D(t,ft)},sb=(e,t,n)=>{const o=e.origin();D(t,(t=>{t.each((t=>{const r=n(o,t);Rp(r,Yf),ut(e.parent(),r)}))}))},ib=(e,t,n,o)=>{sb(e,t,((e,t)=>{const r=Xf(t.col,t.x-e.left,n.top-e.top,tb,o);return Rp(r,eb),r}))},ab=(e,t,n,o)=>{sb(e,t,((e,t)=>{const r=Jf(t.row,n.left-e.left,t.y-e.top,o,tb);return Rp(r,$f),r}))},Ab=(e,t,n,o,r)=>{const s=Pr(n),i=t.isResizable,a=o.length>0?es.positions(o,n):[],A=a.length>0?nb(e,i):[],l=M(a,((e,t)=>L(A,(e=>t===e))));ab(t,l,s,$o(n));const c=r.length>0?rs.positions(r,n):[],u=c.length>0?ob(e,i):[],d=M(c,((e,t)=>L(u,(e=>t===e))));ib(t,d,s,Qr(n))},lb=(e,t)=>{if(rb(e),e.isResizable(t)){const n=Fr.fromTable(t),o=_r(n),r=kr(n);Ab(n,e,t,o,r)}},cb=(e,t)=>{const n=tn(e.parent(),"."+Yf);D(n,t)},ub=e=>{cb(e,(e=>{kn(e,"display","none")}))},db=e=>{cb(e,(e=>{kn(e,"display","block")}))},mb=e=>jp(e,$f),hb=e=>jp(e,eb),gb=Gf("resizer-bar-dragging"),pb=e=>{const t=Zf(),n=Kf(t,{});let o=k.none();const r=(e,t)=>k.from(Le(e,t));t.events.drag.bind((e=>{r(e.target,"data-row").each((t=>{const n=Hn(e.target,"top");kn(e.target,"top",n+e.yDelta+"px")})),r(e.target,"data-column").each((t=>{const n=Hn(e.target,"left");kn(e.target,"left",n+e.xDelta+"px")}))}));const s=(e,t)=>{const n=Hn(e,t),o=Nn(e,"data-initial-"+t,0);return n-o};n.events.stop.bind((()=>{t.get().each((t=>{o.each((n=>{r(t,"data-row").each((e=>{const o=s(t,"top");Qe(t,"data-initial-top"),m.trigger.adjustHeight(n,o,parseInt(e,10))})),r(t,"data-column").each((e=>{const o=s(t,"left");Qe(t,"data-initial-left"),m.trigger.adjustWidth(n,o,parseInt(e,10))})),lb(e,n)}))}))}));const i=(o,r)=>{m.trigger.startAdjust(),t.assign(o),Oe(o,"data-initial-"+r,Hn(o,r)),Rp(o,gb),kn(o,"opacity","0.2"),n.go(e.parent())},a=df(e.parent(),"mousedown",(e=>{mb(e.target)&&i(e.target,"top"),hb(e.target)&&i(e.target,"left")})),A=t=>Ge(t,e.view()),l=e=>un(e,"table",A).filter(_A),c=df(e.view(),"mouseover",(t=>{l(t.target).fold((()=>{Gt(t.target)&&rb(e)}),(t=>{o=k.some(t),lb(e,t)}))})),u=()=>{a.unbind(),c.unbind(),n.destroy(),rb(e)},d=t=>{lb(e,t)},m=ff({adjustHeight:pf(["table","delta","row"]),adjustWidth:pf(["table","delta","column"]),startAdjust:pf([])});return{destroy:u,refresh:d,on:n.on,off:n.off,hideBars:y(ub,e),showBars:y(db,e),events:m.registry}},fb=(e,t,n)=>{const o=es,r=rs,s=pb(e),i=ff({beforeResize:pf(["table","type"]),afterResize:pf(["table","type"]),startDrag:pf([])});return s.events.adjustHeight.bind((e=>{const t=e.table;i.trigger.beforeResize(t,"row");const n=o.delta(e.delta,t);lc(t,n,e.row,o),i.trigger.afterResize(t,"row")})),s.events.startAdjust.bind((e=>{i.trigger.startDrag()})),s.events.adjustWidth.bind((e=>{const o=e.table;i.trigger.beforeResize(o,"col");const s=r.delta(e.delta,o),a=n(o);Ac(o,s,e.column,t,a),i.trigger.afterResize(o,"col")})),{on:s.on,off:s.off,refreshBars:s.refresh,hideBars:s.hideBars,showBars:s.showBars,destroy:s.destroy,events:i.registry}},bb={create:fb},vb=(e,t)=>{const n=Fe(e)?Ye(e):e;return{parent:b(n),view:b(e),origin:b(Hr(0,0)),isResizable:t}},wb=(e,t,n)=>{const o=()=>Pr(t);return{parent:b(t),view:b(e),origin:o,isResizable:n}},yb=(e,t,n)=>({parent:b(t),view:b(e),origin:b(Hr(0,0)),isResizable:n}),Bb={only:vb,detached:wb,body:yb},Cb=()=>{const e=Ve.fromTag("div");return En(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ut(qt(),e),e},xb=(e,t)=>e.inline?Bb.body(Ve.fromDom(e.getBody()),Cb(),t):Bb.only(Ve.fromDom(e.getDoc()),t),Sb=(e,t)=>{e.inline&&ft(t.parent())},Fb=e=>d(e)&&"TABLE"===e.tagName,kb="bar-",Eb=e=>"false"!==Le(e,"data-mce-resize"),_b=e=>{const t=Fr.fromTable(e);Fr.hasColumns(t)||D(Kn(e),(e=>{const t=_n(e,"width");kn(e,"width",t),Qe(e,"width")}))},Ob=e=>{const t=Dg(),n=Dg(),o=Dg();let r,s;const i=t=>vd(e,t),a=()=>Ad(e)?uA():cA(),A=e=>dA(e).columns,l=(t,n,o)=>{const l=vn(n,"e");if(""===s&&Xd(t),o!==r&&""!==s){kn(t,"width",s);const n=a(),c=i(t),u=Ad(e)||l?A(t)-1:0;Ac(t,o-r,u,n,c)}else if(Vi(s)){const e=parseFloat(s.replace("%","")),n=o*e/r;kn(t,"width",n+"%")}ji(s)&&_b(t)},c=()=>{n.on((e=>{e.destroy()})),o.on((t=>{Sb(e,t)}))};e.on("init",(()=>{const r=xb(e,Eb);if(o.set(r),sd(e)&&hd(e)){const o=a(),s=bb.create(r,o,i);s.on(),s.events.startDrag.bind((n=>{t.set(e.selection.getRng())})),s.events.beforeResize.bind((t=>{const n=t.table.dom;Gu(e,n,Mi(n),Ri(n),kb+t.type)})),s.events.afterResize.bind((n=>{const o=n.table,r=o.dom;Ii(o),t.on((t=>{e.selection.setRng(t),e.focus()})),qu(e,r,Mi(r),Ri(r),kb+n.type),e.undoManager.add()})),n.set(s)}})),e.on("ObjectResizeStart",(t=>{const n=t.target;if(Fb(n)){const o=Ve.fromDom(n);D(e.dom.select(".mce-clonedresizable"),(t=>{e.dom.addClass(t,"mce-"+ad(e)+"-columns")})),!Gd(o)&&dd(e)?Jd(o):!Wd(o)&&ud(e)&&Xd(o),qd(o)&&bn(t.origin,kb)&&Xd(o),r=t.width,s=md(e)?"":Pi(e,n).getOr("")}})),e.on("ObjectResized",(t=>{const n=t.target;if(Fb(n)){const o=Ve.fromDom(n),r=t.origin;bn(r,"corner-")&&l(o,r,t.width),Ii(o),zu(e,o.dom,Zu)}})),e.on("SwitchMode",(()=>{n.on((t=>{e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),e.on("remove",(()=>{c()}));const u=e=>{n.on((t=>t.refreshBars(Ve.fromDom(e))))},d=()=>{n.on((e=>e.hideBars()))},m=()=>{n.on((e=>e.showBars()))};return{refresh:u,hide:d,show:m}},Ub=e=>{od(e);const t=Ob(e),n=gf(e,t),o=wd(e,t,n);return Om(e,o),Um(e,o),Xa(e,o),{getSelectedCells:n.getSelectedCells,clearSelectedCells:n.clearSelectedCells}},Tb=e=>{const t=Ub(e);return{table:t}};var Lb=()=>{e.add("dom",Tb)};Lb()})()},3847:function(e,t,n){n(1148)},1148:function(){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t)=>{e.focus(),e.undoManager.transact((()=>{e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()},n=e=>e.getContent({source_view:!0}),o=e=>{const o=n(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:o},onSubmit:n=>{t(e,n.getData().code),n.close()}})},r=e=>{e.addCommand("mceCodeEditor",(()=>{o(e)}))},s=e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})};var i=()=>{e.add("code",(e=>(r(e),s(e),{})))};i()})()},9311:function(e,t,n){n(2612)},2612:function(){(function(){"use strict";const e=e=>{let t=e;const n=()=>t,o=e=>{t=e};return{get:n,set:o}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>({isFullscreen:()=>null!==e.get()}),o=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},r=e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&o(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t},s=e=>t=>r(t)===e,i=e=>t=>typeof t===e,a=e=>t=>e===t,A=s("string"),l=s("array"),c=a(null),u=i("boolean"),d=e=>null===e||void 0===e,m=e=>!d(e),h=i("function"),g=i("number"),p=()=>{},f=(e,t)=>(...n)=>e(t.apply(null,n)),b=(e,t)=>n=>e(t(n)),v=e=>()=>e;function w(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const y=v(!1),B=v(!0);class C{constructor(e,t){this.tag=e,this.value=t}static some(e){return new C(!0,e)}static none(){return C.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?C.some(e(this.value)):C.none()}bind(e){return this.tag?e(this.value):C.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:C.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return m(e)?C.some(e):C.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}C.singletonNone=new C(!1);const x=t=>{const n=e(C.none()),o=()=>n.get().each(t),r=()=>{o(),n.set(C.none())},s=()=>n.get().isSome(),i=()=>n.get(),a=e=>{o(),n.set(C.some(e))};return{clear:r,isSet:s,get:i,set:a}},S=()=>x((e=>e.unbind())),F=()=>{const e=x(p),t=t=>e.get().each(t);return{...e,on:t}},k=(e,t)=>{let n=null;const o=()=>{c(n)||(clearTimeout(n),n=null)},r=(...o)=>{c(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))};return{cancel:o,throttle:r}},E=Array.prototype.push,_=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},O=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},U=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},T=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return C.some(r);if(n(r,o))break}return C.none()},L=(e,t)=>T(e,t,y),N=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);E.apply(t,e[n])}return t},Q=(e,t)=>N(_(e,t)),D=(e,t)=>t>=0&&t<e.length?C.some(e[t]):C.none(),I=e=>D(e,0),H=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return C.none()},M=Object.keys,R=(e,t)=>{const n=M(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],s=e[r];t(s,r)}},P=(e,t)=>-1!==e.indexOf(t),V=e=>void 0!==e.style&&h(e.style.getPropertyValue),j=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return W(o.childNodes[0])},z=(e,t)=>{const n=t||document,o=n.createElement(e);return W(o)},K=(e,t)=>{const n=t||document,o=n.createTextNode(e);return W(o)},W=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},G=(e,t,n)=>C.from(e.dom.elementFromPoint(t,n)).map(W),q={fromHtml:j,fromTag:z,fromText:K,fromDom:W,fromPoint:G};"undefined"!==typeof window?window:Function("return this;")();const Z=9,X=11,J=1,Y=3,$=e=>e.dom.nodeType,ee=e=>t=>$(t)===e,te=ee(J),ne=ee(Y),oe=ee(Z),re=ee(X),se=(e,t)=>{const n=e.dom;if(n.nodeType!==J)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},ie=e=>e.nodeType!==J&&e.nodeType!==Z&&e.nodeType!==X||0===e.childElementCount,ae=(e,t)=>{const n=void 0===t?document:t.dom;return ie(n)?[]:_(n.querySelectorAll(e),q.fromDom)},Ae=(e,t)=>e.dom===t.dom,le=e=>q.fromDom(e.dom.ownerDocument),ce=e=>oe(e)?e:le(e),ue=e=>C.from(e.dom.parentNode).map(q.fromDom),de=(e,t)=>{const n=h(t)?t:y;let o=e.dom;const r=[];while(null!==o.parentNode&&void 0!==o.parentNode){const e=o.parentNode,t=q.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},me=e=>{const t=t=>U(t,(t=>!Ae(e,t)));return ue(e).map(he).map(t).getOr([])},he=e=>_(e.dom.childNodes,q.fromDom),ge=e=>re(e)&&m(e.dom.host),pe=h(Element.prototype.attachShadow)&&h(Node.prototype.getRootNode),fe=v(pe),be=pe?e=>q.fromDom(e.dom.getRootNode()):ce,ve=e=>{const t=be(e);return ge(t)?C.some(t):C.none()},we=e=>q.fromDom(e.dom.host),ye=e=>{if(fe()&&m(e.target)){const t=q.fromDom(e.target);if(te(t)&&Be(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return I(t)}}return C.from(e.target)},Be=e=>m(e.dom.shadowRoot),Ce=e=>{const t=ne(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return ve(q.fromDom(t)).fold((()=>n.body.contains(t)),b(Ce,we))},xe=e=>{const t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return q.fromDom(t)},Se=(e,t,n)=>{if(!(A(n)||u(n)||g(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Fe=(e,t,n)=>{Se(e.dom,t,n)},ke=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Ee=(e,t)=>{e.dom.removeAttribute(t)},_e=(e,t,n)=>{if(!A(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);V(e)&&e.style.setProperty(t,n)},Oe=(e,t)=>{const n=e.dom;R(t,((e,t)=>{_e(n,t,e)}))},Ue=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n),r=o.getPropertyValue(t);return""!==r||Ce(e)?r:Te(n,t)},Te=(e,t)=>V(e)?e.style.getPropertyValue(t):"",Le=(e,t,n,o,r,s,i)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:s,raw:i}),Ne=e=>{const t=q.fromDom(ye(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=f(o,n);return Le(t,e.clientX,e.clientY,n,o,r,e)},Qe=(e,t)=>n=>{e(n)&&t(Ne(n))},De=(e,t,n,o,r)=>{const s=Qe(n,o);return e.dom.addEventListener(t,s,r),{unbind:w(He,e,t,s,r)}},Ie=(e,t,n,o)=>De(e,t,n,o,!1),He=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Me=B,Re=(e,t,n)=>Ie(e,t,Me,n),Pe=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Ve=(e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!r,i=e.isiOS()||e.isAndroid(),a=i||o("(pointer:coarse)"),A=r||!s&&i&&o("(min-device-width:768px)"),l=s||i&&!A,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!l&&!A&&!c;return{isiPad:v(r),isiPhone:v(s),isTablet:v(A),isPhone:v(l),isTouch:v(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:v(c),isDesktop:v(u)}},je=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}},ze=(e,t)=>{const n=je(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Ge(o(1),o(2))},Ke=(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?We():ze(e,n)},We=()=>Ge(0,0),Ge=(e,t)=>({major:e,minor:t}),qe={nu:Ge,detect:Ke,unknown:We},Ze=(e,t)=>H(t.brands,(t=>{const n=t.brand.toLowerCase();return L(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:qe.nu(parseInt(t.version,10),0)})))})),Xe=(e,t)=>{const n=String(t).toLowerCase();return L(e,(e=>e.search(n)))},Je=(e,t)=>Xe(e,t).map((e=>{const n=qe.detect(e.versionRegexes,t);return{current:e.name,version:n}})),Ye=(e,t)=>Xe(e,t).map((e=>{const n=qe.detect(e.versionRegexes,t);return{current:e.name,version:n}})),$e=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,et=e=>t=>P(t,e),tt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>P(e,"edge/")&&P(e,"chrome")&&P(e,"safari")&&P(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,$e],search:e=>P(e,"chrome")&&!P(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>P(e,"msie")||P(e,"trident")},{name:"Opera",versionRegexes:[$e,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:et("firefox")},{name:"Safari",versionRegexes:[$e,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(P(e,"safari")||P(e,"mobile/"))&&P(e,"applewebkit")}],nt=[{name:"Windows",search:et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>P(e,"iphone")||P(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:et("linux"),versionRegexes:[]},{name:"Solaris",search:et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ot={browsers:v(tt),oses:v(nt)},rt="Edge",st="Chromium",it="IE",at="Opera",At="Firefox",lt="Safari",ct=()=>ut({current:void 0,version:qe.unknown()}),ut=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(rt),isChromium:o(st),isIE:o(it),isOpera:o(at),isFirefox:o(At),isSafari:o(lt)}},dt={unknown:ct,nu:ut,edge:v(rt),chromium:v(st),ie:v(it),opera:v(at),firefox:v(At),safari:v(lt)},mt="Windows",ht="iOS",gt="Android",pt="Linux",ft="macOS",bt="Solaris",vt="FreeBSD",wt="ChromeOS",yt=()=>Bt({current:void 0,version:qe.unknown()}),Bt=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(mt),isiOS:o(ht),isAndroid:o(gt),isMacOS:o(ft),isLinux:o(pt),isSolaris:o(bt),isFreeBSD:o(vt),isChromeOS:o(wt)}},Ct={unknown:yt,nu:Bt,windows:v(mt),ios:v(ht),android:v(gt),linux:v(pt),macos:v(ft),solaris:v(bt),freebsd:v(vt),chromeos:v(wt)},xt=(e,t,n)=>{const o=ot.browsers(),r=ot.oses(),s=t.bind((e=>Ze(o,e))).orThunk((()=>Je(o,e))).fold(dt.unknown,dt.nu),i=Ye(r,e).fold(Ct.unknown,Ct.nu),a=Ve(i,s,e,n);return{browser:s,os:i,deviceType:a}},St={detect:xt},Ft=e=>window.matchMedia(e).matches;let kt=Pe((()=>St.detect(navigator.userAgent,C.from(navigator.userAgentData),Ft)));const Et=()=>kt(),_t=(e,t)=>{const n=(n,o)=>_t(e+n,t+o);return{left:e,top:t,translate:n}},Ot=_t,Ut=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Ot(n,o)},Tt=e=>{const t=void 0===e?window:e;return Et().browser.isFirefox()?C.none():C.from(t.visualViewport)},Lt=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Nt=e=>{const t=void 0===e?window:e,n=t.document,o=Ut(q.fromDom(n));return Tt(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Lt(o.left,o.top,n,r)}),(e=>Lt(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},Qt=(e,t,n)=>Tt(n).map((n=>{const o=e=>t(Ne(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}})).getOrThunk((()=>({unbind:p})));var Dt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),It=tinymce.util.Tools.resolve("tinymce.Env");const Ht=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},Mt=e=>t=>t.options.get(e),Rt=e=>{const t=e.options.register;t("fullscreen_native",{processor:"boolean",default:!1})},Pt=Mt("fullscreen_native"),Vt=e=>{const t=q.fromDom(e.getElement());return ve(t).map(we).getOrThunk((()=>xe(le(t))))},jt=e=>void 0!==e.fullscreenElement?e.fullscreenElement:void 0!==e.msFullscreenElement?e.msFullscreenElement:void 0!==e.webkitFullscreenElement?e.webkitFullscreenElement:null,zt=()=>void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",Kt=e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()},Wt=e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()},Gt=e=>e.dom===jt(le(e).dom),qt=(e,t,n)=>U(de(e,n),t),Zt=(e,t)=>U(me(e),t),Xt=e=>ae(e),Jt=(e,t,n)=>qt(e,(e=>se(e,t)),n),Yt=(e,t)=>Zt(e,(e=>se(e,t))),$t="data-ephox-mobile-fullscreen-style",en="display:none!important;",tn="position:absolute!important;",nn="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",on="background-color:rgb(255,255,255)!important;",rn=It.os.isAndroid(),sn=e=>{const t=Ue(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":on},an=(e,t,n)=>{const o=e=>Yt(e,"*:not(.tox-silver-sink)"),r=t=>n=>{const o=ke(n,"style"),r=void 0===o?"no-styles":o.trim();r!==t&&(Fe(n,$t,r),Oe(n,e.parseStyle(t)))},s=Jt(t,"*"),i=Q(s,o),a=sn(n);O(i,r(en)),O(s,r(tn+nn+a));const A=!0===rn?"":tn;r(A+nn+a)(t)},An=e=>{const t=Xt("["+$t+"]");O(t,(t=>{const n=ke(t,$t);"no-styles"!==n?Oe(t,e.parseStyle(n)):Ee(t,"style"),Ee(t,$t)}))},ln=Dt.DOM,cn=()=>Nt(window),un=e=>window.scrollTo(e.x,e.y),dn=Tt().fold((()=>({bind:p,unbind:p})),(e=>{const t=F(),n=S(),o=S(),r=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},s=()=>{window.requestAnimationFrame((()=>{t.on((t=>Oe(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})))}))},i=k((()=>{r(),s()}),50),a=e=>{t.set(e),i.throttle(),n.set(Qt("resize",i.throttle)),o.set(Qt("scroll",i.throttle))},A=()=>{t.on((()=>{n.clear(),o.clear()})),t.clear()};return{bind:a,unbind:A}})),mn=(e,t)=>{const n=document.body,o=document.documentElement,r=e.getContainer(),s=q.fromDom(r),i=Vt(e),a=t.get(),A=q.fromDom(e.getBody()),l=It.deviceType.isTouch(),c=r.style,u=e.iframeElement,d=u.style,m=e=>{e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),e(r,"tox-fullscreen"),ve(s).map((e=>we(e).dom)).each((t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},h=()=>{l&&An(e.dom),m(ln.removeClass),dn.unbind(),C.from(t.get()).each((e=>e.fullscreenChangeHandler.unbind()))};if(a)a.fullscreenChangeHandler.unbind(),Pt(e)&&Gt(i)&&Wt(le(i)),d.width=a.iframeWidth,d.height=a.iframeHeight,c.width=a.containerWidth,c.height=a.containerHeight,c.top=a.containerTop,c.left=a.containerLeft,h(),un(a.scrollPos),t.set(null),Ht(e,!1),e.off("remove",h);else{const n=Re(le(i),zt(),(n=>{Pt(e)&&(Gt(i)||null===t.get()||mn(e,t))})),o={scrollPos:cn(),containerWidth:c.width,containerHeight:c.height,containerTop:c.top,containerLeft:c.left,iframeWidth:d.width,iframeHeight:d.height,fullscreenChangeHandler:n};l&&an(e.dom,s,A),d.width=d.height="100%",c.width=c.height="",m(ln.addClass),dn.bind(s),e.on("remove",h),t.set(o),Pt(e)&&Kt(i),Ht(e,!0)}},hn=(e,t)=>{e.addCommand("mceFullScreen",(()=>{mn(e,t)}))},gn=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)},pn=(e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:gn(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:gn(e,t)})};var fn=()=>{t.add("fullscreen",(t=>{const o=e(null);return t.inline||(Rt(t),hn(t,o),pn(t,o),t.addShortcut("Meta+Shift+F","","mceFullScreen")),n(o)}))};fn()})()},5791:function(e,t,n){n(2564)},2564:function(){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=Object.getPrototypeOf,n=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},o=e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&n(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t},r=e=>t=>o(t)===e,s=e=>t=>typeof t===e,i=e=>t=>e===t,a=(e,o)=>l(e)&&n(e,o,((e,n)=>t(e)===n)),A=r("string"),l=r("object"),c=e=>a(e,Object),u=r("array"),d=i(null),m=s("boolean"),h=e=>null===e||void 0===e,g=e=>!h(e),p=s("function"),f=s("number"),b=(e,t)=>{if(u(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},v=()=>{};class w{constructor(e,t){this.tag=e,this.value=t}static some(e){return new w(!0,e)}static none(){return w.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?w.some(e(this.value)):w.none()}bind(e){return this.tag?e(this.value):w.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:w.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return g(e)?w.some(e):w.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}w.singletonNone=new w(!1);const y=Object.keys,B=Object.hasOwnProperty,C=(e,t)=>{const n=y(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],s=e[r];t(s,r)}},x=e=>(t,n)=>{e[n]=t},S=(e,t,n,o)=>{const r={};return C(e,((e,r)=>{(t(e,r)?n:o)(e,r)})),r},F=(e,t)=>{const n={};return S(e,t,x(n),v),n},k=(e,t)=>B.call(e,t),E=(e,t)=>k(e,t)&&void 0!==e[t]&&null!==e[t],_=Array.prototype.push,O=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);_.apply(t,e[n])}return t},U=(e,t)=>t>=0&&t<e.length?w.some(e[t]):w.none(),T=e=>U(e,0),L=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return w.none()};"undefined"!==typeof window?window:Function("return this;")();const N=(e,t,n)=>{if(!(A(n)||m(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Q=(e,t,n)=>{N(e.dom,t,n)},D=(e,t)=>{e.dom.removeAttribute(t)},I=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return R(o.childNodes[0])},H=(e,t)=>{const n=t||document,o=n.createElement(e);return R(o)},M=(e,t)=>{const n=t||document,o=n.createTextNode(e);return R(o)},R=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},P=(e,t,n)=>w.from(e.dom.elementFromPoint(t,n)).map(R),V={fromHtml:I,fromTag:H,fromText:M,fromDom:R,fromPoint:P};var j=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),z=tinymce.util.Tools.resolve("tinymce.util.URI");const K=e=>e.length>0,W=e=>t=>t.options.get(e),G=e=>{const t=e.options.register;t("image_dimensions",{processor:"boolean",default:!0}),t("image_advtab",{processor:"boolean",default:!1}),t("image_uploadtab",{processor:"boolean",default:!0}),t("image_prepend_url",{processor:"string",default:""}),t("image_class_list",{processor:"object[]"}),t("image_description",{processor:"boolean",default:!0}),t("image_title",{processor:"boolean",default:!1}),t("image_caption",{processor:"boolean",default:!1}),t("image_list",{processor:e=>{const t=!1===e||A(e)||b(e,l)||p(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},q=W("image_dimensions"),Z=W("image_advtab"),X=W("image_uploadtab"),J=W("image_prepend_url"),Y=W("image_class_list"),$=W("image_description"),ee=W("image_title"),te=W("image_caption"),ne=W("image_list"),oe=W("a11y_advanced_options"),re=W("automatic_uploads"),se=e=>K(e.options.get("images_upload_url")),ie=e=>g(e.options.get("images_upload_handler")),ae=(e,t)=>Math.max(parseInt(e,10),parseInt(t,10)),Ae=e=>new Promise((t=>{const n=document.createElement("img"),o=e=>{n.onload=n.onerror=null,n.parentNode&&n.parentNode.removeChild(n),t(e)};n.onload=()=>{const e=ae(n.width,n.clientWidth),t=ae(n.height,n.clientHeight),r={width:e,height:t};o(Promise.resolve(r))},n.onerror=()=>{o(Promise.reject(`Failed to get image dimensions for: ${e}`))};const r=n.style;r.visibility="hidden",r.position="fixed",r.bottom=r.left="0px",r.width=r.height="auto",document.body.appendChild(n),n.src=e})),le=e=>(e&&(e=e.replace(/px$/,"")),e),ce=e=>(e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e),ue=e=>{if(e.margin){const t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},de=(e,t)=>{const n=ne(e);A(n)?fetch(n).then((e=>{e.ok&&e.json().then(t)})):p(n)?n(t):t(n)},me=(e,t,n)=>{const o=()=>{n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=()=>{t.width||t.height||!q(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),o()},n.onerror=o},he=e=>new Promise(((t,n)=>{const o=new FileReader;o.onload=()=>{t(o.result)},o.onerror=()=>{n(o.error.message)},o.readAsDataURL(e)})),ge=e=>"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder")),pe=(e,t)=>{const n=e.options.get;return z.isDomSafe(t,"img",{allow_html_data_urls:n("allow_html_data_urls"),allow_script_urls:n("allow_script_urls"),allow_svg_data_urls:n("allow_svg_data_urls")})},fe=j.DOM,be=e=>e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?le(e.style.marginLeft):"",ve=e=>e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?le(e.style.marginTop):"",we=e=>e.style.borderWidth?le(e.style.borderWidth):"",ye=(e,t)=>e.hasAttribute(t)?e.getAttribute(t):"",Be=(e,t)=>e.style[t]?e.style[t]:"",Ce=e=>null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName,xe=(e,t,n)=>{""===n?e.removeAttribute(t):e.setAttribute(t,n)},Se=e=>{const t=fe.create("figure",{class:"image"});fe.insertAfter(t,e),t.appendChild(e),t.appendChild(fe.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"},Fe=e=>{const t=e.parentNode;fe.insertAfter(e,t),fe.remove(t)},ke=e=>{Ce(e)?Fe(e):Se(e)},Ee=(e,t)=>{const n=e.getAttribute("style"),o=t(null!==n?n:"");o.length>0?(e.setAttribute("style",o),e.setAttribute("data-mce-style",o)):e.removeAttribute("style")},_e=(e,t)=>(e,n,o)=>{e.style[n]?(e.style[n]=ce(o),Ee(e,t)):xe(e,n,o)},Oe=(e,t)=>e.style[t]?le(e.style[t]):ye(e,t),Ue=(e,t)=>{const n=ce(t);e.style.marginLeft=n,e.style.marginRight=n},Te=(e,t)=>{const n=ce(t);e.style.marginTop=n,e.style.marginBottom=n},Le=(e,t)=>{const n=ce(t);e.style.borderWidth=n},Ne=(e,t)=>{e.style.borderStyle=t},Qe=e=>Be(e,"borderStyle"),De=e=>"FIGURE"===e.nodeName,Ie=e=>"IMG"===e.nodeName,He=e=>0===fe.getAttrib(e,"alt").length&&"presentation"===fe.getAttrib(e,"role"),Me=e=>He(e)?"":ye(e,"alt"),Re=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Pe=(e,t)=>{const n=document.createElement("img");return xe(n,"style",t.style),(be(n)||""!==t.hspace)&&Ue(n,t.hspace),(ve(n)||""!==t.vspace)&&Te(n,t.vspace),(we(n)||""!==t.border)&&Le(n,t.border),(Qe(n)||""!==t.borderStyle)&&Ne(n,t.borderStyle),e(n.getAttribute("style"))},Ve=(e,t)=>{const n=document.createElement("img");if(qe(e,{...t,caption:!1},n),Ke(n,t.alt,t.isDecorative),t.caption){const e=fe.create("figure",{class:"image"});return e.appendChild(n),e.appendChild(fe.create("figcaption",{contentEditable:"true"},"Caption")),e.contentEditable="false",e}return n},je=(e,t)=>({src:ye(t,"src"),alt:Me(t),title:ye(t,"title"),width:Oe(t,"width"),height:Oe(t,"height"),class:ye(t,"class"),style:e(ye(t,"style")),caption:Ce(t),hspace:be(t),vspace:ve(t),border:we(t),borderStyle:Be(t,"borderStyle"),isDecorative:He(t)}),ze=(e,t,n,o,r)=>{n[o]!==t[o]&&r(e,o,n[o])},Ke=(e,t,n)=>{if(n){fe.setAttrib(e,"role","presentation");const t=V.fromDom(e);Q(t,"alt","")}else{if(d(t)){const t=V.fromDom(e);D(t,"alt")}else{const n=V.fromDom(e);Q(n,"alt",t)}"presentation"===fe.getAttrib(e,"role")&&fe.setAttrib(e,"role","")}},We=(e,t,n)=>{n.alt===t.alt&&n.isDecorative===t.isDecorative||Ke(e,n.alt,n.isDecorative)},Ge=(e,t)=>(n,o,r)=>{e(n,r),Ee(n,t)},qe=(e,t,n)=>{const o=je(e,n);ze(n,o,t,"caption",((e,t,n)=>ke(e))),ze(n,o,t,"src",xe),ze(n,o,t,"title",xe),ze(n,o,t,"width",_e("width",e)),ze(n,o,t,"height",_e("height",e)),ze(n,o,t,"class",xe),ze(n,o,t,"style",Ge(((e,t)=>xe(e,"style",t)),e)),ze(n,o,t,"hspace",Ge(Ue,e)),ze(n,o,t,"vspace",Ge(Te,e)),ze(n,o,t,"border",Ge(Le,e)),ze(n,o,t,"borderStyle",Ge(Ne,e)),We(n,o,t)},Ze=(e,t)=>{const n=e.dom.styles.parse(t),o=ue(n),r=e.dom.styles.parse(e.dom.styles.serialize(o));return e.dom.styles.serialize(r)},Xe=e=>{const t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||ge(t))?null:t},Je=(e,t)=>{const n=e.dom,o=F(e.schema.getTextBlockElements(),((t,n)=>!e.schema.isValidChild(n,"figure"))),r=n.getParent(t.parentNode,(e=>E(o,e.nodeName)),e.getBody());return r?n.split(r,t):t},Ye=e=>{const t=Xe(e);return t?je((t=>Ze(e,t)),t):Re()},$e=(e,t)=>{const n=Ve((t=>Ze(e,t)),t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);const o=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(o,"data-mce-id",null),De(o)){const t=Je(e,o);e.selection.select(t)}else e.selection.select(o)},et=(e,t)=>{e.dom.setAttrib(t,"src",t.getAttribute("src"))},tt=(e,t)=>{if(t){const n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},nt=(e,t)=>{const n=Xe(e);if(qe((t=>Ze(e,t)),t,n),et(e,n),De(n.parentNode)){const t=n.parentNode;Je(e,t),e.selection.select(n.parentNode)}else e.selection.select(n),me(e,t,n)},ot=(e,t)=>{const n=t.src;return{...t,src:pe(e,n)?n:""}},rt=(e,t)=>{const n=Xe(e);if(n){const o=je((t=>Ze(e,t)),n),r={...o,...t},s=ot(e,r);r.src?nt(e,s):tt(e,n)}else t.src&&$e(e,{...Re(),...t})},st=(e,t)=>{const n=c(e)&&c(t);return n?at(e,t):t},it=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const r=t[o];for(const t in r)k(r,t)&&(n[t]=e(n[t],r[t]))}return n},at=it(st);var At=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),lt=tinymce.util.Tools.resolve("tinymce.util.Tools");const ct=e=>A(e.value)?e.value:"",ut=e=>A(e.text)?e.text:A(e.title)?e.title:"",dt=(e,t)=>{const n=[];return lt.each(e,(e=>{const o=ut(e);if(void 0!==e.menu){const r=dt(e.menu,t);n.push({text:o,items:r})}else{const r=t(e);n.push({text:o,value:r})}})),n},mt=(e=ct)=>t=>t?w.from(t).map((t=>dt(t,e))):w.none(),ht=e=>mt(ct)(e),gt=e=>k(e,"items"),pt=(e,t)=>L(e,(e=>gt(e)?pt(e.items,t):e.value===t?w.some(e):w.none())),ft=(e,t)=>e.bind((e=>pt(e,t))),bt={sanitizer:mt,sanitize:ht,findEntry:ft},vt=e=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}),wt={makeTab:vt},yt=e=>{const t=bt.sanitizer((t=>e.convertURL(t.value||t.url,"src"))),n=new Promise((n=>{de(e,(e=>{n(t(e).map((e=>O([[{text:"None",value:""}],e]))))}))})),o=bt.sanitize(Y(e)),r=Z(e),s=X(e),i=se(e),a=ie(e),l=Ye(e),c=$(e),u=ee(e),d=q(e),m=te(e),h=oe(e),g=re(e),p=w.some(J(e)).filter((e=>A(e)&&e.length>0));return n.then((e=>({image:l,imageList:e,classList:o,hasAdvTab:r,hasUploadTab:s,hasUploadUrl:i,hasUploadHandler:a,hasDescription:c,hasImageTitle:u,hasDimensions:d,hasImageCaption:m,prependURL:p,hasAccessibilityOptions:h,automaticUploads:g})))},Bt=e=>{const t={name:"src",type:"urlinput",filetype:"image",label:"Source"},n=e.imageList.map((e=>({name:"images",type:"listbox",label:"Image list",items:e}))),o={name:"alt",type:"input",label:"Alternative description",enabled:!(e.hasAccessibilityOptions&&e.image.isDecorative)},r={name:"title",type:"input",label:"Image title"},s={name:"dimensions",type:"sizeinput"},i={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},a=e.classList.map((e=>({name:"classes",type:"listbox",label:"Class",items:e}))),A={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},l=e=>e?{type:"grid",columns:2}:{type:"panel"};return O([[t],n.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[i]:[],e.hasDescription?[o]:[],e.hasImageTitle?[r]:[],e.hasDimensions?[s]:[],[{...l(e.classList.isSome()&&e.hasImageCaption),items:O([a.toArray(),e.hasImageCaption?[A]:[]])}]])},Ct=e=>({title:"General",name:"general",items:Bt(e)}),xt={makeTab:Ct,makeItems:Bt},St=e=>{const t=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:t}},Ft={makeTab:St},kt=e=>({prevImage:bt.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}),Et=e=>({src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}),_t=(e,t)=>({src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}),Ot=(e,t)=>/^(?:[a-zA-Z]+:)?\/\//.test(t)?w.none():e.prependURL.bind((e=>t.substring(0,e.length)!==e?w.some(e+t):w.none())),Ut=(e,t)=>{const n=t.getData();Ot(e,n.src.value).each((e=>{t.setData({src:{value:e,meta:n.src.meta}})}))},Tt=(e,t,n)=>{e.hasDescription&&A(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&A(n.title)&&(t.title=n.title),e.hasDimensions&&(A(n.width)&&(t.dimensions.width=n.width),A(n.height)&&(t.dimensions.height=n.height)),A(n.class)&&bt.findEntry(e.classList,n.class).each((e=>{t.classes=e.value})),e.hasImageCaption&&m(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(A(n.style)&&(t.style=n.style),A(n.vspace)&&(t.vspace=n.vspace),A(n.border)&&(t.border=n.border),A(n.hspace)&&(t.hspace=n.hspace),A(n.borderstyle)&&(t.borderstyle=n.borderstyle))},Lt=(e,t)=>{const n=t.getData(),o=n.src.meta;if(void 0!==o){const r=at({},n);Tt(e,r,o),t.setData(r)}},Nt=(e,t,n,o)=>{const r=o.getData(),s=r.src.value,i=r.src.meta||{};i.width||i.height||!t.hasDimensions||(K(s)?e.imageSize(s).then((e=>{n.open&&o.setData({dimensions:e})})).catch((e=>console.error(e))):o.setData({dimensions:{width:"",height:""}}))},Qt=(e,t,n)=>{const o=n.getData(),r=bt.findEntry(e.imageList,o.src.value);t.prevImage=r,n.setData({images:r.map((e=>e.value)).getOr("")})},Dt=(e,t,n,o)=>{Ut(t,o),Lt(t,o),Nt(e,t,n,o),Qt(t,n,o)},It=(e,t,n,o)=>{const r=o.getData(),s=bt.findEntry(t.imageList,r.images);s.each((e=>{const t=""===r.alt||n.prevImage.map((e=>e.text===r.alt)).getOr(!1);t?""===e.value?o.setData({src:e,alt:n.prevAlt}):o.setData({src:e,alt:e.text}):o.setData({src:e})})),n.prevImage=s,Dt(e,t,n,o)},Ht=(e,t,n,o)=>{const r=o.getData();o.block("Uploading image"),T(r.fileinput).fold((()=>{o.unblock()}),(r=>{const s=URL.createObjectURL(r),i=()=>{o.unblock(),URL.revokeObjectURL(s)},a=r=>{o.setData({src:{value:r,meta:{}}}),o.showTab("general"),Dt(e,t,n,o)};he(r).then((n=>{const A=e.createBlobCache(r,s,n);t.automaticUploads?e.uploadImage(A).then((e=>{a(e.url),i()})).catch((t=>{i(),e.alertErr(t)})):(e.addToBlobCache(A),a(A.blobUri()),o.unblock())}))}))},Mt=(e,t,n)=>(o,r)=>{"src"===r.name?Dt(e,t,n,o):"images"===r.name?It(e,t,n,o):"alt"===r.name?n.prevAlt=o.getData().alt:"fileinput"===r.name?Ht(e,t,n,o):"isDecorative"===r.name&&o.setEnabled("alt",!o.getData().isDecorative)},Rt=e=>()=>{e.open=!1},Pt=e=>{if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){const t={type:"tabpanel",tabs:O([[xt.makeTab(e)],e.hasAdvTab?[wt.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[Ft.makeTab(e)]:[]])};return t}{const t={type:"panel",items:xt.makeItems(e)};return t}},Vt=(e,t,n)=>o=>{const r=at(Et(t.image),o.getData()),s={...r,style:Pe(n.normalizeCss,_t(r,!1))};e.execCommand("mceUpdateImage",!1,_t(s,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),o.close()},jt=e=>t=>pe(e,t)?Ae(e.documentBaseURI.toAbsolute(t)).then((e=>({width:String(e.width),height:String(e.height)}))):Promise.resolve({width:"",height:""}),zt=e=>(t,n,o)=>e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,filename:t.name,base64:o.split(",")[1]}),Kt=e=>t=>{e.editorUpload.blobCache.add(t)},Wt=e=>t=>{e.windowManager.alert(t)},Gt=e=>t=>Ze(e,t),qt=e=>t=>e.dom.parseStyle(t),Zt=e=>(t,n)=>e.dom.serializeStyle(t,n),Xt=e=>t=>At(e).upload([t],!1).then((e=>0===e.length?Promise.reject("Failed to upload image"):!1===e[0].status?Promise.reject(e[0].error.message):e[0])),Jt=e=>{const t={imageSize:jt(e),addToBlobCache:Kt(e),createBlobCache:zt(e),alertErr:Wt(e),normalizeCss:Gt(e),parseStyle:qt(e),serializeStyle:Zt(e),uploadImage:Xt(e)},n=()=>{yt(e).then((n=>{const o=kt(n);return{title:"Insert/Edit Image",size:"normal",body:Pt(n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Et(n.image),onSubmit:Vt(e,n,t),onChange:Mt(t,n,o),onClose:Rt(o)}})).then(e.windowManager.open)};return{open:n}},Yt=e=>{e.addCommand("mceImage",Jt(e).open),e.addCommand("mceUpdateImage",((t,n)=>{e.undoManager.transact((()=>rt(e,n)))}))},$t=e=>{const t=e.attr("class");return t&&/\bimage\b/.test(t)},en=e=>t=>{let n=t.length;const o=t=>{t.attr("contenteditable",e?"true":null)};while(n--){const r=t[n];$t(r)&&(r.attr("contenteditable",e?"false":null),lt.each(r.getAll("figcaption"),o))}},tn=e=>{e.on("PreInit",(()=>{e.parser.addNodeFilter("figure",en(!0)),e.serializer.addNodeFilter("figure",en(!1))}))},nn=e=>{e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Jt(e).open,onSetup:t=>(t.setActive(g(Xe(e))),e.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",t.setActive).unbind)}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Jt(e).open}),e.ui.registry.addContextMenu("image",{update:e=>De(e)||Ie(e)&&!ge(e)?["image"]:[]})};var on=()=>{e.add("image",(e=>{G(e),tn(e),nn(e),Yt(e)}))};on()})()},378:function(e,t,n){n(95)},95:function(){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n},o=e=>t=>n(t)===e,r=e=>t=>typeof t===e,s=e=>t=>e===t,i=o("string"),a=o("object"),A=o("array"),l=s(null),c=r("boolean"),u=e=>null===e||void 0===e,d=e=>!u(e),m=r("function"),h=(e,t)=>{if(A(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},g=()=>{},p=(e,t)=>e===t;class f{constructor(e,t){this.tag=e,this.value=t}static some(e){return new f(!0,e)}static none(){return f.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?f.some(e(this.value)):f.none()}bind(e){return this.tag?e(this.value):f.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:f.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return d(e)?f.some(e):f.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}f.singletonNone=new f(!1);const b=Array.prototype.indexOf,v=Array.prototype.push,w=(e,t)=>b.call(e,t),y=(e,t)=>w(e,t)>-1,B=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},C=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},x=(e,t,n)=>(C(e,((e,o)=>{n=t(n,e,o)})),n),S=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!A(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);v.apply(t,e[n])}return t},F=(e,t)=>S(B(e,t)),k=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return f.none()},E=(e,t,n=p)=>e.exists((e=>n(e,t))),_=e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t},O=(e,t)=>e?f.some(t):f.none(),U=e=>t=>t.options.get(e),T=e=>{const t=e.options.register;t("link_assume_external_targets",{processor:e=>{const t=i(e)||c(e);return t?!0===e?{value:1,valid:t}:"http"===e||"https"===e?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),t("link_context_toolbar",{processor:"boolean",default:!1}),t("link_list",{processor:e=>i(e)||m(e)||h(e,a)}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"}),t("link_target_list",{processor:e=>c(e)||h(e,a),default:!0}),t("link_rel_list",{processor:"object[]",default:[]}),t("link_class_list",{processor:"object[]",default:[]}),t("link_title",{processor:"boolean",default:!0}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("link_quicklink",{processor:"boolean",default:!1})},L=U("link_assume_external_targets"),N=U("link_context_toolbar"),Q=U("link_list"),D=U("link_default_target"),I=U("link_default_protocol"),H=U("link_target_list"),M=U("link_rel_list"),R=U("link_class_list"),P=U("link_title"),V=U("allow_unsafe_link_target"),j=U("link_quicklink");var z=tinymce.util.Tools.resolve("tinymce.util.Tools");const K=e=>i(e.value)?e.value:"",W=e=>i(e.text)?e.text:i(e.title)?e.title:"",G=(e,t)=>{const n=[];return z.each(e,(e=>{const o=W(e);if(void 0!==e.menu){const r=G(e.menu,t);n.push({text:o,items:r})}else{const r=t(e);n.push({text:o,value:r})}})),n},q=(e=K)=>t=>f.from(t).map((t=>G(t,e))),Z=e=>q(K)(e),X=(e,t)=>n=>({name:e,type:"listbox",label:t,items:n}),J={sanitize:Z,sanitizeWith:q,createUi:X,getValue:K},Y=Object.keys,$=Object.hasOwnProperty,ee=(e,t)=>{const n=Y(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],s=e[r];t(s,r)}},te=e=>(t,n)=>{e[n]=t},ne=(e,t,n,o)=>{const r={};return ee(e,((e,r)=>{(t(e,r)?n:o)(e,r)})),r},oe=(e,t)=>{const n={};return ne(e,t,te(n),g),n},re=(e,t)=>$.call(e,t),se=(e,t)=>re(e,t)&&void 0!==e[t]&&null!==e[t];var ie=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ae=tinymce.util.Tools.resolve("tinymce.util.URI");const Ae=e=>e&&"a"===e.nodeName.toLowerCase(),le=e=>Ae(e)&&!!de(e),ce=(e,t)=>{if(e.collapsed)return[];{const n=e.cloneContents(),o=new ie(n.firstChild,n),r=[];let s=n.firstChild;do{t(s)&&r.push(s)}while(s=o.next());return r}},ue=e=>/^\w+:/i.test(e),de=e=>{const t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},me=(e,t)=>{const n=["noopener"],o=e?e.split(/\s+/):[],r=e=>z.trim(e.sort().join(" ")),s=e=>(e=i(e),e.length>0?e.concat(n):n),i=e=>e.filter((e=>-1===z.inArray(n,e))),a=t?s(o):i(o);return a.length>0?r(a):""},he=e=>e.replace(/\uFEFF/g,""),ge=(e,t)=>(t=t||e.selection.getNode(),we(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")),pe=(e,t)=>{const n=t?t.innerText||t.textContent:e.getContent({format:"text"});return he(n)},fe=e=>z.grep(e,le).length>0,be=e=>ce(e,le).length>0,ve=e=>{const t=e.schema.getTextInlineElements(),n=e=>1===e.nodeType&&!Ae(e)&&!re(t,e.nodeName.toLowerCase()),o=ce(e.selection.getRng(),n);return 0===o.length},we=e=>e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className),ye=e=>{const t=["title","rel","class","target"];return x(t,((t,n)=>(e[n].each((e=>{t[n]=e.length>0?e:null})),t)),{href:e.href})},Be=(e,t)=>"http"!==t&&"https"!==t||ue(e)?e:t+"://"+e,Ce=(e,t)=>{const n={...t};if(0===M(e).length&&!V(e)){const e=me(n.rel,"_blank"===n.target);n.rel=e||null}return f.from(n.target).isNone()&&!1===H(e)&&(n.target=D(e)),n.href=Be(n.href,L(e)),n},xe=(e,t,n,o)=>{n.each((e=>{re(t,"innerText")?t.innerText=e:t.textContent=e})),e.dom.setAttribs(t,o),e.selection.select(t)},Se=(e,t,n,o)=>{we(t)?Ne(e,t,o):n.fold((()=>{e.execCommand("mceInsertLink",!1,o)}),(t=>{e.insertContent(e.dom.createHTML("a",o,e.dom.encode(t)))}))},Fe=(e,t,n)=>{const o=e.selection.getNode(),r=ge(e,o),s=Ce(e,ye(n));e.undoManager.transact((()=>{n.href===t.href&&t.attach(),r?(e.focus(),xe(e,r,n.text,s)):Se(e,o,n.text,s)}))},ke=e=>{const t=e.dom,n=e.selection,o=n.getBookmark(),r=n.getRng().cloneRange(),s=t.getParent(r.startContainer,"a[href]",e.getBody()),i=t.getParent(r.endContainer,"a[href]",e.getBody());s&&r.setStartBefore(s),i&&r.setEndAfter(i),n.setRng(r),e.execCommand("unlink"),n.moveToBookmark(o)},Ee=e=>{e.undoManager.transact((()=>{const t=e.selection.getNode();we(t)?Le(e,t):ke(e),e.focus()}))},_e=e=>{const{class:t,href:n,rel:o,target:r,text:s,title:i}=e;return oe({class:t.getOrNull(),href:n,rel:o.getOrNull(),target:r.getOrNull(),text:s.getOrNull(),title:i.getOrNull()},((e,t)=>!1===l(e)))},Oe=(e,t)=>{const n=e.options.get,o={allow_html_data_urls:n("allow_html_data_urls"),allow_script_urls:n("allow_script_urls"),allow_svg_data_urls:n("allow_svg_data_urls")},r=t.href;return{...t,href:ae.isDomSafe(r,"a",o)?r:""}},Ue=(e,t,n)=>{const o=Oe(e,n);e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,_e(o)):Fe(e,t,o)},Te=e=>{e.hasPlugin("rtc",!0)?e.execCommand("unlink"):Ee(e)},Le=(e,t)=>{const n=e.dom.select("img",t)[0];if(n){const o=e.dom.getParents(n,"a[href]",t)[0];o&&(o.parentNode.insertBefore(n,o),e.dom.remove(o))}},Ne=(e,t,n)=>{const o=e.dom.select("img",t)[0];if(o){const t=e.dom.create("a",n);o.parentNode.insertBefore(t,o),t.appendChild(o)}},Qe=e=>se(e,"items"),De=(e,t)=>k(t,(t=>Qe(t)?De(e,t.items):O(t.value===e,t))),Ie=(e,t,n,o)=>{const r=o[t],s=e.length>0;return void 0!==r?De(r,n).map((t=>({url:{value:t.value,meta:{text:s?e:t.text,attach:g}},text:s?e:t.text}))):f.none()},He=(e,t)=>"link"===t?e.link:"anchor"===t?e.anchor:f.none(),Me=(e,t)=>{const n={text:e.text,title:e.title},o=e=>O(n.title.length<=0,f.from(e.meta.title).getOr("")),r=e=>O(n.text.length<=0,f.from(e.meta.text).getOr(e.value)),s=e=>{const t=r(e.url),n=o(e.url);return t.isSome()||n.isSome()?f.some({...t.map((e=>({text:e}))).getOr({}),...n.map((e=>({title:e}))).getOr({})}):f.none()},i=(e,o)=>{const r=He(t,o.name).getOr([]);return Ie(n.text,o.name,r,e)},a=(e,t)=>{const o=t.name;return"url"===o?s(e()):y(["anchor","link"],o)?i(e(),t):"text"===o||"title"===o?(n[o]=e()[o],f.none()):f.none()};return{onChange:a}},Re={init:Me,getDelta:Ie};var Pe=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ve=(e,t,n)=>{const o=e.selection.getRng();Pe.setEditorTimeout(e,(()=>{e.windowManager.confirm(t,(t=>{e.selection.setRng(o),n(t)}))}))},je=e=>{const t=e.href,n=t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:");return n?f.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:e=>({...e,href:"mailto:"+t})}):f.none()},ze=(e,t)=>n=>{const o=n.href,r=1===e&&!ue(o)||0===e&&/^\s*www(\.|\d\.)/i.test(o);return r?f.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+"://"+o})}):f.none()},Ke=(e,t)=>k([je,ze(L(e),I(e))],(e=>e(t))).fold((()=>Promise.resolve(t)),(n=>new Promise((o=>{Ve(e,n.message,(e=>{o(e?n.preprocess(t):t)}))})))),We={preprocess:Ke},Ge=e=>{const t=e.dom.select("a:not([href])"),n=F(t,(e=>{const t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?f.some([{text:"None",value:""}].concat(n)):f.none()},qe={getAnchors:Ge},Ze=e=>{const t=R(e);return t.length>0?J.sanitize(t):f.none()},Xe={getClasses:Ze},Je=e=>{try{return f.some(JSON.parse(e))}catch(t){return f.none()}},Ye=e=>{const t=t=>e.convertURL(t.value||t.url,"href"),n=Q(e);return new Promise((e=>{i(n)?fetch(n).then((e=>e.ok?e.text().then(Je):Promise.reject())).then(e,(()=>e(f.none()))):m(n)?n((t=>e(f.some(t)))):e(f.from(n))})).then((e=>e.bind(J.sanitizeWith(t)).map((e=>{if(e.length>0){const t=[{text:"None",value:""}];return t.concat(e)}return e}))))},$e={getLinks:Ye},et=(e,t)=>{const n=M(e);if(n.length>0){const o=E(t,"_blank"),r=!1===V(e),s=e=>me(J.getValue(e),o),i=r?J.sanitizeWith(s):J.sanitize;return i(n)}return f.none()},tt={getRels:et},nt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],ot=e=>{const t=H(e);return A(t)?J.sanitize(t).orThunk((()=>f.some(nt))):!1===t?f.none():f.some(nt)},rt={getTargets:ot},st=(e,t,n)=>{const o=e.getAttrib(t,n);return null!==o&&o.length>0?f.some(o):f.none()},it=(e,t)=>{const n=e.dom,o=ve(e),r=o?f.some(pe(e.selection,t)):f.none(),s=t?f.some(n.getAttrib(t,"href")):f.none(),i=t?f.from(n.getAttrib(t,"target")):f.none(),a=st(n,t,"rel"),A=st(n,t,"class"),l=st(n,t,"title");return{url:s,text:r,title:l,target:i,rel:a,linkClass:A}},at=(e,t)=>$e.getLinks(e).then((n=>{const o=it(e,t);return{anchor:o,catalogs:{targets:rt.getTargets(e),rels:tt.getRels(e,o.target),classes:Xe.getClasses(e),anchor:qe.getAnchors(e),link:n},optNode:f.from(t),flags:{titleEnabled:P(e)}}})),At={collect:at},lt=(e,t)=>n=>{const o=n.getData();if(!o.url.value)return Te(e),void n.close();const r=e=>f.from(o[e]).filter((n=>!E(t.anchor[e],n))),s={href:o.url.value,text:r("text"),target:r("target"),rel:r("rel"),class:r("linkClass"),title:r("title")},i={href:o.url.value,attach:void 0!==o.url.meta&&o.url.meta.attach?o.url.meta.attach:g};We.preprocess(e,s).then((t=>{Ue(e,i,t)})),n.close()},ct=e=>{const t=ge(e);return At.collect(e,t)},ut=(e,t)=>{const n=e.anchor,o=n.url.getOr("");return{url:{value:o,meta:{original:{value:o}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:o,link:o,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}},dt=(e,t,n)=>{const o=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],r=e.anchor.text.map((()=>({name:"text",type:"input",label:"Text to display"}))).toArray(),s=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],i=f.from(D(n)),a=ut(e,i),A=e.catalogs,l=Re.init(a,A),c={type:"panel",items:S([o,r,s,_([A.anchor.map(J.createUi("anchor","Anchors")),A.rels.map(J.createUi("rel","Rel")),A.targets.map(J.createUi("target","Open link in...")),A.link.map(J.createUi("link","Link list")),A.classes.map(J.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:c,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onChange:(e,{name:t})=>{l.onChange(e.getData,{name:t}).each((t=>{e.setData(t)}))},onSubmit:t}},mt=e=>{const t=ct(e);t.then((t=>{const n=lt(e,t);return dt(t,n,e)})).then((t=>{e.windowManager.open(t)}))},ht=e=>{e.addCommand("mceLink",((t,n)=>{!0!==(null===n||void 0===n?void 0:n.dialog)&&j(e)?e.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"}):mt(e)}))};var gt=tinymce.util.Tools.resolve("tinymce.util.VK");const pt=(e,t)=>{document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)},ft=e=>{const t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),pt(t,n)},bt=(e,t)=>e.dom.getParent(t,"a[href]"),vt=e=>bt(e,e.selection.getStart()),wt=e=>!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey,yt=(e,t)=>{if(t){const n=de(t);if(/^#/.test(n)){const t=e.dom.select(n);t.length&&e.selection.scrollIntoView(t[0],!0)}else ft(t.href)}},Bt=e=>()=>{e.execCommand("mceLink",!1,{dialog:!0})},Ct=e=>()=>{yt(e,vt(e))},xt=e=>{e.on("click",(t=>{const n=bt(e,t.target);n&&gt.metaKeyPressed(t)&&(t.preventDefault(),yt(e,n))})),e.on("keydown",(t=>{if(!t.isDefaultPrevented()&&13===t.keyCode&&wt(t)){const n=vt(e);n&&(t.preventDefault(),yt(e,n))}}))},St=(e,t)=>(e.on("NodeChange",t),()=>e.off("NodeChange",t)),Ft=e=>t=>{const n=()=>t.setActive(!e.mode.isReadOnly()&&null!==ge(e,e.selection.getNode()));return n(),St(e,n)},kt=e=>t=>{const n=()=>t.setEnabled(null!==ge(e,e.selection.getNode()));return n(),St(e,n)},Et=e=>t=>{const n=t=>fe(t)||be(e.selection.getRng()),o=e.dom.getParents(e.selection.getStart());return t.setEnabled(n(o)),St(e,(e=>t.setEnabled(n(e.parents))))},_t=e=>{e.addShortcut("Meta+K","",(()=>{e.execCommand("mceLink")}))},Ot=e=>{e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Bt(e),onSetup:Ft(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ct(e),onSetup:kt(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Te(e),onSetup:Et(e)})},Ut=e=>{e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ct(e),onSetup:kt(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Bt(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Te(e),onSetup:Et(e)})},Tt=e=>{const t="link unlink openlink",n="link";e.ui.registry.addContextMenu("link",{update:o=>fe(e.dom.getParents(o,"a"))?t:n})},Lt=e=>{const t=e=>{e.selection.collapse(!1)},n=t=>{const n=e.selection.getNode();return t.setEnabled(null!==ge(e,n)),g},o=t=>{const n=ge(e),o=ve(e);if(!n&&o){const o=pe(e.selection,n);return f.some(o.length>0?o:t)}return f.none()};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ft(e)},label:"Link",predicate:t=>!!ge(e,t)&&N(e),initValue:()=>{const t=ge(e);return t?de(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:t=>{const n=e.selection.getNode();return t.setActive(!!ge(e,n)),Ft(e)(t)},onAction:n=>{const r=n.getValue(),s=o(r),i={href:r,attach:g};Ue(e,i,{href:r,text:s,title:f.none(),rel:f.none(),target:f.none(),class:f.none()}),t(e),n.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:t=>{Te(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:t=>{Ct(e)(),t.hide()}}]})};var Nt=()=>{e.add("link",(e=>{T(e),Ot(e),Ut(e),Tt(e),Lt(e),xt(e),ht(e),_t(e)}))};Nt()})()},5775:function(e,t,n){n(7524)},7524:function(){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n},o=e=>t=>n(t)===e,r=e=>t=>typeof t===e,s=o("string"),i=o("object"),a=o("array"),A=r("boolean"),l=e=>null===e||void 0===e,c=e=>!l(e),u=r("function"),d=r("number"),m=()=>{},h=e=>()=>e,g=(e,t)=>e===t,p=e=>t=>!e(t),f=h(!1);class b{constructor(e,t){this.tag=e,this.value=t}static some(e){return new b(!0,e)}static none(){return b.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?b.some(e(this.value)):b.none()}bind(e){return this.tag?e(this.value):b.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:b.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return c(e)?b.some(e):b.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}b.singletonNone=new b(!1);const v=Array.prototype.slice,w=Array.prototype.indexOf,y=Array.prototype.push,B=(e,t)=>w.call(e,t),C=(e,t)=>B(e,t)>-1,x=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return!0}return!1},S=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},F=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},k=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},E=(e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let s=0,i=e.length;s<i;s++){const i=e[s],a=t(i);a!==n&&(o.push(r),r=[]),n=a,r.push(i)}return 0!==r.length&&o.push(r),o}},_=(e,t,n)=>(F(e,((e,o)=>{n=t(n,e,o)})),n),O=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return b.some(r);if(n(r,o))break}return b.none()},U=(e,t)=>O(e,t,f),T=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t},L=(e,t)=>T(S(e,t)),N=e=>{const t=v.call(e,0);return t.reverse(),t},Q=(e,t)=>t>=0&&t<e.length?b.some(e[t]):b.none(),D=e=>Q(e,0),I=e=>Q(e,e.length-1),H=(e,t)=>{const n=[],o=u(t)?e=>x(n,(n=>t(n,e))):e=>C(n,e);for(let r=0,s=e.length;r<s;r++){const t=e[r];o(t)||n.push(t)}return n},M=(e,t,n=g)=>e.exists((e=>n(e,t))),R=(e,t,n=g)=>P(e,t,n).getOr(e.isNone()&&t.isNone()),P=(e,t,n)=>e.isSome()&&t.isSome()?b.some(n(e.getOrDie(),t.getOrDie())):b.none(),V=1,j=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return W(o.childNodes[0])},z=(e,t)=>{const n=t||document,o=n.createElement(e);return W(o)},K=(e,t)=>{const n=t||document,o=n.createTextNode(e);return W(o)},W=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},G=(e,t,n)=>b.from(e.dom.elementFromPoint(t,n)).map(W),q={fromHtml:j,fromTag:z,fromText:K,fromDom:W,fromPoint:G},Z=(e,t)=>{const n=e.dom;if(n.nodeType!==V)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},X=(e,t)=>e.dom===t.dom,J=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},Y=Z;var $=(e,t,n,o,r)=>e(n,o)?b.some(n):u(r)&&r(n)?b.none():t(n,o,r);"undefined"!==typeof window?window:Function("return this;")();const ee=e=>{const t=e.dom.nodeName;return t.toLowerCase()},te=e=>e.dom.nodeType,ne=e=>t=>te(t)===e,oe=ne(V),re=e=>t=>oe(t)&&ee(t)===e,se=e=>b.from(e.dom.parentNode).map(q.fromDom),ie=e=>b.from(e.dom.nextSibling).map(q.fromDom),ae=e=>S(e.dom.childNodes,q.fromDom),Ae=(e,t)=>{const n=e.dom.childNodes;return b.from(n[t]).map(q.fromDom)},le=e=>Ae(e,0),ce=e=>Ae(e,e.dom.childNodes.length-1),ue=(e,t,n)=>{let o=e.dom;const r=u(n)?n:f;while(o.parentNode){o=o.parentNode;const e=q.fromDom(o);if(t(e))return b.some(e);if(r(e))break}return b.none()},de=(e,t,n)=>{const o=(e,t)=>t(e);return $(o,ue,e,t,n)},me=(e,t)=>{const n=se(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},he=(e,t)=>{const n=ie(e);n.fold((()=>{const n=se(e);n.each((e=>{ge(e,t)}))}),(e=>{me(e,t)}))},ge=(e,t)=>{e.dom.appendChild(t.dom)},pe=(e,t)=>{F(t,(t=>{me(e,t)}))},fe=(e,t)=>{F(t,(t=>{ge(e,t)}))},be=e=>{e.dom.textContent="",F(ae(e),(e=>{ve(e)}))},ve=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)};var we=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ye=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Be=tinymce.util.Tools.resolve("tinymce.util.VK");const Ce=Object.keys,xe=(e,t)=>{const n=Ce(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],s=e[r];t(s,r)}},Se=e=>(t,n)=>{e[n]=t},Fe=(e,t,n,o)=>{const r={};return xe(e,((e,r)=>{(t(e,r)?n:o)(e,r)})),r},ke=(e,t)=>{const n={};return Fe(e,t,Se(n),m),n},Ee=(e,t,n)=>{if(!(s(n)||A(n)||d(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},_e=(e,t)=>{const n=e.dom;xe(t,((e,t)=>{Ee(n,t,e)}))},Oe=e=>_(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Ue=(e,t)=>q.fromDom(e.dom.cloneNode(t)),Te=e=>Ue(e,!0),Le=(e,t)=>{const n=q.fromTag(t),o=Oe(e);return _e(n,o),n},Ne=(e,t)=>{const n=Le(e,t);he(e,n);const o=ae(e);return fe(n,o),ve(e),n};var Qe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),De=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ie=e=>t=>t&&t.nodeName.toLowerCase()===e,He=e=>t=>t&&e.test(t.nodeName),Me=e=>e&&3===e.nodeType,Re=He(/^(OL|UL|DL)$/),Pe=He(/^(OL|UL)$/),Ve=Ie("ol"),je=He(/^(LI|DT|DD)$/),ze=He(/^(DT|DD)$/),Ke=He(/^(TH|TD)$/),We=Ie("br"),Ge=e=>e.parentNode.firstChild===e,qe=(e,t)=>t&&!!e.schema.getTextBlockElements()[t.nodeName],Ze=(e,t)=>e&&e.nodeName in t,Xe=(e,t)=>!!We(t)&&(e.isBlock(t.nextSibling)&&!We(t.previousSibling)),Je=(e,t,n)=>{const o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},Ye=(e,t)=>e.isChildOf(t,e.getRoot()),$e=e=>t=>t.options.get(e),et=e=>{const t=e.options.register;t("lists_indent_on_tab",{processor:"boolean",default:!0})},tt=$e("lists_indent_on_tab"),nt=$e("forced_root_block"),ot=$e("forced_root_block_attrs"),rt=(e,t)=>{const n=e.dom,o=e.schema.getBlockElements(),r=n.createFragment(),s=nt(e),i=ot(e);let a,A,l;A=n.create(s,i),Ze(t.firstChild,o)||r.appendChild(A);while(a=t.firstChild){const e=a.nodeName;l||"SPAN"===e&&"bookmark"===a.getAttribute("data-mce-type")||(l=!0),Ze(a,o)?(r.appendChild(a),A=null):(A||(A=n.create(s,i),r.appendChild(A)),A.appendChild(a))}return l||A.appendChild(n.create("br",{"data-mce-bogus":"1"})),r},st=Qe.DOM,it=(e,t,n)=>{const o=e=>{De.each(r,(t=>{e.parentNode.insertBefore(t,n.parentNode)})),st.remove(e)},r=st.select('span[data-mce-type="bookmark"]',t),s=rt(e,n),i=st.createRng();i.setStartAfter(n),i.setEndAfter(t);const a=i.extractContents();for(let A=a.firstChild;A;A=A.firstChild)if("LI"===A.nodeName&&e.dom.isEmpty(A)){st.remove(A);break}e.dom.isEmpty(a)||st.insertAfter(a,t),st.insertAfter(s,t),Je(e.dom,n.parentNode)&&o(n.parentNode),st.remove(n),Je(e.dom,t)&&st.remove(t)},at=re("dd"),At=re("dt"),lt=(e,t)=>{at(t)?Ne(t,"dt"):At(t)&&se(t).each((n=>it(e,n.dom,t.dom)))},ct=e=>{At(e)&&Ne(e,"dd")},ut=(e,t,n)=>{F(n,"Indent"===t?ct:t=>lt(e,t))},dt=(e,t)=>{if(Me(e))return{container:e,offset:t};const n=we.getNode(e,t);return Me(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Me(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Me(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},mt=e=>{const t=e.cloneRange(),n=dt(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const o=dt(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},ht=["OL","UL","DL"],gt=ht.join(","),pt=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,gt,St(e,n))},ft=(e,t)=>e&&1===t.length&&t[0]===e,bt=e=>k(e.querySelectorAll(gt),Re),vt=e=>{const t=pt(e),n=e.selection.getSelectedBlocks();return ft(t,n)?bt(t):k(n,(e=>Re(e)&&t!==e))},wt=(e,t)=>{const n=De.map(t,(t=>{const n=e.dom.getParent(t,"li,dd,dt",St(e,t));return n||t}));return H(n)},yt=e=>{const t=e.selection.getSelectedBlocks();return k(wt(e,t),je)},Bt=e=>k(yt(e),ze),Ct=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},xt=(e,t)=>!Re(t)&&!je(t)&&x(ht,(n=>e.isValidChild(t.nodeName,n))),St=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=U(n,(t=>xt(e.schema,t)));return o.getOr(e.getBody())},Ft=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",St(e,t));return I(n)},kt=e=>{const t=Ft(e,e.selection.getStart()),n=k(e.selection.getSelectedBlocks(),Pe);return t.toArray().concat(n)},Et=e=>{const t=kt(e);return _t(e,t)},_t=(e,t)=>{const n=S(t,(t=>Ft(e,t).getOr(t)));return H(n)},Ot=(e,t)=>{const n=t||document,o=n.createDocumentFragment();return F(e,(e=>{o.appendChild(e.dom)})),q.fromDom(o)},Ut=(e,t,n)=>e.dispatch("ListMutation",{action:t,element:n}),Tt=e=>t=>t.replace(e,""),Lt=Tt(/^\s+|\s+$/g),Nt=e=>e.length>0,Qt=e=>!Nt(e),Dt=e=>void 0!==e.style&&u(e.style.getPropertyValue),It=(e,t,n)=>{if(!s(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Dt(e)&&e.style.setProperty(t,n)},Ht=(e,t,n)=>{const o=e.dom;It(o,t,n)},Mt=(e,t)=>{ge(e.item,t.list)},Rt=e=>{for(let t=1;t<e.length;t++)Mt(e[t-1],e[t])},Pt=(e,t)=>{P(I(e),D(t),Mt)},Vt=(e,t)=>{const n={list:q.fromTag(t,e),item:q.fromTag("li",e)};return ge(n.list,n.item),n},jt=(e,t,n)=>{const o=[];for(let r=0;r<n;r++)o.push(Vt(e,t.listType));return o},zt=(e,t)=>{for(let n=0;n<e.length-1;n++)Ht(e[n].item,"list-style-type","none");I(e).each((e=>{_e(e.list,t.listAttributes),_e(e.item,t.itemAttributes),fe(e.item,t.content)}))},Kt=(e,t)=>{ee(e.list)!==t.listType&&(e.list=Ne(e.list,t.listType)),_e(e.list,t.listAttributes)},Wt=(e,t,n)=>{const o=q.fromTag("li",e);return _e(o,t),fe(o,n),o},Gt=(e,t)=>{ge(e.list,t),e.item=t},qt=(e,t,n)=>{const o=t.slice(0,n.depth);return I(o).each((t=>{const o=Wt(e,n.itemAttributes,n.content);Gt(t,o),Kt(t,n)})),o},Zt=(e,t,n)=>{const o=jt(e,n,n.depth-t.length);return Rt(o),zt(o,n),Pt(t,o),t.concat(o)},Xt=(e,t)=>{const n=_(t,((t,n)=>n.depth>t.length?Zt(e,t,n):qt(e,t,n)),[]);return D(n).map((e=>e.list))},Jt=e=>Y(e,"OL,UL"),Yt=e=>le(e).exists(Jt),$t=e=>ce(e).exists(Jt),en=e=>e.depth>0,tn=e=>e.isSelected,nn=e=>{const t=ae(e),n=$t(e)?t.slice(0,-1):t;return S(n,Te)},on=(e,t,n)=>se(e).filter(oe).map((o=>({depth:t,dirty:!1,isSelected:n,content:nn(e),itemAttributes:Oe(e),listAttributes:Oe(o),listType:ee(o)}))),rn=(e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0},sn=(e,t)=>{e.listType=t.listType,e.listAttributes={...t.listAttributes}},an=e=>{e.listAttributes=ke(e.listAttributes,((e,t)=>"start"!==t))},An=(e,t)=>{const n=e[t].depth,o=e=>e.depth===n&&!e.dirty,r=e=>e.depth<n;return O(N(e.slice(0,t)),o,r).orThunk((()=>O(e.slice(t+1),o,r)))},ln=e=>(F(e,((t,n)=>{An(e,n).fold((()=>{t.dirty&&an(t)}),(e=>sn(t,e)))})),e),cn=e=>{let t=e;const n=()=>t,o=e=>{t=e};return{get:n,set:o}},un=(e,t,n,o)=>le(o).filter(Jt).fold((()=>{t.each((e=>{X(e.start,o)&&n.set(!0)}));const r=on(o,e,n.get());t.each((e=>{X(e.end,o)&&n.set(!1)}));const s=ce(o).filter(Jt).map((o=>dn(e,t,n,o))).getOr([]);return r.toArray().concat(s)}),(o=>dn(e,t,n,o))),dn=(e,t,n,o)=>L(ae(o),(o=>{const r=Jt(o)?dn:un,s=e+1;return r(s,t,n,o)})),mn=(e,t)=>{const n=cn(!1),o=0;return S(e,(e=>({sourceList:e,entries:dn(o,t,n,e)})))},hn=(e,t)=>{const n=ln(t);return S(n,(t=>{const n=Ot(t.content);return q.fromDom(rt(e,n.dom))}))},gn=(e,t)=>{const n=ln(t);return Xt(e.contentDocument,n).toArray()},pn=(e,t)=>L(E(t,en),(t=>{const n=D(t).exists(en);return n?gn(e,t):hn(e,t)})),fn=(e,t)=>{F(k(e,tn),(e=>rn(t,e)))},bn=e=>{const t=S(yt(e),q.fromDom);return P(U(t,p(Yt)),U(N(t),p(Yt)),((e,t)=>({start:e,end:t})))},vn=(e,t,n)=>{const o=mn(t,bn(e));F(o,(t=>{fn(t.entries,n);const o=pn(e,t.entries);F(o,(t=>{Ut(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),pe(t.sourceList,o),ve(t.sourceList)}))},wn=(e,t)=>{const n=S(Et(e),q.fromDom),o=S(Bt(e),q.fromDom);let r=!1;if(n.length||o.length){const s=e.selection.getBookmark();vn(e,n,t),ut(e,t,o),e.selection.moveToBookmark(s),e.selection.setRng(mt(e.selection.getRng())),e.nodeChanged(),r=!0}return r},yn=e=>wn(e,"Indent"),Bn=e=>wn(e,"Outdent"),Cn=e=>wn(e,"Flatten");var xn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Sn=Qe.DOM,Fn=e=>{const t={},n=n=>{let o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if(1===o.nodeType){const e=Sn.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),n?o.insertBefore(e,o.childNodes[r]):Sn.insertAfter(e,o.childNodes[r])):o.appendChild(e),o=e,r=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},kn=e=>{const t=t=>{let n;const o=e=>{let t=e.parentNode.firstChild,n=0;while(t){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1};let r=n=e[t?"startContainer":"endContainer"],s=e[t?"startOffset":"endOffset"];r&&(1===r.nodeType&&(s=o(r),r=r.parentNode,Sn.remove(n),!r.hasChildNodes()&&Sn.isBlock(r)&&r.appendChild(Sn.create("br"))),e[t?"startContainer":"endContainer"]=r,e[t?"startOffset":"endOffset"]=s)};t(!0),t();const n=Sn.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),mt(n)},En=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},_n=e=>/\btox\-/.test(e.className),On=(e,t,n)=>{const o=e=>{const o=O(e.parents,Re,Ke).filter((e=>e.nodeName===t&&!_n(e))).isSome();n(o)},r=e.dom.getParents(e.selection.getNode());return o({parents:r}),e.on("NodeChange",o),()=>e.off("NodeChange",o)},Un=(e,t,n)=>{const o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)},Tn=(e,t)=>{De.each(t,((t,n)=>{e.setAttribute(n,t)}))},Ln=(e,t,n)=>{Tn(t,n["list-attributes"]),De.each(e.select("li",t),(e=>{Tn(e,n["list-item-attributes"])}))},Nn=(e,t,n)=>{Un(e,t,n),Ln(e,t,n)},Qn=(e,t,n)=>{De.each(n,(n=>e.setStyle(t,n,"")))},Dn=(e,t,n,o)=>{let r=t[n?"startContainer":"endContainer"];const s=t[n?"startOffset":"endOffset"];1===r.nodeType&&(r=r.childNodes[Math.min(s,r.childNodes.length-1)]||r),!n&&We(r.nextSibling)&&(r=r.nextSibling);while(r.parentNode!==o){if(qe(e,r))return r;if(/^(TD|TH)$/.test(r.parentNode.nodeName))return r;r=r.parentNode}return r},In=(e,t,n)=>{const o=[],r=e.dom,s=Dn(e,t,!0,n),i=Dn(e,t,!1,n);let a;const A=[];for(let l=s;l;l=l.nextSibling)if(A.push(l),l===i)break;return De.each(A,(t=>{if(qe(e,t))return o.push(t),void(a=null);if(r.isBlock(t)||We(t))return We(t)&&r.remove(t),void(a=null);const s=t.nextSibling;xn.isBookmarkNode(t)&&(Re(s)||qe(e,s)||!s&&t.parentNode===n)?a=null:(a||(a=r.create("p"),t.parentNode.insertBefore(a,t),o.push(a)),a.appendChild(t))})),o},Hn=(e,t,n)=>{const o=e.getStyle(t,"list-style-type");let r=n?n["list-style-type"]:"";return r=null===r?"":r,o===r},Mn=(e,t,n)=>{const o=e.selection.getRng();let r="LI";const s=St(e,e.selection.getStart(!0)),i=e.dom;if("false"===i.getContentEditable(e.selection.getNode()))return;t=t.toUpperCase(),"DL"===t&&(r="DT");const a=Fn(o),A=In(e,o,s);De.each(A,(o=>{let s;const a=o.previousSibling,A=o.parentNode;je(A)||(a&&Re(a)&&a.nodeName===t&&Hn(i,a,n)?(s=a,o=i.rename(o,r),a.appendChild(o)):(s=i.create(t),o.parentNode.insertBefore(s,o),s.appendChild(o),o=i.rename(o,r)),Qn(i,o,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Nn(i,s,n),zn(e.dom,s))})),e.selection.setRng(kn(a))},Rn=(e,t)=>e&&t&&Re(e)&&e.nodeName===t.nodeName,Pn=(e,t,n)=>{const o=e.getStyle(t,"list-style-type",!0),r=e.getStyle(n,"list-style-type",!0);return o===r},Vn=(e,t)=>e.className===t.className,jn=(e,t,n)=>Rn(t,n)&&Pn(e,t,n)&&Vn(t,n),zn=(e,t)=>{let n,o;if(n=t.nextSibling,jn(e,t,n)){while(o=n.firstChild)t.appendChild(o);e.remove(n)}if(n=t.previousSibling,jn(e,t,n)){while(o=n.lastChild)t.insertBefore(o,t.firstChild);e.remove(n)}},Kn=(e,t,n,o)=>{if(t.nodeName!==n){const r=e.dom.rename(t,n);Nn(e.dom,r,o),Ut(e,En(n),r)}else Nn(e.dom,t,o),Ut(e,En(n),t)},Wn=(e,t,n,o,r)=>{const s=Re(t);if(s&&t.nodeName===o&&!Gn(r))Cn(e);else{Mn(e,o,r);const i=Fn(e.selection.getRng()),a=s?[t,...n]:n;De.each(a,(t=>{Kn(e,t,o,r)})),e.selection.setRng(kn(i))}},Gn=e=>"list-style-type"in e,qn=(e,t,n,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==n||Gn(o)||_n(t)){const r=Fn(e.selection.getRng());Nn(e.dom,t,o);const s=e.dom.rename(t,n);zn(e.dom,s),e.selection.setRng(kn(r)),Mn(e,n,o),Ut(e,En(n),s)}else Cn(e);else Mn(e,n,o),Ut(e,En(n),t)},Zn=(e,t,n)=>{const o=pt(e),r=vt(e),s=i(n)?n:{};r.length>0?Wn(e,o,r,t,s):qn(e,o,t,s)},Xn=Qe.DOM,Jn=(e,t)=>{const n=t.parentNode;if("LI"===n.nodeName&&n.firstChild===t){const o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),Je(e,n)&&Xn.remove(n)):Xn.setStyle(n,"listStyleType","none")}if(Re(n)){const e=n.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}},Yn=(e,t)=>{const n=De.grep(e.select("ol,ul",t));De.each(n,(t=>{Jn(e,t)}))},$n=(e,t,n,o)=>{let r=t.startContainer;const s=t.startOffset;if(Me(r)&&(n?s<r.data.length:s>0))return r;const i=e.schema.getNonEmptyElements();1===r.nodeType&&(r=we.getNode(r,s));const a=new ye(r,o);n&&Xe(e.dom,r)&&a.next();const A=n?a.next.bind(a):a.prev2.bind(a);while(r=A()){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(i[r.nodeName])return r;if(Me(r)&&r.data.length>0)return r}},eo=(e,t)=>{const n=t.childNodes;return 1===n.length&&!Re(n[0])&&e.isBlock(n[0])},to=(e,t)=>{eo(e,t)&&e.remove(t.firstChild,!0)},no=(e,t,n)=>{let o;const r=eo(e,n)?n.firstChild:n;if(to(e,t),!Je(e,t,!0))while(o=t.firstChild)r.appendChild(o)},oo=(e,t,n)=>{let o;const r=t.parentNode;if(!Ye(e,t)||!Ye(e,n))return;Re(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&We(r.previousSibling)&&e.remove(r.previousSibling);const s=n.lastChild;s&&We(s)&&t.hasChildNodes()&&e.remove(s),Je(e,n,!0)&&be(q.fromDom(n)),no(e,t,n),o&&n.appendChild(o);const i=J(q.fromDom(n),q.fromDom(t)),a=i?e.getParents(t,Re,n):[];e.remove(t),F(a,(t=>{Je(e,t)&&t!==e.getRoot()&&e.remove(t)}))},ro=(e,t,n)=>{be(q.fromDom(n)),oo(e.dom,t,n),e.selection.setCursorLocation(n,0)},so=(e,t,n,o)=>{const r=e.dom;if(r.isEmpty(o))ro(e,n,o);else{const s=Fn(t);oo(r,n,o),e.selection.setRng(kn(s))}},io=(e,t,n,o)=>{const r=Fn(t);oo(e.dom,n,o);const s=kn(r);e.selection.setRng(s)},ao=(e,t)=>{const n=e.dom,o=e.selection,r=o.getStart(),s=Ct(e,r),i=n.getParent(o.getStart(),"LI",s);if(i){const r=i.parentNode;if(r===e.getBody()&&Je(n,r))return!0;const a=mt(o.getRng()),A=n.getParent($n(e,a,t,s),"LI",s);if(A&&A!==i)return e.undoManager.transact((()=>{t?so(e,a,A,i):Ge(i)?Bn(e):io(e,a,i,A)})),!0;if(!A&&!t&&0===a.startOffset&&0===a.endOffset)return e.undoManager.transact((()=>{Cn(e)})),!0}return!1},Ao=(e,t,n)=>{const o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)},lo=(e,t)=>{const n=e.dom,o=e.selection.getStart(),r=Ct(e,o),s=n.getParent(o,n.isBlock,r);if(s&&n.isEmpty(s)){const o=mt(e.selection.getRng()),i=n.getParent($n(e,o,t,r),"LI",r);if(i){const a=e=>C(["td","th","caption"],ee(e)),A=e=>e.dom===r,l=de(q.fromDom(i),a,A),c=de(q.fromDom(o.startContainer),a,A);return!!R(l,c,X)&&(e.undoManager.transact((()=>{Ao(n,s,r),zn(n,i.parentNode),e.selection.select(i,!0),e.selection.collapse(t)})),!0)}}return!1},co=(e,t)=>ao(e,t)||lo(e,t),uo=e=>{const t=e.selection.getStart(),n=Ct(e,t),o=e.dom.getParent(t,"LI,DT,DD",n);return o||yt(e).length>0},mo=e=>!!uo(e)&&(e.undoManager.transact((()=>{e.execCommand("Delete"),Yn(e.dom,e.getBody())})),!0),ho=(e,t)=>e.selection.isCollapsed()?co(e,t):mo(e),go=e=>{e.on("ExecCommand",(t=>{const n=t.command.toLowerCase();"delete"!==n&&"forwarddelete"!==n||!uo(e)||Yn(e.dom,e.getBody())})),e.on("keydown",(t=>{t.keyCode===Be.BACKSPACE?ho(e,!1)&&t.preventDefault():t.keyCode===Be.DELETE&&ho(e,!0)&&t.preventDefault()}))},po=e=>({backspaceDelete:t=>{ho(e,t)}}),fo=(e,t)=>{const n=pt(e);e.undoManager.transact((()=>{i(t.styles)&&e.dom.setStyles(n,t.styles),i(t.attrs)&&xe(t.attrs,((t,o)=>e.dom.setAttrib(n,o,t)))}))},bo=e=>{const t=N(Lt(e).split("")),n=S(t,((e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return _(n,((e,t)=>e+t),0)},vo=e=>{if(e--,e<0)return"";{const t=e%26,n=Math.floor(e/26),o=vo(n),r=String.fromCharCode("A".charCodeAt(0)+t);return o+r}},wo=e=>/^[A-Z]+$/.test(e),yo=e=>/^[a-z]+$/.test(e),Bo=e=>/^[0-9]+$/.test(e),Co=e=>Bo(e)?2:wo(e)?0:yo(e)?1:Qt(e)?3:4,xo=e=>{switch(Co(e)){case 2:return b.some({listStyleType:b.none(),start:e});case 0:return b.some({listStyleType:b.some("upper-alpha"),start:bo(e).toString()});case 1:return b.some({listStyleType:b.some("lower-alpha"),start:bo(e).toString()});case 3:return b.some({listStyleType:b.none(),start:""});case 4:return b.none()}},So=e=>{const t=parseInt(e.start,10);return M(e.listStyleType,"upper-alpha")?vo(t):M(e.listStyleType,"lower-alpha")?vo(t).toLowerCase():e.start},Fo=e=>{const t=pt(e);Ve(t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:So({start:e.dom.getAttrib(t,"start","1"),listStyleType:b.some(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const n=t.getData();xo(n.start).each((t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},ko=(e,t)=>()=>{const n=pt(e);return n&&n.nodeName===t},Eo=e=>{e.addCommand("mceListProps",(()=>{Fo(e)}))},_o=e=>{e.on("BeforeExecCommand",(t=>{const n=t.command.toLowerCase();"indent"===n?yn(e):"outdent"===n&&Bn(e)})),e.addCommand("InsertUnorderedList",((t,n)=>{Zn(e,"UL",n)})),e.addCommand("InsertOrderedList",((t,n)=>{Zn(e,"OL",n)})),e.addCommand("InsertDefinitionList",((t,n)=>{Zn(e,"DL",n)})),e.addCommand("RemoveList",(()=>{Cn(e)})),Eo(e),e.addCommand("mceListUpdate",((t,n)=>{i(n)&&fo(e,n)})),e.addQueryStateHandler("InsertUnorderedList",ko(e,"UL")),e.addQueryStateHandler("InsertOrderedList",ko(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",ko(e,"DL"))},Oo=e=>{e.on("keydown",(t=>{t.keyCode!==Be.TAB||Be.metaKeyPressed(t)||e.undoManager.transact((()=>{(t.shiftKey?Bn(e):yn(e))&&t.preventDefault()}))}))},Uo=e=>{tt(e)&&Oo(e),go(e)},To=e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:t=>On(e,"OL",t.setActive)}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:t=>On(e,"UL",t.setActive)}))},Lo=e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:t=>On(e,"OL",t.setEnabled)};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=pt(e,t);return Ve(n)?["listprops"]:[]}})};var No=()=>{e.add("lists",(e=>(et(e),!1===e.hasPlugin("rtc",!0)?(Uo(e),_o(e)):Eo(e),To(e),Lo(e),po(e))))};No()})()},9638:function(e,t,n){n(2171)},2171:function(){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools");const o=e=>t=>t.options.get(e),r=o("content_style"),s=o("content_css_cors"),i=o("body_class"),a=o("body_id"),A=e=>{var o;let A="";const l=e.dom.encode,c=null!==(o=r(e))&&void 0!==o?o:"";A+='<base href="'+l(e.documentBaseURI.getURI())+'">';const u=s(e)?' crossorigin="anonymous"':"";n.each(e.contentCSS,(t=>{A+='<link type="text/css" rel="stylesheet" href="'+l(e.documentBaseURI.toAbsolute(t))+'"'+u+">"})),c&&(A+='<style type="text/css">'+c+"</style>");const d=a(e),m=i(e),h=t.os.isMacOS()||t.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey",g='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+h+")) {e.preventDefault();}}}, false);<\/script> ",p=e.getBody().dir,f=p?' dir="'+l(p)+'"':"",b="<!DOCTYPE html><html><head>"+A+'</head><body id="'+l(d)+'" class="mce-content-body '+l(m)+'"'+f+">"+e.getContent()+g+"</body></html>";return b},l=e=>{const t=A(e),n=e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}});n.focus("close")},c=e=>{e.addCommand("mcePreview",(()=>{l(e)}))},u=e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t})};var d=()=>{e.add("preview",(e=>{c(e),u(e)}))};d()})()},1694:function(e,t,n){n(7235)},7235:function(){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n},o=e=>t=>n(t)===e,r=e=>t=>typeof t===e,s=e=>t=>e===t,i=o("string"),a=o("array"),A=r("boolean"),l=s(void 0),c=e=>null===e||void 0===e,u=e=>!c(e),d=r("function"),m=r("number"),h=()=>{},g=(e,t)=>n=>e(t(n)),p=e=>()=>e,f=e=>e,b=(e,t)=>e===t;function v(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const w=p(!1),y=p(!0);class B{constructor(e,t){this.tag=e,this.value=t}static some(e){return new B(!0,e)}static none(){return B.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?B.some(e(this.value)):B.none()}bind(e){return this.tag?e(this.value):B.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:B.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return u(e)?B.some(e):B.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}B.singletonNone=new B(!1);const C=Object.keys,x=Object.hasOwnProperty,S=(e,t)=>{const n=C(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],s=e[r];t(s,r)}},F=e=>(t,n)=>{e[n]=t},k=(e,t,n,o)=>{const r={};return S(e,((e,r)=>{(t(e,r)?n:o)(e,r)})),r},E=(e,t)=>{const n={};return k(e,t,F(n),h),n},_=(e,t)=>{const n=[];return S(e,((e,o)=>{n.push(t(e,o))})),n},O=e=>_(e,f),U=e=>C(e).length,T=(e,t)=>L(e,t)?B.from(e[t]):B.none(),L=(e,t)=>x.call(e,t),N=(e,t)=>L(e,t)&&void 0!==e[t]&&null!==e[t],Q=Array.prototype.indexOf,D=Array.prototype.push,I=(e,t)=>Q.call(e,t),H=(e,t)=>I(e,t)>-1,M=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return!0}return!1},R=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},P=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},V=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},j=(e,t)=>{for(let n=e.length-1;n>=0;n--){const o=e[n];t(o,n)}},z=(e,t)=>{const n=[],o=[];for(let r=0,s=e.length;r<s;r++){const s=e[r],i=t(s,r)?n:o;i.push(s)}return{pass:n,fail:o}},K=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},W=(e,t,n)=>(j(e,((e,o)=>{n=t(n,e,o)})),n),G=(e,t,n)=>(V(e,((e,o)=>{n=t(n,e,o)})),n),q=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return B.some(r);if(n(r,o))break}return B.none()},Z=(e,t)=>q(e,t,w),X=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);D.apply(t,e[n])}return t},J=(e,t)=>X(P(e,t)),Y=(e,t)=>{for(let n=0,o=e.length;n<o;++n){const o=e[n];if(!0!==t(o,n))return!1}return!0},$=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},ee=(e,t)=>t>=0&&t<e.length?B.some(e[t]):B.none(),te=e=>ee(e,0),ne=e=>ee(e,e.length-1),oe=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return B.none()},re=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return ae(o.childNodes[0])},se=(e,t)=>{const n=t||document,o=n.createElement(e);return ae(o)},ie=(e,t)=>{const n=t||document,o=n.createTextNode(e);return ae(o)},ae=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},Ae=(e,t,n)=>B.from(e.dom.elementFromPoint(t,n)).map(ae),le={fromHtml:re,fromTag:se,fromText:ie,fromDom:ae,fromPoint:Ae};"undefined"!==typeof window?window:Function("return this;")();const ce=8,ue=9,de=11,me=1,he=3,ge=e=>{const t=e.dom.nodeName;return t.toLowerCase()},pe=e=>e.dom.nodeType,fe=e=>t=>pe(t)===e,be=e=>pe(e)===ce||"#comment"===ge(e),ve=fe(me),we=fe(he),ye=fe(ue),Be=fe(de),Ce=e=>t=>ve(t)&&ge(t)===e,xe=(e,t)=>{const n=e.dom;if(n.nodeType!==me)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Se=e=>e.nodeType!==me&&e.nodeType!==ue&&e.nodeType!==de||0===e.childElementCount,Fe=(e,t)=>{const n=void 0===t?document:t.dom;return Se(n)?[]:P(n.querySelectorAll(e),le.fromDom)},ke=(e,t)=>{const n=void 0===t?document:t.dom;return Se(n)?B.none():B.from(n.querySelector(e)).map(le.fromDom)},Ee=(e,t)=>e.dom===t.dom,_e=xe,Oe=e=>le.fromDom(e.dom.ownerDocument),Ue=e=>ye(e)?e:Oe(e),Te=e=>B.from(e.dom.parentNode).map(le.fromDom),Le=(e,t)=>{const n=d(t)?t:w;let o=e.dom;const r=[];while(null!==o.parentNode&&void 0!==o.parentNode){const e=o.parentNode,t=le.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},Ne=e=>B.from(e.dom.previousSibling).map(le.fromDom),Qe=e=>B.from(e.dom.nextSibling).map(le.fromDom),De=e=>P(e.dom.childNodes,le.fromDom),Ie=(e,t)=>{const n=e.dom.childNodes;return B.from(n[t]).map(le.fromDom)},He=e=>Ie(e,0),Me=e=>Be(e)&&u(e.dom.host),Re=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode),Pe=Re?e=>le.fromDom(e.dom.getRootNode()):Ue,Ve=e=>{const t=Pe(e);return Me(t)?B.some(t):B.none()},je=e=>le.fromDom(e.dom.host),ze=e=>{const t=we(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return Ve(le.fromDom(t)).fold((()=>n.body.contains(t)),g(ze,je))},Ke=(e,t)=>K(De(e),t),We=(e,t)=>{let n=[];return V(De(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(We(e,t))})),n},Ge=(e,t)=>Ke(e,(e=>xe(e,t))),qe=(e,t)=>Fe(t,e);var Ze=(e,t,n,o,r)=>e(n,o)?B.some(n):d(r)&&r(n)?B.none():t(n,o,r);const Xe=(e,t,n)=>{let o=e.dom;const r=d(n)?n:w;while(o.parentNode){o=o.parentNode;const e=le.fromDom(o);if(t(e))return B.some(e);if(r(e))break}return B.none()},Je=(e,t)=>{const n=e=>t(le.fromDom(e)),o=Z(e.dom.childNodes,n);return o.map(le.fromDom)},Ye=(e,t,n)=>Xe(e,(e=>xe(e,t)),n),$e=(e,t)=>Je(e,(e=>xe(e,t))),et=(e,t)=>ke(t,e),tt=(e,t,n)=>{const o=(e,t)=>xe(e,t);return Ze(o,Ye,e,t,n)},nt=(e,t,n)=>{if(!(i(n)||A(n)||m(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},ot=(e,t,n)=>{nt(e.dom,t,n)},rt=(e,t)=>{const n=e.dom;S(t,((e,t)=>{nt(n,t,e)}))},st=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},it=(e,t)=>B.from(st(e,t)),at=(e,t)=>{e.dom.removeAttribute(t)},At=e=>G(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),lt=(e,t,n=b)=>e.exists((e=>n(e,t))),ct=e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t},ut=(e,t,n)=>e.isSome()&&t.isSome()?B.some(n(e.getOrDie(),t.getOrDie())):B.none(),dt=e=>e.bind(f),mt=(e,t)=>e?B.some(t):B.none(),ht=(e,t)=>e.substring(t),gt=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,pt=(e,t)=>ft(e,t)?ht(e,t.length):e,ft=(e,t)=>gt(e,t,0),bt=e=>t=>t.replace(e,""),vt=bt(/^\s+|\s+$/g),wt=e=>e.length>0,yt=e=>!wt(e),Bt=e=>{const t=parseFloat(e);return isNaN(t)?B.none():B.some(t)},Ct=e=>void 0!==e.style&&d(e.style.getPropertyValue),xt=(e,t,n)=>{if(!i(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ct(e)&&e.style.setProperty(t,n)},St=(e,t)=>{Ct(e)&&e.style.removeProperty(t)},Ft=(e,t,n)=>{const o=e.dom;xt(o,t,n)},kt=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n),r=o.getPropertyValue(t);return""!==r||ze(e)?r:Et(n,t)},Et=(e,t)=>Ct(e)?e.style.getPropertyValue(t):"",_t=(e,t)=>{const n=e.dom,o=Et(n,t);return B.from(o).filter((e=>e.length>0))},Ot=(e,t)=>{const n=e.dom;St(n,t),lt(it(e,"style").map(vt),"")&&at(e,"style")},Ut=(e,t,n=0)=>it(e,t).map((e=>parseInt(e,10))).getOr(n),Tt=(e,t)=>Lt(e,t,y),Lt=(e,t,n)=>J(De(e),(e=>xe(e,t)?n(e)?[e]:[]:Lt(e,t,n))),Nt=["tfoot","thead","tbody","colgroup"],Qt=e=>H(Nt,e),Dt=(e,t)=>({rows:e,columns:t}),It=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Ht=(e,t,n,o,r,s)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:s}),Mt=(e,t,n)=>({element:e,cells:t,section:n}),Rt=(e,t,n,o)=>({startRow:e,startCol:t,finishRow:n,finishCol:o}),Pt=(e,t,n)=>({element:e,colspan:t,column:n}),Vt=(e,t)=>({element:e,columns:t}),jt=(e,t,n=w)=>{if(n(t))return B.none();if(H(e,ge(t)))return B.some(t);const o=e=>xe(e,"table")||n(e);return Ye(t,e.join(","),o)},zt=(e,t)=>jt(["td","th"],e,t),Kt=e=>Tt(e,"th,td"),Wt=e=>xe(e,"colgroup")?Ge(e,"col"):J(Zt(e),(e=>Ge(e,"col"))),Gt=(e,t)=>tt(e,"table",t),qt=e=>Tt(e,"tr"),Zt=e=>Gt(e).fold(p([]),(e=>Ge(e,"colgroup"))),Xt=(e,t)=>P(e,(e=>{if("colgroup"===ge(e)){const t=P(Wt(e),(e=>{const t=Ut(e,"span",1);return It(e,1,t)}));return Mt(e,t,"colgroup")}{const n=P(Kt(e),(e=>{const t=Ut(e,"rowspan",1),n=Ut(e,"colspan",1);return It(e,t,n)}));return Mt(e,n,t(e))}})),Jt=e=>Te(e).map((e=>{const t=ge(e);return Qt(t)?t:"tbody"})).getOr("tbody"),Yt=e=>{const t=qt(e),n=Zt(e),o=[...n,...t];return Xt(o,Jt)},$t="data-snooker-locked-cols",en=e=>it(e,$t).bind((e=>B.from(e.match(/\d+/g)))).map((e=>$(e,y))),tn=(e,t)=>e+","+t,nn=(e,t,n)=>B.from(e.access[tn(t,n)]),on=(e,t,n)=>{const o=rn(e,(e=>n(t,e.element)));return o.length>0?B.some(o[0]):B.none()},rn=(e,t)=>{const n=J(e.all,(e=>e.cells));return K(n,t)},sn=e=>{const t={};let n=0;return V(e.cells,(e=>{const o=e.colspan;R(o,(r=>{const s=n+r;t[s]=Pt(e.element,o,s)})),n+=o})),t},an=e=>{const t={},n=[],o=te(e).map((e=>e.element)).bind(Gt),r=o.bind(en).getOr({});let s=0,i=0,a=0;const{pass:A,fail:l}=z(e,(e=>"colgroup"===e.section));V(l,(e=>{const o=[];V(e.cells,(e=>{let n=0;while(void 0!==t[tn(a,n)])n++;const s=N(r,n.toString()),A=Ht(e.element,e.rowspan,e.colspan,a,n,s);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=a+r,s=n+o,l=tn(e,s);t[l]=A,i=Math.max(i,s+1)}o.push(A)})),s++,n.push(Mt(e.element,o,e.section)),a++}));const{columns:c,colgroups:u}=ne(A).map((e=>{const t=sn(e),n=Vt(e.element,O(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),d=Dt(s,i);return{grid:d,access:t,all:n,columns:c,colgroups:u}},An=e=>{const t=Yt(e);return an(t)},ln=e=>J(e.all,(e=>e.cells)),cn=e=>O(e.columns),un=e=>C(e.columns).length>0,dn=(e,t)=>B.from(e.columns[t]),mn={fromTable:An,generate:an,getAt:nn,findItem:on,filterItems:rn,justCells:ln,justColumns:cn,hasColumns:un,getColumnAt:dn};var hn=tinymce.util.Tools.resolve("tinymce.util.Tools");const gn=(e,t,n)=>{const o=e.select("td,th",t);let r;const s=(t,o)=>{for(let r=0;r<o.length;r++){const s=e.getStyle(o[r],n);if("undefined"===typeof t&&(t=s),t!==s)return""}return t};return s(r,o)},pn=(e,t,n)=>{hn.each("left center right".split(" "),(o=>{o!==n&&e.formatter.remove("align"+o,{},t)})),n&&e.formatter.apply("align"+n,{},t)},fn=(e,t,n)=>{hn.each("top middle bottom".split(" "),(o=>{o!==n&&e.formatter.remove("valign"+o,{},t)})),n&&e.formatter.apply("valign"+n,{},t)},bn=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},vn=(e,t)=>Bt(e).getOr(t),wn=(e,t,n)=>vn(kt(e,t),n),yn=(e,t,n,o)=>{const r=wn(e,`padding-${n}`,0),s=wn(e,`padding-${o}`,0),i=wn(e,`border-${n}-width`,0),a=wn(e,`border-${o}-width`,0);return t-r-s-i-a},Bn=(e,t)=>{const n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?o:yn(e,o,"left","right")},Cn=e=>Bn(e,"content-box"),xn=Cn;var Sn=tinymce.util.Tools.resolve("tinymce.Env");const Fn="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",kn=R(5,(e=>{const t=`${e+1}px`;return{title:t,value:t}})),En=P(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()}))),_n="100%",On=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return xn(le.fromDom(o))+"px"},Un=(e,t)=>Jn(e)||!jn(e)?t:Xn(e)?{...t,width:On(e)}:{...t,width:_n},Tn=(e,t)=>Jn(e)||jn(e)?t:Xn(e)?{...t,width:On(e)}:{...t,width:_n},Ln=e=>t=>t.options.get(e),Nn=e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:kn}),t("table_border_styles",{processor:"object[]",default:En}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!Sn.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:Fn}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})},Qn=Ln("table_sizing_mode"),Dn=Ln("table_border_widths"),In=Ln("table_border_styles"),Hn=Ln("table_cell_advtab"),Mn=Ln("table_row_advtab"),Rn=Ln("table_advtab"),Pn=Ln("table_appearance_options"),Vn=Ln("table_grid"),jn=Ln("table_style_by_css"),zn=Ln("table_cell_class_list"),Kn=Ln("table_row_class_list"),Wn=Ln("table_class_list"),Gn=Ln("table_toolbar"),qn=Ln("table_background_color_map"),Zn=Ln("table_border_color_map"),Xn=e=>"fixed"===Qn(e),Jn=e=>"responsive"===Qn(e),Yn=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:Un(e,n)},$n=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:Tn(e,n)},eo=e=>e.nodeName.toLowerCase(),to=e=>le.fromDom(e.getBody()),no=e=>t=>Ee(t,to(e)),oo=e=>e?e.replace(/px$/,""):"",ro=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,so=e=>le.fromDom(e.selection.getStart()),io=e=>le.fromDom(e.selection.getEnd()),ao=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Ao=(e,t)=>{let n=!0;const o=v(ao,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let s=t.startCol;s<=t.finishCol;s++)n=n&&mn.getAt(e,r,s).exists(o);return n?B.some(t):B.none()},lo=(e,t)=>Rt(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1)),co=(e,t,n)=>{const o=mn.findItem(e,t,Ee),r=mn.findItem(e,n,Ee);return o.bind((e=>r.map((t=>lo(e,t)))))},uo=(e,t,n)=>co(e,t,n).bind((t=>Ao(e,t))),mo=(e,t,n)=>{const o=ho(e);return uo(o,t,n)},ho=mn.fromTable,go=(e,t)=>{const n=Te(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},po=(e,t)=>{const n=Qe(e);n.fold((()=>{const n=Te(e);n.each((e=>{bo(e,t)}))}),(e=>{go(e,t)}))},fo=(e,t)=>{const n=He(e);n.fold((()=>{bo(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},bo=(e,t)=>{e.dom.appendChild(t.dom)},vo=(e,t)=>{go(e,t),bo(t,e)},wo=(e,t)=>{V(t,((n,o)=>{const r=0===o?e:t[o-1];po(r,n)}))},yo=(e,t)=>{V(t,(t=>{bo(e,t)}))},Bo=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Co=e=>{const t=De(e);t.length>0&&wo(e,t),Bo(e)},xo=(e,t)=>{const n=n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return o(n).getOr("")},o=t=>e(t)?B.from(t.dom.nodeValue):B.none(),r=(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o};return{get:n,getOption:o,set:r}},So=xo(we,"text"),Fo=e=>So.get(e),ko=(e,t)=>So.set(e,t);var Eo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],_o=()=>{const e=e=>le.fromDom(e.dom.cloneNode(!1)),t=e=>Ue(e).dom,n=e=>!!ve(e)&&("body"===ge(e)||H(Eo,ge(e))),o=e=>!!ve(e)&&H(["br","img","hr","input"],ge(e)),r=e=>ve(e)&&"false"===st(e,"contenteditable"),s=(e,t)=>e.dom.compareDocumentPosition(t.dom),i=(e,t)=>{const n=At(e);rt(t,n)},a=e=>{const t=ge(e);return H(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},A=e=>ve(e)?it(e,"lang"):B.none();return{up:p({selector:Ye,closest:tt,predicate:Xe,all:Le}),down:p({selector:qe,predicate:We}),styles:p({get:kt,getRaw:_t,set:Ft,remove:Ot}),attrs:p({get:st,set:ot,remove:at,copyTo:i}),insert:p({before:go,after:po,afterAll:wo,append:bo,appendAll:yo,prepend:fo,wrap:vo}),remove:p({unwrap:Co,remove:Bo}),create:p({nu:le.fromTag,clone:e,text:le.fromText}),query:p({comparePosition:s,prevSibling:Ne,nextSibling:Qe}),property:p({children:De,name:ge,parent:Te,document:t,isText:we,isComment:be,isElement:ve,isSpecial:a,getLanguage:A,getText:Fo,setText:ko,isBoundary:n,isEmptyTag:o,isNonEditable:r}),eq:Ee,is:_e}};const Oo=(e,t,n,o)=>{const r=n[0],s=n.slice(1);return o(e,t,r,s)},Uo=(e,t,n)=>n.length>0?Oo(e,t,n,To):B.none(),To=(e,t,n,o)=>{const r=t(e,n);return W(o,((n,o)=>{const r=t(e,o);return Lo(e,n,r)}),r)},Lo=(e,t,n)=>t.bind((t=>n.filter(v(e.eq,t)))),No=Uo,Qo=_o(),Do=(e,t)=>No(Qo,((t,n)=>e(n)),t),Io=e=>Ye(e,"table"),Ho=(e,t)=>{const n=qe(e,t);return n.length>0?B.some(n):B.none()},Mo=(e,t,n)=>et(e,t).bind((t=>et(e,n).bind((e=>Do(Io,[t,e]).map((n=>({first:t,last:e,table:n}))))))),Ro=(e,t)=>Ho(e,t),Po=(e,t,n)=>Mo(e,t,n).bind((t=>{const n=t=>Ee(e,t),o="thead,tfoot,tbody,table",r=Ye(t.first,o,n),s=Ye(t.last,o,n);return r.bind((e=>s.bind((n=>Ee(e,n)?mo(t.table,t.first,t.last):B.none()))))})),Vo=e=>P(e,le.fromDom),jo="data-mce-selected",zo="td["+jo+"],th["+jo+"]",Ko="data-mce-first-selected",Wo="td["+Ko+"],th["+Ko+"]",Go="data-mce-last-selected",qo="td["+Go+"],th["+Go+"]",Zo={selected:jo,selectedSelector:zo,firstSelected:Ko,firstSelectedSelector:Wo,lastSelected:Go,lastSelectedSelector:qo},Xo=e=>Gt(e).bind((e=>Ro(e,Zo.firstSelectedSelector))).fold(p(e),(e=>e[0])),Jo=e=>(t,n)=>{const o=ge(t),r="col"===o||"colgroup"===o?Xo(t):t;return tt(r,e,n)},Yo=Jo("th,td,caption"),$o=Jo("th,td"),er=e=>Vo(e.model.table.getSelectedCells()),tr=(e,t)=>{const n=$o(e),o=n.bind((e=>Gt(e))).map((e=>qt(e)));return ut(n,o,((e,n)=>K(n,(n=>M(Vo(n.dom.cells),(n=>"1"===st(n,t)||Ee(n,e))))))).getOr([])},nr=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],or=e=>({value:e}),rr=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,sr=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ir=e=>rr.test(e)||sr.test(e),ar=e=>pt(e,"#").toUpperCase(),Ar=e=>ir(e)?B.some({value:ar(e)}):B.none(),lr=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},cr=e=>{const t=lr(e.red)+lr(e.green)+lr(e.blue);return or(t)},ur=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,dr=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,mr=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),hr=(e,t,n,o)=>{const r=parseInt(e,10),s=parseInt(t,10),i=parseInt(n,10),a=parseFloat(o);return mr(r,s,i,a)},gr=e=>{if("transparent"===e)return B.some(mr(0,0,0,0));const t=ur.exec(e);if(null!==t)return B.some(hr(t[1],t[2],t[3],"1"));const n=dr.exec(e);return null!==n?B.some(hr(n[1],n[2],n[3],n[4])):B.none()},pr=e=>Ar(e).orThunk((()=>gr(e).map(cr))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,r=o[0],s=o[1],i=o[2],a=o[3];return cr(mr(r,s,i,a))})),fr=e=>gr(e).map(cr).map((e=>"#"+e.value)).getOr(e),br=e=>{let t=e;const n=()=>t,o=e=>{t=e};return{get:n,set:o}},vr=e=>{const t=br(B.none()),n=()=>t.get().each(e),o=()=>{n(),t.set(B.none())},r=()=>t.get().isSome(),s=()=>t.get(),i=e=>{n(),t.set(B.some(e))};return{clear:o,isSet:r,get:s,set:i}},wr=()=>vr((e=>e.unbind())),yr=(e,t,n)=>o=>{const r=wr(),s=yt(n),i=()=>{const i=er(e),a=o=>e.formatter.match(t,{value:n},o.dom,s);s?(o.setActive(!M(i,a)),r.set(e.formatter.formatChanged(t,(e=>o.setActive(!e)),!0))):(o.setActive(Y(i,a)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?i():e.on("init",i),r.clear},Br=e=>N(e,"menu"),Cr=e=>P(e,(e=>{const t=e.text||e.title;return Br(e)?{text:t,items:Cr(e.menu)}:{text:t,value:e.value}})),xr=(e,t,n,o)=>P(t,(t=>{const r=t.text||t.title;return Br(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>xr(e,t.menu,n,o)}:{text:r,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:yr(e,n,t.value)}})),Sr=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},Fr=e=>J(e,(e=>Br(e)?[{...e,menu:Fr(e.menu)}]:wt(e.value)?[e]:[])),kr=(e,t,n,o)=>r=>r(xr(e,t,n,o)),Er=(e,t,n)=>{const o=P(t,(e=>({text:e.title,value:"#"+pr(e.value).value,type:"choiceitem"})));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},_r=e=>()=>{const t=e.queryCommandValue("mceTableRowType"),n="header"===t?"body":"header";e.execCommand("mceTableRowType",!1,{type:n})},Or=e=>()=>{const t=e.queryCommandValue("mceTableColType"),n="th"===t?"td":"th";e.execCommand("mceTableColType",!1,{type:n})},Ur=e=>{const t=Cr(zn(e));return t.length>0?B.some({name:"class",type:"listbox",label:"Class",items:t}):B.none()},Tr=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:nr}],Lr=e=>Tr.concat(Ur(e).toArray()),Nr=(e,t)=>{const n=[{text:"Select...",value:""}],o=[{name:"borderstyle",type:"listbox",label:"Border style",items:n.concat(Cr(In(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],r={name:"borderwidth",type:"input",label:"Border width"},s="cell"===t?[r].concat(o):o;return{title:"Advanced",name:"advanced",items:s}},Qr=(e,t)=>{const n=e.dom,o=(e,o)=>{n.setAttrib(t,e,o)},r=(e,o)=>{n.setStyle(t,e,o)},s=(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)};return{setAttrib:o,setStyle:r,setFormat:s}},Dr={normal:Qr},Ir=Ce("th"),Hr=(e,t)=>e&&t?"sectionCells":e?"section":"cells",Mr=e=>{const t="thead"===e.section,n=lt(Rr(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:Hr(t,n)}:{type:"body"}},Rr=e=>{const t=K(e,(e=>Ir(e.element)));return 0===t.length?B.some("td"):t.length===e.length?B.some("th"):B.none()},Pr=e=>{const t=P(e,(e=>Mr(e).type)),n=H(t,"header"),o=H(t,"footer");if(n||o){const e=H(t,"body");return!n||e||o?n||e||!o?B.none():B.some("footer"):B.some("header")}return B.some("body")},Vr=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},jr=(e,t)=>oe(e.all,(e=>Z(e.cells,(e=>Ee(t,e.element))))),zr=(e,t,n)=>{const o=P(t.selection,(t=>zt(t).bind((t=>jr(e,t))).filter(n))),r=ct(o);return mt(r.length>0,r)},Kr=(e,t)=>t.mergable,Wr=(e,t)=>t.unmergable,Gr=(e,t)=>zr(e,t,y),qr=(e,t)=>jr(e,t).exists((e=>!e.isLocked)),Zr=(e,t)=>Y(t,(t=>qr(e,t))),Xr=(e,t)=>Kr(e,t).filter((t=>Zr(e,t.cells))),Jr=(e,t)=>Wr(e,t).filter((t=>Zr(e,t))),Yr=e=>{if(!a(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return V(e,((o,r)=>{const s=C(o);if(1!==s.length)throw new Error("one and only one name per case");const i=s[0],A=o[i];if(void 0!==n[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!a(A))throw new Error("case arguments must be an array");t.push(i),n[i]=(...n)=>{const o=n.length;if(o!==A.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+A.length+" ("+A+"), got "+o);const s=e=>{const o=C(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));const r=Y(t,(e=>H(o,e)));if(!r)throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,n)};return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);const o=t[r];return o.apply(null,n)},match:s,log:e=>{console.log(e,{constructors:t,constructor:i,params:n})}}}})),n},$r={generate:Yr},es=($r.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),(e,t)=>{const n=mn.fromTable(e),o=Gr(n,t);return o.bind((e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan,s=n.all.slice(o,r);return Pr(s)})).getOr("")}),ts=es,ns=e=>ft(e,"rgb")?fr(e):e,os=e=>{const t=le.fromDom(e);return{borderwidth:_t(t,"border-width").getOr(""),borderstyle:_t(t,"border-style").getOr(""),bordercolor:_t(t,"border-color").map(ns).getOr(""),backgroundcolor:_t(t,"background-color").map(ns).getOr("")}},rs=e=>{const t=e[0],n=e.slice(1);return V(n,(e=>{V(C(t),(n=>{S(e,((e,o)=>{const r=t[n];""!==r&&n===o&&r!==e&&(t[n]="")}))}))})),t},ss=(e,t,n,o)=>Z(e,(e=>!l(n.formatter.matchNode(o,t+e)))).getOr(""),is=v(ss,["left","center","right"],"align"),as=v(ss,["top","middle","bottom"],"valign"),As=(e,t)=>{const n=Yn(e),o=$n(e),r=()=>({borderstyle:T(n,"border-style").getOr(""),bordercolor:ns(T(n,"border-color").getOr("")),backgroundcolor:ns(T(n,"background-color").getOr(""))}),s={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},i=()=>{const t=n["border-width"];return jn(e)&&t?{border:t}:T(o,"border").fold((()=>({})),(e=>({border:e})))},a=t?r():{},A=()=>{const e=T(n,"border-spacing").or(T(o,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e}))),t=T(n,"border-padding").or(T(o,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})));return{...e,...t}},l={...s,...n,...o,...a,...i(),...A()};return l},ls=e=>Gt(le.fromDom(e)).map((t=>{const n={selection:Vo(e.cells)};return ts(t,n)})).getOr(""),cs=(e,t,n)=>{const o=(t,n)=>{const o=_t(le.fromDom(n),"border-width");return jn(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||gn(e.dom,n,"border-width")||gn(e.dom,n,"border")},r=e.dom,s=jn(e)?r.getStyle(t,"border-spacing")||r.getAttrib(t,"cellspacing"):r.getAttrib(t,"cellspacing")||r.getStyle(t,"border-spacing"),i=jn(e)?gn(r,t,"padding")||r.getAttrib(t,"cellpadding"):r.getAttrib(t,"cellpadding")||gn(r,t,"padding");return{width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),cellspacing:s,cellpadding:i,border:o(r,t),caption:!!r.select("caption",t)[0],class:r.getAttrib(t,"class",""),align:is(e,t),...n?os(t):{}}},us=(e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:ls(t),align:is(e,t),...n?os(t):{}}},ds=(e,t,n,o)=>{const r=e.dom,s=o.getOr(t),i=(e,t)=>r.getStyle(e,t)||r.getAttrib(e,t);return{width:i(s,"width"),height:i(t,"height"),scope:r.getAttrib(t,"scope"),celltype:eo(t),class:r.getAttrib(t,"class",""),halign:is(e,t),valign:as(e,t),...n?os(t):{}}},ms=(e,t)=>{const n=mn.fromTable(e),o=mn.justCells(n),r=K(o,(e=>M(t,(t=>Ee(e.element,t)))));return P(r,(e=>({element:e.element.dom,column:mn.getColumnAt(n,e.column).map((e=>e.element.dom))})))},hs=(e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&e.setAttrib("class",n.class),o("height")&&e.setStyle("height",ro(n.height)),o("width")&&t.setStyle("width",ro(n.width))},gs=(e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",ro(t.borderwidth))},ps=(e,t,n,o)=>{const r=1===t.length;V(t,(t=>{const s=t.element,i=r?y:o,a=Dr.normal(e,s),A=t.column.map((t=>Dr.normal(e,t))).getOr(a);hs(a,A,n,i),Hn(e)&&gs(a,n,i),o("halign")&&pn(e,s,n.halign),o("valign")&&fn(e,s,n.valign)}))},fs=(e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})},bs=(e,t,n,o)=>{const r=E(o,((e,t)=>n[t]!==e));U(r)>0&&t.length>=1&&Gt(t[0]).each((n=>{const s=ms(n,t),i=U(E(r,((e,t)=>"scope"!==t&&"celltype"!==t)))>0,a=L(r,"celltype");(i||L(r,"scope"))&&ps(e,s,o,v(L,r)),a&&fs(e,o),bn(e,n.dom,{structure:a,style:i})}))},vs=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{bs(e,t,n,r),e.focus()}))},ws=(e,t)=>{const n=Gt(t[0]).map((n=>P(ms(n,t),(t=>ds(e,t.element,Hn(e),t.column)))));return rs(n.getOrDie())},ys=e=>{const t=er(e);if(0===t.length)return;const n=ws(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Lr(e)},Nr(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:Lr(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Hn(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:v(vs,e,t,n)})},Bs=e=>{const t=Cr(Kn(e));return t.length>0?B.some({name:"class",type:"listbox",label:"Class",items:t}):B.none()},Cs=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],xs=e=>Cs.concat(Bs(e).toArray()),Ss=(e,t,n)=>{n("class")&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",ro(t.height))},Fs=(e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)},ks=(e,t,n,o)=>{const r=1===t.length,s=r?y:o;V(t,(t=>{const r=Dr.normal(e,t);Ss(r,n,s),Mn(e)&&Fs(r,n,s),o("align")&&pn(e,t,n.align)}))},Es=(e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})},_s=(e,t,n,o)=>{const r=E(o,((e,t)=>n[t]!==e));if(U(r)>0){const n=L(r,"type"),s=!n||U(r)>1;s&&ks(e,t,o,v(L,r)),n&&Es(e,o),Gt(le.fromDom(t[0])).each((t=>bn(e,t.dom,{structure:n,style:s})))}},Os=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{_s(e,t,n,r),e.focus()}))},Us=e=>{const t=tr(so(e),Zo.selected);if(0===t.length)return;const n=P(t,(t=>us(e,t.dom,Mn(e)))),o=rs(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:xs(e)},Nr(e,"row")]},s={type:"panel",items:[{type:"grid",columns:2,items:xs(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Mn(e)?r:s,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:v(Os,e,P(t,(e=>e.dom)),o)})},Ts=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],s=Pn(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],i=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],a=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return o.concat(r).concat(s).concat(i).concat(a)},Ls=(e,t,n,o)=>{if("TD"===t.tagName||"TH"===t.tagName)i(n)?e.setStyle(t,n,o):e.setStyles(t,n);else if(t.children)for(let r=0;r<t.children.length;r++)Ls(e,t.children[r],n,o)},Ns=(e,t,n)=>{const o=e.dom,r={},s={};if(r.class=n.class,s.height=ro(n.height),jn(e)?s.width=ro(n.width):o.getAttrib(t,"width")&&(r.width=oo(n.width)),jn(e)?(s["border-width"]=ro(n.border),s["border-spacing"]=ro(n.cellspacing)):(r.border=n.border,r.cellpadding=n.cellpadding,r.cellspacing=n.cellspacing),jn(e)&&t.children)for(let i=0;i<t.children.length;i++)Ls(o,t.children[i],{"border-width":ro(n.border),padding:ro(n.cellpadding)}),Rn(e)&&Ls(o,t.children[i],{"border-color":n.bordercolor});Rn(e)&&(s["background-color"]=n.backgroundcolor,s["border-color"]=n.bordercolor,s["border-style"]=n.borderstyle),r.style=o.serializeStyle({...Yn(e),...s}),o.setAttribs(t,{...$n(e),...r})},Qs=(e,t,n,o)=>{const r=e.dom,s=o.getData(),i=E(s,((e,t)=>n[t]!==e));o.close(),""===s.class&&delete s.class,e.undoManager.transact((()=>{if(!t){const n=parseInt(s.cols,10)||1,o=parseInt(s.rows,10)||1;e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=$o(so(e),no(e)).bind((t=>Gt(t,no(e)))).map((e=>e.dom)).getOrUndefined()}if(U(i)>0){Ns(e,t,s);const n=r.select("caption",t)[0];(n&&!s.caption||!n&&s.caption)&&e.execCommand("mceTableToggleCaption"),pn(e,t,s.align)}if(e.focus(),e.addVisual(),U(i)>0){const n=L(i,"caption"),o=!n||U(i)>1;bn(e,t,{structure:n,style:o})}}))},Ds=(e,t)=>{const n=e.dom;let o,r=As(e,Rn(e));!1===t?(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?r=cs(e,o,Rn(e)):Rn(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(r.cols="1",r.rows="1",Rn(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const s=Cr(Wn(e));s.length>0&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const i={type:"grid",columns:2,items:Ts(e,s,t)},a=()=>({type:"panel",items:[i]}),A=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[i]},Nr(e,"table")]}),l=Rn(e)?A():a();e.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:v(Qs,e,o,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},Is=e=>{S({mceTableProps:v(Ds,e,!1),mceTableRowProps:v(Us,e),mceTableCellProps:v(ys,e)},((t,n)=>e.addCommand(n,(()=>t())))),e.addCommand("mceInsertTableDialog",(t=>{Ds(e,!0)}))},Hs=(e,t)=>$e(e,t).isSome(),Ms=f,Rs=e=>{const t=(e,t)=>it(e,t).exists((e=>parseInt(e,10)>1)),n=e=>t(e,"rowspan")||t(e,"colspan");return e.length>0&&Y(e,n)?B.some(e):B.none()},Ps=(e,t,n)=>t.length<=1?B.none():Po(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),Vs=e=>({element:e,mergable:B.none(),unmergable:B.none(),selection:[e]}),js=(e,t,n)=>({element:n,mergable:Ps(t,e,Zo),unmergable:Rs(e),selection:Ms(e)}),zs=e=>{const t=br(B.none()),n=br([]);let o=B.none();const r=Ce("caption"),s=e=>o.forall((t=>!t[e])),i=()=>Yo(so(e),no(e)),a=()=>Yo(io(e),no(e)),A=()=>i().bind((t=>dt(ut(Gt(t),a().bind(Gt),((n,o)=>Ee(n,o)?r(t)?B.some(Vs(t)):B.some(js(er(e),n,t)):B.none()))))),l=e=>{const t=Gt(e.element);return t.map((t=>{const n=mn.fromTable(t),o=Gr(n,e).getOr([]),r=G(o,((e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e)),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Xr(n,e).isSome(),unmergeable:Jr(n,e).isSome(),locked:r}}))},c=()=>{t.set(Vr(A)()),o=t.get().bind(l),V(n.get(),(e=>e()))},u=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(K(n.get(),(t=>t!==e)))}),d=(e,n)=>u((()=>t.get().fold((()=>{e.setEnabled(!1)}),(t=>{e.setEnabled(!n(t))})))),m=(e,n,o)=>u((()=>t.get().fold((()=>{e.setEnabled(!1),e.setActive(!1)}),(t=>{e.setEnabled(!n(t)),e.setActive(o(t))})))),h=e=>o.exists((t=>t.locked[e])),g=e=>d(e,(e=>!1)),p=e=>d(e,(e=>r(e.element))),f=e=>t=>d(t,(t=>r(t.element)||h(e))),b=e=>t=>d(t,(t=>r(t.element)||e().isNone())),v=(e,t)=>n=>d(n,(n=>r(n.element)||e().isNone()||h(t))),y=e=>d(e,(e=>s("mergeable"))),C=e=>d(e,(e=>s("unmergeable"))),x=t=>m(t,w,(t=>{const n=Gt(t.element,no(e));return n.exists((e=>Hs(e,"caption")))})),S=(t,n)=>o=>m(o,(e=>r(e.element)),(()=>e.queryCommandValue(t)===n)),F=S("mceTableRowType","header"),k=S("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",c),{onSetupTable:g,onSetupCellOrRow:p,onSetupColumn:f,onSetupPasteable:b,onSetupPasteableColumn:v,onSetupMergeable:y,onSetupUnmergeable:C,resetTargets:c,onSetupTableWithCaption:x,onSetupTableRowHeaders:F,onSetupTableColumnHeaders:k,targets:t.get}};var Ks=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Ws="x-tinymce/dom-table-",Gs=Ws+"rows",qs=Ws+"columns",Zs=e=>{var t;const n=null!==(t=Ks.read())&&void 0!==t?t:[];return oe(n,(t=>B.from(t.getType(e))))},Xs=()=>Zs(Gs),Js=()=>Zs(qs),Ys=(e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:d(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:d(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(Xs)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(Xs)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(Js,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(Js,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table"});const s=Fr(Wn(e));0!==s.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:kr(e,s,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const i=Fr(zn(e));0!==i.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:kr(e,i,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:kr(e,nr,"tablecellverticalalign",Sr(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:kr(e,Dn(e),"tablecellborderwidth",Sr(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:kr(e,In(e),"tablecellborderstyle",Sr(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(Er(e,qn(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(Er(e,Zn(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:_r(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Or(e),onSetup:t.onSetupTableColumnHeaders})},$s=e=>{const t=t=>e.dom.is(t,"table")&&e.getBody().contains(t),n=Gn(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})},ei=(e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:d(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:d(o.onAction)?o.onAction:n(o.command)})},s=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},i=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(Xs)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(Xs)})],a=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(Js,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(Js,"onLast")})],A=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];Vn(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:s}]}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog")}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog")}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),H(i,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:p("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),H(a,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:p("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),H(A,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:p("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(p(""),(e=>"caption"===ge(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable")))});const l=Fr(Wn(e));0!==l.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>xr(e,l,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const c=Fr(zn(e));0!==c.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>xr(e,c,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>xr(e,nr,"tablecellverticalalign",Sr(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>xr(e,Dn(e),"tablecellborderwidth",Sr(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>xr(e,In(e),"tablecellborderstyle",Sr(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Er(e,qn(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Er(e,Zn(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:_r(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Or(e),onSetup:t.onSetupTableRowHeaders})},ti=e=>{const t=zs(e);Nn(e),Is(e),ei(e,t),Ys(e,t),$s(e)};var ni=()=>{e.add("table",ti)};ni()})()},5081:function(e,t,n){n(1190)},1190:function(){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>e===t,n=t(null),o=e=>e,r="\ufeff",s=e=>e.replace(/\uFEFF/g,""),i=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},a="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",A={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:a},l={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},c=[new RegExp(A.aletter),new RegExp(A.midnumlet),new RegExp(A.midletter),new RegExp(A.midnum),new RegExp(A.numeric),new RegExp(A.cr),new RegExp(A.lf),new RegExp(A.newline),new RegExp(A.extend),new RegExp(A.format),new RegExp(A.katakana),new RegExp(A.extendnumlet),new RegExp("@")],u="",d=new RegExp("^"+A.punctuation+"$"),m=/^\s+$/,h=c,g=l.OTHER,p=e=>{let t=g;const n=h.length;for(let o=0;o<n;++o){const n=h[o];if(n&&n.test(e)){t=o;break}}return t},f=e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}},b=e=>{const t=f(p);return i(e,t)},v=(e,t)=>{const n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===l.ALETTER&&o===l.ALETTER)return!1;const r=e[t+2];if(n===l.ALETTER&&(o===l.MIDLETTER||o===l.MIDNUMLET||o===l.AT)&&r===l.ALETTER)return!1;const s=e[t-1];return(n!==l.MIDLETTER&&n!==l.MIDNUMLET&&o!==l.AT||o!==l.ALETTER||s!==l.ALETTER)&&((n!==l.NUMERIC&&n!==l.ALETTER||o!==l.NUMERIC&&o!==l.ALETTER)&&((n!==l.MIDNUM&&n!==l.MIDNUMLET||o!==l.NUMERIC||s!==l.NUMERIC)&&((n!==l.NUMERIC||o!==l.MIDNUM&&o!==l.MIDNUMLET||r!==l.NUMERIC)&&(n!==l.EXTEND&&n!==l.FORMAT&&s!==l.EXTEND&&s!==l.FORMAT&&o!==l.EXTEND&&o!==l.FORMAT&&((n!==l.CR||o!==l.LF)&&(n===l.NEWLINE||n===l.CR||n===l.LF||(o===l.NEWLINE||o===l.CR||o===l.LF||(n!==l.KATAKANA||o!==l.KATAKANA)&&((o!==l.EXTENDNUMLET||n!==l.ALETTER&&n!==l.NUMERIC&&n!==l.KATAKANA&&n!==l.EXTENDNUMLET)&&((n!==l.EXTENDNUMLET||o!==l.ALETTER&&o!==l.NUMERIC&&o!==l.KATAKANA)&&n!==l.AT)))))))))},w=u,y=m,B=d,C=e=>"http"===e||"https"===e,x=(e,t)=>{let n;for(n=t;n<e.length;n++)if(y.test(e[n]))break;return n},S=(e,t)=>{const n=x(e,t+1),o=e.slice(t+1,n).join(w);return"://"===o.substr(0,3)?n:t},F=(e,t,n,o)=>{const r=[];let s=[];for(let i=0;i<n.length;++i)if(s.push(e[i]),v(n,i)){const n=t[i];if((o.includeWhitespace||!y.test(n))&&(o.includePunctuation||!B.test(n))){const n=i-s.length+1,o=i+1,a=t.slice(n,o).join(w);if(C(a)){const n=S(t,i),r=e.slice(o,n);Array.prototype.push.apply(s,r),i=n}r.push(s)}s=[]}return r},k=()=>({includeWhitespace:!1,includePunctuation:!1}),E=(e,t,n)=>{n={...k(),...n};const o=[],s=[];for(let a=0;a<e.length;a++){const n=t(e[a]);n!==r&&(o.push(e[a]),s.push(n))}const i=b(s);return F(o,s,i,n)},_=E;var O=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const U=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],i=[];let a="";const A=new O(e,e);while(e=A.next())3===e.nodeType?a+=s(e.data):r(e)&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i},T=e=>e.replace(/\u200B/g,""),L=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,N=(e,t)=>{const n=T(U(e,t).join("\n"));return _(n.split(""),o).length},Q=(e,t)=>{const n=U(e,t).join("");return L(n)},D=(e,t)=>{const n=U(e,t).join("").replace(/\s/g,"");return L(n)},I=(e,t)=>()=>t(e.getBody(),e.schema),H=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),M=e=>I(e,N),R=e=>({body:{getWordCount:M(e),getCharacterCount:I(e,Q),getCharacterCountWithoutSpaces:I(e,D)},selection:{getWordCount:H(e,N),getCharacterCount:H(e,Q),getCharacterCountWithoutSpaces:H(e,D)},getCount:M(e)}),P=(e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},V=(e,t)=>{e.addCommand("mceWordCount",(()=>P(e,t)))},j=(e,t)=>{let o=null;const r=()=>{n(o)||(clearTimeout(o),o=null)},s=(...r)=>{n(o)&&(o=setTimeout((()=>{o=null,e.apply(null,r)}),t))};return{cancel:r,throttle:s}};var z=tinymce.util.Tools.resolve("tinymce.util.Delay");const K=(e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})},W=(e,t)=>{K(e,t)},G=(e,t,n)=>{const o=j((()=>W(e,t)),n);e.on("init",(()=>{W(e,t),z.setEditorTimeout(e,(()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",o.throttle)}),0),e.on("remove",o.cancel)}))},q=e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t})};var Z=(t=300)=>{e.add("wordcount",(e=>{const n=R(e);return V(e,n),q(e),G(e,n,t),n}))};Z()})()},6075:function(e,t,n){n(4934)},4934:function(){(function(){"use strict";const e=Object.getPrototypeOf,t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n},o=e=>t=>n(t)===e,r=e=>t=>typeof t===e,s=e=>t=>e===t,i=(n,o)=>A(n)&&t(n,o,((t,n)=>e(t)===n)),a=o("string"),A=o("object"),l=e=>i(e,Object),c=o("array"),u=s(null),d=r("boolean"),m=s(void 0),h=e=>null===e||void 0===e,g=e=>!h(e),p=r("function"),f=r("number"),b=(e,t)=>{if(c(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},v=()=>{},w=e=>()=>e(),y=(e,t)=>(...n)=>e(t.apply(null,n)),B=(e,t)=>n=>e(t(n)),C=e=>()=>e,x=e=>e,S=(e,t)=>e===t;function F(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const k=e=>t=>!e(t),E=e=>()=>{throw new Error(e)},_=e=>e(),O=C(!1),U=C(!0);var T=tinymce.util.Tools.resolve("tinymce.ThemeManager");class L{constructor(e,t){this.tag=e,this.value=t}static some(e){return new L(!0,e)}static none(){return L.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?L.some(e(this.value)):L.none()}bind(e){return this.tag?e(this.value):L.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:L.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return g(e)?L.some(e):L.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}L.singletonNone=new L(!1);const N=Array.prototype.slice,Q=Array.prototype.indexOf,D=Array.prototype.push,I=(e,t)=>Q.call(e,t),H=(e,t)=>{const n=I(e,t);return-1===n?L.none():L.some(n)},M=(e,t)=>I(e,t)>-1,R=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return!0}return!1},P=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},V=(e,t)=>{const n=[];for(let o=0;o<e.length;o+=t){const r=N.call(e,o,o+t);n.push(r)}return n},j=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},z=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},K=(e,t)=>{for(let n=e.length-1;n>=0;n--){const o=e[n];t(o,n)}},W=(e,t)=>{const n=[],o=[];for(let r=0,s=e.length;r<s;r++){const s=e[r],i=t(s,r)?n:o;i.push(s)}return{pass:n,fail:o}},G=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},q=(e,t,n)=>(K(e,((e,o)=>{n=t(n,e,o)})),n),Z=(e,t,n)=>(z(e,((e,o)=>{n=t(n,e,o)})),n),X=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return L.some(r);if(n(r,o))break}return L.none()},J=(e,t)=>X(e,t,O),Y=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return L.some(n)}return L.none()},$=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!c(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);D.apply(t,e[n])}return t},ee=(e,t)=>$(j(e,t)),te=(e,t)=>{for(let n=0,o=e.length;n<o;++n){const o=e[n];if(!0!==t(o,n))return!1}return!0},ne=e=>{const t=N.call(e,0);return t.reverse(),t},oe=(e,t)=>G(e,(e=>!M(t,e))),re=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},se=e=>[e],ie=(e,t)=>{const n=N.call(e,0);return n.sort(t),n},ae=(e,t)=>t>=0&&t<e.length?L.some(e[t]):L.none(),Ae=e=>ae(e,0),le=e=>ae(e,e.length-1),ce=p(Array.from)?Array.from:e=>N.call(e),ue=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return L.none()},de=Object.keys,me=Object.hasOwnProperty,he=(e,t)=>{const n=de(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],s=e[r];t(s,r)}},ge=(e,t)=>pe(e,((e,n)=>({k:n,v:t(e,n)}))),pe=(e,t)=>{const n={};return he(e,((e,o)=>{const r=t(e,o);n[r.k]=r.v})),n},fe=e=>(t,n)=>{e[n]=t},be=(e,t,n,o)=>{const r={};return he(e,((e,r)=>{(t(e,r)?n:o)(e,r)})),r},ve=(e,t)=>{const n={},o={};return be(e,t,fe(n),fe(o)),{t:n,f:o}},we=(e,t)=>{const n={};return be(e,t,fe(n),v),n},ye=(e,t)=>{const n=[];return he(e,((e,o)=>{n.push(t(e,o))})),n},Be=(e,t)=>{const n=de(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],s=e[r];if(t(s,r,e))return L.some(s)}return L.none()},Ce=e=>ye(e,x),xe=(e,t)=>Se(e,t)?L.from(e[t]):L.none(),Se=(e,t)=>me.call(e,t),Fe=(e,t)=>Se(e,t)&&void 0!==e[t]&&null!==e[t],ke=(e,t,n=S)=>e.exists((e=>n(e,t))),Ee=(e,t,n=S)=>Ue(e,t,n).getOr(e.isNone()&&t.isNone()),_e=e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t},Oe=e=>{const t=[];for(let n=0;n<e.length;n++){const o=e[n];if(!o.isSome())return L.none();t.push(o.getOrDie())}return L.some(t)},Ue=(e,t,n)=>e.isSome()&&t.isSome()?L.some(n(e.getOrDie(),t.getOrDie())):L.none(),Te=(e,t,n,o)=>e.isSome()&&t.isSome()&&n.isSome()?L.some(o(e.getOrDie(),t.getOrDie(),n.getOrDie())):L.none(),Le=(e,t)=>void 0!==e&&null!==e?L.some(t(e)):L.none(),Ne=(e,t)=>e?L.some(t):L.none(),Qe=(e,t)=>e+t,De=(e,t)=>e.substring(t),Ie=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,He=(e,t)=>Pe(e,t)?De(e,t.length):e,Me=(e,t)=>Ve(e,t)?e:Qe(e,t),Re=(e,t)=>-1!==e.indexOf(t),Pe=(e,t)=>Ie(e,t,0),Ve=(e,t)=>Ie(e,t,e.length-t.length),je=e=>t=>t.replace(e,""),ze=je(/^\s+|\s+$/g),Ke=e=>e.length>0,We=e=>!Ke(e),Ge=e=>void 0!==e.style&&p(e.style.getPropertyValue),qe=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Je(o.childNodes[0])},Ze=(e,t)=>{const n=t||document,o=n.createElement(e);return Je(o)},Xe=(e,t)=>{const n=t||document,o=n.createTextNode(e);return Je(o)},Je=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},Ye=(e,t,n)=>L.from(e.dom.elementFromPoint(t,n)).map(Je),$e={fromHtml:qe,fromTag:Ze,fromText:Xe,fromDom:Je,fromPoint:Ye};"undefined"!==typeof window?window:Function("return this;")();const et=9,tt=11,nt=1,ot=3,rt=e=>{const t=e.dom.nodeName;return t.toLowerCase()},st=e=>e.dom.nodeType,it=e=>t=>st(t)===e,at=it(nt),At=it(ot),lt=it(et),ct=it(tt),ut=e=>t=>at(t)&&rt(t)===e,dt=(e,t)=>{const n=e.dom;if(n.nodeType!==nt)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},mt=e=>e.nodeType!==nt&&e.nodeType!==et&&e.nodeType!==tt||0===e.childElementCount,ht=(e,t)=>{const n=void 0===t?document:t.dom;return mt(n)?[]:j(n.querySelectorAll(e),$e.fromDom)},gt=(e,t)=>{const n=void 0===t?document:t.dom;return mt(n)?L.none():L.from(n.querySelector(e)).map($e.fromDom)},pt=(e,t)=>e.dom===t.dom,ft=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},bt=e=>$e.fromDom(e.dom.ownerDocument),vt=e=>lt(e)?e:bt(e),wt=e=>$e.fromDom(vt(e).dom.documentElement),yt=e=>$e.fromDom(vt(e).dom.defaultView),Bt=e=>L.from(e.dom.parentNode).map($e.fromDom),Ct=e=>L.from(e.dom.parentElement).map($e.fromDom),xt=e=>L.from(e.dom.offsetParent).map($e.fromDom),St=e=>L.from(e.dom.nextSibling).map($e.fromDom),Ft=e=>j(e.dom.childNodes,$e.fromDom),kt=(e,t)=>{const n=e.dom.childNodes;return L.from(n[t]).map($e.fromDom)},Et=e=>kt(e,0),_t=(e,t)=>({element:e,offset:t}),Ot=(e,t)=>{const n=Ft(e);return n.length>0&&t<n.length?_t(n[t],0):_t(e,t)},Ut=e=>ct(e)&&g(e.dom.host),Tt=p(Element.prototype.attachShadow)&&p(Node.prototype.getRootNode),Lt=C(Tt),Nt=Tt?e=>$e.fromDom(e.dom.getRootNode()):vt,Qt=e=>Ut(e)?e:$e.fromDom(vt(e).dom.body),Dt=e=>It(e).isSome(),It=e=>{const t=Nt(e);return Ut(t)?L.some(t):L.none()},Ht=e=>$e.fromDom(e.dom.host),Mt=e=>{if(Lt()&&g(e.target)){const t=$e.fromDom(e.target);if(at(t)&&Rt(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return Ae(t)}}return L.from(e.target)},Rt=e=>g(e.dom.shadowRoot),Pt=e=>{const t=At(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return It($e.fromDom(t)).fold((()=>n.body.contains(t)),B(Pt,Ht))},Vt=()=>jt($e.fromDom(document)),jt=e=>{const t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return $e.fromDom(t)},zt=(e,t,n)=>{if(!(a(n)||d(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Kt=(e,t,n)=>{zt(e.dom,t,n)},Wt=(e,t)=>{const n=e.dom;he(t,((e,t)=>{zt(n,t,e)}))},Gt=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},qt=(e,t)=>L.from(Gt(e,t)),Zt=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Xt=(e,t)=>{e.dom.removeAttribute(t)},Jt=e=>Z(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Yt=(e,t,n)=>{if(!a(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ge(e)&&e.style.setProperty(t,n)},$t=(e,t)=>{Ge(e)&&e.style.removeProperty(t)},en=(e,t,n)=>{const o=e.dom;Yt(o,t,n)},tn=(e,t)=>{const n=e.dom;he(t,((e,t)=>{Yt(n,t,e)}))},nn=(e,t)=>{const n=e.dom;he(t,((e,t)=>{e.fold((()=>{$t(n,t)}),(e=>{Yt(n,t,e)}))}))},on=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n),r=o.getPropertyValue(t);return""!==r||Pt(e)?r:rn(n,t)},rn=(e,t)=>Ge(e)?e.style.getPropertyValue(t):"",sn=(e,t)=>{const n=e.dom,o=rn(n,t);return L.from(o).filter((e=>e.length>0))},an=e=>{const t={},n=e.dom;if(Ge(n))for(let o=0;o<n.style.length;o++){const e=n.style.item(o);t[e]=n.style[e]}return t},An=(e,t,n)=>{const o=$e.fromTag(e);en(o,t,n);const r=sn(o,t);return r.isSome()},ln=(e,t)=>{const n=e.dom;$t(n,t),ke(qt(e,"style").map(ze),"")&&Xt(e,"style")},cn=e=>e.dom.offsetWidth,un=(e,t)=>{const n=(t,n)=>{if(!f(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;Ge(o)&&(o.style[e]=n+"px")},o=n=>{const o=t(n);if(o<=0||null===o){const t=on(n,e);return parseFloat(t)||0}return o},r=o,s=(e,t)=>Z(t,((t,n)=>{const o=on(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0),i=(e,t,n)=>{const o=s(e,n),r=t>o?t-o:0;return r};return{set:n,get:o,getOuter:r,aggregate:s,max:i}},dn=un("height",(e=>{const t=e.dom;return Pt(e)?t.getBoundingClientRect().height:t.offsetHeight})),mn=e=>dn.get(e),hn=e=>dn.getOuter(e),gn=(e,t)=>{const n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],o=dn.max(e,t,n);en(e,"max-height",o+"px")},pn=(e,t)=>{const n=(n,o)=>pn(e+n,t+o);return{left:e,top:t,translate:n}},fn=pn,bn=e=>{const t=e.getBoundingClientRect();return fn(t.left,t.top)},vn=(e,t)=>void 0!==e?e:void 0!==t?t:0,wn=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return fn(n.offsetLeft,n.offsetTop);const s=vn(null===o||void 0===o?void 0:o.pageYOffset,r.scrollTop),i=vn(null===o||void 0===o?void 0:o.pageXOffset,r.scrollLeft),a=vn(r.clientTop,n.clientTop),A=vn(r.clientLeft,n.clientLeft);return yn(e).translate(i-A,s-a)},yn=e=>{const t=e.dom,n=t.ownerDocument,o=n.body;return o===t?fn(o.offsetLeft,o.offsetTop):Pt(e)?bn(t):fn(0,0)},Bn=un("width",(e=>e.dom.offsetWidth)),Cn=(e,t)=>Bn.set(e,t),xn=e=>Bn.get(e),Sn=e=>Bn.getOuter(e),Fn=(e,t)=>{const n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],o=Bn.max(e,t,n);en(e,"max-width",o+"px")},kn=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},En=(e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!r,i=e.isiOS()||e.isAndroid(),a=i||o("(pointer:coarse)"),A=r||!s&&i&&o("(min-device-width:768px)"),l=s||i&&!A,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!l&&!A&&!c;return{isiPad:C(r),isiPhone:C(s),isTablet:C(A),isPhone:C(l),isTouch:C(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:C(c),isDesktop:C(u)}},_n=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}},On=(e,t)=>{const n=_n(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Ln(o(1),o(2))},Un=(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Tn():On(e,n)},Tn=()=>Ln(0,0),Ln=(e,t)=>({major:e,minor:t}),Nn={nu:Ln,detect:Un,unknown:Tn},Qn=(e,t)=>ue(t.brands,(t=>{const n=t.brand.toLowerCase();return J(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Nn.nu(parseInt(t.version,10),0)})))})),Dn=(e,t)=>{const n=String(t).toLowerCase();return J(e,(e=>e.search(n)))},In=(e,t)=>Dn(e,t).map((e=>{const n=Nn.detect(e.versionRegexes,t);return{current:e.name,version:n}})),Hn=(e,t)=>Dn(e,t).map((e=>{const n=Nn.detect(e.versionRegexes,t);return{current:e.name,version:n}})),Mn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Rn=e=>t=>Re(t,e),Pn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Re(e,"edge/")&&Re(e,"chrome")&&Re(e,"safari")&&Re(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Mn],search:e=>Re(e,"chrome")&&!Re(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Re(e,"msie")||Re(e,"trident")},{name:"Opera",versionRegexes:[Mn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Rn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Rn("firefox")},{name:"Safari",versionRegexes:[Mn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Re(e,"safari")||Re(e,"mobile/"))&&Re(e,"applewebkit")}],Vn=[{name:"Windows",search:Rn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Re(e,"iphone")||Re(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Rn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Rn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Rn("linux"),versionRegexes:[]},{name:"Solaris",search:Rn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Rn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Rn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],jn={browsers:C(Pn),oses:C(Vn)},zn="Edge",Kn="Chromium",Wn="IE",Gn="Opera",qn="Firefox",Zn="Safari",Xn=()=>Jn({current:void 0,version:Nn.unknown()}),Jn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(zn),isChromium:o(Kn),isIE:o(Wn),isOpera:o(Gn),isFirefox:o(qn),isSafari:o(Zn)}},Yn={unknown:Xn,nu:Jn,edge:C(zn),chromium:C(Kn),ie:C(Wn),opera:C(Gn),firefox:C(qn),safari:C(Zn)},$n="Windows",eo="iOS",to="Android",no="Linux",oo="macOS",ro="Solaris",so="FreeBSD",io="ChromeOS",ao=()=>Ao({current:void 0,version:Nn.unknown()}),Ao=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o($n),isiOS:o(eo),isAndroid:o(to),isMacOS:o(oo),isLinux:o(no),isSolaris:o(ro),isFreeBSD:o(so),isChromeOS:o(io)}},lo={unknown:ao,nu:Ao,windows:C($n),ios:C(eo),android:C(to),linux:C(no),macos:C(oo),solaris:C(ro),freebsd:C(so),chromeos:C(io)},co=(e,t,n)=>{const o=jn.browsers(),r=jn.oses(),s=t.bind((e=>Qn(o,e))).orThunk((()=>In(o,e))).fold(Yn.unknown,Yn.nu),i=Hn(r,e).fold(lo.unknown,lo.nu),a=En(i,s,e,n);return{browser:s,os:i,deviceType:a}},uo={detect:co},mo=e=>window.matchMedia(e).matches;let ho=kn((()=>uo.detect(navigator.userAgent,L.from(navigator.userAgentData),mo)));const go=()=>ho(),po=(e,t,n,o,r,s,i)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:s,raw:i}),fo=e=>{const t=$e.fromDom(Mt(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=y(o,n);return po(t,e.clientX,e.clientY,n,o,r,e)},bo=(e,t)=>n=>{e(n)&&t(fo(n))},vo=(e,t,n,o,r)=>{const s=bo(n,o);return e.dom.addEventListener(t,s,r),{unbind:F(Bo,e,t,s,r)}},wo=(e,t,n,o)=>vo(e,t,n,o,!1),yo=(e,t,n,o)=>vo(e,t,n,o,!0),Bo=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Co=(e,t)=>{const n=Bt(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},xo=(e,t)=>{const n=St(e);n.fold((()=>{const n=Bt(e);n.each((e=>{Fo(e,t)}))}),(e=>{Co(e,t)}))},So=(e,t)=>{const n=Et(e);n.fold((()=>{Fo(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},Fo=(e,t)=>{e.dom.appendChild(t.dom)},ko=(e,t,n)=>{kt(e,n).fold((()=>{Fo(e,t)}),(e=>{Co(e,t)}))},Eo=(e,t)=>{z(t,(t=>{Fo(e,t)}))},_o=e=>{e.dom.textContent="",z(Ft(e),(e=>{Oo(e)}))},Oo=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Uo=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return fn(n,o)},To=(e,t,n)=>{const o=void 0!==n?n.dom:document,r=o.defaultView;r&&r.scrollTo(e,t)},Lo=e=>{const t=void 0===e?window:e;return go().browser.isFirefox()?L.none():L.from(t.visualViewport)},No=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Qo=e=>{const t=void 0===e?window:e,n=t.document,o=Uo($e.fromDom(n));return Lo(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return No(o.left,o.top,n,r)}),(e=>No(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},Do=()=>$e.fromDom(document),Io=(e,t)=>{const n=e.view(t);return n.fold(C([]),(t=>{const n=e.owner(t),o=Io(e,n);return[t].concat(o)}))},Ho=(e,t)=>{const n=t.owner(e),o=Io(t,n);return L.some(o)},Mo=e=>{var t;const n=e.dom===document?L.none():L.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement);return n.map($e.fromDom)},Ro=e=>bt(e);var Po=Object.freeze({__proto__:null,view:Mo,owner:Ro});const Vo=e=>{const t=Do(),n=Uo(t),o=Ho(e,Po);return o.fold(F(wn,e),(t=>{const o=yn(e),r=q(t,((e,t)=>{const n=yn(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return fn(r.left+o.left+n.left,r.top+o.top+n.top)}))},jo=(e,t,n)=>({point:e,width:t,height:n}),zo=(e,t,n,o)=>({x:e,y:t,width:n,height:o}),Ko=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Wo=e=>{const t=wn(e),n=Sn(e),o=hn(e);return Ko(t.left,t.top,n,o)},Go=e=>{const t=Vo(e),n=Sn(e),o=hn(e);return Ko(t.left,t.top,n,o)},qo=()=>Qo(window),Zo=e=>{const t=t=>t(e),n=C(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:U,isError:O,map:t=>Yo.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>L.some(e)};return r},Xo=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:O,isError:U,map:t,mapError:t=>Yo.error(t(e)),bind:t,exists:O,forall:U,getOr:x,or:x,getOrThunk:_,orThunk:_,getOrDie:E(String(e)),each:v,toOptional:L.none};return n},Jo=(e,t)=>e.fold((()=>Xo(t)),Zo),Yo={value:Zo,error:Xo,fromOption:Jo};var $o;(function(e){e[e["Error"]=0]="Error",e[e["Value"]=1]="Value"})($o||($o={}));const er=(e,t,n)=>e.stype===$o.Error?t(e.serror):n(e.svalue),tr=e=>{const t=[],n=[];return z(e,(e=>{er(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}},nr=(e,t)=>e.stype===$o.Error?{stype:$o.Error,serror:t(e.serror)}:e,or=(e,t)=>e.stype===$o.Value?{stype:$o.Value,svalue:t(e.svalue)}:e,rr=(e,t)=>e.stype===$o.Value?t(e.svalue):e,sr=(e,t)=>e.stype===$o.Error?t(e.serror):e,ir=e=>({stype:$o.Value,svalue:e}),ar=e=>({stype:$o.Error,serror:e}),Ar=e=>er(e,Yo.error,Yo.value),lr=e=>e.fold(ar,ir),cr={fromResult:lr,toResult:Ar,svalue:ir,partition:tr,serror:ar,bind:rr,bindError:sr,map:or,mapError:nr,fold:er},ur=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),dr=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),mr=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},hr=(e,t)=>t,gr=(e,t)=>{const n=l(e)&&l(t);return n?fr(e,t):t},pr=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const r=t[o];for(const t in r)Se(r,t)&&(n[t]=e(n[t],r[t]))}return n},fr=pr(gr),br=pr(hr),vr=()=>({tag:"required",process:{}}),wr=e=>({tag:"defaultedThunk",process:e}),yr=e=>wr(C(e)),Br=()=>({tag:"option",process:{}}),Cr=e=>({tag:"mergeWithThunk",process:e}),xr=e=>Cr(C(e)),Sr=(e,t)=>e.length>0?cr.svalue(fr(t,br.apply(void 0,e))):cr.svalue(t),Fr=e=>y(cr.serror,$)(e),kr=(e,t)=>{const n=cr.partition(e);return n.errors.length>0?Fr(n.errors):Sr(n.values,t)},Er=e=>{const t=cr.partition(e);return t.errors.length>0?Fr(t.errors):cr.svalue(t.values)},_r={consolidateObj:kr,consolidateArr:Er},Or=e=>A(e)&&de(e).length>100?" removed due to size":JSON.stringify(e,null,2),Ur=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:C("... (only showing first ten failures)")}]):e;return j(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))},Tr=(e,t)=>cr.serror([{path:e,getErrorInfo:t}]),Lr=(e,t,n)=>Tr(e,(()=>'Could not find valid *required* value for "'+t+'" in '+Or(n))),Nr=(e,t)=>Tr(e,(()=>'Choice schema did not contain choice key: "'+t+'"')),Qr=(e,t,n)=>Tr(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+Or(t))),Dr=(e,t)=>Tr(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified")),Ir=(e,t)=>Tr(e,C(t)),Hr=e=>{const t=(t,n)=>cr.bindError(e(n),(e=>Ir(t,e))),n=C("val");return{extract:t,toString:n}},Mr=Hr(cr.svalue),Rr=(e,t,n,o)=>xe(t,n).fold((()=>Lr(e,n,t)),o),Pr=(e,t,n,o)=>{const r=xe(e,t).getOrThunk((()=>n(e)));return o(r)},Vr=(e,t,n)=>n(xe(e,t)),jr=(e,t,n,o)=>{const r=xe(e,t).map((t=>!0===t?n(e):t));return o(r)},zr=(e,t,n,o,r)=>{const s=e=>r.extract(t.concat([o]),e),i=e=>e.fold((()=>cr.svalue(L.none())),(e=>{const n=r.extract(t.concat([o]),e);return cr.map(n,L.some)}));switch(e.tag){case"required":return Rr(t,n,o,s);case"defaultedThunk":return Pr(n,o,e.process,s);case"option":return Vr(n,o,i);case"defaultedOptionThunk":return jr(n,o,e.process,i);case"mergeWithThunk":return Pr(n,o,C({}),(t=>{const o=fr(e.process(n),t);return s(o)}))}},Kr=(e,t,n)=>{const o={},r=[];for(const s of n)mr(s,((n,s,i,a)=>{const A=zr(i,e,t,n,a);cr.fold(A,(e=>{r.push(...e)}),(e=>{o[s]=e}))}),((e,n)=>{o[e]=n(t)}));return r.length>0?cr.serror(r):cr.svalue(o)},Wr=e=>{const t=(t,n)=>e().extract(t,n),n=()=>e().toString();return{extract:t,toString:n}},Gr=e=>de(we(e,g)),qr=e=>{const t=Zr(e),n=q(e,((e,t)=>mr(t,(t=>fr(e,{[t]:!0})),C(e))),{}),o=(e,o)=>{const r=d(o)?[]:Gr(o),s=G(r,(e=>!Fe(n,e)));return 0===s.length?t.extract(e,o):Dr(e,s)};return{extract:o,toString:t.toString}},Zr=e=>{const t=(t,n)=>Kr(t,n,e),n=()=>{const t=j(e,(e=>mr(e,((e,t,n,o)=>e+" -> "+o.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:n}},Xr=e=>{const t=(t,n)=>{const o=j(n,((n,o)=>e.extract(t.concat(["["+o+"]"]),n)));return _r.consolidateArr(o)},n=()=>"array("+e.toString()+")";return{extract:t,toString:n}},Jr=e=>{const t=(t,n)=>{const o=[];for(const r of e){const e=r.extract(t,n);if(e.stype===$o.Value)return e;o.push(e)}return _r.consolidateArr(o)},n=()=>"oneOf("+j(e,(e=>e.toString())).join(", ")+")";return{extract:t,toString:n}},Yr=(e,t)=>{const n=(t,n)=>Xr(Hr(e)).extract(t,n),o=(e,o)=>{const r=de(o),s=n(e,r);return cr.bind(s,(n=>{const r=j(n,(e=>ur(e,e,vr(),t)));return Zr(r).extract(e,o)}))},r=()=>"setOf("+t.toString()+")";return{extract:o,toString:r}},$r=(e,t)=>{const n=kn(t),o=(e,t)=>n().extract(e,t),r=()=>n().toString();return{extract:o,toString:r}},es=y(Xr,Zr),ts=C(Mr),ns=(e,t)=>Hr((n=>{const o=typeof n;return e(n)?cr.svalue(n):cr.serror(`Expected type: ${t} but got: ${o}`)})),os=ns(f,"number"),rs=ns(a,"string"),ss=ns(d,"boolean"),is=ns(p,"function"),as=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((t=>as(e[t])));default:return!1}},As=Hr((e=>as(e)?cr.svalue(e):cr.serror("Expected value to be acceptable for sending via postMessage"))),ls=(e,t,n,o)=>{const r=xe(n,o);return r.fold((()=>Qr(e,n,o)),(n=>n.extract(e.concat(["branch: "+o]),t)))},cs=(e,t)=>{const n=(n,o)=>{const r=xe(o,e);return r.fold((()=>Nr(n,e)),(e=>ls(n,o,t,e)))},o=()=>"chooseOn("+e+"). Possible values: "+de(t);return{extract:n,toString:o}},us=()=>Xr(Mr),ds=e=>Hr((t=>e(t).fold(cr.serror,cr.svalue))),ms=(e,t)=>Yr((t=>cr.fromResult(e(t))),t),hs=(e,t,n)=>{const o=t.extract([e],n);return cr.mapError(o,(e=>({input:n,errors:e})))},gs=(e,t,n)=>cr.toResult(hs(e,t,n)),ps=e=>e.fold((e=>{throw new Error(bs(e))}),x),fs=(e,t,n)=>ps(gs(e,t,n)),bs=e=>"Errors: \n"+Ur(e.errors).join("\n")+"\n\nInput object: "+Or(e.input),vs=(e,t)=>cs(e,ge(t,Zr)),ws=(e,t)=>$r(e,t),ys=ur,Bs=dr,Cs=e=>ds((t=>M(e,t)?Yo.value(t):Yo.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),xs=e=>ys(e,e,vr(),ts()),Ss=(e,t)=>ys(e,e,vr(),t),Fs=e=>Ss(e,os),ks=e=>Ss(e,rs),Es=(e,t)=>ys(e,e,vr(),Cs(t)),_s=e=>Ss(e,ss),Os=e=>Ss(e,is),Us=(e,t)=>ys(e,e,Br(),Hr((n=>cr.serror("The field: "+e+" is forbidden. "+t)))),Ts=(e,t)=>ys(e,e,vr(),Zr(t)),Ls=(e,t)=>ys(e,e,vr(),es(t)),Ns=(e,t)=>ys(e,e,vr(),Xr(t)),Qs=e=>ys(e,e,Br(),ts()),Ds=(e,t)=>ys(e,e,Br(),t),Is=e=>Ds(e,os),Hs=e=>Ds(e,rs),Ms=(e,t)=>Ds(e,Cs(t)),Rs=e=>Ds(e,is),Ps=(e,t)=>Ds(e,Xr(t)),Vs=(e,t)=>Ds(e,Zr(t)),js=(e,t)=>Ds(e,qr(t)),zs=(e,t)=>ys(e,e,yr(t),ts()),Ks=(e,t,n)=>ys(e,e,yr(t),n),Ws=(e,t)=>Ks(e,t,os),Gs=(e,t)=>Ks(e,t,rs),qs=(e,t,n)=>Ks(e,t,Cs(n)),Zs=(e,t)=>Ks(e,t,ss),Xs=(e,t)=>Ks(e,t,is),Js=(e,t)=>Ks(e,t,As),Ys=(e,t,n)=>Ks(e,t,Xr(n)),$s=(e,t,n)=>Ks(e,t,Zr(n)),ei=e=>{let t=e;const n=()=>t,o=e=>{t=e};return{get:n,set:o}},ti=e=>{if(!c(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return z(e,((o,r)=>{const s=de(o);if(1!==s.length)throw new Error("one and only one name per case");const i=s[0],a=o[i];if(void 0!==n[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!c(a))throw new Error("case arguments must be an array");t.push(i),n[i]=(...n)=>{const o=n.length;if(o!==a.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+a.length+" ("+a+"), got "+o);const s=e=>{const o=de(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));const r=te(t,(e=>M(o,e)));if(!r)throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,n)};return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);const o=t[r];return o.apply(null,n)},match:s,log:e=>{console.log(e,{constructors:t,constructor:i,params:n})}}}})),n},ni={generate:ti};ni.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const oi=e=>{const t=[],n=[];return z(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}},ri=(e,t)=>{const n={};return he(e,((e,o)=>{M(t,o)||(n[o]=e)})),n},si=(e,t)=>({[e]:t}),ii=e=>{const t={};return z(e,(e=>{t[e.key]=e.value})),t},ai=(e,t)=>ri(e,t),Ai=(e,t)=>si(e,t),li=e=>ii(e),ci=(e,t)=>0===e.length?Yo.value(t):Yo.value(fr(t,br.apply(void 0,e))),ui=e=>Yo.error($(e)),di=(e,t)=>{const n=oi(e);return n.errors.length>0?ui(n.errors):ci(n.values,t)},mi=e=>p(e)?e:O,hi=(e,t,n)=>{let o=e.dom;const r=mi(n);while(o.parentNode){o=o.parentNode;const e=$e.fromDom(o),n=t(e);if(n.isSome())return n;if(r(e))break}return L.none()},gi=(e,t,n)=>{const o=t(e),r=mi(n);return o.orThunk((()=>r(e)?L.none():hi(e,t,r)))},pi=(e,t)=>pt(e.element,t.event.target),fi={can:U,abort:O,run:v},bi=e=>{if(!Fe(e,"can")&&!Fe(e,"abort")&&!Fe(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...fi,...e}},vi=(e,t)=>(...n)=>Z(e,((e,o)=>e&&t(o).apply(void 0,n)),!0),wi=(e,t)=>(...n)=>Z(e,((e,o)=>e||t(o).apply(void 0,n)),!1),yi=e=>p(e)?{can:U,abort:O,run:e}:e,Bi=e=>{const t=vi(e,(e=>e.can)),n=wi(e,(e=>e.abort)),o=(...t)=>{z(e,(e=>{e.run.apply(void 0,t)}))};return{can:t,abort:n,run:o}},Ci=C,xi=Ci("touchstart"),Si=Ci("touchmove"),Fi=Ci("touchend"),ki=Ci("touchcancel"),Ei=Ci("mousedown"),_i=Ci("mousemove"),Oi=Ci("mouseout"),Ui=Ci("mouseup"),Ti=Ci("mouseover"),Li=Ci("focusin"),Ni=Ci("focusout"),Qi=Ci("keydown"),Di=Ci("keyup"),Ii=Ci("input"),Hi=Ci("change"),Mi=Ci("click"),Ri=Ci("transitioncancel"),Pi=Ci("transitionend"),Vi=Ci("transitionstart"),ji=Ci("selectstart"),zi=e=>C("alloy."+e),Ki={tap:zi("tap")},Wi=zi("focus"),Gi=zi("blur.post"),qi=zi("paste.post"),Zi=zi("receive"),Xi=zi("execute"),Ji=zi("focus.item"),Yi=Ki.tap,$i=zi("longpress"),ea=zi("sandbox.close"),ta=zi("typeahead.cancel"),na=zi("system.init"),oa=zi("system.touchmove"),ra=zi("system.touchend"),sa=zi("system.scroll"),ia=zi("system.resize"),aa=zi("system.attached"),Aa=zi("system.detached"),la=zi("system.dismissRequested"),ca=zi("system.repositionRequested"),ua=zi("focusmanager.shifted"),da=zi("slotcontainer.visibility"),ma=zi("change.tab"),ha=zi("dismiss.tab"),ga=zi("highlight"),pa=zi("dehighlight"),fa=(e,t)=>{ya(e,e.element,t,{})},ba=(e,t,n)=>{ya(e,e.element,t,n)},va=e=>{fa(e,Xi())},wa=(e,t,n)=>{ya(e,t,n,{})},ya=(e,t,n,o)=>{const r={target:t,...o};e.getSystem().triggerEvent(n,t,r)},Ba=(e,t,n,o)=>{e.getSystem().triggerEvent(n,t,o.event)},Ca=e=>li(e),xa=(e,t)=>({key:e,value:bi({abort:t})}),Sa=(e,t)=>({key:e,value:bi({can:t})}),Fa=e=>({key:e,value:bi({run:(e,t)=>{t.event.prevent()}})}),ka=(e,t)=>({key:e,value:bi({run:t})}),Ea=(e,t,n)=>({key:e,value:bi({run:(e,o)=>{t.apply(void 0,[e,o].concat(n))}})}),_a=e=>t=>ka(e,t),Oa=e=>t=>({key:e,value:bi({run:(e,n)=>{pi(e,n)&&t(e,n)}})}),Ua=(e,t)=>ka(e,((n,o)=>{n.getSystem().getByUid(t).each((t=>{Ba(t,t.element,e,o)}))})),Ta=(e,t,n)=>{const o=t.partUids[n];return Ua(e,o)},La=(e,t)=>ka(e,((e,n)=>{const o=n.event,r=e.getSystem().getByDom(o.target).getOrThunk((()=>{const t=gi(o.target,(t=>e.getSystem().getByDom(t).toOptional()),O);return t.getOr(e)}));t(e,r,n)})),Na=e=>ka(e,((e,t)=>{t.cut()})),Qa=e=>ka(e,((e,t)=>{t.stop()})),Da=(e,t)=>Oa(e)(t),Ia=Oa(aa()),Ha=Oa(Aa()),Ma=Oa(na()),Ra=_a(Xi()),Pa=(e,t)=>{const n=t||document,o=n.createElement("div");return o.innerHTML=e,Ft($e.fromDom(o))},Va=e=>e.dom.innerHTML,ja=(e,t)=>{const n=bt(e),o=n.dom,r=$e.fromDom(o.createDocumentFragment()),s=Pa(t,o);Eo(r,s),_o(e),Fo(e,r)},za=e=>{const t=$e.fromTag("div"),n=$e.fromDom(e.dom.cloneNode(!0));return Fo(t,n),Va(t)},Ka=(e,t)=>$e.fromDom(e.dom.cloneNode(t)),Wa=e=>Ka(e,!1),Ga=e=>{if(Ut(e))return"#shadow-root";{const t=Wa(e);return za(t)}},qa=e=>Ga(e),Za=(e,t,n)=>pt(t,e.element)&&!pt(t,n),Xa=Ca([Sa(Wi(),((e,t)=>{const n=t.event,o=n.originator,r=n.target;return!Za(e,o,r)||(console.warn(Wi()+" did not get interpreted by the desired target. \nOriginator: "+qa(o)+"\nTarget: "+qa(r)+"\nCheck the "+Wi()+" event handlers"),!1)}))]);var Ja=Object.freeze({__proto__:null,events:Xa});let Ya=0;const $a=e=>{const t=new Date,n=t.getTime(),o=Math.floor(1e9*Math.random());return Ya++,e+"_"+o+Ya+String(n)},eA=C("alloy-id-"),tA=C("data-alloy-id"),nA=eA(),oA=tA(),rA=(e,t)=>{const n=$a(nA+e);return sA(t,n),n},sA=(e,t)=>{Object.defineProperty(e.dom,oA,{value:t,writable:!0})},iA=e=>{const t=at(e)?e.dom[oA]:null;return L.from(t)},aA=e=>$a(e),AA=x,lA=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+qa(e().element)+" is not in context.":""),n=e=>()=>{throw new Error(t(e))},o=e=>()=>{console.warn(t(e))};return{debugInfo:C("fake"),triggerEvent:o("triggerEvent"),triggerFocus:o("triggerFocus"),triggerEscape:o("triggerEscape"),broadcast:o("broadcast"),broadcastOn:o("broadcastOn"),broadcastEvent:o("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:O}},cA=lA(),uA=(e,t,n)=>{const o=n.toString(),r=o.indexOf(")")+1,s=o.indexOf("("),i=o.substring(s+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:dA(i.slice(0,1).concat(i.slice(3)))}),e},dA=e=>j(e,(e=>Ve(e,"/*")?e.substring(0,e.length-2):e)),mA=(e,t)=>{const n=e.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),s=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:dA(s)}),e},hA=(e,t)=>{const n=t.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),s=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:dA(s.slice(1))}),e},gA=$a("alloy-premade"),pA=e=>(Object.defineProperty(e.element.dom,gA,{value:e.uid,writable:!0}),Ai(gA,e)),fA=e=>Se(e.dom,gA),bA=e=>xe(e,gA),vA=e=>hA(((t,...n)=>e(t.getApis(),t,...n)),e),wA={init:()=>yA({readState:C("No State required")})},yA=e=>e,BA=(e,t)=>{const n=j(t,(e=>Vs(e.name(),[xs("config"),zs("state",wA)]))),o=gs("component.behaviours",Zr(n),e.behaviours).fold((t=>{throw new Error(bs(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),x);return{list:t,data:ge(o,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return C(t)}))}},CA=e=>e.list,xA=e=>e.data,SA=(e,t)=>{const n={};return he(e,((e,o)=>{he(e,((e,r)=>{const s=xe(n,r).getOr([]);n[r]=s.concat([t(o,e)])}))})),n},FA=e=>({classes:m(e.classes)?[]:e.classes,attributes:m(e.attributes)?{}:e.attributes,styles:m(e.styles)?{}:e.styles}),kA=(e,t)=>({...e,attributes:{...e.attributes,...t.attributes},styles:{...e.styles,...t.styles},classes:e.classes.concat(t.classes)}),EA=(e,t,n,o)=>{const r={...t};z(n,(t=>{r[t.name()]=t.exhibit(e,o)}));const s=SA(r,((e,t)=>({name:e,modification:t}))),i=e=>q(e,((e,t)=>({...t.modification,...e})),{}),a=q(s.classes,((e,t)=>t.modification.concat(e)),[]),A=i(s.attributes),l=i(s.styles);return FA({classes:a,attributes:A,styles:l})},_A=(e,t,n,o)=>{try{const r=ie(n,((n,r)=>{const s=n[t],i=r[t],a=o.indexOf(s),A=o.indexOf(i);if(-1===a)throw new Error("The ordering for "+e+" does not have an entry for "+s+".\nOrder specified: "+JSON.stringify(o,null,2));if(-1===A)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(o,null,2));return a<A?-1:A<a?1:0}));return Yo.value(r)}catch(r){return Yo.error([r])}},OA=(e,t)=>({handler:e,purpose:t}),UA=(e,t)=>({cHandler:e,purpose:t}),TA=(e,t)=>UA(F.apply(void 0,[e.handler].concat(t)),e.purpose),LA=e=>e.cHandler,NA=(e,t)=>({name:e,handler:t}),QA=(e,t)=>{const n={};return z(e,(e=>{n[e.name()]=e.handlers(t)})),n},DA=(e,t,n)=>{const o={...n,...QA(t,e)};return SA(o,NA)},IA=(e,t,n,o)=>{const r=DA(e,n,o);return PA(r,t)},HA=e=>{const t=yi(e);return(e,n,...o)=>{const r=[e,n].concat(o);t.abort.apply(void 0,r)?n.stop():t.can.apply(void 0,r)&&t.run.apply(void 0,r)}},MA=(e,t)=>Yo.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(j(t,(e=>e.name)),null,2)]),RA=(e,t,n)=>{const o=t[n];return o?_A("Event: "+n,"name",e,o).map((e=>{const t=j(e,(e=>e.handler));return Bi(t)})):MA(n,e)},PA=(e,t)=>{const n=ye(e,((e,n)=>{const o=1===e.length?Yo.value(e[0].handler):RA(e,t,n);return o.map((o=>{const r=HA(o),s=e.length>1?G(t[n],(t=>R(e,(e=>e.name===t)))).join(" > "):e[0].name;return Ai(n,OA(r,s))}))}));return di(n,{})},VA="alloy.base.behaviour",jA=Zr([ys("dom","dom",vr(),Zr([xs("tag"),zs("styles",{}),zs("classes",[]),zs("attributes",{}),Qs("value"),Qs("innerHtml")])),xs("components"),xs("uid"),zs("events",{}),zs("apis",{}),ys("eventOrder","eventOrder",xr({[Xi()]:["disabling",VA,"toggling","typeaheadevents"],[Wi()]:[VA,"focusing","keying"],[na()]:[VA,"disabling","toggling","representing"],[Ii()]:[VA,"representing","streaming","invalidating"],[Aa()]:[VA,"representing","item-events","tooltipping"],[Ei()]:["focusing",VA,"item-type-events"],[xi()]:["focusing",VA,"item-type-events"],[Ti()]:["item-type-events","tooltipping"],[Zi()]:["receiving","reflecting","tooltipping"]}),ts()),Qs("domModification")]),zA=e=>gs("custom.definition",jA,e),KA=e=>({...e.dom,uid:e.uid,domChildren:j(e.components,(e=>e.element))}),WA=e=>e.domModification.fold((()=>FA({})),FA),GA=e=>e.events,qA=(e,t)=>{const n=Gt(e,t);return void 0===n||""===n?[]:n.split(" ")},ZA=(e,t,n)=>{const o=qA(e,t),r=o.concat([n]);return Kt(e,t,r.join(" ")),!0},XA=(e,t,n)=>{const o=G(qA(e,t),(e=>e!==n));return o.length>0?Kt(e,t,o.join(" ")):Xt(e,t),!1},JA=e=>void 0!==e.dom.classList,YA=e=>qA(e,"class"),$A=(e,t)=>ZA(e,"class",t),el=(e,t)=>XA(e,"class",t),tl=(e,t)=>{JA(e)?e.dom.classList.add(t):$A(e,t)},nl=e=>{const t=JA(e)?e.dom.classList:YA(e);0===t.length&&Xt(e,"class")},ol=(e,t)=>{if(JA(e)){const n=e.dom.classList;n.remove(t)}else el(e,t);nl(e)},rl=(e,t)=>JA(e)&&e.dom.classList.contains(t),sl=(e,t)=>{z(t,(t=>{tl(e,t)}))},il=(e,t)=>{z(t,(t=>{ol(e,t)}))},al=(e,t)=>te(t,(t=>rl(e,t))),Al=e=>{const t=e.dom.classList,n=new Array(t.length);for(let o=0;o<t.length;o++){const e=t.item(o);null!==e&&(n[o]=e)}return n},ll=e=>JA(e)?Al(e):YA(e),cl=e=>e.dom.value,ul=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},dl=(e,t,n)=>{const o=kt(e,t);return o.map((e=>{const t=n.exists((t=>!pt(t,e)));if(t){const t=n.map(rt).getOr("span"),o=$e.fromTag(t);return Co(e,o),o}return e}))},ml=(e,t,n)=>{n.fold((()=>Fo(e,t)),(e=>{pt(e,t)||(Co(e,t),Oo(e))}))},hl=(e,t,n)=>{const o=j(t,n),r=Ft(e);return z(r.slice(o.length),Oo),o},gl=(e,t,n,o)=>{const r=kt(e,t),s=o(n,r),i=dl(e,t,r);return ml(e,s.element,i),s},pl=(e,t,n)=>hl(e,t,((t,o)=>gl(e,o,t,n))),fl=(e,t)=>hl(e,t,((t,n)=>{const o=kt(e,n);return ml(e,t,o),t})),bl=(e,t)=>{const n=de(e),o=de(t),r=oe(o,n),s=ve(e,((e,n)=>!Se(t,n)||e!==t[n])).t;return{toRemove:r,toSet:s}},vl=(e,t)=>{const{class:n,style:o,...r}=Jt(t),{toSet:s,toRemove:i}=bl(e.attributes,r),a=()=>{z(i,(e=>Xt(t,e))),Wt(t,s)},A=an(t),{toSet:l,toRemove:c}=bl(e.styles,A),u=()=>{z(c,(e=>ln(t,e))),tn(t,l)},d=ll(t),m=oe(d,e.classes),h=oe(e.classes,d),g=()=>{sl(t,h),il(t,m)},p=e=>{ja(t,e)},f=()=>{const n=e.domChildren;fl(t,n)},b=()=>{const n=t,o=e.value.getOrUndefined();o!==cl(n)&&ul(n,null!==o&&void 0!==o?o:"")};return a(),g(),u(),e.innerHtml.fold(f,p),b(),t},wl=e=>{const t=$e.fromTag(e.tag);Wt(t,e.attributes),sl(t,e.classes),tn(t,e.styles),e.innerHtml.each((e=>ja(t,e)));const n=e.domChildren;return Eo(t,n),e.value.each((e=>{ul(t,e)})),t},yl=(e,t)=>{try{const n=vl(e,t);return L.some(n)}catch(n){return L.none()}},Bl=e=>e.innerHtml.isSome()&&e.domChildren.length>0,Cl=(e,t)=>{const n=t=>rt(t)===e.tag&&!Bl(e)&&!fA(t),o=t.filter(n).bind((t=>yl(e,t))).getOrThunk((()=>wl(e)));return sA(o,e.uid),o},xl=e=>{const t=xe(e,"behaviours").getOr({});return ee(de(t),(e=>{const n=t[e];return g(n)?[n.me]:[]}))},Sl=(e,t)=>BA(e,t),Fl=e=>{const t=xl(e);return Sl(e,t)},kl=(e,t,n)=>{const o=KA(e),r=WA(e),s={"alloy.base.modification":r},i=t.length>0?EA(n,s,t,o):r;return kA(o,i)},El=(e,t,n)=>{const o={"alloy.base.behaviour":GA(e)};return IA(n,e.eventOrder,t,o).getOrDie()},_l=(e,t)=>{const n=()=>w,o=ei(cA),r=ps(zA(e)),s=Fl(e),i=CA(s),a=xA(s),A=kl(r,i,a),l=Cl(A,t),c=El(r,i,a),u=ei(r.components),d=e=>{o.set(e)},m=()=>{o.set(lA(n))},h=()=>{const e=Ft(l),t=ee(e,(e=>o.get().getByDom(e).fold((()=>[]),se)));u.set(t)},g=t=>{const n=a,o=p(n[t.name()])?n[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))};return o()},f=e=>p(a[e.name()]),b=()=>r.apis,v=e=>a[e]().map((e=>e.state.readState())).getOr("not enabled"),w={uid:e.uid,getSystem:o.get,config:g,hasConfigured:f,spec:e,readState:v,getApis:b,connect:d,disconnect:m,element:l,syncComponents:h,components:u.get,events:c};return w},Ol=(e,t)=>{const n=xe(e,"components").getOr([]);return t.fold((()=>j(n,Il)),(e=>j(n,((t,n)=>Dl(t,kt(e,n))))))},Ul=(e,t)=>{const{events:n,...o}=AA(e),r=Ol(o,t),s={...o,events:{...Ja,...n},components:r};return Yo.value(_l(s,t))},Tl=e=>{const t=$e.fromText(e);return Ll({element:t})},Ll=e=>{const t=fs("external.component",qr([xs("element"),Qs("uid")]),e),n=ei(lA()),o=e=>{n.set(e)},r=()=>{n.set(lA((()=>i)))},s=t.uid.getOrThunk((()=>aA("external")));sA(t.element,s);const i={uid:s,getSystem:n.get,config:L.none,hasConfigured:O,connect:o,disconnect:r,getApis:()=>({}),element:t.element,spec:e,readState:C("No state"),syncComponents:v,components:C([]),events:{}};return pA(i)},Nl=aA,Ql=e=>Se(e,"uid"),Dl=(e,t)=>bA(e).getOrThunk((()=>{const n=Ql(e)?e:{uid:Nl(""),...e};return Ul(n,t).getOrDie()})),Il=e=>Dl(e,L.none()),Hl=pA;var Ml=(e,t,n,o,r)=>e(n,o)?L.some(n):p(r)&&r(n)?L.none():t(n,o,r);const Rl=(e,t,n)=>{let o=e.dom;const r=p(n)?n:O;while(o.parentNode){o=o.parentNode;const e=$e.fromDom(o);if(t(e))return L.some(e);if(r(e))break}return L.none()},Pl=(e,t,n)=>{const o=(e,t)=>t(e);return Ml(o,Rl,e,t,n)},Vl=(e,t)=>{const n=e=>t($e.fromDom(e)),o=J(e.dom.childNodes,n);return o.map($e.fromDom)},jl=(e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=$e.fromDom(e.childNodes[o]);if(t(r))return L.some(r);const s=n(e.childNodes[o]);if(s.isSome())return s}return L.none()};return n(e.dom)},zl=(e,t,n)=>Pl(e,t,n).isSome(),Kl=(e,t,n)=>Rl(e,(e=>dt(e,t)),n),Wl=(e,t)=>Vl(e,(e=>dt(e,t))),Gl=(e,t)=>gt(t,e),ql=(e,t,n)=>{const o=(e,t)=>dt(e,t);return Ml(o,Kl,e,t,n)},Zl="aria-controls",Xl=e=>{const t=Pl(e,(e=>{if(!at(e))return!1;const t=Gt(e,"id");return void 0!==t&&t.indexOf(Zl)>-1}));return t.bind((e=>{const t=Gt(e,"id"),n=Nt(e);return Gl(n,`[${Zl}="${t}"]`)}))},Jl=()=>{const e=$a(Zl),t=t=>{Kt(t,Zl,e)},n=e=>{Xt(e,Zl)};return{id:e,link:t,unlink:n}},Yl=(e,t)=>Xl(t).exists((t=>$l(e,t))),$l=(e,t)=>zl(t,(t=>pt(t,e.element)),O)||Yl(e,t),ec="unknown";var tc;(function(e){e[e["STOP"]=0]="STOP",e[e["NORMAL"]=1]="NORMAL",e[e["LOGGING"]=2]="LOGGING"})(tc||(tc={}));const nc=ei({}),oc=(e,t)=>{const n=[],o=(new Date).getTime();return{logEventCut:(e,t,o)=>{n.push({outcome:"cut",target:t,purpose:o})},logEventStopped:(e,t,o)=>{n.push({outcome:"stopped",target:t,purpose:o})},logNoParent:(e,t,o)=>{n.push({outcome:"no-parent",target:t,purpose:o})},logEventNoHandlers:(e,t)=>{n.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,o)=>{n.push({outcome:"response",purpose:o,target:t})},write:()=>{const r=(new Date).getTime();M(["mousemove","mouseover","mouseout",na()],e)||console.log(e,{event:e,time:r-o,target:t.dom,sequence:j(n,(e=>M(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+qa(e.target)+")":e.outcome))})}}},rc=(e,t,n)=>{const o=xe(nc.get(),e).orThunk((()=>{const t=de(nc.get());return ue(t,(t=>e.indexOf(t)>-1?L.some(nc.get()[t]):L.none()))})).getOr(tc.NORMAL);switch(o){case tc.NORMAL:return n(lc());case tc.LOGGING:{const o=oc(e,t),r=n(o);return o.write(),r}case tc.STOP:return!0}},sc=["alloy/data/Fields","alloy/debugging/Debugging"],ic=()=>{const e=new Error;if(void 0!==e.stack){const t=e.stack.split("\n");return J(t,(e=>e.indexOf("alloy")>0&&!R(sc,(t=>e.indexOf(t)>-1)))).getOr(ec)}return ec},ac={logEventCut:v,logEventStopped:v,logNoParent:v,logEventNoHandlers:v,logEventResponse:v,write:v},Ac=(e,t,n)=>rc(e,t,n),lc=C(ac),cc=C([xs("menu"),xs("selectedMenu")]),uc=C([xs("item"),xs("selectedItem")]);C(Zr(uc().concat(cc())));const dc=C(Zr(uc())),mc=Ts("initSize",[xs("numColumns"),xs("numRows")]),hc=()=>Ss("markers",dc()),gc=()=>Ts("markers",[xs("backgroundMenu")].concat(cc()).concat(uc())),pc=e=>Ts("markers",j(e,xs)),fc=(e,t,n)=>(ic(),ys(t,t,n,ds((e=>Yo.value(((...t)=>e.apply(void 0,t))))))),bc=e=>fc("onHandler",e,yr(v)),vc=e=>fc("onKeyboardHandler",e,yr(L.none)),wc=e=>fc("onHandler",e,vr()),yc=e=>fc("onKeyboardHandler",e,vr()),Bc=(e,t)=>Bs(e,C(t)),Cc=e=>Bs(e,x),xc=C(mc),Sc=(e,t,n,o,r,s,i,a=!1)=>({x:e,y:t,bubble:n,direction:o,placement:r,restriction:s,label:`${i}-${r}`,alwaysFit:a}),Fc=ni.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),kc=(e,t,n,o,r,s,i,a,A)=>e.fold(t,n,o,r,s,i,a,A),Ec=(e,t,n,o)=>e.fold(t,t,o,o,t,o,n,n),_c=(e,t,n,o)=>e.fold(t,o,t,o,n,n,t,o),Oc=Fc.southeast,Uc=Fc.southwest,Tc=Fc.northeast,Lc=Fc.northwest,Nc=Fc.south,Qc=Fc.north,Dc=Fc.east,Ic=Fc.west,Hc=(e,t,n,o)=>{const r=e+t;return r>o?n:r<n?o:r},Mc=(e,t,n)=>Math.min(Math.max(e,t),n),Rc=(e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},Pc=(e,t)=>re(["left","right","top","bottom"],(n=>xe(t,n).map((t=>Rc(e,t))))),Vc=(e,t,n)=>{const o=(o,r)=>t[o].map((t=>{const s="top"===o||"bottom"===o,i=s?n.top:n.left,a="left"===o||"top"===o?Math.max:Math.min,A=a(t,r)+i;return s?Mc(A,e.y,e.bottom):Mc(A,e.x,e.right)})).getOr(r),r=o("left",e.x),s=o("top",e.y),i=o("right",e.right),a=o("bottom",e.bottom);return Ko(r,s,i-r,a-s)},jc="layout",zc=e=>e.x,Kc=(e,t)=>e.x+e.width/2-t.width/2,Wc=(e,t)=>e.x+e.width-t.width,Gc=(e,t)=>e.y-t.height,qc=e=>e.y+e.height,Zc=(e,t)=>e.y+e.height/2-t.height/2,Xc=e=>e.x+e.width,Jc=(e,t)=>e.x-t.width,Yc=(e,t,n)=>Sc(zc(e),qc(e),n.southeast(),Oc(),"southeast",Pc(e,{left:1,top:3}),jc),$c=(e,t,n)=>Sc(Wc(e,t),qc(e),n.southwest(),Uc(),"southwest",Pc(e,{right:0,top:3}),jc),eu=(e,t,n)=>Sc(zc(e),Gc(e,t),n.northeast(),Tc(),"northeast",Pc(e,{left:1,bottom:2}),jc),tu=(e,t,n)=>Sc(Wc(e,t),Gc(e,t),n.northwest(),Lc(),"northwest",Pc(e,{right:0,bottom:2}),jc),nu=(e,t,n)=>Sc(Kc(e,t),Gc(e,t),n.north(),Qc(),"north",Pc(e,{bottom:2}),jc),ou=(e,t,n)=>Sc(Kc(e,t),qc(e),n.south(),Nc(),"south",Pc(e,{top:3}),jc),ru=(e,t,n)=>Sc(Xc(e),Zc(e,t),n.east(),Dc(),"east",Pc(e,{left:0}),jc),su=(e,t,n)=>Sc(Jc(e,t),Zc(e,t),n.west(),Ic(),"west",Pc(e,{right:1}),jc),iu=()=>[Yc,$c,eu,tu,ou,nu,ru,su],au=()=>[$c,Yc,tu,eu,ou,nu,ru,su],Au=()=>[eu,tu,Yc,$c,nu,ou],lu=()=>[tu,eu,$c,Yc,nu,ou],cu=()=>[Yc,$c,eu,tu,ou,nu],uu=()=>[$c,Yc,tu,eu,ou,nu],du=(e,t)=>t.universal?e:G(e,(e=>M(t.channels,e))),mu=e=>Ca([ka(Zi(),((t,n)=>{const o=e.channels,r=de(o),s=n,i=du(r,s);z(i,(e=>{const n=o[e],r=n.schema,i=fs("channel["+e+"] data\nReceiver: "+qa(t.element),r,s.data);n.onReceive(t,i)}))}))]);var hu=Object.freeze({__proto__:null,events:mu}),gu=[Ss("channels",ms(Yo.value,qr([wc("onReceive"),zs("schema",ts())])))];const pu=(e,t,n)=>Ra((o=>{n(o,e,t)})),fu=(e,t,n)=>Ma(((o,r)=>{n(o,e,t)})),bu=(e,t,n,o,r,s)=>{const i=qr(e),a=Vs(t,[js("config",e)]);return Bu(i,a,t,n,o,r,s)},vu=(e,t,n,o,r,s)=>{const i=e,a=Vs(t,[Ds("config",e)]);return Bu(i,a,t,n,o,r,s)},wu=(e,t,n)=>{const o=(o,...r)=>{const s=[o].concat(r);return o.config({name:C(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(e=>{const n=Array.prototype.slice.call(s,1);return t.apply(void 0,[o,e.config,e.state].concat(n))}))};return uA(o,n,t)},yu=e=>({key:e,value:void 0}),Bu=(e,t,n,o,r,s,i)=>{const a=e=>Fe(e,n)?e[n]():L.none(),A=ge(r,((e,t)=>wu(n,e,t))),l=ge(s,((e,t)=>mA(e,t))),c={...l,...A,revoke:F(yu,n),config:t=>{const o=fs(n+"-config",e,t);return{key:n,value:{config:o,me:c,configAsRaw:kn((()=>fs(n+"-config",e,t))),initialConfig:t,state:i}}},schema:C(t),exhibit:(e,t)=>Ue(a(e),xe(o,"exhibit"),((e,n)=>n(t,e.config,e.state))).getOrThunk((()=>FA({}))),name:C(n),handlers:e=>a(e).map((e=>{const t=xe(o,"events").getOr((()=>({})));return t(e.config,e.state)})).getOr({})};return c},Cu=e=>li(e),xu=qr([xs("fields"),xs("name"),zs("active",{}),zs("apis",{}),zs("state",wA),zs("extra",{})]),Su=e=>{const t=fs("Creating behaviour: "+e.name,xu,e);return bu(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Fu=qr([xs("branchKey"),xs("branches"),xs("name"),zs("active",{}),zs("apis",{}),zs("state",wA),zs("extra",{})]),ku=e=>{const t=fs("Creating behaviour: "+e.name,Fu,e);return vu(vs(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Eu=C(void 0),_u=Su({fields:gu,name:"receiving",active:hu}),Ou=(e,t)=>FA({classes:[],styles:t.useFixed()?{}:{position:"relative"}});var Uu=Object.freeze({__proto__:null,exhibit:Ou});const Tu=e=>e.dom.focus(),Lu=e=>e.dom.blur(),Nu=e=>{const t=Nt(e).dom;return e.dom===t.activeElement},Qu=(e=Do())=>L.from(e.dom.activeElement).map($e.fromDom),Du=e=>Qu(Nt(e)).filter((t=>e.dom.contains(t.dom))),Iu=(e,t)=>{const n=Nt(t),o=Qu(n).bind((e=>{const n=t=>pt(e,t);return n(t)?L.some(t):jl(t,n)})),r=e(t);return o.each((e=>{Qu(n).filter((t=>pt(t,e))).fold((()=>{Tu(e)}),v)})),r},Hu=(e,t,n,o,r)=>{const s=e=>e+"px";return{position:e,left:t.map(s),top:n.map(s),right:o.map(s),bottom:r.map(s)}},Mu=e=>({...e,position:L.some(e.position)}),Ru=(e,t)=>{nn(e,Mu(t))},Pu=ni.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Vu=(e,t,n,o,r,s)=>{const i=t.rect,a=i.x-n,A=i.y-o,l=i.width,c=i.height,u=r-(a+l),d=s-(A+c),m=L.some(a),h=L.some(A),g=L.some(u),p=L.some(d),f=L.none();return kc(t.direction,(()=>Hu(e,m,h,f,f)),(()=>Hu(e,f,h,g,f)),(()=>Hu(e,m,f,f,p)),(()=>Hu(e,f,f,g,p)),(()=>Hu(e,m,h,f,f)),(()=>Hu(e,m,f,f,p)),(()=>Hu(e,m,h,f,f)),(()=>Hu(e,f,h,g,f)))},ju=(e,t)=>e.fold((()=>{const e=t.rect;return Hu("absolute",L.some(e.x),L.some(e.y),L.none(),L.none())}),((e,n,o,r)=>Vu("absolute",t,e,n,o,r)),((e,n,o,r)=>Vu("fixed",t,e,n,o,r))),zu=(e,t)=>{const n=F(Vo,t),o=e.fold(n,n,(()=>{const e=Uo();return Vo(t).translate(-e.left,-e.top)})),r=Sn(t),s=hn(t);return Ko(o.left,o.top,r,s)},Ku=(e,t)=>t.fold((()=>e.fold(qo,qo,Ko)),(t=>e.fold(t,t,(()=>{const n=t(),o=Wu(e,n.x,n.y);return Ko(o.left,o.top,n.width,n.height)})))),Wu=(e,t,n)=>{const o=fn(t,n),r=()=>{const e=Uo();return o.translate(-e.left,-e.top)};return e.fold(C(o),C(o),r)},Gu=(e,t,n,o)=>e.fold(t,n,o);Pu.none;const qu=Pu.relative,Zu=Pu.fixed,Xu=(e,t)=>({anchorBox:e,origin:t}),Ju=(e,t)=>Xu(e,t),Yu="data-alloy-placement",$u=(e,t)=>{Kt(e,Yu,t)},ed=e=>qt(e,Yu),td=e=>Xt(e,Yu),nd=ni.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),od=(e,t)=>{const{x:n,y:o,right:r,bottom:s}=t,{x:i,y:a,right:A,bottom:l,width:c,height:u}=e,d=i>=n&&i<=r,m=a>=o&&a<=s,h=d&&m,g=A<=r&&A>=n,p=l<=s&&l>=o,f=g&&p,b=Math.min(c,i>=n?r-i:A-n),v=Math.min(u,a>=o?s-a:l-o);return{originInBounds:h,sizeInBounds:f,visibleW:b,visibleH:v}},rd=(e,t)=>{const{x:n,y:o,right:r,bottom:s}=t,{x:i,y:a,width:A,height:l}=e,c=Math.max(n,r-A),u=Math.max(o,s-l),d=Mc(i,n,c),m=Mc(a,o,u),h=Math.min(d+A,r)-d,g=Math.min(m+l,s)-m;return Ko(d,m,h,g)},sd=(e,t,n)=>{const o=C(t.bottom-n.y),r=C(n.bottom-t.y),s=Ec(e,r,r,o),i=C(t.right-n.x),a=C(n.right-t.x),A=_c(e,a,a,i);return{maxWidth:A,maxHeight:s}},id=(e,t,n,o)=>{const r=e.bubble,s=r.offset,i=Vc(o,e.restriction,s),a=e.x+s.left,A=e.y+s.top,l=Ko(a,A,t,n),{originInBounds:c,sizeInBounds:u,visibleW:d,visibleH:m}=od(l,i),h=c&&u,g=h?l:rd(l,i),p=g.width>0&&g.height>0,{maxWidth:f,maxHeight:b}=sd(e.direction,g,o),v={rect:g,maxHeight:b,maxWidth:f,direction:e.direction,placement:e.placement,classes:{on:r.classesOn,off:r.classesOff},layout:e.label,testY:A};return h||e.alwaysFit?nd.fit(v):nd.nofit(v,d,m,p)},ad=(e,t,n,o,r,s)=>{const i=o.width,a=o.height,A=(t,A,l,c,u)=>{const d=t(n,o,r,e,s),m=id(d,i,a,s);return m.fold(C(m),((e,t,n,o)=>{const r=u===o?n>c||t>l:!u&&o;return r?m:nd.nofit(A,l,c,u)}))},l=Z(t,((e,t)=>{const n=F(A,t);return e.fold(C(e),n)}),nd.nofit({rect:n,maxHeight:o.height,maxWidth:o.width,direction:Oc(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1));return l.fold(x,x)},Ad=e=>{const t=ei(L.none()),n=()=>t.get().each(e),o=()=>{n(),t.set(L.none())},r=()=>t.get().isSome(),s=()=>t.get(),i=e=>{n(),t.set(L.some(e))};return{clear:o,isSet:r,get:s,set:i}},ld=()=>Ad((e=>e.destroy())),cd=()=>Ad((e=>e.unbind())),ud=()=>{const e=Ad(v),t=t=>e.get().each(t);return{...e,on:t}},dd=U,md=(e,t,n)=>wo(e,t,dd,n),hd=(e,t,n)=>yo(e,t,dd,n),gd=fo,pd=["top","bottom","right","left"],fd="data-alloy-transition-timer",bd=(e,t)=>al(e,t.classes),vd=(e,t,n)=>n.exists((n=>{const o=e.mode;return"all"===o||n[o]!==t[o]})),wd=(e,t)=>{const n=e=>parseFloat(e).toFixed(3);return Be(t,((t,o)=>{const r=e[o].map(n),s=t.map(n);return!Ee(r,s)})).isSome()},yd=e=>{const t=t=>{const n=on(e,t),o=n.split(/\s*,\s*/);return G(o,Ke)},n=e=>{if(a(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return Ve(e,"ms")?t:1e3*t}return 0},o=t("transition-delay"),r=t("transition-duration");return Z(r,((e,t,r)=>{const s=n(o[r])+n(t);return Math.max(e,s)}),0)},Bd=(e,t)=>{const n=cd(),o=cd();let r;const s=t=>{var n;const o=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return pt(t.target,e)&&We(o)&&M(pd,t.raw.propertyName)},i=i=>{if(h(i)||s(i)){n.clear(),o.clear();const s=null===i||void 0===i?void 0:i.raw.type;(h(s)||s===Pi())&&(clearTimeout(r),Xt(e,fd),il(e,t.classes))}},a=md(e,Vi(),(t=>{s(t)&&(a.unbind(),n.set(md(e,Pi(),i)),o.set(md(e,Ri(),i)))})),A=yd(e);requestAnimationFrame((()=>{r=setTimeout(i,A+17),Kt(e,fd,r)}))},Cd=(e,t)=>{sl(e,t.classes),qt(e,fd).each((t=>{clearTimeout(parseInt(t,10)),Xt(e,fd)})),Bd(e,t)},xd=(e,t,n,o,r,s)=>{const i=vd(o,r,s);if(i||bd(e,o)){en(e,"position",n.position);const s=zu(t,e),a=ju(t,{...r,rect:s}),A=re(pd,(e=>a[e]));wd(n,A)&&(nn(e,A),i&&Cd(e,o),cn(e))}else il(e,o.classes)},Sd=e=>({width:Sn(e),height:hn(e)}),Fd=(e,t,n,o)=>{ln(t,"max-height"),ln(t,"max-width");const r=Sd(t);return ad(t,o.preference,e,r,n,o.bounds)},kd=(e,t)=>{const n=t.classes;il(e,n.off),sl(e,n.on)},Ed=(e,t,n)=>{const o=n.maxHeightFunction;o(e,t.maxHeight)},_d=(e,t,n)=>{const o=n.maxWidthFunction;o(e,t.maxWidth)},Od=(e,t,n)=>{const o=ju(n.origin,t);n.transition.each((r=>{xd(e,n.origin,o,r,t,n.lastPlacement)})),Ru(e,o)},Ud=(e,t)=>{$u(e,t.placement)},Td=(e,t)=>{gn(e,Math.floor(t))},Ld=C(((e,t)=>{Td(e,t),tn(e,{"overflow-x":"hidden","overflow-y":"auto"})})),Nd=C(((e,t)=>{Td(e,t)})),Qd=(e,t,n)=>void 0===e[t]?n:e[t],Dd=(e,t,n,o,r,s,i,a)=>{const A=Qd(i,"maxHeightFunction",Ld()),l=Qd(i,"maxWidthFunction",v),c=e.anchorBox,u=e.origin,d={bounds:Ku(u,s),origin:u,preference:o,maxHeightFunction:A,maxWidthFunction:l,lastPlacement:r,transition:a};return Id(c,t,n,d)},Id=(e,t,n,o)=>{const r=Fd(e,t,n,o);return Od(t,r,o),Ud(t,r),kd(t,r),Ed(t,r,o),_d(t,r,o),{layout:r.layout,placement:r.placement}},Hd=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Md=(e,t,n,o=1)=>{const r=e*o,s=t*o,i=e=>xe(n,e).getOr([]),a=(e,t,n)=>{const o=oe(Hd,n);return{offset:fn(e,t),classesOn:ee(n,i),classesOff:ee(o,i)}};return{southeast:()=>a(-e,t,["top","alignLeft"]),southwest:()=>a(e,t,["top","alignRight"]),south:()=>a(-e/2,t,["top","alignCentre"]),northeast:()=>a(-e,-t,["bottom","alignLeft"]),northwest:()=>a(e,-t,["bottom","alignRight"]),north:()=>a(-e/2,-t,["bottom","alignCentre"]),east:()=>a(e,-t/2,["valignCentre","left"]),west:()=>a(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>a(r,s,["top","alignLeft","inset"]),insetNorthwest:()=>a(-r,s,["top","alignRight","inset"]),insetNorth:()=>a(-r/2,s,["top","alignCentre","inset"]),insetSoutheast:()=>a(r,-s,["bottom","alignLeft","inset"]),insetSouthwest:()=>a(-r,-s,["bottom","alignRight","inset"]),insetSouth:()=>a(-r/2,-s,["bottom","alignCentre","inset"]),insetEast:()=>a(-r,-s/2,["valignCentre","right","inset"]),insetWest:()=>a(r,-s/2,["valignCentre","left","inset"])}},Rd=()=>Md(0,0,{}),Pd=x,Vd=(e,t)=>n=>"rtl"===jd(n)?t:e,jd=e=>"rtl"===on(e,"direction")?"rtl":"ltr";var zd;(function(e){e["TopToBottom"]="toptobottom",e["BottomToTop"]="bottomtotop"})(zd||(zd={}));const Kd="data-alloy-vertical-dir",Wd=e=>zl(e,(e=>at(e)&&Gt(e,"data-alloy-vertical-dir")===zd.BottomToTop)),Gd=()=>Vs("layouts",[xs("onLtr"),xs("onRtl"),Qs("onBottomLtr"),Qs("onBottomRtl")]),qd=(e,t,n,o,r,s,i)=>{const a=i.map(Wd).getOr(!1),A=t.layouts.map((t=>t.onLtr(e))),l=t.layouts.map((t=>t.onRtl(e))),c=a?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(A).getOr(r):A.getOr(n),u=a?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(l).getOr(s):l.getOr(o),d=Vd(c,u);return d(e)},Zd=(e,t,n)=>{const o=t.hotspot,r=zu(n,o.element),s=qd(e.element,t,cu(),uu(),Au(),lu(),L.some(t.hotspot.element));return L.some(Pd({anchorBox:r,bubble:t.bubble.getOr(Rd()),overrides:t.overrides,layouts:s,placer:L.none()}))};var Xd=[xs("hotspot"),Qs("bubble"),zs("overrides",{}),Gd(),Bc("placement",Zd)];const Jd=(e,t,n)=>{const o=Wu(n,t.x,t.y),r=Ko(o.left,o.top,t.width,t.height),s=qd(e.element,t,iu(),au(),iu(),au(),L.none());return L.some(Pd({anchorBox:r,bubble:t.bubble,overrides:t.overrides,layouts:s,placer:L.none()}))};var Yd=[xs("x"),xs("y"),zs("height",0),zs("width",0),zs("bubble",Rd()),zs("overrides",{}),Gd(),Bc("placement",Jd)];const $d=ni.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),em=e=>e.fold(x,((e,t,n)=>e.translate(-t,-n))),tm=e=>e.fold(x,x),nm=e=>Z(e,((e,t)=>e.translate(t.left,t.top)),fn(0,0)),om=e=>{const t=j(e,em);return nm(t)},rm=e=>{const t=j(e,tm);return nm(t)},sm=$d.screen,im=$d.absolute,am=(e,t,n)=>{const o=yt(n.root).dom,r=t=>{const n=bt(t),o=bt(e.element);return pt(n,o)};return L.from(o.frameElement).map($e.fromDom).filter(r).map(wn)},Am=(e,t,n)=>{const o=bt(e.element),r=Uo(o),s=am(e,t,n).getOr(r);return im(s,r.left,r.top)},lm=(e,t,n,o)=>{const r=sm(fn(e,t));return L.some(jo(r,n,o))},cm=(e,t,n,o,r)=>e.map((e=>{const s=[t,e.point],i=Gu(o,(()=>rm(s)),(()=>rm(s)),(()=>om(s))),a=zo(i.left,i.top,e.width,e.height),A=n.showAbove?Au():cu(),l=n.showAbove?lu():uu(),c=qd(r,n,A,l,A,l,L.none());return Pd({anchorBox:a,bubble:n.bubble.getOr(Rd()),overrides:n.overrides,layouts:c,placer:L.none()})})),um=(e,t,n)=>{const o=Am(e,n,t);return t.node.filter(Pt).bind((r=>{const s=r.dom.getBoundingClientRect(),i=lm(s.left,s.top,s.width,s.height),a=t.node.getOr(e.element);return cm(i,o,t,n,a)}))};var dm=[xs("node"),xs("root"),Qs("bubble"),Gd(),zs("overrides",{}),zs("showAbove",!1),Bc("placement",um)];const mm="\ufeff",hm=" ",gm=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),pm={create:gm},fm=ni.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),bm=(e,t,n,o)=>e.fold(t,n,o),vm=e=>e.fold(x,x,x),wm=fm.before,ym=fm.on,Bm=fm.after,Cm={before:wm,on:ym,after:Bm,cata:bm,getStart:vm},xm=ni.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Sm=e=>xm.exact(e.start,e.soffset,e.finish,e.foffset),Fm=e=>e.match({domRange:e=>$e.fromDom(e.startContainer),relative:(e,t)=>Cm.getStart(e),exact:(e,t,n,o)=>e}),km=xm.domRange,Em=xm.relative,_m=xm.exact,Om=e=>{const t=Fm(e);return yt(t)},Um=pm.create,Tm={domRange:km,relative:Em,exact:_m,exactFromRange:Sm,getWin:Om,range:Um},Lm=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,n)=>{e.setStart(t.dom,n)}),(t=>{e.setStartAfter(t.dom)}))},Nm=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))},Qm=(e,t,n)=>{const o=e.document.createRange();return Lm(o,t),Nm(o,n),o},Dm=(e,t,n,o,r)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(o.dom,r),s},Im=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Hm=e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?L.some(n).map(Im):L.none()},Mm=e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?L.some(t).map(Im):L.none()},Rm=ni.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Pm=(e,t,n)=>t($e.fromDom(n.startContainer),n.startOffset,$e.fromDom(n.endContainer),n.endOffset),Vm=(e,t)=>t.match({domRange:e=>({ltr:C(e),rtl:L.none}),relative:(t,n)=>({ltr:kn((()=>Qm(e,t,n))),rtl:kn((()=>L.some(Qm(e,n,t))))}),exact:(t,n,o,r)=>({ltr:kn((()=>Dm(e,t,n,o,r))),rtl:kn((()=>L.some(Dm(e,o,r,t,n))))})}),jm=(e,t)=>{const n=t.ltr();if(n.collapsed){const o=t.rtl().filter((e=>!1===e.collapsed));return o.map((e=>Rm.rtl($e.fromDom(e.endContainer),e.endOffset,$e.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Pm(e,Rm.ltr,n)))}return Pm(e,Rm.ltr,n)},zm=(e,t)=>{const n=Vm(e,t);return jm(e,n)},Km=(e,t)=>{const n=zm(e,t);return n.match({ltr:(t,n,o,r)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(o.dom,r),s},rtl:(t,n,o,r)=>{const s=e.document.createRange();return s.setStart(o.dom,r),s.setEnd(t.dom,n),s}})};Rm.ltr,Rm.rtl;const Wm=(e,t)=>ht(t,e),Gm=(e,t,n,o)=>{const r=bt(e),s=r.dom.createRange();return s.setStart(e.dom,t),s.setEnd(n.dom,o),s},qm=(e,t,n,o)=>{const r=Gm(e,t,n,o),s=pt(e,n)&&t===o;return r.collapsed&&!s},Zm=e=>L.from(e.getSelection()),Xm=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return L.some(pm.create($e.fromDom(t.startContainer),t.startOffset,$e.fromDom(n.endContainer),n.endOffset))}return L.none()},Jm=e=>{if(null===e.anchorNode||null===e.focusNode)return Xm(e);{const t=$e.fromDom(e.anchorNode),n=$e.fromDom(e.focusNode);return qm(t,e.anchorOffset,n,e.focusOffset)?L.some(pm.create(t,e.anchorOffset,n,e.focusOffset)):Xm(e)}},Ym=e=>Zm(e).filter((e=>e.rangeCount>0)).bind(Jm),$m=(e,t)=>{const n=Km(e,t);return Hm(n)},eh=(e,t)=>{const n=Km(e,t);return Mm(n)},th=(e,t)=>{const n=n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return o(n).getOr("")},o=t=>e(t)?L.from(t.dom.nodeValue):L.none(),r=(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o};return{get:n,getOption:o,set:r}},nh=th(At,"text"),oh=e=>nh.get(e),rh=(e,t)=>({element:e,offset:t}),sh=(e,t)=>{const n=Ft(e);if(0===n.length)return rh(e,t);if(t<n.length)return rh(n[t],0);{const e=n[n.length-1],t=At(e)?oh(e).length:Ft(e).length;return rh(e,t)}},ih=(e,t)=>At(e)?rh(e,t):sh(e,t),ah=(e,t)=>{const n=t.getSelection.getOrThunk((()=>()=>Ym(e)));return n().map((e=>{const t=ih(e.start,e.soffset),n=ih(e.finish,e.foffset);return Tm.range(t.element,t.offset,n.element,n.offset)}))},Ah=(e,t,n)=>{const o=yt(t.root).dom,r=Am(e,n,t),s=ah(o,t).bind((e=>{const t=eh(o,Tm.exactFromRange(e)).orThunk((()=>{const t=$e.fromText(mm);Co(e.start,t);const n=$m(o,Tm.exact(t,0,t,1));return Oo(t),n}));return t.bind((e=>lm(e.left,e.top,e.width,e.height)))})),i=ah(o,t).bind((e=>at(e.start)?L.some(e.start):Ct(e.start))),a=i.getOr(e.element);return cm(s,r,t,n,a)};var lh=[Qs("getSelection"),xs("root"),Qs("bubble"),Gd(),zs("overrides",{}),zs("showAbove",!1),Bc("placement",Ah)];const ch="link-layout",uh=e=>e.x+e.width,dh=(e,t)=>e.x-t.width,mh=(e,t)=>e.y-t.height+e.height,hh=e=>e.y,gh=(e,t,n)=>Sc(uh(e),hh(e),n.southeast(),Oc(),"southeast",Pc(e,{left:0,top:2}),ch),ph=(e,t,n)=>Sc(dh(e,t),hh(e),n.southwest(),Uc(),"southwest",Pc(e,{right:1,top:2}),ch),fh=(e,t,n)=>Sc(uh(e),mh(e,t),n.northeast(),Tc(),"northeast",Pc(e,{left:0,bottom:3}),ch),bh=(e,t,n)=>Sc(dh(e,t),mh(e,t),n.northwest(),Lc(),"northwest",Pc(e,{right:1,bottom:3}),ch),vh=()=>[gh,ph,fh,bh],wh=()=>[ph,gh,bh,fh],yh=(e,t,n)=>{const o=zu(n,t.item.element),r=qd(e.element,t,vh(),wh(),vh(),wh(),L.none());return L.some(Pd({anchorBox:o,bubble:Rd(),overrides:t.overrides,layouts:r,placer:L.none()}))};var Bh=[xs("item"),Gd(),zs("overrides",{}),Bc("placement",yh)],Ch=vs("type",{selection:lh,node:dm,hotspot:Xd,submenu:Bh,makeshift:Yd});const xh=[Ns("classes",rs),qs("mode","all",["all","layout","placement"])],Sh=[zs("useFixed",O),Qs("getBounds")],Fh=[Ss("anchor",Ch),Vs("transition",xh)],kh=()=>{const e=document.documentElement;return Zu(0,0,e.clientWidth,e.clientHeight)},Eh=e=>{const t=wn(e.element),n=e.element.dom.getBoundingClientRect();return qu(t.left,t.top,n.width,n.height)},_h=(e,t,n,o,r,s,i)=>{const a=Ju(n.anchorBox,t);return Dd(a,r.element,n.bubble,n.layouts,s,o,n.overrides,i)},Oh=(e,t,n,o,r)=>{Uh(e,t,n,o,r,L.none())},Uh=(e,t,n,o,r,s)=>{const i=s.map(Wo);return Th(e,t,n,o,r,i)},Th=(e,t,n,o,r,s)=>{const i=fs("placement.info",Zr(Fh),r),a=i.anchor,A=o.element,l=n.get(o.uid);Iu((()=>{en(A,"position","fixed");const r=sn(A,"visibility");en(A,"visibility","hidden");const c=t.useFixed()?kh():Eh(e),u=a.placement,d=s.map(C).or(t.getBounds);u(e,a,c).each((t=>{const r=t.placer.getOr(_h),s=r(e,c,t,d,o,l,i.transition);n.set(o.uid,s)})),r.fold((()=>{ln(A,"visibility")}),(e=>{en(A,"visibility",e)})),sn(A,"left").isNone()&&sn(A,"top").isNone()&&sn(A,"right").isNone()&&sn(A,"bottom").isNone()&&ke(sn(A,"position"),"fixed")&&ln(A,"position")}),A)},Lh=(e,t,n)=>t.useFixed()?"fixed":"absolute",Nh=(e,t,n,o)=>{const r=o.element;z(["position","left","right","top","bottom"],(e=>ln(r,e))),td(r),n.clear(o.uid)};var Qh=Object.freeze({__proto__:null,position:Oh,positionWithin:Uh,positionWithinBounds:Th,getMode:Lh,reset:Nh});const Dh=()=>{let e={};const t=(t,n)=>{e[t]=n},n=t=>xe(e,t),o=t=>{g(t)?delete e[t]:e={}};return yA({readState:()=>e,clear:o,set:t,get:n})};var Ih=Object.freeze({__proto__:null,init:Dh});const Hh=Su({fields:Sh,name:"positioning",active:Uu,apis:Qh,state:Ih}),Mh=e=>e.getSystem().isConnected(),Rh=e=>{fa(e,Aa());const t=e.components();z(t,Rh)},Ph=e=>{const t=e.components();z(t,Ph),fa(e,aa())},Vh=(e,t)=>{e.getSystem().addToWorld(t),Pt(e.element)&&Ph(t)},jh=e=>{Rh(e),e.getSystem().removeFromWorld(e)},zh=(e,t)=>{Fo(e.element,t.element)},Kh=e=>{z(e.components(),(e=>Oo(e.element))),_o(e.element),e.syncComponents()},Wh=(e,t,n)=>{const o=e.components();Kh(e);const r=n(t),s=oe(o,r);z(s,(t=>{Rh(t),e.getSystem().removeFromWorld(t)})),z(r,(t=>{Mh(t)?zh(e,t):(e.getSystem().addToWorld(t),zh(e,t),Pt(e.element)&&Ph(t))})),e.syncComponents()},Gh=(e,t,n)=>{const o=e.components(),r=ee(t,(e=>bA(e).toArray()));z(o,(e=>{M(r,e)||jh(e)}));const s=n(t),i=oe(o,s);z(i,(e=>{Mh(e)&&jh(e)})),z(s,(t=>{Mh(t)||Vh(e,t)})),e.syncComponents()},qh=(e,t)=>{Zh(e,t,Fo)},Zh=(e,t,n)=>{e.getSystem().addToWorld(t),n(e.element,t.element),Pt(e.element)&&Ph(t),e.syncComponents()},Xh=e=>{Rh(e),Oo(e.element),e.getSystem().removeFromWorld(e)},Jh=e=>{const t=Bt(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));Xh(e),t.each((e=>{e.syncComponents()}))},Yh=e=>{const t=e.components();z(t,Xh),_o(e.element),e.syncComponents()},$h=(e,t)=>{tg(e,t,Fo)},eg=(e,t)=>{tg(e,t,xo)},tg=(e,t,n)=>{n(e,t.element);const o=Ft(t.element);z(o,(e=>{t.getByDom(e).each(Ph)}))},ng=e=>{const t=Ft(e.element);z(t,(t=>{e.getByDom(t).each(Rh)})),Oo(e.element)},og=(e,t,n,o)=>{n.get().each((t=>{Yh(e)}));const r=t.getAttachPoint(e);qh(r,e);const s=e.getSystem().build(o);return qh(e,s),n.set(s),s},rg=(e,t,n,o)=>{const r=og(e,t,n,o);return t.onOpen(e,r),r},sg=(e,t,n,o)=>n.get().map((()=>og(e,t,n,o))),ig=(e,t,n,o,r)=>{mg(e,t),rg(e,t,n,o),r(),gg(e,t)},ag=(e,t,n)=>{n.get().each((o=>{Yh(e),Jh(e),t.onClose(e,o),n.clear()}))},Ag=(e,t,n)=>n.isOpen(),lg=(e,t,n,o)=>Ag(e,t,n)&&n.get().exists((n=>t.isPartOf(e,n,o))),cg=(e,t,n)=>n.get(),ug=(e,t,n,o)=>{sn(e.element,t).fold((()=>{Xt(e.element,n)}),(t=>{Kt(e.element,n,t)})),en(e.element,t,o)},dg=(e,t,n)=>{qt(e.element,n).fold((()=>ln(e.element,t)),(n=>en(e.element,t,n)))},mg=(e,t,n)=>{const o=t.getAttachPoint(e);en(e.element,"position",Hh.getMode(o)),ug(e,"visibility",t.cloakVisibilityAttr,"hidden")},hg=e=>R(["top","left","right","bottom"],(t=>sn(e,t).isSome())),gg=(e,t,n)=>{hg(e.element)||ln(e.element,"position"),dg(e,"visibility",t.cloakVisibilityAttr)};var pg=Object.freeze({__proto__:null,cloak:mg,decloak:gg,open:rg,openWhileCloaked:ig,close:ag,isOpen:Ag,isPartOf:lg,getState:cg,setContent:sg});const fg=(e,t)=>Ca([ka(ea(),((n,o)=>{ag(n,e,t)}))]);var bg=Object.freeze({__proto__:null,events:fg}),vg=[bc("onOpen"),bc("onClose"),xs("isPartOf"),xs("getAttachPoint"),zs("cloakVisibilityAttr","data-precloak-visibility")];const wg=()=>{const e=ud(),t=C("not-implemented");return yA({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})};var yg=Object.freeze({__proto__:null,init:wg});const Bg=Su({fields:vg,name:"sandboxing",active:bg,apis:pg,state:yg}),Cg=C("dismiss.popups"),xg=C("reposition.popups"),Sg=C("mouse.released"),Fg=qr([zs("isExtraPart",O),Vs("fireEventInstead",[zs("event",la())])]),kg=e=>{const t=fs("Dismissal",Fg,e);return{[Cg()]:{schema:qr([xs("target")]),onReceive:(e,n)=>{if(Bg.isOpen(e)){const o=Bg.isPartOf(e,n.target)||t.isExtraPart(e,n.target);o||t.fireEventInstead.fold((()=>Bg.close(e)),(t=>fa(e,t.event)))}}}}},Eg=qr([Vs("fireEventInstead",[zs("event",ca())]),Os("doReposition")]),_g=e=>{const t=fs("Reposition",Eg,e);return{[xg()]:{onReceive:e=>{Bg.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>fa(e,t.event)))}}}},Og=(e,t,n)=>{t.store.manager.onLoad(e,t,n)},Ug=(e,t,n)=>{t.store.manager.onUnload(e,t,n)},Tg=(e,t,n,o)=>{t.store.manager.setValue(e,t,n,o)},Lg=(e,t,n)=>t.store.manager.getValue(e,t,n),Ng=(e,t,n)=>n;var Qg=Object.freeze({__proto__:null,onLoad:Og,onUnload:Ug,setValue:Tg,getValue:Lg,getState:Ng});const Dg=(e,t)=>{const n=e.resetOnDom?[Ia(((n,o)=>{Og(n,e,t)})),Ha(((n,o)=>{Ug(n,e,t)}))]:[fu(e,t,Og)];return Ca(n)};var Ig=Object.freeze({__proto__:null,events:Dg});const Hg=()=>{const e=ei(null),t=()=>({mode:"memory",value:e.get()}),n=()=>null===e.get(),o=()=>{e.set(null)};return yA({set:e.set,get:e.get,isNotSet:n,clear:o,readState:t})},Mg=()=>{const e=v;return yA({readState:e})},Rg=()=>{const e=ei({}),t=ei({}),n=()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),o=()=>{e.set({}),t.set({})},r=n=>xe(e.get(),n).orThunk((()=>xe(t.get(),n))),s=n=>{const o=e.get(),r=t.get(),s={},i={};z(n,(e=>{s[e.value]=e,xe(e,"meta").each((t=>{xe(t,"text").each((t=>{i[t]=e}))}))})),e.set({...o,...s}),t.set({...r,...i})};return yA({readState:n,lookup:r,update:s,clear:o})},Pg=e=>e.store.manager.state(e);var Vg=Object.freeze({__proto__:null,memory:Hg,dataset:Rg,manual:Mg,init:Pg});const jg=(e,t,n,o)=>{const r=t.store;n.update([o]),r.setValue(e,o),t.onSetValue(e,o)},zg=(e,t,n)=>{const o=t.store,r=o.getDataKey(e);return n.lookup(r).getOrThunk((()=>o.getFallbackEntry(r)))},Kg=(e,t,n)=>{const o=t.store;o.initialValue.each((o=>{jg(e,t,n,o)}))},Wg=(e,t,n)=>{n.clear()};var Gg=[Qs("initialValue"),xs("getFallbackEntry"),xs("getDataKey"),xs("setValue"),Bc("manager",{setValue:jg,getValue:zg,onLoad:Kg,onUnload:Wg,state:Rg})];const qg=(e,t,n)=>t.store.getValue(e),Zg=(e,t,n,o)=>{t.store.setValue(e,o),t.onSetValue(e,o)},Xg=(e,t,n)=>{t.store.initialValue.each((n=>{t.store.setValue(e,n)}))};var Jg=[xs("getValue"),zs("setValue",v),Qs("initialValue"),Bc("manager",{setValue:Zg,getValue:qg,onLoad:Xg,onUnload:v,state:wA.init})];const Yg=(e,t,n,o)=>{n.set(o),t.onSetValue(e,o)},$g=(e,t,n)=>n.get(),ep=(e,t,n)=>{t.store.initialValue.each((e=>{n.isNotSet()&&n.set(e)}))},tp=(e,t,n)=>{n.clear()};var np=[Qs("initialValue"),Bc("manager",{setValue:Yg,getValue:$g,onLoad:ep,onUnload:tp,state:Hg})],op=[Ks("store",{mode:"memory"},vs("mode",{memory:np,manual:Jg,dataset:Gg})),bc("onSetValue"),zs("resetOnDom",!1)];const rp=Su({fields:op,name:"representing",active:Ig,apis:Qg,extra:{setValueFrom:(e,t)=>{const n=rp.getValue(t);rp.setValue(e,n)}},state:Vg}),sp=(e,t)=>$s(e,{},j(t,(t=>Us(t.name(),"Cannot configure "+t.name()+" for "+e))).concat([Bs("dump",x)])),ip=e=>e.dump,ap=(e,t)=>({...Cu(t),...e.dump}),Ap={field:sp,augment:ap,get:ip},lp="placeholder",cp=ni.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),up=e=>Se(e,"uiType"),dp=(e,t,n,o)=>e.exists((e=>e!==n.owner))?cp.single(!0,C(n)):xe(o,n.name).fold((()=>{throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+de(o)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(e=>e.replace())),mp=(e,t,n,o)=>up(n)&&n.uiType===lp?dp(e,t,n,o):cp.single(!1,C(n)),hp=(e,t,n,o)=>{const r=mp(e,t,n,o);return r.fold(((r,s)=>{const i=up(n)?s(t,n.config,n.validated):s(t),a=xe(i,"components").getOr([]),A=ee(a,(n=>hp(e,t,n,o)));return[{...i,components:A}]}),((e,o)=>{if(up(n)){const e=o(t,n.config,n.validated),r=n.validated.preprocess.getOr(x);return r(e)}return o(t)}))},gp=(e,t,n,o)=>ee(n,(n=>hp(e,t,n,o))),pp=(e,t)=>{let n=!1;const o=()=>n,r=()=>{if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t},s=()=>t.fold(((e,t)=>e),((e,t)=>e));return{name:C(e),required:s,used:o,replace:r}},fp=(e,t,n,o)=>{const r=ge(o,((e,t)=>pp(t,e))),s=gp(e,t,n,r);return he(r,(n=>{if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),s},bp=cp.single,vp=cp.multiple,wp=C(lp),yp=ni.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Bp=zs("factory",{sketch:x}),Cp=zs("schema",[]),xp=xs("name"),Sp=ys("pname","pname",wr((e=>"<alloy."+$a(e.name)+">")),ts()),Fp=Bs("schema",(()=>[Qs("preprocess")])),kp=zs("defaults",C({})),Ep=zs("overrides",C({})),_p=Zr([Bp,Cp,xp,Sp,kp,Ep]),Op=Zr([Bp,Cp,xp,kp,Ep]),Up=Zr([Bp,Cp,xp,Sp,kp,Ep]),Tp=Zr([Bp,Fp,xp,xs("unit"),Sp,kp,Ep]),Lp=e=>e.fold(L.some,L.none,L.some,L.some),Np=e=>{const t=e=>e.name;return e.fold(t,t,t,t)},Qp=e=>e.fold(x,x,x,x),Dp=(e,t)=>n=>{const o=fs("Converting part type",t,n);return e(o)},Ip=Dp(yp.required,_p),Hp=Dp(yp.external,Op),Mp=Dp(yp.optional,Up),Rp=Dp(yp.group,Tp),Pp=C("entirety");var Vp=Object.freeze({__proto__:null,required:Ip,external:Hp,optional:Mp,group:Rp,asNamedPart:Lp,name:Np,asCommon:Qp,original:Pp});const jp=(e,t,n,o)=>fr(t.defaults(e,n,o),n,{uid:e.partUids[t.name]},t.overrides(e,n,o)),zp=(e,t,n)=>{const o={},r={};return z(n,(e=>{e.fold((e=>{o[e.pname]=bp(!0,((t,n,o)=>e.factory.sketch(jp(t,e,n,o))))}),(e=>{const n=t.parts[e.name];r[e.name]=C(e.factory.sketch(jp(t,e,n[Pp()]),n))}),(e=>{o[e.pname]=bp(!1,((t,n,o)=>e.factory.sketch(jp(t,e,n,o))))}),(e=>{o[e.pname]=vp(!0,((t,n,o)=>{const r=t[e.name];return j(r,(n=>e.factory.sketch(fr(e.defaults(t,n,o),n,e.overrides(t,n)))))}))}))})),{internals:C(o),externals:C(r)}},Kp=(e,t)=>{const n={};return z(t,(t=>{Lp(t).each((t=>{const o=Wp(e,t.pname);n[t.name]=n=>{const r=fs("Part: "+t.name+" in "+e,Zr(t.schema),n);return{...o,config:n,validated:r}}}))})),n},Wp=(e,t)=>({uiType:wp(),owner:e,name:t}),Gp=(e,t,n)=>({uiType:wp(),owner:e,name:t,config:n,validated:{}}),qp=e=>ee(e,(e=>e.fold(L.none,L.some,L.none,L.none).map((e=>Ts(e.name,e.schema.concat([Cc(Pp())])))).toArray())),Zp=e=>j(e,Np),Xp=(e,t,n)=>zp(e,t,n),Jp=(e,t,n)=>fp(L.some(e),t,t.components,n),Yp=(e,t,n)=>{const o=t.partUids[n];return e.getSystem().getByUid(o).toOptional()},$p=(e,t,n)=>Yp(e,t,n).getOrDie("Could not find part: "+n),ef=(e,t,n)=>{const o={},r=t.partUids,s=e.getSystem();return z(n,(e=>{o[e]=C(s.getByUid(r[e]))})),o},tf=(e,t)=>{const n=e.getSystem();return ge(t.partUids,((e,t)=>C(n.getByUid(e))))},nf=e=>de(e.partUids),of=(e,t,n)=>{const o={},r=t.partUids,s=e.getSystem();return z(n,(e=>{o[e]=C(s.getByUid(r[e]).getOrDie())})),o},rf=(e,t)=>{const n=Zp(t);return li(j(n,(t=>({key:t,value:e+"-"+t}))))},sf=e=>ys("partUids","partUids",Cr((t=>rf(t.uid,e))),ts());var af=Object.freeze({__proto__:null,generate:Kp,generateOne:Gp,schemas:qp,names:Zp,substitutes:Xp,components:Jp,defaultUids:rf,defaultUidsSchema:sf,getAllParts:tf,getAllPartNames:nf,getPart:Yp,getPartOrDie:$p,getParts:ef,getPartsOrDie:of});const Af=(e,t)=>{const n=e.length>0?[Ts("parts",e)]:[];return n.concat([xs("uid"),zs("dom",{}),zs("components",[]),Cc("originalSpec"),zs("debug.sketcher",{})]).concat(t)},lf=(e,t,n,o,r)=>{const s=Af(o,r);return fs(e+" [SpecSchema]",qr(s.concat(t)),n)},cf=(e,t,n,o)=>{const r=mf(o),s=lf(e,t,r,[],[]);return n(s,r)},uf=(e,t,n,o,r)=>{const s=mf(r),i=qp(n),a=sf(n),A=lf(e,t,s,i,[a]),l=Xp(e,A,n),c=Jp(e,A,l.internals());return o(A,c,s,l.externals())},df=e=>Se(e,"uid"),mf=e=>df(e)?e:{...e,uid:aA("uid")},hf=e=>void 0!==e.uid,gf=qr([xs("name"),xs("factory"),xs("configFields"),zs("apis",{}),zs("extraApis",{})]),pf=qr([xs("name"),xs("factory"),xs("configFields"),xs("partFields"),zs("apis",{}),zs("extraApis",{})]),ff=e=>{const t=fs("Sketcher for "+e.name,gf,e),n=e=>cf(t.name,t.configFields,t.factory,e),o=ge(t.apis,vA),r=ge(t.extraApis,((e,t)=>mA(e,t)));return{name:t.name,configFields:t.configFields,sketch:n,...o,...r}},bf=e=>{const t=fs("Sketcher for "+e.name,pf,e),n=e=>uf(t.name,t.configFields,t.partFields,t.factory,e),o=Kp(t.name,t.partFields),r=ge(t.apis,vA),s=ge(t.extraApis,((e,t)=>mA(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:n,parts:o,...r,...s}},vf=e=>ut("input")(e)&&"radio"!==Gt(e,"type")||ut("textarea")(e),wf=(e,t,n)=>t.find(e);var yf=Object.freeze({__proto__:null,getCurrent:wf});const Bf=[xs("find")],Cf=Su({fields:Bf,name:"composing",apis:yf}),xf=["input","button","textarea","select"],Sf=(e,t,n)=>{const o=t.disabled()?Lf:Nf;o(e,t)},Ff=(e,t)=>!0===t.useNative&&M(xf,rt(e.element)),kf=e=>Zt(e.element,"disabled"),Ef=e=>{Kt(e.element,"disabled","disabled")},_f=e=>{Xt(e.element,"disabled")},Of=e=>"true"===Gt(e.element,"aria-disabled"),Uf=e=>{Kt(e.element,"aria-disabled","true")},Tf=e=>{Kt(e.element,"aria-disabled","false")},Lf=(e,t,n)=>{t.disableClass.each((t=>{tl(e.element,t)}));const o=Ff(e,t)?Ef:Uf;o(e),t.onDisabled(e)},Nf=(e,t,n)=>{t.disableClass.each((t=>{ol(e.element,t)}));const o=Ff(e,t)?_f:Tf;o(e),t.onEnabled(e)},Qf=(e,t)=>Ff(e,t)?kf(e):Of(e),Df=(e,t,n,o)=>{const r=o?Lf:Nf;r(e,t)};var If=Object.freeze({__proto__:null,enable:Nf,disable:Lf,isDisabled:Qf,onLoad:Sf,set:Df});const Hf=(e,t)=>FA({classes:t.disabled()?t.disableClass.toArray():[]}),Mf=(e,t)=>Ca([xa(Xi(),((t,n)=>Qf(t,e))),fu(e,t,Sf)]);var Rf=Object.freeze({__proto__:null,exhibit:Hf,events:Mf}),Pf=[Xs("disabled",O),zs("useNative",!0),Qs("disableClass"),bc("onDisabled"),bc("onEnabled")];const Vf=Su({fields:Pf,name:"disabling",active:Rf,apis:If}),jf=(e,t,n,o)=>{const r=Wm(e.element,"."+t.highlightClass);z(r,(n=>{R(o,(e=>e.element===n))||(ol(n,t.highlightClass),e.getSystem().getByDom(n).each((n=>{t.onDehighlight(e,n),fa(n,pa())})))}))},zf=(e,t,n)=>jf(e,t,n,[]),Kf=(e,t,n,o)=>{Jf(e,t,n,o)&&(ol(o.element,t.highlightClass),t.onDehighlight(e,o),fa(o,pa()))},Wf=(e,t,n,o)=>{jf(e,t,n,[o]),Jf(e,t,n,o)||(tl(o.element,t.highlightClass),t.onHighlight(e,o),fa(o,ga()))},Gf=(e,t,n)=>{eb(e,t).each((o=>{Wf(e,t,n,o)}))},qf=(e,t,n)=>{tb(e,t).each((o=>{Wf(e,t,n,o)}))},Zf=(e,t,n,o)=>{$f(e,t,n,o).fold((e=>{throw e}),(o=>{Wf(e,t,n,o)}))},Xf=(e,t,n,o)=>{const r=sb(e,t),s=J(r,o);s.each((o=>{Wf(e,t,n,o)}))},Jf=(e,t,n,o)=>rl(o.element,t.highlightClass),Yf=(e,t,n)=>Gl(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),$f=(e,t,n,o)=>{const r=Wm(e.element,"."+t.itemClass);return L.from(r[o]).fold((()=>Yo.error(new Error("No element found with index "+o))),e.getSystem().getByDom)},eb=(e,t,n)=>Gl(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),tb=(e,t,n)=>{const o=Wm(e.element,"."+t.itemClass),r=o.length>0?L.some(o[o.length-1]):L.none();return r.bind((t=>e.getSystem().getByDom(t).toOptional()))},nb=(e,t,n,o)=>{const r=Wm(e.element,"."+t.itemClass),s=Y(r,(e=>rl(e,t.highlightClass)));return s.bind((t=>{const n=Hc(t,o,0,r.length-1);return e.getSystem().getByDom(r[n]).toOptional()}))},ob=(e,t,n)=>nb(e,t,n,-1),rb=(e,t,n)=>nb(e,t,n,1),sb=(e,t,n)=>{const o=Wm(e.element,"."+t.itemClass);return _e(j(o,(t=>e.getSystem().getByDom(t).toOptional())))};var ib=Object.freeze({__proto__:null,dehighlightAll:zf,dehighlight:Kf,highlight:Wf,highlightFirst:Gf,highlightLast:qf,highlightAt:Zf,highlightBy:Xf,isHighlighted:Jf,getHighlighted:Yf,getFirst:eb,getLast:tb,getPrevious:ob,getNext:rb,getCandidates:sb}),ab=[xs("highlightClass"),xs("itemClass"),bc("onHighlight"),bc("onDehighlight")];const Ab=Su({fields:ab,name:"highlighting",apis:ib}),lb=[8],cb=[9],ub=[13],db=[27],mb=[32],hb=[37],gb=[38],pb=[39],fb=[40],bb=(e,t,n)=>{const o=ne(e.slice(0,t)),r=ne(e.slice(t+1));return J(o.concat(r),n)},vb=(e,t,n)=>{const o=ne(e.slice(0,t));return J(o,n)},wb=(e,t,n)=>{const o=e.slice(0,t),r=e.slice(t+1);return J(r.concat(o),n)},yb=(e,t,n)=>{const o=e.slice(t+1);return J(o,n)},Bb=e=>t=>{const n=t.raw;return M(e,n.which)},Cb=e=>t=>te(e,(e=>e(t))),xb=e=>{const t=e.raw;return!0===t.shiftKey},Sb=e=>{const t=e.raw;return!0===t.ctrlKey},Fb=k(xb),kb=(e,t)=>({matches:e,classification:t}),Eb=(e,t)=>{const n=J(e,(e=>e.matches(t)));return n.map((e=>e.classification))},_b=(e,t,n)=>{const o=t.exists((e=>n.exists((t=>pt(t,e)))));o||ba(e,ua(),{prevFocus:t,newFocus:n})},Ob=()=>{const e=e=>Du(e.element),t=(t,n)=>{const o=e(t);t.getSystem().triggerFocus(n,t.element);const r=e(t);_b(t,o,r)};return{get:e,set:t}},Ub=()=>{const e=e=>Ab.getHighlighted(e).map((e=>e.element)),t=(t,n)=>{const o=e(t);t.getSystem().getByDom(n).fold(v,(e=>{Ab.highlight(t,e)}));const r=e(t);_b(t,o,r)};return{get:e,set:t}};var Tb;(function(e){e["OnFocusMode"]="onFocus",e["OnEnterOrSpaceMode"]="onEnterOrSpace",e["OnApiMode"]="onApi"})(Tb||(Tb={}));const Lb=(e,t,n,o,r)=>{const s=()=>e.concat([zs("focusManager",Ob()),Ks("focusInside","onFocus",ds((e=>M(["onFocus","onEnterOrSpace","onApi"],e)?Yo.value(e):Yo.error("Invalid value for focusInside")))),Bc("handler",A),Bc("state",t),Bc("sendFocusIn",r)]),i=(e,t,n,o,r)=>{const s=n(e,t,o,r);return Eb(s,t.event).bind((n=>n(e,t,o,r)))},a=(e,t)=>{const s=e.focusInside!==Tb.OnFocusMode?L.none():r(e).map((n=>ka(Wi(),((o,r)=>{n(o,e,t),r.stop()})))),a=(n,o)=>{const s=Bb(mb.concat(ub))(o.event);e.focusInside===Tb.OnEnterOrSpaceMode&&s&&pi(n,o)&&r(e).each((r=>{r(n,e,t),o.stop()}))},A=[ka(Qi(),((o,r)=>{i(o,r,n,e,t).fold((()=>{a(o,r)}),(e=>{r.stop()}))})),ka(Di(),((n,r)=>{i(n,r,o,e,t).each((e=>{r.stop()}))}))];return Ca(s.toArray().concat(A))},A={schema:s,processKey:i,toEvents:a};return A},Nb=e=>{const t=[Qs("onEscape"),Qs("onEnter"),zs("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),zs("firstTabstop",0),zs("useTabstopAt",U),Qs("visibilitySelector")].concat([e]),n=(e,t)=>{const n=e.visibilitySelector.bind((e=>ql(t,e))).getOr(t);return mn(n)>0},o=(e,t)=>{const o=Wm(e.element,t.selector),r=G(o,(e=>n(t,e)));return L.from(r[t.firstTabstop])},r=(e,t)=>t.focusManager.get(e).bind((e=>ql(e,t.selector))),s=(e,t)=>n(e,t)&&e.useTabstopAt(t),i=(e,t,n)=>{o(e,t).each((n=>{t.focusManager.set(e,n)}))},a=(e,t,n,o,r)=>r(t,n,(e=>s(o,e))).fold((()=>o.cyclic?L.some(!0):L.none()),(t=>(o.focusManager.set(e,t),L.some(!0)))),A=(e,t,n,o)=>{const s=Wm(e.element,n.selector);return r(e,n).bind((t=>{const r=Y(s,F(pt,t));return r.bind((t=>a(e,s,t,n,o)))}))},l=(e,t,n)=>{const o=n.cyclic?bb:vb;return A(e,t,n,o)},c=(e,t,n)=>{const o=n.cyclic?wb:yb;return A(e,t,n,o)},u=(e,t,n)=>n.onEnter.bind((n=>n(e,t))),d=(e,t,n)=>n.onEscape.bind((n=>n(e,t))),m=C([kb(Cb([xb,Bb(cb)]),l),kb(Bb(cb),c),kb(Cb([Fb,Bb(ub)]),u)]),h=C([kb(Bb(db),d)]);return Lb(t,wA.init,m,h,(()=>L.some(i)))};var Qb=Nb(Bs("cyclic",O)),Db=Nb(Bs("cyclic",U));const Ib=(e,t,n)=>(wa(e,n,Xi()),L.some(!0)),Hb=(e,t,n)=>{const o=vf(n)&&Bb(mb)(t.event);return o?L.none():Ib(e,t,n)},Mb=(e,t)=>L.some(!0),Rb=[zs("execute",Hb),zs("useSpace",!1),zs("useEnter",!0),zs("useControlEnter",!1),zs("useDown",!1)],Pb=(e,t,n)=>n.execute(e,t,e.element),Vb=(e,t,n,o)=>{const r=n.useSpace&&!vf(e.element)?mb:[],s=n.useEnter?ub:[],i=n.useDown?fb:[],a=r.concat(s).concat(i);return[kb(Bb(a),Pb)].concat(n.useControlEnter?[kb(Cb([Sb,Bb(ub)]),Pb)]:[])},jb=(e,t,n,o)=>n.useSpace&&!vf(e.element)?[kb(Bb(mb),Mb)]:[];var zb=Lb(Rb,wA.init,Vb,jb,(()=>L.none()));const Kb=()=>{const e=ud(),t=(t,n)=>{e.set({numRows:t,numColumns:n})},n=()=>e.get().map((e=>e.numRows)),o=()=>e.get().map((e=>e.numColumns));return yA({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:t,getNumRows:n,getNumColumns:o})},Wb=e=>e.state(e);var Gb=Object.freeze({__proto__:null,flatgrid:Kb,init:Wb});const qb=e=>(t,n,o,r)=>{const s=e(t.element);return Yb(s,t,n,o,r)},Zb=(e,t)=>{const n=Vd(e,t);return qb(n)},Xb=(e,t)=>{const n=Vd(t,e);return qb(n)},Jb=e=>(t,n,o,r)=>Yb(e,t,n,o,r),Yb=(e,t,n,o,r)=>{const s=o.focusManager.get(t).bind((n=>e(t.element,n,o,r)));return s.map((e=>(o.focusManager.set(t,e),!0)))},$b=Jb,ev=Jb,tv=Jb,nv=e=>e.offsetWidth<=0&&e.offsetHeight<=0,ov=e=>!nv(e.dom),rv=(e,t)=>Y(e,t).map((t=>({index:t,candidates:e}))),sv=(e,t,n)=>{const o=e=>pt(e,t),r=Wm(e,n),s=G(r,ov);return rv(s,o)},iv=(e,t)=>Y(e,(e=>pt(t,e))),av=(e,t,n,o)=>{const r=Math.floor(t/n),s=t%n;return o(r,s).bind((t=>{const o=t.row*n+t.column;return o>=0&&o<e.length?L.some(e[o]):L.none()}))},Av=(e,t,n,o,r)=>av(e,t,o,((t,s)=>{const i=t===n-1,a=i?e.length-t*o:o,A=Hc(s,r,0,a-1);return L.some({row:t,column:A})})),lv=(e,t,n,o,r)=>av(e,t,o,((t,s)=>{const i=Hc(t,r,0,n-1),a=i===n-1,A=a?e.length-i*o:o,l=Mc(s,0,A-1);return L.some({row:i,column:l})})),cv=(e,t,n,o)=>Av(e,t,n,o,1),uv=(e,t,n,o)=>Av(e,t,n,o,-1),dv=(e,t,n,o)=>lv(e,t,n,o,-1),mv=(e,t,n,o)=>lv(e,t,n,o,1),hv=[xs("selector"),zs("execute",Hb),vc("onEscape"),zs("captureTab",!1),xc()],gv=(e,t,n)=>{Gl(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},pv=(e,t)=>t.focusManager.get(e).bind((e=>ql(e,t.selector))),fv=(e,t,n,o)=>pv(e,n).bind((o=>n.execute(e,t,o))),bv=e=>(t,n,o,r)=>sv(t,n,o.selector).bind((t=>e(t.candidates,t.index,r.getNumRows().getOr(o.initSize.numRows),r.getNumColumns().getOr(o.initSize.numColumns)))),vv=(e,t,n)=>n.captureTab?L.some(!0):L.none(),wv=(e,t,n)=>n.onEscape(e,t),yv=bv(uv),Bv=bv(cv),Cv=bv(dv),xv=bv(mv),Sv=C([kb(Bb(hb),Zb(yv,Bv)),kb(Bb(pb),Xb(yv,Bv)),kb(Bb(gb),$b(Cv)),kb(Bb(fb),ev(xv)),kb(Cb([xb,Bb(cb)]),vv),kb(Cb([Fb,Bb(cb)]),vv),kb(Bb(mb.concat(ub)),fv)]),Fv=C([kb(Bb(db),wv),kb(Bb(mb),Mb)]);var kv=Lb(hv,Kb,Sv,Fv,(()=>L.some(gv)));const Ev=(e,t,n,o)=>{const r=e=>"button"===rt(e)&&"disabled"===Gt(e,"disabled"),s=(e,t,n)=>{const i=Hc(t,o,0,n.length-1);return i===e?L.none():r(n[i])?s(e,i,n):L.from(n[i])};return sv(e,n,t).bind((e=>{const t=e.index,n=e.candidates;return s(t,t,n)}))},_v=[xs("selector"),zs("getInitial",L.none),zs("execute",Hb),vc("onEscape"),zs("executeOnMove",!1),zs("allowVertical",!0)],Ov=(e,t)=>t.focusManager.get(e).bind((e=>ql(e,t.selector))),Uv=(e,t,n)=>Ov(e,n).bind((o=>n.execute(e,t,o))),Tv=(e,t,n)=>{t.getInitial(e).orThunk((()=>Gl(e.element,t.selector))).each((n=>{t.focusManager.set(e,n)}))},Lv=(e,t,n)=>Ev(e,n.selector,t,-1),Nv=(e,t,n)=>Ev(e,n.selector,t,1),Qv=e=>(t,n,o,r)=>e(t,n,o,r).bind((()=>o.executeOnMove?Uv(t,n,o):L.some(!0))),Dv=(e,t,n)=>n.onEscape(e,t),Iv=(e,t,n,o)=>{const r=hb.concat(n.allowVertical?gb:[]),s=pb.concat(n.allowVertical?fb:[]);return[kb(Bb(r),Qv(Zb(Lv,Nv))),kb(Bb(s),Qv(Xb(Lv,Nv))),kb(Bb(ub),Uv),kb(Bb(mb),Uv)]},Hv=C([kb(Bb(mb),Mb),kb(Bb(db),Dv)]);var Mv=Lb(_v,wA.init,Iv,Hv,(()=>L.some(Tv)));const Rv=(e,t,n)=>L.from(e[t]).bind((e=>L.from(e[n]).map((e=>({rowIndex:t,columnIndex:n,cell:e}))))),Pv=(e,t,n,o)=>{const r=e[t],s=r.length,i=Hc(n,o,0,s-1);return Rv(e,t,i)},Vv=(e,t,n,o)=>{const r=Hc(n,o,0,e.length-1),s=e[r].length,i=Mc(t,0,s-1);return Rv(e,r,i)},jv=(e,t,n,o)=>{const r=e[t],s=r.length,i=Mc(n+o,0,s-1);return Rv(e,t,i)},zv=(e,t,n,o)=>{const r=Mc(n+o,0,e.length-1),s=e[r].length,i=Mc(t,0,s-1);return Rv(e,r,i)},Kv=(e,t,n)=>Pv(e,t,n,1),Wv=(e,t,n)=>Pv(e,t,n,-1),Gv=(e,t,n)=>Vv(e,n,t,-1),qv=(e,t,n)=>Vv(e,n,t,1),Zv=(e,t,n)=>jv(e,t,n,-1),Xv=(e,t,n)=>jv(e,t,n,1),Jv=(e,t,n)=>zv(e,n,t,-1),Yv=(e,t,n)=>zv(e,n,t,1),$v=[Ts("selectors",[xs("row"),xs("cell")]),zs("cycles",!0),zs("previousSelector",L.none),zs("execute",Hb)],ew=(e,t,n)=>{const o=t.previousSelector(e).orThunk((()=>{const n=t.selectors;return Gl(e.element,n.cell)}));o.each((n=>{t.focusManager.set(e,n)}))},tw=(e,t,n)=>Du(e.element).bind((o=>n.execute(e,t,o))),nw=(e,t)=>j(e,(e=>Wm(e,t.selectors.cell))),ow=(e,t)=>(n,o,r)=>{const s=r.cycles?e:t;return ql(o,r.selectors.row).bind((e=>{const t=Wm(e,r.selectors.cell);return iv(t,o).bind((t=>{const o=Wm(n,r.selectors.row);return iv(o,e).bind((e=>{const n=nw(o,r);return s(n,e,t).map((e=>e.cell))}))}))}))},rw=ow(Wv,Zv),sw=ow(Kv,Xv),iw=ow(Gv,Jv),aw=ow(qv,Yv),Aw=C([kb(Bb(hb),Zb(rw,sw)),kb(Bb(pb),Xb(rw,sw)),kb(Bb(gb),$b(iw)),kb(Bb(fb),ev(aw)),kb(Bb(mb.concat(ub)),tw)]),lw=C([kb(Bb(mb),Mb)]);var cw=Lb($v,wA.init,Aw,lw,(()=>L.some(ew)));const uw=[xs("selector"),zs("execute",Hb),zs("moveOnTab",!1)],dw=(e,t,n)=>n.focusManager.get(e).bind((o=>n.execute(e,t,o))),mw=(e,t,n)=>{Gl(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},hw=(e,t,n)=>Ev(e,n.selector,t,-1),gw=(e,t,n)=>Ev(e,n.selector,t,1),pw=(e,t,n,o)=>n.moveOnTab?tv(hw)(e,t,n,o):L.none(),fw=(e,t,n,o)=>n.moveOnTab?tv(gw)(e,t,n,o):L.none(),bw=C([kb(Bb(gb),tv(hw)),kb(Bb(fb),tv(gw)),kb(Cb([xb,Bb(cb)]),pw),kb(Cb([Fb,Bb(cb)]),fw),kb(Bb(ub),dw),kb(Bb(mb),dw)]),vw=C([kb(Bb(mb),Mb)]);var ww=Lb(uw,wA.init,bw,vw,(()=>L.some(mw)));const yw=[vc("onSpace"),vc("onEnter"),vc("onShiftEnter"),vc("onLeft"),vc("onRight"),vc("onTab"),vc("onShiftTab"),vc("onUp"),vc("onDown"),vc("onEscape"),zs("stopSpaceKeyup",!1),Qs("focusIn")],Bw=(e,t,n)=>[kb(Bb(mb),n.onSpace),kb(Cb([Fb,Bb(ub)]),n.onEnter),kb(Cb([xb,Bb(ub)]),n.onShiftEnter),kb(Cb([xb,Bb(cb)]),n.onShiftTab),kb(Cb([Fb,Bb(cb)]),n.onTab),kb(Bb(gb),n.onUp),kb(Bb(fb),n.onDown),kb(Bb(hb),n.onLeft),kb(Bb(pb),n.onRight),kb(Bb(mb),n.onSpace)],Cw=(e,t,n)=>[...n.stopSpaceKeyup?[kb(Bb(mb),Mb)]:[],kb(Bb(db),n.onEscape)];var xw=Lb(yw,wA.init,Bw,Cw,(e=>e.focusIn));const Sw=Qb.schema(),Fw=Db.schema(),kw=Mv.schema(),Ew=kv.schema(),_w=cw.schema(),Ow=zb.schema(),Uw=ww.schema(),Tw=xw.schema();var Lw=Object.freeze({__proto__:null,acyclic:Sw,cyclic:Fw,flow:kw,flatgrid:Ew,matrix:_w,execution:Ow,menu:Uw,special:Tw});const Nw=e=>Fe(e,"setGridSize"),Qw=ku({branchKey:"mode",branches:Lw,name:"keying",active:{events:(e,t)=>{const n=e.handler;return n.toEvents(e,t)}},apis:{focusIn:(e,t,n)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(o=>{o(e,t,n)}))},setGridSize:(e,t,n,o,r)=>{Nw(n)?n.setGridSize(o,r):console.error("Layout does not support setGridSize")}},state:Gb}),Dw=(e,t)=>{Iu((()=>{Wh(e,t,(()=>j(t,e.getSystem().build)))}),e.element)},Iw=(e,t)=>{Iu((()=>{Gh(e,t,(()=>pl(e.element,t,e.getSystem().buildOrPatch)))}),e.element)},Hw=(e,t,n,o)=>{jh(t);const r=gl(e.element,n,o,e.getSystem().buildOrPatch);Vh(e,r),e.syncComponents()},Mw=(e,t,n)=>{const o=e.getSystem().build(n);Zh(e,o,t)},Rw=(e,t,n,o)=>{Jh(t),Mw(e,((e,t)=>ko(e,t,n)),o)},Pw=(e,t,n,o)=>{const r=t.reuseDom?Iw:Dw;return r(e,o)},Vw=(e,t,n,o)=>{Mw(e,Fo,o)},jw=(e,t,n,o)=>{Mw(e,So,o)},zw=(e,t,n,o)=>{const r=Kw(e),s=J(r,(e=>pt(o.element,e.element)));s.each(Jh)},Kw=(e,t)=>e.components(),Ww=(e,t,n,o,r)=>{const s=Kw(e);return L.from(s[o]).map((n=>(r.fold((()=>Jh(n)),(r=>{const s=t.reuseDom?Hw:Rw;s(e,n,o,r)})),n)))},Gw=(e,t,n,o,r)=>{const s=Kw(e);return Y(s,o).bind((o=>Ww(e,t,n,o,r)))};var qw=Object.freeze({__proto__:null,append:Vw,prepend:jw,remove:zw,replaceAt:Ww,replaceBy:Gw,set:Pw,contents:Kw});const Zw=Su({fields:[Zs("reuseDom",!0)],name:"replacing",apis:qw}),Xw=(e,t)=>{const n=Ca(t);return Su({fields:[xs("enabled")],name:e,active:{events:C(n)}})},Jw=(e,t)=>{const n=Xw(e,t);return{key:e,value:{config:{},me:n,configAsRaw:C({}),initialConfig:{},state:wA}}},Yw=(e,t)=>{t.ignore||(Tu(e.element),t.onFocus(e))},$w=(e,t)=>{t.ignore||Lu(e.element)},ey=e=>Nu(e.element);var ty=Object.freeze({__proto__:null,focus:Yw,blur:$w,isFocused:ey});const ny=(e,t)=>{const n=t.ignore?{}:{attributes:{tabindex:"-1"}};return FA(n)},oy=e=>Ca([ka(Wi(),((t,n)=>{Yw(t,e),n.stop()}))].concat(e.stopMousedown?[ka(Ei(),((e,t)=>{t.event.prevent()}))]:[]));var ry=Object.freeze({__proto__:null,exhibit:ny,events:oy}),sy=[bc("onFocus"),zs("stopMousedown",!1),zs("ignore",!1)];const iy=Su({fields:sy,name:"focusing",active:ry,apis:ty}),ay=e=>{const t=()=>{const t=ei(e),n=()=>t.get(),o=e=>t.set(e),r=()=>t.set(e),s=()=>t.get();return{get:n,set:o,clear:r,readState:s}};return{init:t}},Ay=(e,t,n)=>{const o=t.aria;o.update(e,o,n.get())},ly=(e,t,n)=>{t.toggleClass.each((t=>{n.get()?tl(e.element,t):ol(e.element,t)}))},cy=(e,t,n,o)=>{const r=n.get();n.set(o),ly(e,t,n),Ay(e,t,n),r!==o&&t.onToggled(e,o)},uy=(e,t,n)=>{cy(e,t,n,!n.get())},dy=(e,t,n)=>{cy(e,t,n,!0)},my=(e,t,n)=>{cy(e,t,n,!1)},hy=(e,t,n)=>n.get(),gy=(e,t,n)=>{cy(e,t,n,t.selected)};var py=Object.freeze({__proto__:null,onLoad:gy,toggle:uy,isOn:hy,on:dy,off:my,set:cy});const fy=()=>FA({}),by=(e,t)=>{const n=pu(e,t,uy),o=fu(e,t,gy);return Ca($([e.toggleOnExecute?[n]:[],[o]]))};var vy=Object.freeze({__proto__:null,exhibit:fy,events:by});const wy=(e,t,n)=>{Kt(e.element,"aria-pressed",n),t.syncWithExpanded&&Cy(e,t,n)},yy=(e,t,n)=>{Kt(e.element,"aria-selected",n)},By=(e,t,n)=>{Kt(e.element,"aria-checked",n)},Cy=(e,t,n)=>{Kt(e.element,"aria-expanded",n)};var xy=[zs("selected",!1),Qs("toggleClass"),zs("toggleOnExecute",!0),bc("onToggled"),Ks("aria",{mode:"none"},vs("mode",{pressed:[zs("syncWithExpanded",!1),Bc("update",wy)],checked:[Bc("update",By)],expanded:[Bc("update",Cy)],selected:[Bc("update",yy)],none:[Bc("update",v)]}))];const Sy=Su({fields:xy,name:"toggling",active:vy,apis:py,state:ay(!1)}),Fy=()=>{const e=(e,t)=>{t.stop(),va(e)};return[ka(Mi(),e),ka(Yi(),e),Na(xi()),Na(Ei())]},ky=e=>{const t=e=>Ra(((t,n)=>{e(t),n.stop()}));return Ca($([e.map(t).toArray(),Fy()]))},Ey="alloy.item-hover",_y="alloy.item-focus",Oy="alloy.item-toggled",Uy=e=>{(Du(e.element).isNone()||iy.isFocused(e))&&(iy.isFocused(e)||iy.focus(e),ba(e,Ey,{item:e}))},Ty=e=>{ba(e,_y,{item:e})},Ly=(e,t)=>{ba(e,Oy,{item:e,state:t})},Ny=C(Ey),Qy=C(_y),Dy=C(Oy),Iy=e=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem"),Hy=e=>({aria:{mode:"checked"},...we(e,((e,t)=>"exclusive"!==t)),onToggled:(t,n)=>{p(e.onToggled)&&e.onToggled(t,n),Ly(t,n)}}),My=e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:Iy(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Ap.augment(e.itemBehaviours,[e.toggling.fold(Sy.revoke,(e=>Sy.config(Hy(e)))),iy.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{Ty(e)}}),Qw.config({mode:"execution"}),rp.config({store:{mode:"memory",initialValue:e.data}}),Jw("item-type-events",[...Fy(),ka(Ti(),Uy),ka(Ji(),iy.focus)])]),components:e.components,eventOrder:e.eventOrder}),Ry=[xs("data"),xs("components"),xs("dom"),zs("hasSubmenu",!1),Qs("toggling"),Ap.field("itemBehaviours",[Sy,iy,Qw,rp]),zs("ignoreFocus",!1),zs("domModification",{}),Bc("builder",My),zs("eventOrder",{})],Py=e=>({dom:e.dom,components:e.components,events:Ca([Qa(Ji())])}),Vy=[xs("dom"),xs("components"),Bc("builder",Py)],jy=C("item-widget"),zy=C([Ip({name:"widget",overrides:e=>({behaviours:Cu([rp.config({store:{mode:"manual",getValue:t=>e.data,setValue:v}})])})})]),Ky=e=>{const t=Xp(jy(),e,zy()),n=Jp(jy(),e,t.internals()),o=t=>Yp(t,e,"widget").map((e=>(Qw.focusIn(e),e))),r=(t,n)=>vf(n.event.target)?L.none():(()=>e.autofocus?(n.setSource(t.element),L.none()):L.none())();return{dom:e.dom,components:n,domModification:e.domModification,events:Ca([Ra(((e,t)=>{o(e).each((e=>{t.stop()}))})),ka(Ti(),Uy),ka(Ji(),((t,n)=>{e.autofocus?o(t):iy.focus(t)}))]),behaviours:Ap.augment(e.widgetBehaviours,[rp.config({store:{mode:"memory",initialValue:e.data}}),iy.config({ignore:e.ignoreFocus,onFocus:e=>{Ty(e)}}),Qw.config({mode:"special",focusIn:e.autofocus?e=>{o(e)}:Eu(),onLeft:r,onRight:r,onEscape:(t,n)=>iy.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),L.none()):L.none():(iy.focus(t),L.some(!0))})])}},Wy=[xs("uid"),xs("data"),xs("components"),xs("dom"),zs("autofocus",!1),zs("ignoreFocus",!1),Ap.field("widgetBehaviours",[rp,iy,Qw]),zs("domModification",{}),sf(zy()),Bc("builder",Ky)],Gy=vs("type",{widget:Wy,item:Ry,separator:Vy}),qy=(e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}),Zy=(e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}),Xy=(e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}),Jy=C([Rp({factory:{sketch:e=>{const t=fs("menu.spec item",Gy,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>Se(t,"uid")?t:{...t,uid:aA("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),Yy=C([xs("value"),xs("items"),xs("dom"),xs("components"),zs("eventOrder",{}),sp("menuBehaviours",[Ab,rp,Cf,Qw]),Ks("movement",{mode:"menu",moveOnTab:!0},vs("mode",{grid:[xc(),Bc("config",qy)],matrix:[Bc("config",Zy),xs("rowSelector")],menu:[zs("moveOnTab",!0),Bc("config",Xy)]})),hc(),zs("fakeFocus",!1),zs("focusManager",Ob()),bc("onHighlight")]),$y=C("alloy.menu-focus"),eB=(e,t)=>{const n=Wm(e.element,'[role="menuitemradio"][aria-checked="true"]');z(n,(n=>{pt(n,t.element)||e.getSystem().getByDom(n).each((e=>{Sy.off(e)}))}))},tB=(e,t,n,o)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:ap(e.menuBehaviours,[Ab.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),rp.config({store:{mode:"memory",initialValue:e.value}}),Cf.config({find:L.some}),Qw.config(e.movement.config(e,e.movement))]),events:Ca([ka(Qy(),((e,t)=>{const n=t.event;e.getSystem().getByDom(n.target).each((n=>{Ab.highlight(e,n),t.stop(),ba(e,$y(),{menu:e,item:n})}))})),ka(Ny(),((e,t)=>{const n=t.event.item;Ab.highlight(e,n)})),ka(Dy(),((e,t)=>{const{item:n,state:o}=t.event;o&&"menuitemradio"===Gt(n.element,"role")&&eB(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}),nB=bf({name:"Menu",configFields:Yy(),partFields:Jy(),factory:tB}),oB=e=>pe(e,((e,t)=>({k:e,v:t}))),rB=(e,t,n,o)=>xe(n,o).bind((o=>xe(e,o).bind((o=>{const r=rB(e,t,n,o);return L.some([o].concat(r))})))).getOr([]),sB=(e,t)=>{const n={};he(e,((e,t)=>{z(e,(e=>{n[e]=t}))}));const o=t,r=oB(t),s=ge(r,((e,t)=>[t].concat(rB(n,o,r,t))));return ge(n,(e=>xe(s,e).getOr([e])))},iB=()=>{const e=ei({}),t=ei({}),n=ei({}),o=ud(),r=ei({}),s=()=>{e.set({}),t.set({}),n.set({}),o.clear()},i=()=>o.get().isNone(),a=(e,n)=>{t.set({...t.get(),[e]:{type:"prepared",menu:n}})},A=(s,i,a,A)=>{o.set(s),e.set(a),t.set(i),r.set(A);const l=sB(A,a);n.set(l)},l=t=>Be(e.get(),((e,n)=>e===t)),c=(e,t,n)=>g(e).bind((o=>l(e).bind((e=>t(e).map((e=>({triggeredMenu:o,triggeringItem:e,triggeringPath:n}))))))),u=(e,t)=>{const r=G(f(e).toArray(),(e=>g(e).isSome()));return xe(n.get(),e).bind((e=>{const n=ne(r.concat(e)),s=ee(n,((e,r)=>c(e,t,n.slice(0,r+1)).fold((()=>ke(o.get(),e)?[]:[L.none()]),(e=>[L.some(e)]))));return Oe(s)}))},d=t=>xe(e.get(),t).map((e=>{const o=xe(n.get(),t).getOr([]);return[e].concat(o)})),m=e=>xe(n.get(),e).bind((e=>e.length>1?L.some(e.slice(1)):L.none())),h=e=>xe(n.get(),e),g=e=>p(e).bind(aB),p=e=>xe(t.get(),e),f=t=>xe(e.get(),t),b=e=>{const t=r.get();return oe(de(t),e)},v=()=>o.get().bind(g),w=()=>t.get();return{setMenuBuilt:a,setContents:A,expand:d,refresh:h,collapse:m,lookupMenu:p,lookupItem:f,otherMenus:b,getPrimary:v,getMenus:w,clear:s,isClear:i,getTriggeringPath:u}},aB=e=>"prepared"===e.type?L.some(e.menu):L.none(),AB={init:iB,extractPreparedMenu:aB},lB=(e,t)=>{const n=ud(),o=(t,n,o)=>ge(o,((o,r)=>{const s=()=>nB.sketch({...o,value:r,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?Ub():Ob()});return r===n?{type:"prepared",menu:t.getSystem().build(s())}:{type:"notbuilt",nbMenu:s}})),r=AB.init(),s=t=>{const n=o(t,e.data.primary,e.data.menus),s=A();return r.setContents(e.data.primary,n,e.data.expansions,s),r.getPrimary()},i=e=>rp.getValue(e).value,a=(e,t,n)=>ue(t,(e=>{if(!e.getSystem().isConnected())return L.none();const t=Ab.getCandidates(e);return J(t,(e=>i(e)===n))})),A=t=>ge(e.data.menus,((e,t)=>ee(e.items,(e=>"separator"===e.type?[]:[e.data.value])))),l=(e,t)=>{Ab.highlight(e,t),Ab.getHighlighted(t).orThunk((()=>Ab.getFirst(t))).each((t=>{wa(e,t.element,Ji())}))},c=(e,t)=>_e(j(t,(t=>e.lookupMenu(t).bind((e=>"prepared"===e.type?L.some(e.menu):L.none()))))),u=(t,n,o)=>{const r=c(n,n.otherMenus(o));z(r,(n=>{il(n.element,[e.markers.backgroundMenu]),e.stayInDom||Zw.remove(t,n)}))},d=t=>n.get().getOrThunk((()=>{const o={},r=Wm(t.element,`.${e.markers.item}`),s=G(r,(e=>"true"===Gt(e,"aria-haspopup")));return z(s,(e=>{t.getSystem().getByDom(e).each((e=>{const t=i(e);o[t]=e}))})),n.set(o),o})),m=(e,t)=>{const n=d(e);he(n,((e,n)=>{const o=M(t,n);Kt(e.element,"aria-expanded",o)}))},h=(t,n,o)=>L.from(o[0]).bind((r=>n.lookupMenu(r).bind((r=>{if("notbuilt"===r.type)return L.none();{const s=r.menu,i=c(n,o.slice(1));return z(i,(t=>{tl(t.element,e.markers.backgroundMenu)})),Pt(s.element)||Zw.append(t,Hl(s)),il(s.element,[e.markers.backgroundMenu]),l(t,s),u(t,n,o),L.some(s)}}))));let g;(function(e){e[e["HighlightSubmenu"]=0]="HighlightSubmenu",e[e["HighlightParent"]=1]="HighlightParent"})(g||(g={}));const p=(e,t,n)=>{if("notbuilt"===n.type){const o=e.getSystem().build(n.nbMenu());return r.setMenuBuilt(t,o),o}return n.menu},f=(t,n,o=g.HighlightSubmenu)=>{if(n.hasConfigured(Vf)&&Vf.isDisabled(n))return L.some(n);{const s=i(n);return r.expand(s).bind((s=>(m(t,s),L.from(s[0]).bind((i=>r.lookupMenu(i).bind((a=>{const A=p(t,i,a);return Pt(A.element)||Zw.append(t,Hl(A)),e.onOpenSubmenu(t,n,A,ne(s)),o===g.HighlightSubmenu?(Ab.highlightFirst(A),h(t,r,s)):(Ab.dehighlightAll(A),L.some(n))})))))))}},b=(t,n)=>{const o=i(n);return r.collapse(o).bind((o=>(m(t,o),h(t,r,o).map((o=>(e.onCollapseMenu(t,n,o),o))))))},w=(e,t)=>{const n=i(t);return r.refresh(n).bind((t=>(m(e,t),h(e,r,t))))},y=(e,t)=>vf(t.element)?L.none():f(e,t,g.HighlightSubmenu),B=(e,t)=>vf(t.element)?L.none():b(e,t),C=(t,n)=>b(t,n).orThunk((()=>e.onEscape(t,n).map((()=>t)))),x=t=>(n,o)=>ql(o.getSource(),"."+e.markers.item).bind((e=>n.getSystem().getByDom(e).toOptional().bind((e=>t(n,e).map(U))))),S=Ca([ka($y(),((e,t)=>{const n=t.event.item;r.lookupItem(i(n)).each((()=>{const n=t.event.menu;Ab.highlight(e,n);const o=i(t.event.item);r.refresh(o).each((t=>u(e,r,t)))}))})),Ra(((t,n)=>{const o=n.event.target;t.getSystem().getByDom(o).each((n=>{const o=i(n);0===o.indexOf("collapse-item")&&b(t,n),f(t,n,g.HighlightSubmenu).fold((()=>{e.onExecute(t,n)}),v)}))})),Ia(((t,n)=>{s(t).each((n=>{Zw.append(t,Hl(n)),e.onOpenMenu(t,n),e.highlightImmediately&&l(t,n)}))}))].concat(e.navigateOnHover?[ka(Ny(),((t,n)=>{const o=n.event.item;w(t,o),f(t,o,g.HighlightParent),e.onHover(t,o)}))]:[])),F=e=>Ab.getHighlighted(e).bind(Ab.getHighlighted),k=e=>{F(e).each((t=>{b(e,t)}))},E=e=>{r.getPrimary().each((t=>{l(e,t)}))},_=e=>L.from(e.components()[0]).filter((e=>"menu"===Gt(e.element,"role"))),O=t=>{const n=r.getPrimary().bind((e=>F(t).bind((e=>{const n=i(e),o=Ce(r.getMenus()),s=_e(j(o,AB.extractPreparedMenu));return r.getTriggeringPath(n,(e=>a(t,s,e)))})).map((t=>({primary:e,triggeringPath:t})))));n.fold((()=>{_(t).each((n=>{e.onRepositionMenu(t,n,[])}))}),(({primary:n,triggeringPath:o})=>{e.onRepositionMenu(t,n,o)}))},T={collapseMenu:k,highlightPrimary:E,repositionMenus:O};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:ap(e.tmenuBehaviours,[Qw.config({mode:"special",onRight:x(y),onLeft:x(B),onEscape:x(C),focusIn:(e,t)=>{r.getPrimary().each((t=>{wa(e,t.element,Ji())}))}}),Ab.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Cf.config({find:e=>Ab.getHighlighted(e)}),Zw.config({})]),eventOrder:e.eventOrder,apis:T,events:S}},cB=C("collapse-item"),uB=(e,t,n)=>({primary:e,menus:t,expansions:n}),dB=(e,t)=>({primary:e,menus:Ai(e,t),expansions:{}}),mB=e=>({value:$a(cB()),meta:{text:e}}),hB=ff({name:"TieredMenu",configFields:[yc("onExecute"),yc("onEscape"),wc("onOpenMenu"),wc("onOpenSubmenu"),bc("onRepositionMenu"),bc("onCollapseMenu"),zs("highlightImmediately",!0),Ts("data",[xs("primary"),xs("menus"),xs("expansions")]),zs("fakeFocus",!1),bc("onHighlight"),bc("onHover"),gc(),xs("dom"),zs("navigateOnHover",!0),zs("stayInDom",!1),sp("tmenuBehaviours",[Qw,Ab,Cf,Zw]),zs("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:lB,extraApis:{tieredData:uB,singleData:dB,collapseItem:mB}}),gB=(e,t,n,o,r)=>{const s=()=>e.lazySink(t),i="horizontal"===o.type?{layouts:{onLtr:()=>cu(),onRtl:()=>uu()}}:{},a=e=>2===e.length,A=e=>a(e)?i:{};return hB.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightImmediately:o.menu.highlightImmediately,fakeFocus:o.menu.fakeFocus,onEscape:()=>(Bg.close(t),e.onEscape.map((e=>e(t))),L.some(!0)),onExecute:()=>L.some(!0),onOpenMenu:(e,t)=>{Hh.positionWithinBounds(s().getOrDie(),t,n,r())},onOpenSubmenu:(e,t,n,o)=>{const r=s().getOrDie();Hh.position(r,n,{anchor:{type:"submenu",item:t,...A(o)}})},onRepositionMenu:(e,t,o)=>{const i=s().getOrDie();Hh.positionWithinBounds(i,t,n,r()),z(o,(e=>{const t=A(e.triggeringPath);Hh.position(i,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})},pB=(e,t)=>{const n=(t,n)=>{const o=e.getRelated(t);return o.exists((e=>$l(e,n)))},o=(e,t)=>{Bg.setContent(e,t)},r=(e,t,n)=>{s(e,t,n,L.none())},s=(e,t,n,o)=>{i(e,t,n,(()=>o.map((e=>Wo(e)))))},i=(t,n,o,r)=>{const s=e.lazySink(t).getOrDie();Bg.openWhileCloaked(t,n,(()=>Hh.positionWithinBounds(s,t,o,r()))),rp.setValue(t,L.some({mode:"position",config:o,getBounds:r}))},a=(e,t,n)=>{A(e,t,n,L.none)},A=(t,n,o,r)=>{const s=gB(e,t,n,o,r);Bg.open(t,s),rp.setValue(t,L.some({mode:"menu",menu:s}))},l=e=>{Bg.isOpen(e)&&(rp.setValue(e,L.none()),Bg.close(e))},c=e=>Bg.getState(e),u=t=>{Bg.isOpen(t)&&rp.getValue(t).each((n=>{switch(n.mode){case"menu":Bg.getState(t).each(hB.repositionMenus);break;case"position":const o=e.lazySink(t).getOrDie();Hh.positionWithinBounds(o,t,n.config,n.getBounds());break}}))},d={setContent:o,showAt:r,showWithin:s,showWithinBounds:i,showMenuAt:a,showMenuWithinBounds:A,hide:l,getContent:c,reposition:u,isOpen:Bg.isOpen};return{uid:e.uid,dom:e.dom,behaviours:ap(e.inlineBehaviours,[Bg.config({isPartOf:(e,t,o)=>$l(t,o)||n(e,o),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),rp.config({store:{mode:"memory",initialValue:L.none()}}),_u.config({channels:{...kg({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),..._g({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:u})}})]),eventOrder:e.eventOrder,apis:d}},fB=ff({name:"InlineView",configFields:[xs("lazySink"),bc("onShow"),bc("onHide"),Rs("onEscape"),sp("inlineBehaviours",[Bg,rp,_u]),Vs("fireDismissalEventInstead",[zs("event",la())]),Vs("fireRepositionEventInstead",[zs("event",ca())]),zs("getRelated",L.none),zs("isExtraPart",O),zs("eventOrder",L.none)],factory:pB,apis:{showAt:(e,t,n,o)=>{e.showAt(t,n,o)},showWithin:(e,t,n,o,r)=>{e.showWithin(t,n,o,r)},showWithinBounds:(e,t,n,o,r)=>{e.showWithinBounds(t,n,o,r)},showMenuAt:(e,t,n,o)=>{e.showMenuAt(t,n,o)},showMenuWithinBounds:(e,t,n,o,r)=>{e.showMenuWithinBounds(t,n,o,r)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,n)=>{e.setContent(t,n)},reposition:(e,t)=>{e.reposition(t)}}});var bB=tinymce.util.Tools.resolve("tinymce.util.Delay");const vB=e=>{const t=ky(e.action),n=e.dom.tag,o=t=>xe(e.dom,"attributes").bind((e=>xe(e,t))),r=()=>{if("button"===n){const e=o("type").getOr("button"),t=o("role").map((e=>({role:e}))).getOr({});return{type:e,...t}}{const e=o("role").getOr("button");return{role:e}}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Ap.augment(e.buttonBehaviours,[iy.config({}),Qw.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:r()},eventOrder:e.eventOrder}},wB=ff({name:"Button",factory:vB,configFields:[zs("uid",void 0),xs("dom"),zs("components",[]),Ap.field("buttonBehaviours",[iy,Qw]),Qs("action"),Qs("role"),zs("eventOrder",{})]}),yB=e=>{const t=hf(e)&&Fe(e,"uid")?e.uid:aA("memento"),n=e=>e.getSystem().getByUid(t).getOrDie(),o=e=>e.getSystem().getByUid(t).toOptional(),r=()=>({...e,uid:t});return{get:n,getOpt:o,asSpec:r}};var BB=tinymce.util.Tools.resolve("tinymce.util.I18n");const CB={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},xB="temporary-placeholder",SB=e=>()=>xe(e,xB).getOr("!not found!"),FB=(e,t)=>{const n=e.toLowerCase();if(BB.isRtl()){const e=Me(n,"-rtl");return Se(t,e)?e:n}return n},kB=(e,t)=>xe(t,FB(e,t)),EB=(e,t)=>{const n=t();return kB(e,n).getOrThunk(SB(n))},_B=(e,t,n)=>{const o=t();return kB(e,o).or(n).getOrThunk(SB(o))},OB=e=>!!BB.isRtl()&&Se(CB,e),UB=()=>Jw("add-focusable",[Ia((e=>{Wl(e.element,"svg").each((e=>Kt(e,"focusable","false")))}))]),TB=(e,t,n,o)=>{var r,s;const i=OB(t)?["tox-icon--flip"]:[],a=xe(n,FB(t,n)).or(o).getOrThunk(SB(n));return{dom:{tag:e.tag,attributes:null!==(r=e.attributes)&&void 0!==r?r:{},classes:e.classes.concat(i),innerHtml:a},behaviours:Cu([...null!==(s=e.behaviours)&&void 0!==s?s:[],UB()])}},LB=(e,t,n,o=L.none())=>TB(t,e,n(),o),NB=(e,t,n)=>{const o=n(),r=J(e,(e=>Se(o,FB(e,o))));return TB(t,r.getOr(xB),o,L.none())},QB={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},DB=e=>{const t=yB({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Cu([Zw.config({})])}),n=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}}),o=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}}),r=yB({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},o(0)],behaviours:Cu([Zw.config({})])}),s=(e,t)=>{e.getSystem().isConnected()&&r.getOpt(e).each((e=>{Zw.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},o(t)])}))},i=(e,n)=>{if(e.getSystem().isConnected()){const o=t.get(e);Zw.set(o,[Tl(n)])}},a={updateProgress:s,updateText:i},A=$([e.icon.toArray(),e.level.toArray(),e.level.bind((e=>L.from(QB[e]))).toArray()]),l=yB(wB.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[LB("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}})),c=NB(A,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider),u={dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Cu([Zw.config({})])},d=[c,u];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((e=>["tox-notification","tox-notification--in",`tox-notification--${e}`])).getOr(["tox-notification","tox-notification--in"])},behaviours:Cu([iy.config({}),Jw("notification-events",[ka(Li(),(e=>{l.getOpt(e).each(iy.focus)}))])]),components:d.concat(e.progress?[r.asSpec()]:[]).concat(e.closeButton?[l.asSpec()]:[]),apis:a}},IB=ff({name:"Notification",factory:DB,configFields:[Qs("level"),xs("progress"),xs("icon"),xs("onAction"),xs("text"),xs("iconProvider"),xs("translationProvider"),Zs("closeButton",!0)],apis:{updateProgress:(e,t,n)=>{e.updateProgress(t,n)},updateText:(e,t,n)=>{e.updateText(t,n)}}});var HB,MB,RB=(e,t,n)=>{const o=t.backstage.shared,r=()=>{const t=Wo($e.fromDom(e.getContentAreaContainer())),n=qo(),o=Mc(n.x,t.x,t.right),r=Mc(n.y,t.y,t.bottom),s=Math.max(t.right,n.right),i=Math.max(t.bottom,n.bottom);return L.some(Ko(o,r,s-o,i-r))},s=(t,s)=>{const i=()=>{s(),fB.hide(A)},a=Il(IB.sketch({text:t.text,level:M(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:L.from(t.icon),closeButton:t.closeButton,onAction:i,iconProvider:o.providers.icons,translationProvider:o.providers.translate})),A=Il(fB.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:o.getSink,fireDismissalEventInstead:{},...o.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));n.add(A),t.timeout>0&&bB.setEditorTimeout(e,(()=>{i()}),t.timeout);const l=()=>{const t=Hl(a),n={maxHeightFunction:Nd()},s=e.notificationManager.getNotifications();if(s[0]===c){const e={...o.anchors.banner(),overrides:n};fB.showWithinBounds(A,t,{anchor:e},r)}else H(s,c).each((e=>{const o=s[e-1].getEl(),i={type:"node",root:Vt(),node:L.some($e.fromDom(o)),overrides:n,layouts:{onRtl:()=>[ou],onLtr:()=>[ou]}};fB.showWithinBounds(A,t,{anchor:i},r)}))},c={close:i,reposition:l,text:e=>{IB.updateText(a,e)},settings:t,getEl:()=>a.element.dom,progressBar:{value:e=>{IB.updateProgress(a,e)}}};return c},i=e=>{e.close()},a=e=>e.settings;return{open:s,close:i,getArgs:a}},PB=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),VB=tinymce.util.Tools.resolve("tinymce.EditorManager"),jB=tinymce.util.Tools.resolve("tinymce.Env");(function(e){e["default"]="wrap",e["floating"]="floating",e["sliding"]="sliding",e["scrolling"]="scrolling"})(HB||(HB={})),function(e){e["auto"]="auto",e["top"]="top",e["bottom"]="bottom"}(MB||(MB={}));const zB=e=>t=>t.options.get(e),KB=e=>t=>L.from(e(t)),WB=e=>{const t=jB.deviceType.isPhone(),n=jB.deviceType.isTablet()||t,o=e.options.register,r=e=>a(e)||!1===e,s=e=>a(e)||f(e);o("skin",{processor:e=>a(e)||!1===e,default:"oxide"}),o("skin_url",{processor:"string"}),o("height",{processor:s,default:Math.max(e.getElement().offsetHeight,400)}),o("width",{processor:s,default:PB.DOM.getStyle(e.getElement(),"width")}),o("min_height",{processor:"number",default:100}),o("min_width",{processor:"number"}),o("max_height",{processor:"number"}),o("max_width",{processor:"number"}),o("style_formats",{processor:"object[]"}),o("style_formats_merge",{processor:"boolean",default:!1}),o("style_formats_autohide",{processor:"boolean",default:!1}),o("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),o("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),o("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),o("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),o("content_langs",{processor:"object[]"}),o("removed_menuitems",{processor:"string",default:""}),o("menubar",{processor:e=>a(e)||d(e),default:!t}),o("menu",{processor:"object",default:{}}),o("toolbar",{processor:e=>d(e)||a(e)||c(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),P(9,(e=>{o("toolbar"+(e+1),{processor:"string"})})),o("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),o("toolbar_groups",{processor:"object",default:{}}),o("toolbar_location",{processor:"string",default:MB.auto}),o("toolbar_persist",{processor:"boolean",default:!1}),o("toolbar_sticky",{processor:"boolean",default:e.inline}),o("toolbar_sticky_offset",{processor:"number",default:0}),o("fixed_toolbar_container",{processor:"string",default:""}),o("fixed_toolbar_container_target",{processor:"object"}),o("file_picker_callback",{processor:"function"}),o("file_picker_validator_handler",{processor:"function"}),o("file_picker_types",{processor:"string"}),o("typeahead_urls",{processor:"boolean",default:!0}),o("anchor_top",{processor:r,default:"#top"}),o("anchor_bottom",{processor:r,default:"#bottom"}),o("draggable_modal",{processor:"boolean",default:!1}),o("statusbar",{processor:"boolean",default:!0}),o("elementpath",{processor:"boolean",default:!0}),o("branding",{processor:"boolean",default:!0}),o("resize",{processor:e=>"both"===e||d(e),default:!jB.deviceType.isTouch()}),o("sidebar_show",{processor:"string"})},GB=zB("readonly"),qB=zB("height"),ZB=zB("width"),XB=KB(zB("min_width")),JB=KB(zB("min_height")),YB=KB(zB("max_width")),$B=KB(zB("max_height")),eC=KB(zB("style_formats")),tC=zB("style_formats_merge"),nC=zB("style_formats_autohide"),oC=zB("content_langs"),rC=zB("removed_menuitems"),sC=zB("toolbar_mode"),iC=zB("toolbar_groups"),aC=zB("toolbar_location"),AC=zB("fixed_toolbar_container"),lC=zB("fixed_toolbar_container_target"),cC=zB("toolbar_persist"),uC=zB("toolbar_sticky_offset"),dC=zB("menubar"),mC=zB("toolbar"),hC=zB("file_picker_callback"),gC=zB("file_picker_validator_handler"),pC=zB("file_picker_types"),fC=zB("typeahead_urls"),bC=zB("anchor_top"),vC=zB("anchor_bottom"),wC=zB("draggable_modal"),yC=zB("statusbar"),BC=zB("elementpath"),CC=zB("branding"),xC=zB("resize"),SC=zB("paste_as_text"),FC=zB("sidebar_show"),kC=e=>!1===e.options.get("skin"),EC=e=>!1!==e.options.get("menubar"),_C=e=>{const t=e.options.get("skin_url");if(kC(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const t=e.options.get("skin");return VB.baseURL+"/skins/ui/"+t}},OC=e=>e.options.get("line_height_formats").split(" "),UC=e=>{const t=mC(e),n=a(t),o=c(t)&&t.length>0;return!LC(e)&&(o||n||!0===t)},TC=e=>{const t=P(9,(t=>e.options.get("toolbar"+(t+1)))),n=G(t,a);return Ne(n.length>0,n)},LC=e=>TC(e).fold((()=>{const t=mC(e);return b(t,a)&&t.length>0}),U),NC=e=>aC(e)===MB.bottom,QC=e=>{if(!e.inline)return L.none();const t=AC(e);if(t.length>0)return Gl(Vt(),t);const n=lC(e);return g(n)?L.some($e.fromDom(n)):L.none()},DC=e=>e.inline&&QC(e).isSome(),IC=e=>{const t=QC(e);return t.getOrThunk((()=>Qt(Nt($e.fromDom(e.getElement())))))},HC=e=>e.inline&&!EC(e)&&!UC(e)&&!LC(e),MC=e=>{const t=e.options.get("toolbar_sticky");return(t||e.inline)&&!DC(e)&&!HC(e)},RC=e=>{const t=e.options.get("menu");return ge(t,(e=>({...e,items:e.items})))};var PC=Object.freeze({__proto__:null,get ToolbarMode(){return HB},get ToolbarLocation(){return MB},register:WB,getSkinUrl:_C,isReadOnly:GB,isSkinDisabled:kC,getHeightOption:qB,getWidthOption:ZB,getMinWidthOption:XB,getMinHeightOption:JB,getMaxWidthOption:YB,getMaxHeightOption:$B,getUserStyleFormats:eC,shouldMergeStyleFormats:tC,shouldAutoHideStyleFormats:nC,getLineHeightFormats:OC,getContentLanguages:oC,getRemovedMenuItems:rC,isMenubarEnabled:EC,isMultipleToolbars:LC,isToolbarEnabled:UC,isToolbarPersist:cC,getMultipleToolbarsOption:TC,getUiContainer:IC,useFixedContainer:DC,getToolbarMode:sC,isDraggableModal:wC,isDistractionFree:HC,isStickyToolbar:MC,getStickyToolbarOffset:uC,getToolbarLocation:aC,isToolbarLocationBottom:NC,getToolbarGroups:iC,getMenus:RC,getMenubar:dC,getToolbar:mC,getFilePickerCallback:hC,getFilePickerTypes:pC,useTypeaheadUrls:fC,getAnchorTop:bC,getAnchorBottom:vC,getFilePickerValidatorHandler:gC,useStatusBar:yC,useElementPath:BC,useBranding:CC,getResize:xC,getPasteAsText:SC,getSidebarShow:FC});const VC="[data-mce-autocompleter]",jC=e=>ql(e,VC),zC=e=>Gl(e,VC),KC=(e,t)=>{const n=(e,t)=>{ba(e,Qi(),{raw:t})},o=()=>e.getMenu().bind(Ab.getHighlighted);t.on("keydown",(t=>{const r=t.which;e.isActive()&&(e.isMenuOpen()?13===r?(o().each(va),t.preventDefault()):40===r?(o().fold((()=>{e.getMenu().each(Ab.highlightFirst)}),(e=>{n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==r&&38!==r&&39!==r||o().each((e=>{n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==r&&38!==r&&40!==r||e.cancelIfNecessary())})),t.on("NodeChange",(t=>{e.isActive()&&!e.isProcessingAction()&&jC($e.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))},WC={setup:KC};var GC;(function(e){e[e["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE",e[e["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(GC||(GC={}));var qC=GC;const ZC="tox-menu-nav__js",XC="tox-collection__item",JC="tox-swatch",YC={normal:ZC,color:JC},$C="tox-collection__item--enabled",ex="tox-collection__group-heading",tx="tox-collection__item-icon",nx="tox-collection__item-label",ox="tox-collection__item-accessory",rx="tox-collection__item-caret",sx="tox-collection__item-checkmark",ix="tox-collection__item--active",ax="tox-collection__item-container",Ax="tox-collection__item-container--column",lx="tox-collection__item-container--row",cx="tox-collection__item-container--align-right",ux="tox-collection__item-container--align-left",dx="tox-collection__item-container--valign-top",mx="tox-collection__item-container--valign-middle",hx="tox-collection__item-container--valign-bottom",gx=e=>xe(YC,e).getOr(ZC),px=e=>"color"===e?"tox-swatches":"tox-menu",fx=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:px(e),tieredMenu:"tox-tiered-menu"}),bx=e=>{const t=fx(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:gx(e)}},vx=(e,t,n)=>{const o=fx(n);return{tag:"div",classes:$([[o.menu,`tox-menu-${t}-column`],e?[o.hasIcons]:[]])}},wx=[nB.parts.items({})],yx=(e,t,n)=>{const o=fx(n),r={tag:"div",classes:$([[o.tieredMenu]])};return{dom:r,markers:bx(n)}},Bx=(e,t)=>n=>{const o=V(n,t);return j(o,(t=>({dom:e,components:t})))},Cx=e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[nB.parts.items({preprocess:"auto"!==e?Bx({tag:"div",classes:["tox-swatches__row"]},e):x})]}]}),xx=e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[nB.parts.items({preprocess:Bx({tag:"div",classes:["tox-collection__group"]},e)})]}),Sx=(e,t)=>{const n=[];let o=[];return z(e,((e,r)=>{t(e,r)?(o.length>0&&n.push(o),o=[],(Se(e.dom,"innerHtml")||e.components.length>0)&&o.push(e)):o.push(e)})),o.length>0&&n.push(o),j(n,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))},Fx=(e,t,n=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[nB.parts.items({preprocess:n=>"auto"!==e&&e>1?Bx({tag:"div",classes:["tox-collection__group"]},e)(n):Sx(n,((e,n)=>"separator"===t[n].type))})]}),kx=(e,t=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[nB.parts.items({preprocess:t=>Sx(t,((t,n)=>"separator"===e[n].type))})]}),Ex=e=>R(e,(e=>"icon"in e&&void 0!==e.icon)),_x=e=>(console.error(bs(e)),console.log(e),L.none()),Ox=(e,t,n,o,r)=>{const s=kx(n);return{value:e,dom:s.dom,components:s.components,items:n}},Ux=(e,t,n,o,r)=>{if("color"===r){const t=Cx(o);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===r&&"auto"===o){const t=Fx(o,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===r&&1===o){const t=Fx(1,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===r){const t=Fx(o,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("listpreview"===r&&"auto"!==o){const t=xx(o);return{value:e,dom:t.dom,components:t.components,items:n}}return{value:e,dom:vx(t,o,r),components:wx,items:n}},Tx=ks("type"),Lx=ks("name"),Nx=ks("label"),Qx=ks("text"),Dx=ks("title"),Ix=ks("icon"),Hx=ks("value"),Mx=Os("fetch"),Rx=Os("getSubmenuItems"),Px=Os("onAction"),Vx=Os("onItemAction"),jx=Xs("onSetup",(()=>v)),zx=Hs("name"),Kx=Hs("text"),Wx=Hs("icon"),Gx=Hs("tooltip"),qx=Hs("label"),Zx=Hs("shortcut"),Xx=Rs("select"),Jx=Zs("active",!1),Yx=Zs("borderless",!1),$x=Zs("enabled",!0),eS=Zs("primary",!1),tS=e=>zs("columns",e),nS=zs("meta",{}),oS=Xs("onAction",v),rS=e=>Gs("type",e),sS=e=>ys("name","name",wr((()=>$a(`${e}-name`))),rs),iS=e=>ys("value","value",wr((()=>$a(`${e}-value`))),ts()),aS=Zr([Tx,Kx]),AS=e=>gs("separatormenuitem",aS,e),lS=Zr([rS("autocompleteitem"),Jx,$x,nS,Hx,Kx,Wx]),cS=e=>gs("Autocompleter.Separator",aS,e),uS=e=>gs("Autocompleter.Item",lS,e),dS=[$x,Gx,Wx,Kx,jx],mS=Zr([Tx,Px].concat(dS)),hS=e=>gs("toolbarbutton",mS,e),gS=[Jx].concat(dS),pS=Zr(gS.concat([Tx,Px])),fS=e=>gs("ToggleButton",pS,e),bS=[Xs("predicate",O),qs("scope","node",["node","editor"]),qs("position","selection",["node","selection","line"])],vS=dS.concat([rS("contextformbutton"),eS,Px,Bs("original",x)]),wS=gS.concat([rS("contextformbutton"),eS,Px,Bs("original",x)]),yS=dS.concat([rS("contextformbutton")]),BS=gS.concat([rS("contextformtogglebutton")]),CS=vs("type",{contextformbutton:vS,contextformtogglebutton:wS}),xS=Zr([rS("contextform"),Xs("initValue",C("")),qx,Ns("commands",CS),Ds("launch",vs("type",{contextformbutton:yS,contextformtogglebutton:BS}))].concat(bS)),SS=e=>gs("ContextForm",xS,e),FS=Zr([rS("contexttoolbar"),ks("items")].concat(bS)),kS=e=>gs("ContextToolbar",FS,e),ES=[Tx,ks("src"),Hs("alt"),Ys("classes",[],rs)],_S=Zr(ES),OS=[Tx,Qx,zx,Ys("classes",["tox-collection__item-label"],rs)],US=Zr(OS),TS=Wr((()=>cs("type",{cardimage:_S,cardtext:US,cardcontainer:LS}))),LS=Zr([Tx,Gs("direction","horizontal"),Gs("align","left"),Gs("valign","middle"),Ns("items",TS)]),NS=[$x,Kx,Zx,iS("menuitem"),nS],QS=Zr([Tx,qx,Ns("items",TS),jx,oS].concat(NS)),DS=e=>gs("cardmenuitem",QS,e),IS=Zr([Tx,Jx,Wx].concat(NS)),HS=e=>gs("choicemenuitem",IS,e),MS=[Tx,ks("fancytype"),oS],RS=[zs("initData",{})].concat(MS),PS=[$s("initData",{},[Zs("allowCustomColors",!0),Ps("colors",ts())])].concat(MS),VS=vs("fancytype",{inserttable:RS,colorswatch:PS}),jS=e=>gs("fancymenuitem",VS,e),zS=Zr([Tx,jx,oS,Wx].concat(NS)),KS=e=>gs("menuitem",zS,e),WS=Zr([Tx,Rx,jx,Wx].concat(NS)),GS=e=>gs("nestedmenuitem",WS,e),qS=Zr([Tx,Wx,Jx,jx,Px].concat(NS)),ZS=e=>gs("togglemenuitem",qS,e),XS=(e,t,n)=>{const o=Wm(e.element,"."+n);if(o.length>0){const e=Y(o,(e=>{const n=e.dom.getBoundingClientRect().top,r=o[0].dom.getBoundingClientRect().top;return Math.abs(n-r)>t})).getOr(o.length);return L.some({numColumns:e,numRows:Math.ceil(o.length/e)})}return L.none()},JS=(e,t)=>Cu([Jw(e,t)]),YS=e=>JS($a("unnamed-events"),e),$S={namedEvents:JS,unnamedEvents:YS},eF=$a("tooltip.exclusive"),tF=$a("tooltip.show"),nF=$a("tooltip.hide"),oF=(e,t,n)=>{e.getSystem().broadcastOn([eF],{})},rF=(e,t,n,o)=>{n.getTooltip().each((e=>{e.getSystem().isConnected()&&Zw.set(e,o)}))};var sF=Object.freeze({__proto__:null,hideAllExclusive:oF,setComponents:rF});const iF=(e,t)=>{const n=n=>{t.getTooltip().each((o=>{Jh(o),e.onHide(n,o),t.clearTooltip()})),t.clearTimer()},o=n=>{if(!t.isShowing()){oF(n);const o=e.lazySink(n).getOrDie(),r=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Ca("normal"===e.mode?[ka(Ti(),(e=>{fa(n,tF)})),ka(Oi(),(e=>{fa(n,nF)}))]:[]),behaviours:Cu([Zw.config({})])});t.setTooltip(r),qh(o,r),e.onShow(n,r),Hh.position(o,r,{anchor:e.anchor(n)})}};return Ca($([[ka(tF,(n=>{t.resetTimer((()=>{o(n)}),e.delay)})),ka(nF,(o=>{t.resetTimer((()=>{n(o)}),e.delay)})),ka(Zi(),((e,t)=>{const o=t;o.universal||M(o.channels,eF)&&n(e)})),Ha((e=>{n(e)}))],"normal"===e.mode?[ka(Li(),(e=>{fa(e,tF)})),ka(Gi(),(e=>{fa(e,nF)})),ka(Ti(),(e=>{fa(e,tF)})),ka(Oi(),(e=>{fa(e,nF)}))]:[ka(ga(),((e,t)=>{fa(e,tF)})),ka(pa(),(e=>{fa(e,nF)}))]]))};var aF=Object.freeze({__proto__:null,events:iF}),AF=[xs("lazySink"),xs("tooltipDom"),zs("exclusive",!0),zs("tooltipComponents",[]),zs("delay",300),qs("mode","normal",["normal","follow-highlight"]),zs("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:C([ou,nu,Yc,eu,$c,tu]),onRtl:C([ou,nu,Yc,eu,$c,tu])}}))),bc("onHide"),bc("onShow")];const lF=()=>{const e=ud(),t=ud(),n=()=>{e.on(clearTimeout)},o=(t,o)=>{n(),e.set(setTimeout(t,o))},r=C("not-implemented");return yA({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:o,readState:r})};var cF=Object.freeze({__proto__:null,init:lF});const uF=Su({fields:AF,name:"tooltipping",active:aF,state:cF,apis:sF}),dF=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),mF="silver.readonly",hF=Zr([_s("readonly")]),gF=(e,t)=>{const n=e.outerContainer,o=n.element;t&&(e.mothership.broadcastOn([Cg()],{target:o}),e.uiMothership.broadcastOn([Cg()],{target:o})),e.mothership.broadcastOn([mF],{readonly:t}),e.uiMothership.broadcastOn([mF],{readonly:t})},pF=(e,t)=>{e.on("init",(()=>{e.mode.isReadOnly()&&gF(t,!0)})),e.on("SwitchMode",(()=>gF(t,e.mode.isReadOnly()))),GB(e)&&e.mode.set("readonly")},fF=()=>_u.config({channels:{[mF]:{schema:hF,onReceive:(e,t)=>{Vf.set(e,t.readonly)}}}}),bF=e=>Vf.config({disabled:e,disableClass:"tox-collection__item--state-disabled"}),vF=e=>Vf.config({disabled:e}),wF=e=>Vf.config({disabled:e,disableClass:"tox-tbtn--disabled"}),yF=e=>Vf.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),BF={item:bF,button:vF,splitButton:wF,toolbarButton:yF},CF=(e,t)=>{const n=e.getApi(t);return e=>{e(n)}},xF=(e,t)=>Ia((n=>{const o=CF(e,n);o((n=>{const o=e.onSetup(n);p(o)&&t.set(o)}))})),SF=(e,t)=>Ha((n=>CF(e,n)(t.get()))),FF=(e,t)=>Ra(((n,o)=>{CF(e,n)(e.onAction),e.triggersSubmenu||t!==qC.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&fa(n,ea()),o.stop())})),kF={[Xi()]:["disabling","alloy.base.behaviour","toggling","item-events"]},EF=_e,_F=(e,t,n,o)=>{const r=ei(v);return{type:"item",dom:t.dom,components:EF(t.optComponents),data:e.data,eventOrder:kF,hasSubmenu:e.triggersSubmenu,itemBehaviours:Cu([Jw("item-events",[FF(e,n),xF(e,r),SF(e,r)]),BF.item((()=>!e.enabled||o.isDisabled())),fF(),Zw.config({})].concat(e.itemBehaviours))}},OF=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),UF=e=>{const t=jB.os.isMacOS()||jB.os.isiOS(),n={alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"},o={meta:"Ctrl",access:"Shift+Alt"},r=t?n:o,s=e.split("+"),i=j(s,(e=>{const t=e.toLowerCase().trim();return Se(r,t)?r[t]:e}));return t?i.join(""):i.join("+")},TF=(e,t,n=[tx])=>LB(e,{tag:"div",classes:n},t),LF=e=>({dom:{tag:"div",classes:[nx]},components:[Tl(BB.translate(e))]}),NF=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),QF=(e,t)=>({dom:{tag:"div",classes:[nx]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Tl(BB.translate(t))]}]}),DF=e=>({dom:{tag:"div",classes:[ox]},components:[Tl(UF(e))]}),IF=e=>TF("checkmark",e,[sx]),HF=e=>TF("chevron-right",e,[rx]),MF=e=>TF("chevron-down",e,[rx]),RF=(e,t)=>{const n="vertical"===e.direction?Ax:lx,o="left"===e.align?ux:cx,r=()=>{switch(e.valign){case"top":return dx;case"middle":return mx;case"bottom":return hx}};return{dom:{tag:"div",classes:[ax,n,o,r()]},components:t}},PF=(e,t,n)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}),VF=(e,t,n)=>{const o="custom",r="remove",s=e.ariaLabel,i=e.value,a=e.iconContent.map((e=>_B(e,t.icons,n))),A=()=>{const e=JC,n=a.getOr(""),A=s.map((e=>({title:t.translate(e)}))).getOr({}),l={tag:"div",attributes:A,classes:[e]};return i===o?{...l,tag:"button",classes:[...l.classes,"tox-swatches__picker-btn"],innerHtml:n}:i===r?{...l,classes:[...l.classes,"tox-swatch--remove"],innerHtml:n}:{...l,attributes:{...l.attributes,"data-mce-color":i},styles:{"background-color":i}}};return{dom:A(),optComponents:[]}},jF=e=>{const t=e.map((e=>({attributes:{title:BB.translate(e)}}))).getOr({});return{tag:"div",classes:[ZC,XC],...t}},zF=(e,t,n,o)=>{const r={tag:"div",classes:[tx]},s=e=>LB(e,r,t.icons,o),i=()=>L.some({dom:r}),a=n?e.iconContent.map(s).orThunk(i):L.none(),A=e.checkMark,l=L.from(e.meta).fold((()=>LF),(e=>Se(e,"style")?F(QF,e.style):LF)),c=e.htmlContent.fold((()=>e.textContent.map(l)),(e=>L.some(NF(e,[nx])))),u={dom:jF(e.ariaLabel),optComponents:[a,c,e.shortcutContent.map(DF),A,e.caret]};return u},KF=(e,t,n,o=L.none())=>"color"===e.presets?VF(e,t,o):zF(e,t,n,o),WF=(e,t)=>xe(e,"tooltipWorker").map((e=>[uF.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:Nd}}),mode:"follow-highlight",onShow:(t,n)=>{e((e=>{uF.setComponents(t,[Ll({element:$e.fromDom(e)})])}))}})])).getOr([]),GF=e=>PB.DOM.encode(e),qF=(e,t)=>{const n=BB.translate(e),o=GF(n);if(t.length>0){const e=new RegExp(dF(t),"gi");return o.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}return o},ZF=(e,t,n,o,r,s,i,a=!0)=>{const A=KF({presets:o,textContent:L.none(),htmlContent:n?e.text.map((e=>qF(e,t))):L.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:L.none(),checkMark:L.none(),caret:L.none(),value:e.value},i.providers,a,e.icon);return _F({data:OF(e),enabled:e.enabled,getApi:C({}),onAction:t=>r(e.value,e.meta),onSetup:C(v),triggersSubmenu:!1,itemBehaviours:WF(e.meta,i)},A,s,i.providers)},XF=(e,t)=>j(e,(e=>{switch(e.type){case"cardcontainer":return RF(e,XF(e.items,t));case"cardimage":return PF(e.src,e.classes,e.alt);case"cardtext":const n=e.name.exists((e=>M(t.cardText.highlightOn,e))),o=n?L.from(t.cardText.matchText).getOr(""):"";return NF(qF(e.text,o),e.classes)}})),JF=(e,t,n,o)=>{const r=e=>({isEnabled:()=>!Vf.isDisabled(e),setEnabled:t=>{Vf.set(e,!t),z(Wm(e.element,"*"),(n=>{e.getSystem().getByDom(n).each((e=>{e.hasConfigured(Vf)&&Vf.set(e,!t)}))}))}}),s={dom:jF(e.label),optComponents:[L.some({dom:{tag:"div",classes:[ax,lx]},components:XF(e.items,o)})]};return _F({data:OF({text:L.none(),...e}),enabled:e.enabled,getApi:r,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:L.from(o.itemBehaviours).getOr([])},s,t,n.providers)},YF=(e,t,n,o,r,s,i,a=!0)=>{const A=e=>({setActive:t=>{Sy.set(e,t)},isActive:()=>Sy.isOn(e),isEnabled:()=>!Vf.isDisabled(e),setEnabled:t=>Vf.set(e,!t)}),l=KF({presets:n,textContent:t?e.text:L.none(),htmlContent:L.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:L.none(),checkMark:t?L.some(IF(i.icons)):L.none(),caret:L.none(),value:e.value},i,a);return fr(_F({data:OF(e),enabled:e.enabled,getApi:A,onAction:t=>o(e.value),onSetup:e=>(e.setActive(r),v),triggersSubmenu:!1,itemBehaviours:[]},l,s,i),{toggling:{toggleClass:$C,toggleOnExecute:!1,selected:e.active,exclusive:!0}})},$F=Kp(jy(),zy()),ek=e=>({value:e}),tk=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,nk=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ok=e=>tk.test(e)||nk.test(e),rk=e=>He(e,"#").toUpperCase(),sk=e=>ok(e)?L.some({value:rk(e)}):L.none(),ik=e=>{const t=e.value.replace(tk,((e,t,n,o)=>t+t+n+n+o+o));return{value:t}},ak=e=>{const t=ik(e),n=nk.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},Ak=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},lk=e=>{const t=Ak(e.red)+Ak(e.green)+Ak(e.blue);return ek(t)},ck=Math.min,uk=Math.max,dk=Math.round,mk=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,hk=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,gk=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),pk=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},fk=e=>{let t,n,o;const r=(e.hue||0)%360;let s=e.saturation/100,i=e.value/100;if(s=uk(0,ck(s,1)),i=uk(0,ck(i,1)),0===s)return t=n=o=dk(255*i),gk(t,n,o,1);const a=r/60,A=i*s,l=A*(1-Math.abs(a%2-1)),c=i-A;switch(Math.floor(a)){case 0:t=A,n=l,o=0;break;case 1:t=l,n=A,o=0;break;case 2:t=0,n=A,o=l;break;case 3:t=0,n=l,o=A;break;case 4:t=l,n=0,o=A;break;case 5:t=A,n=0,o=l;break;default:t=n=o=0}return t=dk(255*(t+c)),n=dk(255*(n+c)),o=dk(255*(o+c)),gk(t,n,o,1)},bk=e=>{const t=ak(e),n=parseInt(t[1],16),o=parseInt(t[2],16),r=parseInt(t[3],16);return gk(n,o,r,1)},vk=(e,t,n,o)=>{const r=parseInt(e,10),s=parseInt(t,10),i=parseInt(n,10),a=parseFloat(o);return gk(r,s,i,a)},wk=e=>{if("transparent"===e)return L.some(gk(0,0,0,0));const t=mk.exec(e);if(null!==t)return L.some(vk(t[1],t[2],t[3],"1"));const n=hk.exec(e);return null!==n?L.some(vk(n[1],n[2],n[3],n[4])):L.none()},yk=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Bk=gk(255,0,0,1),Ck=e=>e.dispatch("SkinLoaded"),xk=(e,t)=>e.dispatch("SkinLoadError",t),Sk=e=>e.dispatch("ResizeEditor"),Fk=(e,t)=>e.dispatch("ResizeContent",t),kk=(e,t)=>e.dispatch("ScrollContent",t),Ek=(e,t)=>e.dispatch("TextColorChange",t),_k=(e,t,n)=>({hue:e,saturation:t,value:n}),Ok=e=>{let t=0,n=0,o=0;const r=e.red/255,s=e.green/255,i=e.blue/255,a=Math.min(r,Math.min(s,i)),A=Math.max(r,Math.max(s,i));if(a===A)return o=a,_k(0,0,100*o);const l=r===a?s-i:i===a?r-s:i-r;return t=r===a?3:i===a?1:5,t=60*(t-l/(A-a)),n=(A-a)/A,o=A,_k(Math.round(t),Math.round(100*n),Math.round(100*o))},Uk=e=>Ok(bk(e)),Tk=e=>lk(fk(e)),Lk=e=>sk(e).orThunk((()=>wk(e).map(lk))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,r=o[0],s=o[1],i=o[2],a=o[3];return lk(gk(r,s,i,a))}));var Nk=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const Qk="tinymce-custom-colors";var Dk=(e=10)=>{const t=Nk.getItem(Qk),n=a(t)?JSON.parse(t):[],o=t=>{const n=e-t.length;return n<0?t.slice(0,e):t},r=o(n),s=t=>{H(r,t).each(i),r.unshift(t),r.length>e&&r.pop(),Nk.setItem(Qk,JSON.stringify(r))},i=e=>{r.splice(e,1)},A=()=>r.slice(0);return{add:s,state:A}};const Ik=Dk(10),Hk=e=>Math.max(5,Math.ceil(Math.sqrt(e))),Mk=e=>{const t=[];for(let n=0;n<e.length;n+=2)t.push({text:e[n+1],value:"#"+Lk(e[n]).value,type:"choiceitem"});return t},Rk=e=>t=>t.options.get(e),Pk=e=>{const t=e.options.register;t("color_map",{processor:e=>b(e,a)?{value:Mk(e),valid:!0}:{valid:!1,message:"Must be an array of strings."},default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_cols",{processor:"number",default:Hk(zk(e).length)}),t("custom_colors",{processor:"boolean",default:!0})},Vk=Rk("color_cols"),jk=Rk("custom_colors"),zk=Rk("color_map"),Kk=()=>j(Ik.state(),(e=>({type:"choiceitem",text:e,value:e}))),Wk=e=>{Ik.add(e)},Gk="#000000",qk=(e,t)=>{let n;return e.dom.getParents(e.selection.getStart(),(e=>{let o;(o=e.style["forecolor"===t?"color":"background-color"])&&(n=n||o)})),L.from(n)},Zk=(e,t,n)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))},Xk=(e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()}))},Jk=e=>{e.addCommand("mceApplyTextcolor",((t,n)=>{Zk(e,t,n)})),e.addCommand("mceRemoveTextcolor",(t=>{Xk(e,t)}))},Yk=e=>{const t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},o={type:t,text:"Custom color",icon:"color-picker",value:"custom"};return e?[n,o]:[n]},$k=(e,t,n,o)=>{if("custom"===n){const n=sE(e);n((n=>{n.each((n=>{Wk(n),e.execCommand("mceApplyTextcolor",t,n),o(n)}))}),Gk)}else"remove"===n?(o(""),e.execCommand("mceRemoveTextcolor",t)):(o(n),e.execCommand("mceApplyTextcolor",t,n))},eE=(e,t)=>e.concat(Kk().concat(Yk(t))),tE=(e,t)=>n=>{n(eE(e,t))},nE=(e,t,n)=>{const o="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(o,n)},oE=(e,t,n,o,r)=>{e.ui.registry.addSplitButton(t,{tooltip:o,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:t=>{const o=qk(e,n);return o.bind((e=>wk(e).map((e=>{const n=lk(e).value;return Re(t.toLowerCase(),n)})))).getOr(!1)},columns:Vk(e),fetch:tE(zk(e),jk(e)),onAction:t=>{$k(e,n,r.get(),v)},onItemAction:(o,s)=>{$k(e,n,s,(n=>{r.set(n),Ek(e,{name:t,color:n})}))},onSetup:n=>{nE(n,t,r.get());const o=e=>{e.name===t&&nE(n,e.name,e.color)};return e.on("TextColorChange",o),()=>{e.off("TextColorChange",o)}}})},rE=(e,t,n,o)=>{e.ui.registry.addNestedMenuItem(t,{text:o,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",onAction:t=>{$k(e,n,t.value,v)}}]})},sE=e=>(t,n)=>{let o=!1;const r=n=>{const r=n.getData(),s=r.colorpicker;o?(t(L.from(s)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",s]))},s=(e,t)=>{"hex-valid"===t.name&&(o=t.value)},i={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onAction:s,onSubmit:r,onClose:v,onCancel:()=>{t(L.none())}})},iE=e=>{Jk(e);const t=ei(Gk),n=ei(Gk);oE(e,"forecolor","forecolor","Text color",t),oE(e,"backcolor","hilitecolor","Background color",n),rE(e,"forecolor","forecolor","Text color"),rE(e,"backcolor","hilitecolor","Background color")},aE=(e,t,n,o,r,s,i,a)=>{const A=Ex(t),l="color"!==r?"normal":"color",c=AE(t,n,o,l,s,i,a);return Ux(e,A,c,o,r)},AE=(e,t,n,o,r,s,i)=>_e(j(e,(a=>"choiceitem"===a.type?HS(a).fold(_x,(A=>L.some(YF(A,1===n,o,t,s(a.value),r,i,Ex(e))))):L.none()))),lE=(e,t)=>{const n=bx(t);if(1===e)return{mode:"menu",moveOnTab:!0};if("auto"===e)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}};{const e="color"===t?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+e}}},cE=(e,t)=>1===e?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===e?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===t?".tox-swatches__row":".tox-collection__group",cell:"color"===t?`.${JC}`:`.${XC}`}},uE=(e,t)=>{const n=dE(e,t),o=t.colorinput.getColorCols(),r="color",s=aE($a("menu-value"),n,(t=>{e.onAction({value:t})}),o,r,qC.CLOSE_ON_EXECUTE,O,t.shared.providers),i={...s,markers:bx(r),movement:lE(o,r)};return{type:"widget",data:{value:$a("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[$F.widget(nB.sketch(i))]}},dE=(e,t)=>{const n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>eE(t.colorinput.getColors(),n)),(e=>e.concat(Yk(n))))},mE=$a("cell-over"),hE=$a("cell-execute"),gE=(e,t,n)=>{const o=n=>ba(n,mE,{row:e,col:t}),r=n=>ba(n,hE,{row:e,col:t}),s=(e,t)=>{t.stop(),r(e)};return Il({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:n}},behaviours:Cu([Jw("insert-table-picker-cell",[ka(Ti(),iy.focus),ka(Xi(),r),ka(Mi(),s),ka(Yi(),s)]),Sy.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),iy.config({onFocus:o})])})},pE=(e,t,n)=>{const o=[];for(let r=0;r<t;r++){const t=[];for(let o=0;o<n;o++)t.push(gE(r,o,e));o.push(t)}return o},fE=(e,t,n,o,r)=>{for(let s=0;s<o;s++)for(let o=0;o<r;o++)Sy.set(e[s][o],s<=t&&o<=n)},bE=e=>ee(e,(e=>j(e,Hl))),vE=(e,t)=>Tl(`${t}x${e}`),wE=e=>{const t=10,n=10,o=$a("size-label"),r=pE(o,t,n),s=vE(0,0),i=yB({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:o}},components:[s],behaviours:Cu([Zw.config({})])});return{type:"widget",data:{value:$a("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[$F.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:bE(r).concat(i.asSpec()),behaviours:Cu([Jw("insert-table-picker",[Ia((e=>{Zw.set(i.get(e),[s])})),La(mE,((e,o,s)=>{const{row:a,col:A}=s.event;fE(r,a,A,t,n),Zw.set(i.get(e),[vE(a+1,A+1)])})),La(hE,((t,n,o)=>{const{row:r,col:s}=o.event;e.onAction({numRows:r+1,numColumns:s+1}),fa(t,ea())}))]),Qw.config({initSize:{numRows:t,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}},yE={inserttable:wE,colorswatch:uE},BE=(e,t)=>xe(yE,e.fancytype).map((n=>n(e,t))),CE=(e,t,n,o=!0,r=!1)=>{const s=r?MF(n.icons):HF(n.icons),i=e=>({isEnabled:()=>!Vf.isDisabled(e),setEnabled:t=>Vf.set(e,!t)}),a=KF({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:L.none(),ariaLabel:e.text,caret:L.some(s),checkMark:L.none(),shortcutContent:e.shortcut},n,o);return _F({data:OF(e),getApi:i,enabled:e.enabled,onAction:v,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},a,t,n)},xE=(e,t,n,o=!0)=>{const r=e=>({isEnabled:()=>!Vf.isDisabled(e),setEnabled:t=>Vf.set(e,!t)}),s=KF({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:L.none(),ariaLabel:e.text,caret:L.none(),checkMark:L.none(),shortcutContent:e.shortcut},n,o);return _F({data:OF(e),getApi:r,enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},s,t,n)},SE=e=>({type:"separator",dom:{tag:"div",classes:[XC,ex]},components:e.text.map(Tl).toArray()}),FE=(e,t,n,o=!0)=>{const r=e=>({setActive:t=>{Sy.set(e,t)},isActive:()=>Sy.isOn(e),isEnabled:()=>!Vf.isDisabled(e),setEnabled:t=>Vf.set(e,!t)}),s=KF({iconContent:e.icon,textContent:e.text,htmlContent:L.none(),ariaLabel:e.text,checkMark:L.some(IF(n.icons)),caret:L.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,o);return fr(_F({data:OF(e),enabled:e.enabled,getApi:r,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},s,t,n),{toggling:{toggleClass:$C,toggleOnExecute:!1,selected:e.active}})},kE=ZF,EE=SE,_E=xE,OE=CE,UE=FE,TE=BE,LE=JF;var NE;(function(e){e[e["ContentFocus"]=0]="ContentFocus",e[e["UiFocus"]=1]="UiFocus"})(NE||(NE={}));const QE=(e,t,n,o,r)=>{const s=n.shared.providers,i=e=>r?{...e,shortcut:L.none(),icon:e.text.isSome()?L.none():e.icon}:e;switch(e.type){case"menuitem":return KS(e).fold(_x,(e=>L.some(_E(i(e),t,s,o))));case"nestedmenuitem":return GS(e).fold(_x,(e=>L.some(OE(i(e),t,s,o,r))));case"togglemenuitem":return ZS(e).fold(_x,(e=>L.some(UE(i(e),t,s,o))));case"separator":return AS(e).fold(_x,(e=>L.some(EE(e))));case"fancymenuitem":return jS(e).fold(_x,(e=>TE(i(e),n)));default:return console.error("Unknown item in general menu",e),L.none()}},DE=(e,t,n,o,r,s,i)=>{const a=1===o,A=!a||Ex(e);return _e(j(e,(e=>{switch(e.type){case"separator":return cS(e).fold(_x,(e=>L.some(EE(e))));case"cardmenuitem":return DS(e).fold(_x,(e=>L.some(LE({...e,onAction:t=>{e.onAction(t),n(e.value,e.meta)}},r,s,{itemBehaviours:WF(e.meta,s),cardText:{matchText:t,highlightOn:i}}))));case"autocompleteitem":default:return uS(e).fold(_x,(e=>L.some(kE(e,t,a,"normal",n,r,s,A))))}})))},IE=(e,t,n,o,r)=>{const s=Ex(t),i=_e(j(t,(e=>{const t=e=>r?!Se(e,"text"):s,i=e=>QE(e,n,o,t(e),r);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?i({...e,enabled:!1}):i(e)}))),a=r?Ox:Ux;return a(e,s,i,1,"normal")},HE=e=>hB.singleData(e.value,e),ME=(e,t,n,o)=>{const r=lE(t,o),s=bx(o);return{data:HE({...e,movement:r,menuBehaviours:$S.unnamedEvents("auto"!==t?[]:[Ia(((e,t)=>{XS(e,4,s.item).each((({numColumns:t,numRows:n})=>{Qw.setGridSize(e,n,t)}))}))])}),menu:{markers:bx(o),fakeFocus:n===NE.ContentFocus}}},RE=(e,t)=>jC($e.fromDom(t.startContainer)).map((t=>{const n=e.createRng();return n.selectNode(t.dom),n})),PE=(e,t)=>{const n=ei(!1),o=ei(!1),r=Il(fB.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Cu([Jw("dismissAutocompleter",[ka(la(),(()=>l()))])]),lazySink:t.getSink})),s=()=>fB.isOpen(r),i=o.get,a=()=>{s()&&fB.hide(r)},A=()=>fB.getContent(r).bind((e=>ae(e.components(),0))),l=()=>e.execCommand("mceAutocompleterClose"),c=o=>{const r=ue(o,(e=>L.from(e.columns))).getOr(1);return ee(o,(o=>{const s=o.items;return DE(s,o.matchText,((t,r)=>{const s=e.selection.getRng();RE(e.dom,s).each((s=>{const i={hide:()=>l(),reload:t=>{a(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}};n.set(!0),o.onAction(i,s,t,r),n.set(!1)}))}),r,qC.BUBBLE_TO_SANDBOX,t,o.highlightOn)}))},u=(t,n)=>{zC($e.fromDom(e.getBody())).each((o=>{const s=ue(t,(e=>L.from(e.columns))).getOr(1);fB.showMenuAt(r,{anchor:{type:"node",root:$e.fromDom(e.getBody()),node:L.from(o)}},ME(Ux("autocompleter-value",!0,n,s,"normal"),s,NE.ContentFocus,"normal"))})),A().each(Ab.highlightFirst)},d=e=>{const t=c(e);t.length>0?u(e,t):a()};e.on("AutocompleterStart",(({lookupData:e})=>{o.set(!0),n.set(!1),d(e)})),e.on("AutocompleterUpdate",(({lookupData:e})=>d(e))),e.on("AutocompleterEnd",(()=>{a(),o.set(!1),n.set(!1)}));const m={cancelIfNecessary:l,isMenuOpen:s,isActive:i,isProcessingAction:n.get,getMenu:A};WC.setup(m,e)},VE={register:PE},jE=(e,t,n)=>ql(e,t,n).isSome(),zE=(e,t)=>{let n=null;const o=(...o)=>{n=setTimeout((()=>{e.apply(null,o),n=null}),t)},r=()=>{null!==n&&(clearTimeout(n),n=null)};return{cancel:r,schedule:o}},KE=5,WE=400,GE=e=>{const t=e.raw;return void 0===t.touches||1!==t.touches.length?L.none():L.some(t.touches[0])},qE=(e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>KE||o>KE},ZE=e=>{const t=ud(),n=ei(!1),o=zE((t=>{e.triggerEvent($i(),t),n.set(!0)}),WE),r=e=>(GE(e).each((r=>{o.cancel();const s={x:r.clientX,y:r.clientY,target:e.target};o.schedule(e),n.set(!1),t.set(s)})),L.none()),s=e=>(o.cancel(),GE(e).each((e=>{t.on((n=>{qE(e,n)&&t.clear()}))})),L.none()),i=r=>{o.cancel();const s=e=>pt(e.target,r.target);return t.get().filter(s).map((t=>n.get()?(r.prevent(),!1):e.triggerEvent(Yi(),r)))},a=li([{key:xi(),value:r},{key:Si(),value:s},{key:Fi(),value:i}]),A=(e,t)=>xe(a,t).bind((t=>t(e)));return{fireIfReady:A}},XE=e=>{const t=e.raw;return t.which===lb[0]&&!M(["input","textarea"],rt(e.target))&&!jE(e.target,'[contenteditable="true"]')},JE=(e,t)=>{const n={stopBackspace:!0,...t},o=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],r=ZE(n),s=j(o.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>md(e,t,(e=>{r.fireIfReady(e,t).each((t=>{t&&e.kill()}));const o=n.triggerEvent(t,e);o&&e.kill()})))),i=ud(),a=md(e,"paste",(e=>{r.fireIfReady(e,"paste").each((t=>{t&&e.kill()}));const t=n.triggerEvent("paste",e);t&&e.kill(),i.set(setTimeout((()=>{n.triggerEvent(qi(),e)}),0))})),A=md(e,"keydown",(e=>{const t=n.triggerEvent("keydown",e);t?e.kill():n.stopBackspace&&XE(e)&&e.prevent()})),l=md(e,"focusin",(e=>{const t=n.triggerEvent("focusin",e);t&&e.kill()})),c=ud(),u=md(e,"focusout",(e=>{const t=n.triggerEvent("focusout",e);t&&e.kill(),c.set(setTimeout((()=>{n.triggerEvent(Gi(),e)}),0))})),d=()=>{z(s,(e=>{e.unbind()})),A.unbind(),l.unbind(),u.unbind(),a.unbind(),i.on(clearTimeout),c.on(clearTimeout)};return{unbind:d}},YE=(e,t)=>{const n=xe(e,"target").getOr(t);return ei(n)},$E=(e,t)=>{const n=ei(!1),o=ei(!1),r=()=>{n.set(!0)},s=()=>{o.set(!0)};return{stop:r,cut:s,isStopped:n.get,isCut:o.get,event:e,setSource:t.set,getSource:t.get}},e_=e=>{const t=ei(!1),n=()=>{t.set(!0)};return{stop:n,cut:v,isStopped:t.get,isCut:O,event:e,setSource:E("Cannot set source of a broadcasted event"),getSource:E("Cannot get source of a broadcasted event")}},t_=ni.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),n_=(e,t,n,o,r,s)=>{const i=e(t,o),a=$E(n,r);return i.fold((()=>(s.logEventNoHandlers(t,o),t_.complete())),(e=>{const n=e.descHandler,o=LA(n);return o(a),a.isStopped()?(s.logEventStopped(t,e.element,n.purpose),t_.stopped()):a.isCut()?(s.logEventCut(t,e.element,n.purpose),t_.complete()):Bt(e.element).fold((()=>(s.logNoParent(t,e.element,n.purpose),t_.complete())),(o=>(s.logEventResponse(t,e.element,n.purpose),t_.resume(o))))}))},o_=(e,t,n,o,r,s)=>n_(e,t,n,o,r,s).fold(U,(o=>o_(e,t,n,o,r,s)),O),r_=(e,t,n,o,r)=>{const s=YE(n,o);return n_(e,t,n,o,s,r)},s_=(e,t,n)=>{const o=e_(t);return z(e,(e=>{const t=e.descHandler,n=LA(t);n(o)})),o.isStopped()},i_=(e,t,n,o)=>a_(e,t,n,n.target,o),a_=(e,t,n,o,r)=>{const s=YE(n,o);return o_(e,t,n,o,s,r)},A_=(e,t)=>({element:e,descHandler:t}),l_=(e,t)=>({id:e,descHandler:t}),c_=()=>{const e={},t=(t,n,o)=>{he(o,((o,r)=>{const s=void 0!==e[r]?e[r]:{};s[n]=TA(o,t),e[r]=s}))},n=(e,t)=>iA(t).bind((t=>xe(e,t))).map((e=>A_(t,e))),o=t=>xe(e,t).map((e=>ye(e,((e,t)=>l_(t,e))))).getOr([]),r=(t,o,r)=>xe(e,o).bind((e=>gi(r,(t=>n(e,t)),t))),s=t=>{he(e,((e,n)=>{Se(e,t)&&delete e[t]}))};return{registerId:t,unregisterId:s,filterByType:o,find:r}},u_=()=>{const e=c_(),t={},n=e=>{const t=e.element;return iA(t).getOrThunk((()=>rA("uid-",e.element)))},o=(e,n)=>{const o=t[n];if(o!==e)throw new Error('The tagId "'+n+'" is already used by: '+qa(o.element)+"\nCannot use it for: "+qa(e.element)+"\nThe conflicting element is"+(Pt(o.element)?" ":" not ")+"already in the DOM");s(e)},r=r=>{const s=n(r);Fe(t,s)&&o(r,s);const i=[r];e.registerId(i,s,r.events),t[s]=r},s=n=>{iA(n.element).each((n=>{delete t[n],e.unregisterId(n)}))},i=t=>e.filterByType(t),a=(t,n,o)=>e.find(t,n,o),A=e=>xe(t,e);return{find:a,filter:i,register:r,unregister:s,getById:A}},d_=e=>{const{attributes:t,...n}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...n},components:e.components,behaviours:ip(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},m_=ff({name:"Container",factory:d_,configFields:[zs("components",[]),sp("containerBehaviours",[]),zs("events",{}),zs("domModification",{}),zs("eventOrder",{})]}),h_=e=>{const t=t=>Bt(e.element).fold(U,(e=>pt(t,e))),n=u_(),o=(e,o)=>n.find(t,e,o),r=JE(e.element,{triggerEvent:(e,t)=>Ac(e,t.target,(n=>i_(o,e,t,n)))}),s={debugInfo:C("real"),triggerEvent:(e,t,n)=>{Ac(e,t,(r=>a_(o,e,n,t,r)))},triggerFocus:(e,t)=>{iA(e).fold((()=>{Tu(e)}),(n=>{Ac(Wi(),e,(n=>(r_(o,Wi(),{originator:t,kill:v,prevent:v,target:e},e,n),!1)))}))},triggerEscape:(e,t)=>{s.triggerEvent("keydown",e.element,t.event)},getByUid:e=>g(e),getByDom:e=>p(e),build:Il,buildOrPatch:Dl,addToGui:e=>{A(e)},removeFromGui:e=>{l(e)},addToWorld:e=>{i(e)},removeFromWorld:e=>{a(e)},broadcast:e=>{d(e)},broadcastOn:(e,t)=>{m(e,t)},broadcastEvent:(e,t)=>{h(e,t)},isConnected:U},i=e=>{e.connect(s),At(e.element)||(n.register(e),z(e.components(),i),s.triggerEvent(na(),e.element,{target:e.element}))},a=e=>{At(e.element)||(z(e.components(),a),n.unregister(e)),e.disconnect()},A=t=>{qh(e,t)},l=e=>{Jh(e)},c=()=>{r.unbind(),Oo(e.element)},u=e=>{const t=n.filter(Zi());z(t,(t=>{const n=t.descHandler,o=LA(n);o(e)}))},d=e=>{u({universal:!0,data:e})},m=(e,t)=>{u({universal:!1,channels:e,data:t})},h=(e,t)=>{const o=n.filter(e);return s_(o,t)},g=e=>n.getById(e).fold((()=>Yo.error(new Error('Could not find component with uid: "'+e+'" in system.'))),Yo.value),p=e=>{const t=iA(e).getOr("not found");return g(t)};return i(e),{root:e,element:e.element,destroy:c,add:A,remove:l,getByUid:g,getByDom:p,addToWorld:i,removeFromWorld:a,broadcast:d,broadcastOn:m,broadcastEvent:h}},g_=(e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:j(e.items,t.interpreter)}),p_=C([zs("prefix","form-field"),sp("fieldBehaviours",[Cf,rp])]),f_=C([Mp({schema:[xs("dom")],name:"label"}),Mp({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[xs("text")],name:"aria-descriptor"}),Ip({factory:{sketch:e=>{const t=ai(e,["factory"]);return e.factory.sketch(t)}},schema:[xs("factory")],name:"field"})]),b_=(e,t,n,o)=>{const r=ap(e.fieldBehaviours,[Cf.config({find:t=>Yp(t,e,"field")}),rp.config({store:{mode:"manual",getValue:e=>Cf.getCurrent(e).bind(rp.getValue),setValue:(e,t)=>{Cf.getCurrent(e).each((e=>{rp.setValue(e,t)}))}}})]),s=Ca([Ia(((t,n)=>{const o=ef(t,e,["label","field","aria-descriptor"]);o.field().each((t=>{const n=$a(e.prefix);o.label().each((e=>{Kt(e.element,"for",n),Kt(t.element,"id",n)})),o["aria-descriptor"]().each((n=>{const o=$a(e.prefix);Kt(n.element,"id",o),Kt(t.element,"aria-describedby",o)}))}))}))]),i={getField:t=>Yp(t,e,"field"),getLabel:t=>Yp(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:r,events:s,apis:i}},v_=bf({name:"FormField",configFields:p_(),partFields:f_(),factory:b_,apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}}),w_=(e,t)=>FA({attributes:li([{key:t.tabAttr,value:"true"}])});var y_=Object.freeze({__proto__:null,exhibit:w_}),B_=[zs("tabAttr","data-alloy-tabstop")];const C_=Su({fields:B_,name:"tabstopping",active:y_});var x_=tinymce.util.Tools.resolve("tinymce.html.Entities");const S_=(e,t,n,o)=>{const r=k_(e,t,n,o);return v_.sketch(r)},F_=(e,t)=>S_(e,t,[],[]),k_=(e,t,n,o)=>({dom:__(n),components:e.toArray().concat([t]),fieldBehaviours:Cu(o)}),E_=()=>__([]),__=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),O_=(e,t)=>v_.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Tl(t.translate(e))]}),U_=$a("form-component-change"),T_=$a("form-close"),L_=$a("form-cancel"),N_=$a("form-action"),Q_=$a("form-submit"),D_=$a("form-block"),I_=$a("form-unblock"),H_=$a("form-tabchange"),M_=$a("form-resize"),R_=(e,t,n)=>{const o=e.label.map((e=>O_(e,t))),r=e=>(t,n)=>{ql(n.event.target,"[data-collection-item-value]").each((o=>{e(t,n,o,Gt(o,"data-collection-item-value"))}))},s=(n,o)=>{const r=j(o,(n=>{const o=BB.translate(n.text),r=1===e.columns?`<div class="tox-collection__item-label">${o}</div>`:"",s=`<div class="tox-collection__item-icon">${n.icon}</div>`,i={_:" "," - ":" ","-":" "},a=o.replace(/\_| \- |\-/g,(e=>i[e])),A=t.isDisabled()?" tox-collection__item--state-disabled":"";return`<div class="tox-collection__item${A}" tabindex="-1" data-collection-item-value="${x_.encodeAllRaw(n.value)}" title="${a}" aria-label="${a}">${s}${r}</div>`})),s="auto"!==e.columns&&e.columns>1?V(r,e.columns):[r],i=j(s,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));ja(n.element,i.join(""))},i=r(((n,o,r,s)=>{o.stop(),t.isDisabled()||ba(n,N_,{name:e.name,value:s})})),a=[ka(Ti(),r(((e,t,n)=>{Tu(n)}))),ka(Mi(),i),ka(Yi(),i),ka(Li(),r(((e,t,n)=>{Gl(e.element,"."+ix).each((e=>{ol(e,ix)})),tl(n,ix)}))),ka(Ni(),r((e=>{Gl(e.element,"."+ix).each((e=>{ol(e,ix)}))}))),Ra(r(((t,n,o,r)=>{ba(t,N_,{name:e.name,value:r})})))],A=(e,t)=>j(Wm(e.element,".tox-collection__item"),t),l=v_.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:x},behaviours:Cu([Vf.config({disabled:t.isDisabled,onDisabled:e=>{A(e,(e=>{tl(e,"tox-collection__item--state-disabled"),Kt(e,"aria-disabled",!0)}))},onEnabled:e=>{A(e,(e=>{ol(e,"tox-collection__item--state-disabled"),Xt(e,"aria-disabled")}))}}),fF(),Zw.config({}),rp.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:(t,n)=>{s(t,n),"auto"===e.columns&&XS(t,5,"tox-collection__item").each((({numRows:e,numColumns:n})=>{Qw.setGridSize(t,e,n)})),fa(t,M_)}}),C_.config({}),Qw.config(cE(e.columns,"normal")),Jw("collection-events",a)]),eventOrder:{[Xi()]:["disabling","alloy.base.behaviour","collection-events"]}}),c=["tox-form__group--collection"];return S_(o,l,c,[])},P_=C([Qs("data"),zs("inputAttributes",{}),zs("inputStyles",{}),zs("tag","input"),zs("inputClasses",[]),bc("onSetValue"),zs("styles",{}),zs("eventOrder",{}),sp("inputBehaviours",[rp,iy]),zs("selectOnFocus",!0)]),V_=e=>Cu([iy.config({onFocus:e.selectOnFocus?e=>{const t=e.element,n=cl(t);t.dom.setSelectionRange(0,n.length)}:v})]),j_=e=>({...V_(e),...ap(e.inputBehaviours,[rp.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:e=>cl(e.element),setValue:(e,t)=>{const n=cl(e.element);n!==t&&ul(e.element,t)}},onSetValue:e.onSetValue})])}),z_=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),K_=(e,t)=>({uid:e.uid,dom:z_(e),components:[],behaviours:j_(e),eventOrder:e.eventOrder}),W_=ff({name:"Input",configFields:P_(),factory:K_}),G_=e=>{let t=L.none(),n=[];const o=e=>G_((t=>{r((n=>{t(e(n))}))})),r=e=>{i()?A(e):n.push(e)},s=e=>{i()||(t=L.some(e),a(n),n=[])},i=()=>t.isSome(),a=e=>{z(e,A)},A=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e(s),{get:r,map:o,isReady:i}},q_=e=>G_((t=>{t(e)})),Z_={nu:G_,pure:q_},X_=e=>{setTimeout((()=>{throw e}),0)},J_=e=>{const t=t=>{e().then(t,X_)},n=t=>J_((()=>e().then(t))),o=t=>J_((()=>e().then((e=>t(e).toPromise())))),r=t=>J_((()=>e().then((()=>t.toPromise())))),s=()=>Z_.nu(t),i=()=>{let t=null;return J_((()=>(null===t&&(t=e()),t)))},a=e;return{map:n,bind:o,anonBind:r,toLazy:s,toCached:i,toPromise:a,get:t}},Y_=e=>J_((()=>new Promise(e))),$_=e=>J_((()=>Promise.resolve(e))),eO={nu:Y_,pure:$_},tO=["input","textarea"],nO=e=>{const t=rt(e);return M(tO,t)},oO=(e,t)=>{const n=t.getRoot(e).getOr(e.element);ol(n,t.invalidClass),t.notify.each((t=>{nO(e.element)&&Kt(e.element,"aria-invalid",!1),t.getContainer(e).each((e=>{ja(e,t.validHtml)})),t.onValid(e)}))},rO=(e,t,n,o)=>{const r=t.getRoot(e).getOr(e.element);tl(r,t.invalidClass),t.notify.each((t=>{nO(e.element)&&Kt(e.element,"aria-invalid",!0),t.getContainer(e).each((e=>{ja(e,o)})),t.onInvalid(e,o)}))},sO=(e,t,n)=>t.validator.fold((()=>eO.pure(Yo.value(!0))),(t=>t.validate(e))),iO=(e,t,n)=>(t.notify.each((t=>{t.onValidate(e)})),sO(e,t).map((o=>e.getSystem().isConnected()?o.fold((o=>(rO(e,t,n,o),Yo.error(o))),(n=>(oO(e,t),Yo.value(n)))):Yo.error("No longer in system")))),aO=(e,t)=>{const n=t.getRoot(e).getOr(e.element);return rl(n,t.invalidClass)};var AO=Object.freeze({__proto__:null,markValid:oO,markInvalid:rO,query:sO,run:iO,isInvalid:aO});const lO=(e,t)=>e.validator.map((n=>Ca([ka(n.onEvent,(n=>{iO(n,e,t).get(x)}))].concat(n.validateOnLoad?[Ia((n=>{iO(n,e,t).get(v)}))]:[])))).getOr({});var cO=Object.freeze({__proto__:null,events:lO}),uO=[xs("invalidClass"),zs("getRoot",L.none),Vs("notify",[zs("aria","alert"),zs("getContainer",L.none),zs("validHtml",""),bc("onValid"),bc("onInvalid"),bc("onValidate")]),Vs("validator",[xs("validate"),zs("onEvent","input"),zs("validateOnLoad",!0)])];const dO=Su({fields:uO,name:"invalidating",active:cO,apis:AO,extra:{validation:e=>t=>{const n=rp.getValue(t);return eO.pure(e(n))}}}),mO=(e,t,n,o)=>n.getOrCreate(e,t,o);var hO=Object.freeze({__proto__:null,getCoupled:mO}),gO=[Ss("others",ms(Yo.value,ts()))];const pO=()=>{const e={},t=(t,n,o)=>{const r=de(n.others);if(r)return xe(e,o).getOrThunk((()=>{const r=xe(n.others,o).getOrDie("No information found for coupled component: "+o),s=r(t),i=t.getSystem().build(s);return e[o]=i,i}));throw new Error("Cannot find coupled component: "+o+". Known coupled components: "+JSON.stringify(r,null,2))},n=C({});return yA({readState:n,getOrCreate:t})};var fO=Object.freeze({__proto__:null,init:pO});const bO=Su({fields:gO,name:"coupling",apis:hO,state:fO}),vO=C("sink"),wO=C(Mp({name:vO(),overrides:C({dom:{tag:"div"},behaviours:Cu([Hh.config({useFixed:U})]),events:Ca([Na(Qi()),Na(Ei()),Na(Mi())])})}));var yO;(function(e){e[e["HighlightFirst"]=0]="HighlightFirst",e[e["HighlightNone"]=1]="HighlightNone"})(yO||(yO={}));const BO=(e,t)=>{const n=e.getHotspot(t).getOr(t),o="hotspot",r=e.getAnchorOverrides();return e.layouts.fold((()=>({type:o,hotspot:n,overrides:r})),(e=>({type:o,hotspot:n,overrides:r,layouts:e})))},CO=(e,t,n)=>{const o=e.fetch;return o(n).map(t)},xO=(e,t,n,o,r,s,i)=>{const a=CO(e,t,o),A=_O(o,e);return a.map((e=>e.bind((e=>L.from(hB.sketch({...s.menu(),uid:aA(""),data:e,highlightImmediately:i===yO.HighlightFirst,onOpenMenu:(e,t)=>{const o=A().getOrDie();Hh.position(o,t,{anchor:n}),Bg.decloak(r)},onOpenSubmenu:(e,t,n)=>{const o=A().getOrDie();Hh.position(o,n,{anchor:{type:"submenu",item:t}}),Bg.decloak(r)},onRepositionMenu:(e,t,o)=>{const r=A().getOrDie();Hh.position(r,t,{anchor:n}),z(o,(e=>{Hh.position(r,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>(iy.focus(o),Bg.close(r),L.some(!0))}))))))},SO=(e,t,n,o,r,s,i)=>{const a=BO(e,n),A=xO(e,t,a,n,o,r,i);return A.map((e=>(e.fold((()=>{Bg.isOpen(o)&&Bg.close(o)}),(e=>{Bg.cloak(o),Bg.open(o,e),s(o)})),o)))},FO=(e,t,n,o,r,s,i)=>(Bg.close(o),eO.pure(o)),kO=(e,t,n,o,r,s)=>{const i=bO.getCoupled(n,"sandbox"),a=Bg.isOpen(i),A=a?FO:SO;return A(e,t,n,i,o,r,s)},EO=(e,t,n)=>{const o=Cf.getCurrent(t).getOr(t),r=xn(e.element);n?en(o.element,"min-width",r+"px"):Cn(o.element,r)},_O=(e,t)=>e.getSystem().getByUid(t.uid+"-"+vO()).map((e=>()=>Yo.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>Yo.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e))))),OO=e=>{Bg.getState(e).each((e=>{hB.repositionMenus(e)}))},UO=(e,t,n)=>{const o=Jl(),r=(r,s)=>{const i=BO(e,t);o.link(t.element),e.matchWidth&&EO(i.hotspot,s,e.useMinWidth),e.onOpen(i,r,s),void 0!==n&&void 0!==n.onOpen&&n.onOpen(r,s)},s=(e,r)=>{o.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,r)},i=_O(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:o.id,role:"listbox"}},behaviours:Ap.augment(e.sandboxBehaviours,[rp.config({store:{mode:"memory",initialValue:t}}),Bg.config({onOpen:r,onClose:s,isPartOf:(e,n,o)=>$l(n,o)||$l(t,o),getAttachPoint:()=>i().getOrDie()}),Cf.config({find:e=>Bg.getState(e).bind((e=>Cf.getCurrent(e)))}),_u.config({channels:{...kg({isExtraPart:O}),..._g({doReposition:OO})}})])}},TO=e=>{const t=bO.getCoupled(e,"sandbox");OO(t)},LO=()=>[zs("sandboxClasses",[]),Ap.field("sandboxBehaviours",[Cf,_u,Bg,rp])],NO=C([xs("dom"),xs("fetch"),bc("onOpen"),vc("onExecute"),zs("getHotspot",L.some),zs("getAnchorOverrides",C({})),Gd(),sp("dropdownBehaviours",[Sy,bO,Qw,iy]),xs("toggleClass"),zs("eventOrder",{}),Qs("lazySink"),zs("matchWidth",!1),zs("useMinWidth",!1),Qs("role")].concat(LO())),QO=C([Hp({schema:[gc()],name:"menu",defaults:e=>({onExecute:e.onExecute})}),wO()]),DO=(e,t,n,o)=>{const r=t=>xe(e.dom,"attributes").bind((e=>xe(e,t))),s=e=>{Bg.getState(e).each((e=>{hB.highlightPrimary(e)}))},i=t=>{const n=s;kO(e,x,t,o,n,yO.HighlightFirst).get(v)},a={expand:t=>{Sy.isOn(t)||kO(e,x,t,o,v,yO.HighlightNone).get(v)},open:t=>{Sy.isOn(t)||kO(e,x,t,o,v,yO.HighlightFirst).get(v)},isOpen:Sy.isOn,close:t=>{Sy.isOn(t)&&kO(e,x,t,o,v,yO.HighlightFirst).get(v)},repositionMenus:e=>{Sy.isOn(e)&&TO(e)}},A=(e,t)=>(va(e),L.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:ap(e.dropdownBehaviours,[Sy.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),bO.config({others:{sandbox:t=>UO(e,t,{onOpen:()=>Sy.on(t),onClose:()=>Sy.off(t)})}}),Qw.config({mode:"special",onSpace:A,onEnter:A,onDown:(e,t)=>{if(IO.isOpen(e)){const t=bO.getCoupled(e,"sandbox");s(t)}else IO.open(e);return L.some(!0)},onEscape:(e,t)=>IO.isOpen(e)?(IO.close(e),L.some(!0)):L.none()}),iy.config({})]),events:ky(L.some(i)),eventOrder:{...e.eventOrder,[Xi()]:["disabling","toggling","alloy.base.behaviour"]},apis:a,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold((()=>({})),(e=>({role:e}))),..."button"===e.dom.tag?{type:r("type").getOr("button")}:{}}}}},IO=bf({name:"Dropdown",configFields:NO(),partFields:QO(),factory:DO,apis:{open:(e,t)=>e.open(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),HO=()=>FA({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}}),MO=()=>Ca([xa(ji(),U)]);var RO=Object.freeze({__proto__:null,events:MO,exhibit:HO});const PO=Su({fields:[],name:"unselecting",active:RO}),VO=(e,t)=>IO.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Cu([BF.button(t.providers.isDisabled),fF(),PO.config({}),C_.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:n=>eO.nu((t=>e.fetch(t))).map((o=>L.from(HE(fr(aE($a("menu-value"),o,(t=>{e.onItemAction(n,t)}),e.columns,e.presets,qC.CLOSE_ON_EXECUTE,O,t.providers),{movement:lE(e.columns,e.presets)}))))),parts:{menu:yx(!1,1,e.presets)}}),jO=$a("color-input-change"),zO=$a("color-swatch-change"),KO=$a("color-picker-cancel"),WO=(e,t,n,o)=>{const r=v_.parts.field({factory:W_,inputClasses:["tox-textfield"],data:o,onSetValue:e=>dO.run(e).get(v),inputBehaviours:Cu([Vf.config({disabled:t.providers.isDisabled}),fF(),C_.config({}),dO.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>Ct(e.element),notify:{onValid:e=>{const t=rp.getValue(e);ba(e,jO,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=rp.getValue(e);if(0===t.length)return eO.pure(Yo.value(!0));{const e=$e.fromTag("span");en(e,"background-color",t);const n=sn(e,"background-color").fold((()=>Yo.error("blah")),(e=>Yo.value(t)));return eO.pure(n)}}}})]),selectOnFocus:!1}),s=e.label.map((e=>O_(e,t.providers))),i=(e,t)=>{ba(e,zO,{value:t})},a=(e,t)=>{A.getOpt(e).each((e=>{"custom"===t?n.colorPicker((t=>{t.fold((()=>fa(e,KO)),(t=>{i(e,t),Wk(t)}))}),"#ffffff"):i(e,"remove"===t?"":t)}))},A=yB(VO({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[$c,Yc,ou],onLtr:()=>[Yc,$c,ou]},components:[],fetch:tE(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:a},t));return v_.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:s.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,A.asSpec()]}]),fieldBehaviours:Cu([Jw("form-field-events",[ka(jO,((t,n)=>{A.getOpt(t).each((e=>{en(e.element,"background-color",n.event.color)})),ba(t,U_,{name:e.name})})),ka(zO,((e,t)=>{v_.getField(e).each((n=>{rp.setValue(n,t.event.value),Cf.getCurrent(e).each(iy.focus)}))})),ka(KO,((e,t)=>{v_.getField(e).each((t=>{Cf.getCurrent(e).each(iy.focus)}))}))])])})},GO=Mp({schema:[xs("dom")],name:"label"}),qO=e=>Mp({name:e+"-edge",overrides:t=>{const n=t.model.manager.edgeActions[e];return n.fold((()=>({})),(e=>({events:Ca([Ea(xi(),((t,n,o)=>e(t,o)),[t]),Ea(Ei(),((t,n,o)=>e(t,o)),[t]),Ea(_i(),((t,n,o)=>{o.mouseIsDown.get()&&e(t,o)}),[t])])})))}}),ZO=qO("top-left"),XO=qO("top"),JO=qO("top-right"),YO=qO("right"),$O=qO("bottom-right"),eU=qO("bottom"),tU=qO("bottom-left"),nU=qO("left"),oU=Ip({name:"thumb",defaults:C({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Ca([Ta(xi(),e,"spectrum"),Ta(Si(),e,"spectrum"),Ta(Fi(),e,"spectrum"),Ta(Ei(),e,"spectrum"),Ta(_i(),e,"spectrum"),Ta(Ui(),e,"spectrum")])})}),rU=Ip({schema:[Bs("mouseIsDown",(()=>ei(!1)))],name:"spectrum",overrides:e=>{const t=e.model,n=t.manager,o=(t,o)=>n.getValueFromEvent(o).map((o=>n.setValueFrom(t,e,o)));return{behaviours:Cu([Qw.config({mode:"special",onLeft:t=>n.onLeft(t,e),onRight:t=>n.onRight(t,e),onUp:t=>n.onUp(t,e),onDown:t=>n.onDown(t,e)}),iy.config({})]),events:Ca([ka(xi(),o),ka(Si(),o),ka(Ei(),o),ka(_i(),((t,n)=>{e.mouseIsDown.get()&&o(t,n)}))])}}});var sU=[GO,nU,YO,XO,eU,ZO,JO,tU,$O,oU,rU];const iU="slider.change.value",aU=C(iU),AU=e=>-1!==e.type.indexOf("touch"),lU=e=>{const t=e.event.raw;if(AU(t)){const e=t;return void 0!==e.touches&&1===e.touches.length?L.some(e.touches[0]).map((e=>fn(e.clientX,e.clientY))):L.none()}{const e=t;return void 0!==e.clientX?L.some(e).map((e=>fn(e.clientX,e.clientY))):L.none()}},cU="top",uU="right",dU="bottom",mU="left",hU=e=>e.model.minX,gU=e=>e.model.minY,pU=e=>e.model.minX-1,fU=e=>e.model.minY-1,bU=e=>e.model.maxX,vU=e=>e.model.maxY,wU=e=>e.model.maxX+1,yU=e=>e.model.maxY+1,BU=(e,t,n)=>t(e)-n(e),CU=e=>BU(e,bU,hU),xU=e=>BU(e,vU,gU),SU=e=>CU(e)/2,FU=e=>xU(e)/2,kU=e=>e.stepSize,EU=e=>e.snapToGrid,_U=e=>e.snapStart,OU=e=>e.rounded,UU=(e,t)=>void 0!==e[t+"-edge"],TU=e=>UU(e,mU),LU=e=>UU(e,uU),NU=e=>UU(e,cU),QU=e=>UU(e,dU),DU=e=>e.model.value.get(),IU=(e,t)=>({x:e,y:t}),HU=(e,t)=>{ba(e,aU(),{value:t})},MU=(e,t)=>{HU(e,IU(pU(t),fU(t)))},RU=(e,t)=>{HU(e,fU(t))},PU=(e,t)=>{HU(e,IU(SU(t),fU(t)))},VU=(e,t)=>{HU(e,IU(wU(t),fU(t)))},jU=(e,t)=>{HU(e,wU(t))},zU=(e,t)=>{HU(e,IU(wU(t),FU(t)))},KU=(e,t)=>{HU(e,IU(wU(t),yU(t)))},WU=(e,t)=>{HU(e,yU(t))},GU=(e,t)=>{HU(e,IU(SU(t),yU(t)))},qU=(e,t)=>{HU(e,IU(pU(t),yU(t)))},ZU=(e,t)=>{HU(e,pU(t))},XU=(e,t)=>{HU(e,IU(pU(t),FU(t)))},JU=(e,t,n,o)=>e<t?e:e>n?n:e===t?t-1:Math.max(t,e-o),YU=(e,t,n,o)=>e>n?e:e<t?t:e===n?n+1:Math.min(n,e+o),$U=(e,t,n)=>Math.max(t,Math.min(n,e)),eT=(e,t,n,o,r)=>r.fold((()=>{const r=e-t,s=Math.round(r/o)*o;return $U(t+s,t-1,n+1)}),(t=>{const r=(e-t)%o,s=Math.round(r/o),i=Math.floor((e-t)/o),a=Math.floor((n-t)/o),A=Math.min(a,i+s),l=t+A*o;return Math.max(t,l)})),tT=(e,t,n)=>Math.min(n,Math.max(e,t))-t,nT=e=>{const{min:t,max:n,range:o,value:r,step:s,snap:i,snapStart:a,rounded:A,hasMinEdge:l,hasMaxEdge:c,minBound:u,maxBound:d,screenRange:m}=e,h=l?t-1:t,g=c?n+1:n;if(r<u)return h;if(r>d)return g;{const e=tT(r,u,d),l=$U(e/m*o+t,h,g);return i&&l>=t&&l<=n?eT(l,t,n,s,a):A?Math.round(l):l}},oT=e=>{const{min:t,max:n,range:o,value:r,hasMinEdge:s,hasMaxEdge:i,maxBound:a,maxOffset:A,centerMinEdge:l,centerMaxEdge:c}=e;return r<t?s?0:l:r>n?i?a:c:(r-t)/o*A},rT="top",sT="right",iT="bottom",aT="left",AT="width",lT="height",cT=e=>e.element.dom.getBoundingClientRect(),uT=(e,t)=>e[t],dT=e=>{const t=cT(e);return uT(t,aT)},mT=e=>{const t=cT(e);return uT(t,sT)},hT=e=>{const t=cT(e);return uT(t,rT)},gT=e=>{const t=cT(e);return uT(t,iT)},pT=e=>{const t=cT(e);return uT(t,AT)},fT=e=>{const t=cT(e);return uT(t,lT)},bT=(e,t,n)=>(e+t)/2-n,vT=(e,t)=>{const n=cT(e),o=cT(t),r=uT(n,aT),s=uT(n,sT),i=uT(o,aT);return bT(r,s,i)},wT=(e,t)=>{const n=cT(e),o=cT(t),r=uT(n,rT),s=uT(n,iT),i=uT(o,rT);return bT(r,s,i)},yT=(e,t)=>{ba(e,aU(),{value:t})},BT=(e,t,n)=>{const o={min:hU(t),max:bU(t),range:CU(t),value:n,step:kU(t),snap:EU(t),snapStart:_U(t),rounded:OU(t),hasMinEdge:TU(t),hasMaxEdge:LU(t),minBound:dT(e),maxBound:mT(e),screenRange:pT(e)};return nT(o)},CT=(e,t,n)=>{const o=BT(e,t,n),r=o;return yT(e,r),o},xT=(e,t)=>{const n=hU(t);yT(e,n)},ST=(e,t)=>{const n=bU(t);yT(e,n)},FT=(e,t,n)=>{const o=e>0?YU:JU,r=o(DU(n),hU(n),bU(n),kU(n));return yT(t,r),L.some(r)},kT=e=>(t,n)=>FT(e,t,n).map(U),ET=e=>{const t=lU(e);return t.map((e=>e.left))},_T=(e,t,n,o,r)=>{const s=0,i=pT(e),a=o.bind((t=>L.some(vT(t,e)))).getOr(s),A=r.bind((t=>L.some(vT(t,e)))).getOr(i),l={min:hU(t),max:bU(t),range:CU(t),value:n,hasMinEdge:TU(t),hasMaxEdge:LU(t),minBound:dT(e),minOffset:s,maxBound:mT(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:A};return oT(l)},OT=(e,t,n,o,r,s)=>{const i=_T(t,s,n,o,r);return dT(t)-dT(e)+i},UT=(e,t,n,o)=>{const r=DU(n),s=OT(e,o.getSpectrum(e),r,o.getLeftEdge(e),o.getRightEdge(e),n),i=xn(t.element)/2;en(t.element,"left",s-i+"px")},TT=kT(-1),LT=kT(1),NT=L.none,QT=L.none,DT={"top-left":L.none(),top:L.none(),"top-right":L.none(),right:L.some(jU),"bottom-right":L.none(),bottom:L.none(),"bottom-left":L.none(),left:L.some(ZU)};var IT=Object.freeze({__proto__:null,setValueFrom:CT,setToMin:xT,setToMax:ST,findValueOfOffset:BT,getValueFromEvent:ET,findPositionOfValue:OT,setPositionFromValue:UT,onLeft:TT,onRight:LT,onUp:NT,onDown:QT,edgeActions:DT});const HT=(e,t)=>{ba(e,aU(),{value:t})},MT=(e,t,n)=>{const o={min:gU(t),max:vU(t),range:xU(t),value:n,step:kU(t),snap:EU(t),snapStart:_U(t),rounded:OU(t),hasMinEdge:NU(t),hasMaxEdge:QU(t),minBound:hT(e),maxBound:gT(e),screenRange:fT(e)};return nT(o)},RT=(e,t,n)=>{const o=MT(e,t,n),r=o;return HT(e,r),o},PT=(e,t)=>{const n=gU(t);HT(e,n)},VT=(e,t)=>{const n=vU(t);HT(e,n)},jT=(e,t,n)=>{const o=e>0?YU:JU,r=o(DU(n),gU(n),vU(n),kU(n));return HT(t,r),L.some(r)},zT=e=>(t,n)=>jT(e,t,n).map(U),KT=e=>{const t=lU(e);return t.map((e=>e.top))},WT=(e,t,n,o,r)=>{const s=0,i=fT(e),a=o.bind((t=>L.some(wT(t,e)))).getOr(s),A=r.bind((t=>L.some(wT(t,e)))).getOr(i),l={min:gU(t),max:vU(t),range:xU(t),value:n,hasMinEdge:NU(t),hasMaxEdge:QU(t),minBound:hT(e),minOffset:s,maxBound:gT(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:A};return oT(l)},GT=(e,t,n,o,r,s)=>{const i=WT(t,s,n,o,r);return hT(t)-hT(e)+i},qT=(e,t,n,o)=>{const r=DU(n),s=GT(e,o.getSpectrum(e),r,o.getTopEdge(e),o.getBottomEdge(e),n),i=mn(t.element)/2;en(t.element,"top",s-i+"px")},ZT=L.none,XT=L.none,JT=zT(-1),YT=zT(1),$T={"top-left":L.none(),top:L.some(RU),"top-right":L.none(),right:L.none(),"bottom-right":L.none(),bottom:L.some(WU),"bottom-left":L.none(),left:L.none()};var eL=Object.freeze({__proto__:null,setValueFrom:RT,setToMin:PT,setToMax:VT,findValueOfOffset:MT,getValueFromEvent:KT,findPositionOfValue:GT,setPositionFromValue:qT,onLeft:ZT,onRight:XT,onUp:JT,onDown:YT,edgeActions:$T});const tL=(e,t)=>{ba(e,aU(),{value:t})},nL=(e,t)=>({x:e,y:t}),oL=(e,t,n)=>{const o=BT(e,t,n.left),r=MT(e,t,n.top),s=nL(o,r);return tL(e,s),s},rL=(e,t,n,o)=>{const r=e>0?YU:JU,s=t?DU(o).x:r(DU(o).x,hU(o),bU(o),kU(o)),i=t?r(DU(o).y,gU(o),vU(o),kU(o)):DU(o).y;return tL(n,nL(s,i)),L.some(s)},sL=(e,t)=>(n,o)=>rL(e,t,n,o).map(U),iL=(e,t)=>{const n=hU(t),o=gU(t);tL(e,nL(n,o))},aL=(e,t)=>{const n=bU(t),o=vU(t);tL(e,nL(n,o))},AL=e=>lU(e),lL=(e,t,n,o)=>{const r=DU(n),s=OT(e,o.getSpectrum(e),r.x,o.getLeftEdge(e),o.getRightEdge(e),n),i=GT(e,o.getSpectrum(e),r.y,o.getTopEdge(e),o.getBottomEdge(e),n),a=xn(t.element)/2,A=mn(t.element)/2;en(t.element,"left",s-a+"px"),en(t.element,"top",i-A+"px")},cL=sL(-1,!1),uL=sL(1,!1),dL=sL(-1,!0),mL=sL(1,!0),hL={"top-left":L.some(MU),top:L.some(PU),"top-right":L.some(VU),right:L.some(zU),"bottom-right":L.some(KU),bottom:L.some(GU),"bottom-left":L.some(qU),left:L.some(XU)};var gL=Object.freeze({__proto__:null,setValueFrom:oL,setToMin:iL,setToMax:aL,getValueFromEvent:AL,setPositionFromValue:lL,onLeft:cL,onRight:uL,onUp:dL,onDown:mL,edgeActions:hL});const pL=[zs("stepSize",1),zs("onChange",v),zs("onChoose",v),zs("onInit",v),zs("onDragStart",v),zs("onDragEnd",v),zs("snapToGrid",!1),zs("rounded",!0),Qs("snapStart"),Ss("model",vs("mode",{x:[zs("minX",0),zs("maxX",100),Bs("value",(e=>ei(e.mode.minX))),xs("getInitialValue"),Bc("manager",IT)],y:[zs("minY",0),zs("maxY",100),Bs("value",(e=>ei(e.mode.minY))),xs("getInitialValue"),Bc("manager",eL)],xy:[zs("minX",0),zs("maxX",100),zs("minY",0),zs("maxY",100),Bs("value",(e=>ei({x:e.mode.minX,y:e.mode.minY}))),xs("getInitialValue"),Bc("manager",gL)]})),sp("sliderBehaviours",[Qw,rp]),Bs("mouseIsDown",(()=>ei(!1)))],fL=(e,t,n,o)=>{const r=t=>$p(t,e,"thumb"),s=t=>$p(t,e,"spectrum"),i=t=>Yp(t,e,"left-edge"),a=t=>Yp(t,e,"right-edge"),A=t=>Yp(t,e,"top-edge"),l=t=>Yp(t,e,"bottom-edge"),c=e.model,u=c.manager,d=(t,n)=>{u.setPositionFromValue(t,n,e,{getLeftEdge:i,getRightEdge:a,getTopEdge:A,getBottomEdge:l,getSpectrum:s})},m=(e,t)=>{c.value.set(t);const n=r(e);d(e,n)},h=(t,n)=>{m(t,n);const o=r(t);return e.onChange(t,o,n),L.some(!0)},g=t=>{u.setToMin(t,e)},p=t=>{u.setToMax(t,e)},f=t=>{const n=()=>{Yp(t,e,"thumb").each((n=>{const o=c.value.get();e.onChoose(t,n,o)}))},o=e.mouseIsDown.get();e.mouseIsDown.set(!1),o&&n()},b=(t,n)=>{n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,r(t))},v=(t,n)=>{n.stop(),e.onDragEnd(t,r(t)),f(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:ap(e.sliderBehaviours,[Qw.config({mode:"special",focusIn:t=>Yp(t,e,"spectrum").map(Qw.focusIn).map(U)}),rp.config({store:{mode:"manual",getValue:e=>c.value.get(),setValue:m}}),_u.config({channels:{[Sg()]:{onReceive:f}}})]),events:Ca([ka(aU(),((e,t)=>{h(e,t.event.value)})),Ia(((t,n)=>{const o=c.getInitialValue();c.value.set(o);const i=r(t);d(t,i);const a=s(t);e.onInit(t,i,a,c.value.get())})),ka(xi(),b),ka(Fi(),v),ka(Ei(),b),ka(Ui(),v)]),apis:{resetToMin:g,resetToMax:p,setValue:m,refresh:d},domModification:{styles:{position:"relative"}}}},bL=bf({name:"Slider",configFields:pL,partFields:sU,factory:fL,apis:{setValue:(e,t,n)=>{e.setValue(t,n)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),vL=$a("rgb-hex-update"),wL=$a("slider-update"),yL=$a("palette-update"),BL=(e,t)=>{const n=bL.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=bL.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return bL.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:C(0)},components:[n,o],sliderBehaviours:Cu([iy.config({})]),onChange:(e,t,n)=>{ba(e,wL,{value:n})}})},CL="form",xL=[sp("formBehaviours",[rp])],SL=e=>"<alloy.field."+e+">",FL=e=>{const t=(()=>{const e=[],t=(t,n)=>(e.push(t),Gp(CL,SL(t),n));return{field:t,record:C(e)}})(),n=e(t),o=t.record(),r=j(o,(e=>Ip({name:e,pname:SL(e)})));return uf(CL,xL,r,EL,n)},kL=(e,t)=>e.fold((()=>Yo.error(t)),Yo.value),EL=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:ap(e.formBehaviours,[rp.config({store:{mode:"manual",getValue:t=>{const n=tf(t,e);return ge(n,((e,t)=>e().bind((e=>{const n=Cf.getCurrent(e);return kL(n,new Error(`Cannot find a current component to extract the value from for form part '${t}': `+qa(e.element)))})).map(rp.getValue)))},setValue:(t,n)=>{he(n,((n,o)=>{Yp(t,e,o).each((e=>{Cf.getCurrent(e).each((e=>{rp.setValue(e,n)}))}))}))}}})]),apis:{getField:(t,n)=>Yp(t,e,n).bind(Cf.getCurrent)}}),_L={getField:vA(((e,t,n)=>e.getField(t,n))),sketch:FL},OL=$a("valid-input"),UL=$a("invalid-input"),TL=$a("validating-input"),LL="colorcustom.rgb.",NL=(e,t,n,o)=>{const r=(n,o)=>dO.config({invalidClass:t("invalid"),notify:{onValidate:e=>{ba(e,TL,{type:n})},onValid:e=>{ba(e,OL,{type:n,value:rp.getValue(e)})},onInvalid:e=>{ba(e,UL,{type:n,value:rp.getValue(e)})}},validator:{validate:t=>{const n=rp.getValue(t),r=o(n)?Yo.value(!0):Yo.error(e("aria.input.invalid"));return eO.pure(r)},validateOnLoad:!1}}),s=(n,o,s,i,a)=>{const A=e(LL+"range"),l=v_.parts.label({dom:{tag:"label",attributes:{"aria-label":i}},components:[Tl(s)]}),c=v_.parts.field({data:a,factory:W_,inputAttributes:{type:"text",..."hex"===o?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:Cu([r(o,n),C_.config({})]),onSetValue:e=>{if(dO.isInvalid(e)){const t=dO.run(e);t.get(v)}}}),u=[l,c],d="hex"!==o?[v_.parts["aria-descriptor"]({text:A})]:[],m=u.concat(d);return{dom:{tag:"div",attributes:{role:"presentation"}},components:m}},i=(e,t)=>{const n=lk(t);return _L.getField(e,"hex").each((t=>{iy.isFocused(t)||rp.setValue(e,{hex:n.value})})),n},a=(e,t)=>{const n=t.red,o=t.green,r=t.blue;rp.setValue(e,{red:n,green:o,blue:r})},A=yB({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=(e,t)=>{A.getOpt(e).each((e=>{en(e.element,"background-color","#"+t.value)}))},c=()=>{const r={red:ei(L.some(255)),green:ei(L.some(255)),blue:ei(L.some(255)),hex:ei(L.some("ffffff"))},c=(e,t)=>{const n=bk(t);a(e,n),h(n)},u=e=>r[e].get(),d=(e,t)=>{r[e].set(t)},m=()=>u("red").bind((e=>u("green").bind((t=>u("blue").map((n=>gk(e,t,n,1))))))),h=e=>{const t=e.red,n=e.green,o=e.blue;d("red",L.some(t)),d("green",L.some(n)),d("blue",L.some(o))},g=(e,t)=>{const n=t.event;"hex"!==n.type?d(n.type,L.none()):o(e)},p=(e,t)=>{n(e);const o=ek(t);d("hex",L.some(t));const r=bk(o);a(e,r),h(r),ba(e,vL,{hex:o}),l(e,o)},f=(e,t,n)=>{const o=parseInt(n,10);d(t,L.some(o)),m().each((t=>{const n=i(e,t);ba(e,vL,{hex:n}),l(e,n)}))},b=e=>"hex"===e.type,v=(e,t)=>{const n=t.event;b(n)?p(e,n.value):f(e,n.type,n.value)},w=t=>({label:e(LL+t+".label"),description:e(LL+t+".description")}),y=w("red"),B=w("green"),C=w("blue"),x=w("hex");return fr(_L.sketch((n=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",v_.sketch(s(pk,"red",y.label,y.description,255))),n.field("green",v_.sketch(s(pk,"green",B.label,B.description,255))),n.field("blue",v_.sketch(s(pk,"blue",C.label,C.description,255))),n.field("hex",v_.sketch(s(ok,"hex",x.label,x.description,"ffffff"))),A.asSpec()],formBehaviours:Cu([dO.config({invalidClass:t("form-invalid")}),Jw("rgb-form-events",[ka(OL,v),ka(UL,g),ka(TL,g)])])}))),{apis:{updateHex:(e,t)=>{rp.setValue(e,{hex:t.value}),c(e,t),l(e,t)}}})},u=ff({factory:c,name:"RgbForm",configFields:[],apis:{updateHex:(e,t,n)=>{e.updateHex(t,n)}},extraApis:{}});return u},QL=(e,t)=>{const n=bL.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),o=bL.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),r=(e,t)=>{const{width:n,height:o}=e,r=e.getContext("2d");if(null===r)return;r.fillStyle=t,r.fillRect(0,0,n,o);const s=r.createLinearGradient(0,0,n,0);s.addColorStop(0,"rgba(255,255,255,1)"),s.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=s,r.fillRect(0,0,n,o);const i=r.createLinearGradient(0,0,0,o);i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=i,r.fillRect(0,0,n,o)},s=(e,t)=>{const n=e.components()[0].element.dom,o=_k(t,100,100),s=fk(o);r(n,yk(s))},i=(e,t)=>{const n=Ok(bk(t));bL.setValue(e,{x:n.saturation,y:100-n.value})},a=e=>{const s=C({x:0,y:0}),i=(e,t,n)=>{ba(e,yL,{value:n})},a=(e,t,n,o)=>{r(n.element.dom,yk(Bk))},A=Cu([Cf.config({find:L.some}),iy.config({})]);return bL.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:s},rounded:!1,components:[n,o],onChange:i,onInit:a,sliderBehaviours:A})},A=ff({factory:a,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,n)=>{s(t,n)},setThumb:(e,t,n)=>{i(t,n)}},extraApis:{}});return A},DL=(e,t)=>{const n=n=>{const o=NL(e,t,n.onValidHex,n.onInvalidHex),r=QL(e,t),s=e=>(100-e)/100*360,i=e=>100-e/360*100,a={paletteRgba:ei(Bk),paletteHue:ei(0)},A=yB(BL(e,t)),l=yB(r.sketch({})),c=yB(o.sketch({})),u=(e,t,n)=>{l.getOpt(e).each((e=>{r.setHue(e,n)}))},d=(e,t)=>{c.getOpt(e).each((e=>{o.updateHex(e,t)}))},m=(e,t,n)=>{A.getOpt(e).each((e=>{bL.setValue(e,i(n))}))},h=(e,t)=>{l.getOpt(e).each((e=>{r.setThumb(e,t)}))},g=(e,t)=>{const n=bk(e);a.paletteRgba.set(n),a.paletteHue.set(t)},p=(e,t,n,o)=>{g(t,n),z(o,(o=>{o(e,t,n)}))},f=()=>{const e=[d];return(t,n)=>{const o=n.event.value,r=a.paletteHue.get(),s=_k(r,o.x,100-o.y),i=Tk(s);p(t,i,r,e)}},b=()=>{const e=[u,d];return(t,n)=>{const o=s(n.event.value),r=a.paletteRgba.get(),i=Ok(r),A=_k(o,i.saturation,i.value),l=Tk(A);p(t,l,o,e)}},v=()=>{const e=[u,m,h];return(t,n)=>{const o=n.event.hex,r=Uk(o);p(t,o,r.hue,e)}};return{uid:n.uid,dom:n.dom,components:[l.asSpec(),A.asSpec(),c.asSpec()],behaviours:Cu([Jw("colour-picker-events",[ka(vL,v()),ka(yL,f()),ka(wL,b())]),Cf.config({find:e=>c.getOpt(e)}),Qw.config({mode:"acyclic"})])}},o=ff({name:"ColourPicker",configFields:[xs("dom"),zs("onValidHex",v),zs("onInvalidHex",v)],factory:n});return o},IL=()=>Cf.config({find:L.some}),HL=e=>Cf.config({find:e.getOpt}),ML=e=>Cf.config({find:t=>kt(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),RL={self:IL,memento:HL,childAt:ML},PL=Zr([zs("preprocess",x),zs("postprocess",x)]),VL=(e,t)=>{const n=fs("RepresentingConfigs.memento processors",PL,t);return rp.config({store:{mode:"manual",getValue:t=>{const o=e.get(t),r=rp.getValue(o);return n.postprocess(r)},setValue:(t,o)=>{const r=n.preprocess(o),s=e.get(t);rp.setValue(s,r)}}})},jL=(e,t,n)=>rp.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:n}}),zL=(e,t,n)=>jL(e,(e=>t(e.element)),((e,t)=>n(e.element,t))),KL=e=>zL(e,cl,ul),WL=e=>zL(e,Va,ja),GL=e=>rp.config({store:{mode:"memory",initialValue:e}}),qL={memento:VL,withElement:zL,withComp:jL,domValue:KL,domHtml:WL,memory:GL},ZL={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},XL=e=>t=>e.translate(ZL[t]),JL=(e,t,n)=>{const o=e=>"tox-"+e,r=DL(XL(t),o),s=e=>{ba(e,N_,{name:"hex-valid",value:!0})},i=e=>{ba(e,N_,{name:"hex-valid",value:!1})},a=yB(r.sketch({dom:{tag:"div",classes:[o("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:i}));return{dom:{tag:"div"},components:[a.asSpec()],behaviours:Cu([qL.withComp(n,(e=>{const t=a.get(e),n=Cf.getCurrent(t),o=n.bind((e=>{const t=rp.getValue(e);return t.hex}));return o.map((e=>"#"+e)).getOr("")}),((e,t)=>{const n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,o=n.exec(t),r=a.get(e),s=Cf.getCurrent(r);s.fold((()=>{console.log("Can not find form")}),(e=>{rp.setValue(e,{hex:L.from(o[1]).getOr("")}),_L.getField(e,"hex").each((e=>{fa(e,Ii())}))}))})),RL.self()])}};var YL=tinymce.util.Tools.resolve("tinymce.Resource");const $L=e=>Se(e,"init"),eN=e=>{const t=ud(),n=yB({dom:{tag:e.tag}}),o=ud();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Cu([Jw("custom-editor-events",[Ia((r=>{n.getOpt(r).each((n=>{($L(e)?e.init(n.element.dom):YL.load(e.scriptId,e.scriptUrl).then((t=>t(n.element.dom,e.settings)))).then((e=>{o.on((t=>{e.setValue(t)})),o.clear(),t.set(e)}))}))}))]),qL.withComp(L.none(),(()=>t.get().fold((()=>o.get().getOr("")),(e=>e.getValue()))),((e,n)=>{t.get().fold((()=>o.set(n)),(e=>e.setValue(n)))})),RL.self()]),components:[n.asSpec()]}};var tN=tinymce.util.Tools.resolve("tinymce.util.Tools");const nN=(e,t)=>{const n=tN.explode(t.getOption("images_file_types")),o=e=>R(n,(t=>Ve(e.name.toLowerCase(),`.${t.toLowerCase()}`)));return G(ce(e),o)},oN=(e,t,n)=>{const o=(e,t)=>{t.stop()},r=e=>(t,n)=>{z(e,(e=>{e(t,n)}))},s=(e,t)=>{if(!Vf.isDisabled(e)){const n=t.event.raw;a(e,n.dataTransfer.files)}},i=(e,t)=>{const n=t.event.raw.target;a(e,n.files)},a=(n,o)=>{rp.setValue(n,nN(o,t)),ba(n,U_,{name:e.name})},A=yB({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Cu([Jw("input-file-events",[Na(Mi()),Na(Yi())])])}),l=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Cu([qL.memory(n.getOr([])),RL.self(),Vf.config({}),Sy.config({toggleClass:"dragenter",toggleOnExecute:!1}),Jw("dropzone-events",[ka("dragenter",r([o,Sy.toggle])),ka("dragleave",r([o,Sy.toggle])),ka("dragover",o),ka("drop",r([o,s])),ka(Hi(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Tl(t.translate("Drop an image here"))]},wB.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Tl(t.translate("Browse for an image")),A.asSpec()],action:e=>{const t=A.get(e);t.element.dom.click()},buttonBehaviours:Cu([C_.config({}),BF.button(t.isDisabled),fF()])})]}]}),c=e.label.map((e=>O_(e,t))),u=v_.parts.field({factory:{sketch:l}});return S_(c,u,["tox-form__group--stretched"],[])},rN=(e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:j(e.items,t.interpreter)}),sN=$a("alloy-fake-before-tabstop"),iN=$a("alloy-fake-after-tabstop"),aN=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Cu([iy.config({ignore:!0}),C_.config({})])}),AN=e=>({dom:{tag:"div",classes:["tox-navobj"]},components:[aN([sN]),e,aN([iN])],behaviours:Cu([RL.childAt(1)])}),lN=(e,t)=>{ba(e,Qi(),{raw:{which:9,shiftKey:t}})},cN=(e,t)=>{const n=t.element;rl(n,sN)?lN(e,!0):rl(n,iN)&&lN(e,!1)},uN=e=>jE(e,["."+sN,"."+iN].join(","),O),dN=e=>{const t=ei(e.getOr(""));return{getValue:e=>t.get(),setValue:(e,n)=>{t.get()!==n&&Kt(e.element,"srcdoc",n),t.set(n)}}},mN=(e,t,n)=>{const o=e.sandboxed,r=e.transparent,s="tox-dialog__iframe",i={...e.label.map((e=>({title:e}))).getOr({}),...n.map((e=>({srcdoc:e}))).getOr({}),...o?{sandbox:"allow-scripts allow-same-origin"}:{}},a=dN(n),A=e.label.map((e=>O_(e,t))),l=e=>AN({uid:e.uid,dom:{tag:"iframe",attributes:i,classes:r?[s]:[s,`${s}--opaque`]},behaviours:Cu([C_.config({}),iy.config({}),qL.withComp(n,a.getValue,a.setValue)])}),c=v_.parts.field({factory:{sketch:l}});return S_(A,c,["tox-form__group--stretched"],[])},hN=e=>new Promise(((t,n)=>{const o=()=>{s(),t(e)},r=[md(e,"load",o),md(e,"error",(()=>{s(),n("Unable to load data from image: "+e.dom.src)}))],s=()=>z(r,(e=>e.unbind()));e.dom.complete&&o()})),gN=(e,t,n,o,r)=>{const s=n*r,i=o*r,a=Math.max(0,e/2-s/2),A=Math.max(0,t/2-i/2);return{left:a.toString()+"px",top:A.toString()+"px",width:s.toString()+"px",height:i.toString()+"px"}},pN=(e,t,n)=>{const o=xn(e),r=mn(e);return Math.min(o/t,r/n,1)},fN=(e,t)=>{const n=ei(t.getOr({url:""})),o=yB({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}}),r=yB({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[o.asSpec()]}),s=(e,t)=>{const s={url:t.url};t.zoom.each((e=>s.zoom=e)),t.cachedWidth.each((e=>s.cachedWidth=e)),t.cachedHeight.each((e=>s.cachedHeight=e)),n.set(s);const i=()=>{const t=s.cachedWidth,n=s.cachedHeight;if(m(s.zoom)){const o=pN(e.element,t,n);s.zoom=o}const o=gN(xn(e.element),mn(e.element),t,n,s.zoom);r.getOpt(e).each((e=>{tn(e.element,o)}))};o.getOpt(e).each((n=>{const o=n.element;t.url!==Gt(o,"src")&&(Kt(o,"src",t.url),ol(e.element,"tox-imagepreview__loaded")),m(s.cachedWidth)||m(s.cachedHeight)||i(),hN(o).then((t=>{e.getSystem().isConnected()&&(tl(e.element,"tox-imagepreview__loaded"),s.cachedWidth=t.dom.naturalWidth,s.cachedHeight=t.dom.naturalHeight,i())}))}))},i={};e.height.each((e=>i.height=e));const a=t.map((e=>({url:e.url,zoom:L.from(e.zoom),cachedWidth:L.from(e.cachedWidth),cachedHeight:L.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:i,attributes:{role:"presentation"}},components:[r.asSpec()],behaviours:Cu([RL.self(),qL.withComp(a,(()=>n.get()),s)])}},bN=(e,t)=>{const n={dom:{tag:"label",classes:["tox-label"]},components:[Tl(t.providers.translate(e.label))]},o=j(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n,...o],behaviours:Cu([RL.self(),Zw.config({}),qL.domHtml(L.none()),Qw.config({mode:"acyclic"})])}},vN=$a("toolbar.button.execute"),wN=e=>Ra(((t,n)=>{CF(e,t)((n=>{ba(t,vN,{buttonApi:n}),e.onAction(n)}))})),yN={[Xi()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},BN=(e,t,n)=>LB(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t),CN=(e,t)=>BN(e,t,[]),xN=(e,t)=>BN(e,t,[Zw.config({})]),SN=(e,t,n)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[Tl(n.translate(e))],behaviours:Cu([Zw.config({})])}),FN=$a("update-menu-text"),kN=$a("update-menu-icon"),EN=(e,t,n)=>{const o=ei(v),r=e.text.map((e=>yB(SN(e,t,n.providers)))),s=e.icon.map((e=>yB(xN(e,n.providers.icons)))),i=(e,t)=>{const n=rp.getValue(e);return iy.focus(n),ba(n,"keydown",{raw:t.event.raw}),IO.close(n),L.some(!0)},a=e.role.fold((()=>({})),(e=>({role:e}))),A=e.tooltip.fold((()=>({})),(e=>{const t=n.providers.translate(e);return{title:t,"aria-label":t}})),l=LB("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},n.providers.icons),c=yB(IO.sketch({...e.uid?{uid:e.uid}:{},...a,dom:{tag:"button",classes:[t,`${t}--select`].concat(j(e.classes,(e=>`${t}--${e}`))),attributes:{...A}},components:EF([s.map((e=>e.asSpec())),r.map((e=>e.asSpec())),L.some(l)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Cu([...e.dropdownBehaviours,BF.button((()=>e.disabled||n.providers.isDisabled())),fF(),PO.config({}),Zw.config({}),Jw("dropdown-events",[xF(e,o),SF(e,o)]),Jw("menubutton-update-display-text",[ka(FN,((e,t)=>{r.bind((t=>t.getOpt(e))).each((e=>{Zw.set(e,[Tl(n.providers.translate(t.event.text))])}))})),ka(kN,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{Zw.set(e,[xN(t.event.icon,n.providers.icons)])}))}))])]),eventOrder:fr(yN,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Cu([Qw.config({mode:"special",onLeft:i,onRight:i})]),lazySink:n.getSink,toggleClass:`${t}--active`,parts:{menu:yx(!1,e.columns,e.presets)},fetch:t=>eO.nu(F(e.fetch,t))}));return c.asSpec()},_N=e=>a(e),ON=e=>"separator"===e.type,UN=e=>Se(e,"getSubmenuItems"),TN={type:"separator"},LN=(e,t)=>{const n=Z(e,((e,n)=>_N(n)?""===n?e:"|"===n?e.length>0&&!ON(e[e.length-1])?e.concat([TN]):e:Se(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])),[]);return n.length>0&&ON(n[n.length-1])&&n.pop(),n},NN=(e,t)=>{const n=e.getSubmenuItems(),o=IN(n,t),r=fr(o.menus,Ai(e.value,o.items)),s=fr(o.expansions,Ai(e.value,e.value));return{item:e,menus:r,expansions:s}},QN=(e,t)=>UN(e)?NN(e,t):{item:e,menus:{},expansions:{}},DN=e=>{if(ON(e))return e;{const t=xe(e,"value").getOrThunk((()=>$a("generated-menu-item")));return fr({value:t},e)}},IN=(e,t)=>{const n=LN(a(e)?e.split(" "):e,t);return q(n,((e,n)=>{const o=DN(n),r=QN(o,t);return{menus:fr(e.menus,r.menus),items:[r.item].concat(e.items),expansions:fr(e.expansions,r.expansions)}}),{menus:{},expansions:{},items:[]})},HN=(e,t,n,o)=>{const r=$a("primary-menu"),s=IN(e,n.shared.providers.menuItems());if(0===s.items.length)return L.none();const i=IE(r,s.items,t,n,o),a=ge(s.menus,((e,o)=>IE(o,e,t,n,!1))),A=fr(a,Ai(r,i));return L.from(hB.tieredData(r,A,s.expansions))},MN=e=>!Se(e,"items"),RN="data-value",PN=(e,t,n,o)=>j(n,(n=>MN(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===o,onAction:()=>{rp.setValue(e,n.value),ba(e,U_,{name:t}),iy.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:()=>PN(e,t,n.items,o)})),VN=(e,t)=>ue(e,(e=>MN(e)?Ne(e.value===t,e):VN(e.items,t))),jN=(e,t,n)=>{const o=t.shared.providers,r=n.bind((t=>VN(e.items,t))).orThunk((()=>Ae(e.items).filter(MN))),s=e.label.map((e=>O_(e,o))),i=v_.parts.field({dom:{},factory:{sketch:n=>EN({uid:n.uid,text:r.map((e=>e.text)),icon:L.none(),tooltip:e.label,role:L.none(),fetch:(n,o)=>{const r=PN(n,e.name,e.items,rp.getValue(n));o(HN(r,qC.CLOSE_ON_EXECUTE,t,!1))},onSetup:C(v),getApi:C({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[C_.config({}),qL.withComp(r.map((e=>e.value)),(e=>Gt(e.element,RN)),((t,n)=>{VN(e.items,n).each((e=>{Kt(t.element,RN,e.value),ba(t,FN,{text:e.text})}))}))]},"tox-listbox",t.shared)}}),a={dom:{tag:"div",classes:["tox-listboxfield"]},components:[i]};return v_.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:$([s.toArray(),[a]]),fieldBehaviours:Cu([Vf.config({disabled:C(!e.enabled),onDisabled:e=>{v_.getField(e).each(Vf.disable)},onEnabled:e=>{v_.getField(e).each(Vf.enable)}})])})},zN=(e,t)=>({dom:{tag:"div",classes:e.classes},components:j(e.items,t.shared.interpreter)}),KN=(e,t)=>{const n=j(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}}))),o=e.data.map((e=>Ai("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:ap(e.selectBehaviours,[iy.config({}),rp.config({store:{mode:"manual",getValue:e=>cl(e.element),setValue:(t,n)=>{const o=J(e.options,(e=>e.value===n));o.isSome()&&ul(t.element,n)},...o}})])}},WN=ff({name:"HtmlSelect",configFields:[xs("options"),sp("selectBehaviours",[iy,rp]),zs("selectClasses",[]),zs("selectAttributes",{}),Qs("data")],factory:KN}),GN=(e,t,n)=>{const o=j(e.items,(e=>({text:t.translate(e.text),value:e.value}))),r=e.label.map((e=>O_(e,t))),s=v_.parts.field({dom:{},...n.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:o,factory:WN,selectBehaviours:Cu([Vf.config({disabled:()=>!e.enabled||t.isDisabled()}),C_.config({}),Jw("selectbox-change",[ka(Hi(),((t,n)=>{ba(t,U_,{name:e.name})}))])])}),i=e.size>1?L.none():L.some(LB("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),a={dom:{tag:"div",classes:["tox-selectfield"]},components:$([[s],i.toArray()])};return v_.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:$([r.toArray(),[a]]),fieldBehaviours:Cu([Vf.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{v_.getField(e).each(Vf.disable)},onEnabled:e=>{v_.getField(e).each(Vf.enable)}}),fF()])})},qN=C([zs("field1Name","field1"),zs("field2Name","field2"),wc("onLockedChange"),pc(["lockClass"]),zs("locked",!1),Ap.field("coupledFieldBehaviours",[Cf,rp])]),ZN=(e,t,n)=>Yp(e,t,n).bind(Cf.getCurrent),XN=(e,t)=>Ip({factory:v_,name:e,overrides:e=>({fieldBehaviours:Cu([Jw("coupled-input-behaviour",[ka(Ii(),(n=>{ZN(n,e,t).each((t=>{Yp(n,e,"lock").each((o=>{Sy.isOn(o)&&e.onLockedChange(n,t,o)}))}))}))])])})}),JN=C([XN("field1","field2"),XN("field2","field1"),Ip({factory:wB,schema:[xs("dom")],name:"lock",overrides:e=>({buttonBehaviours:Cu([Sy.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),YN=(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Ap.augment(e.coupledFieldBehaviours,[Cf.config({find:L.some}),rp.config({store:{mode:"manual",getValue:t=>{const n=of(t,e,["field1","field2"]);return{[e.field1Name]:rp.getValue(n.field1()),[e.field2Name]:rp.getValue(n.field2())}},setValue:(t,n)=>{const o=of(t,e,["field1","field2"]);Fe(n,e.field1Name)&&rp.setValue(o.field1(),n[e.field1Name]),Fe(n,e.field2Name)&&rp.setValue(o.field2(),n[e.field2Name])}}})]),apis:{getField1:t=>Yp(t,e,"field1"),getField2:t=>Yp(t,e,"field2"),getLock:t=>Yp(t,e,"lock")}}),$N=bf({name:"FormCoupledInputs",configFields:qN(),partFields:JN(),factory:YN,apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),eQ=e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=e=>e in t?t[e]:1;let o=e.value.toFixed(n(e.unit));return-1!==o.indexOf(".")&&(o=o.replace(/\.?0*$/,"")),o+e.unit},tQ=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=t.exec(e);if(null!==n){const e=parseFloat(n[1]),t=n[2];return Yo.value({value:e,unit:t})}return Yo.error(e)},nQ=(e,t)=>{const n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=e=>Se(n,e);return e.unit===t?L.some(e.value):o(e.unit)&&o(t)?n[e.unit]===n[t]?L.some(e.value):L.some(e.value/n[e.unit]*n[t]):L.none()},oQ=e=>L.none(),rQ=(e,t)=>n=>nQ(n,t).map((n=>({value:n*e,unit:t}))),sQ=(e,t)=>{const n=tQ(e).toOptional(),o=tQ(t).toOptional();return Ue(n,o,((e,t)=>nQ(e,t.unit).map((e=>t.value/e)).map((e=>rQ(e,t.unit))).getOr(oQ))).getOr(oQ)},iQ=(e,t)=>{let n=oQ;const o=$a("ratio-event"),r=e=>LB(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),s=$N.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[r("lock"),r("unlock")],buttonBehaviours:Cu([Vf.config({disabled:()=>!e.enabled||t.isDisabled()}),fF(),C_.config({})])}),i=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),a=n=>v_.parts.field({factory:W_,inputClasses:["tox-textfield"],inputBehaviours:Cu([Vf.config({disabled:()=>!e.enabled||t.isDisabled()}),fF(),C_.config({}),Jw("size-input-events",[ka(Li(),((e,t)=>{ba(e,o,{isField1:n})})),ka(Hi(),((t,n)=>{ba(t,U_,{name:e.name})}))])]),selectOnFocus:!1}),A=e=>({dom:{tag:"label",classes:["tox-label"]},components:[Tl(t.translate(e))]}),l=$N.parts.field1(i([v_.parts.label(A("Width")),a(!0)])),c=$N.parts.field2(i([v_.parts.label(A("Height")),a(!1)]));return $N.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[l,c,i([A(hm),s])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,o)=>{tQ(rp.getValue(e)).each((e=>{n(e).each((e=>{rp.setValue(t,eQ(e))}))}))},coupledFieldBehaviours:Cu([Vf.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{$N.getField1(e).bind(v_.getField).each(Vf.disable),$N.getField2(e).bind(v_.getField).each(Vf.disable),$N.getLock(e).each(Vf.disable)},onEnabled:e=>{$N.getField1(e).bind(v_.getField).each(Vf.enable),$N.getField2(e).bind(v_.getField).each(Vf.enable),$N.getLock(e).each(Vf.enable)}}),fF(),Jw("size-input-events2",[ka(o,((e,t)=>{const o=t.event.isField1,r=o?$N.getField1(e):$N.getField2(e),s=o?$N.getField2(e):$N.getField1(e),i=r.map(rp.getValue).getOr(""),a=s.map(rp.getValue).getOr("");n=sQ(i,a)}))])])})},aQ=(e,t,n)=>{const o=bL.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Tl(t.translate(e.label))]}),r=bL.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),s=bL.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return bL.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:C(n.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[o,r,s],sliderBehaviours:Cu([RL.self(),iy.config({})]),onChoose:(t,n,o)=>{ba(t,U_,{name:e.name,value:o})}})},AQ=(e,t)=>{const n=e=>({dom:{tag:"th",innerHtml:t.translate(e)}}),o=e=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:j(e,n)}]}),r=e=>({dom:{tag:"td",innerHtml:t.translate(e)}}),s=e=>({dom:{tag:"tr"},components:j(e,r)}),i=e=>({dom:{tag:"tbody"},components:j(e,s)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[o(e.header),i(e.cells)],behaviours:Cu([C_.config({}),iy.config({})])}},lQ=(e,t)=>{const n=e.label.map((e=>O_(e,t))),o=[Vf.config({disabled:()=>e.disabled||t.isDisabled()}),fF(),Qw.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(fa(e,Q_),L.some(!0))}),Jw("textfield-change",[ka(Ii(),((t,n)=>{ba(t,U_,{name:e.name})})),ka(qi(),((t,n)=>{ba(t,U_,{name:e.name})}))]),C_.config({})],r=e.validation.map((e=>dO.config({getRoot:e=>Ct(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const n=rp.getValue(t),o=e.validator(n);return eO.pure(!0===o?Yo.value(n):Yo.error(o))},validateOnLoad:e.validateOnLoad}}))).toArray(),s=e.placeholder.fold(C({}),(e=>({placeholder:t.translate(e)}))),i=e.inputMode.fold(C({}),(e=>({inputmode:e}))),a={...s,...i},A=v_.parts.field({tag:!0===e.multiline?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:a,inputClasses:[e.classname],inputBehaviours:Cu($([o,r])),selectOnFocus:!1,factory:W_}),l=e.flex?["tox-form__group--stretched"]:[],c=l.concat(e.maximized?["tox-form-group--maximize"]:[]),u=[Vf.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{v_.getField(e).each(Vf.disable)},onEnabled:e=>{v_.getField(e).each(Vf.enable)}}),fF()];return S_(n,A,c,u)},cQ=(e,t,n)=>lQ({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:L.none(),maximized:e.maximized,data:n},t),uQ=(e,t,n)=>lQ({name:e.name,multiline:!0,label:e.label,inputMode:L.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:L.none(),maximized:e.maximized,data:n},t),dQ=(e,t)=>{const n=e.stream.streams,o=n.setup(e,t);return Ca([ka(e.event,o),Ha((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[ka(e,(()=>t.cancel()))])).getOr([])))};var mQ=Object.freeze({__proto__:null,events:dQ});const hQ=(e,t)=>{let n=null;const o=()=>{u(n)||(clearTimeout(n),n=null)},r=(...o)=>{u(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))};return{cancel:o,throttle:r}},gQ=(e,t)=>{let n=null;const o=()=>{u(n)||(clearTimeout(n),n=null)},r=(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)};return{cancel:o,throttle:r}},pQ=e=>{const t=ei(null),n=()=>({timer:null!==t.get()?"set":"unset"}),o=e=>{t.set(e)},r=()=>{const e=t.get();null!==e&&e.cancel()};return yA({readState:n,setTimer:o,cancel:r})},fQ=e=>e.stream.streams.state(e);var bQ=Object.freeze({__proto__:null,throttle:pQ,init:fQ});const vQ=(e,t)=>{const n=e.stream,o=gQ(e.onStream,n.delay);return t.setTimer(o),(e,t)=>{o.throttle(e,t),n.stopEvent&&t.stop()}};var wQ=[Ss("stream",vs("mode",{throttle:[xs("delay"),zs("stopEvent",!0),Bc("streams",{setup:vQ,state:pQ})]})),zs("event","input"),Qs("cancelEvent"),wc("onStream")];const yQ=Su({fields:wQ,name:"streaming",active:mQ,state:bQ}),BQ=(e,t,n)=>{const o=rp.getValue(n);rp.setValue(t,o),xQ(t)},CQ=(e,t)=>{const n=e.element,o=cl(n),r=n.dom;"number"!==Gt(n,"type")&&t(r,o)},xQ=e=>{CQ(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},SQ=(e,t)=>{CQ(e,((e,n)=>e.setSelectionRange(t,n.length)))},FQ=(e,t,n)=>{if(e.selectsOver){const o=rp.getValue(t),r=e.getDisplayText(o),s=rp.getValue(n),i=e.getDisplayText(s);return 0===i.indexOf(r)?L.some((()=>{BQ(e,t,n),SQ(t,r.length)})):L.none()}return L.none()},kQ=C("alloy.typeahead.itemexecute"),EQ=(e,t,n,o)=>{const r=(t,n,r)=>{e.previewing.set(!1);const s=bO.getCoupled(t,"sandbox");if(Bg.isOpen(s))Cf.getCurrent(s).each((e=>{Ab.getHighlighted(e).fold((()=>{r(e)}),(()=>{Ba(s,e.element,"keydown",n)}))}));else{const n=e=>{Cf.getCurrent(e).each(r)};SO(e,i(t),t,s,o,n,yO.HighlightFirst).get(v)}},s=V_(e),i=e=>t=>t.map((t=>{const n=Ce(t.menus),o=ee(n,(e=>G(e.items,(e=>"item"===e.type)))),r=rp.getState(e);return r.update(j(o,(e=>e.data))),t})),a=[iy.config({}),rp.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>cl(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,n)=>{ul(t.element,e.model.getDisplayText(n))},...e.initialData.map((e=>Ai("initialValue",e))).getOr({})}}),yQ.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(t,n)=>{const r=bO.getCoupled(t,"sandbox"),s=iy.isFocused(t);if(s&&cl(t.element).length>=e.minChars){const n=Cf.getCurrent(r).bind((e=>Ab.getHighlighted(e).map(rp.getValue)));e.previewing.set(!0);const s=t=>{Cf.getCurrent(r).each((t=>{n.fold((()=>{e.model.selectsOver&&Ab.highlightFirst(t)}),(e=>{Ab.highlightBy(t,(t=>{const n=rp.getValue(t);return n.value===e.value})),Ab.getHighlighted(t).orThunk((()=>(Ab.highlightFirst(t),L.none())))}))}))};SO(e,i(t),t,r,o,s,yO.HighlightFirst).get(v)}},cancelEvent:ta()}),Qw.config({mode:"special",onDown:(e,t)=>(r(e,t,Ab.highlightFirst),L.some(!0)),onEscape:e=>{const t=bO.getCoupled(e,"sandbox");return Bg.isOpen(t)?(Bg.close(t),L.some(!0)):L.none()},onUp:(e,t)=>(r(e,t,Ab.highlightLast),L.some(!0)),onEnter:t=>{const n=bO.getCoupled(t,"sandbox"),o=Bg.isOpen(n);if(o&&!e.previewing.get())return Cf.getCurrent(n).bind((e=>Ab.getHighlighted(e))).map((e=>(ba(t,kQ(),{item:e}),!0)));{const r=rp.getValue(t);return fa(t,ta()),e.onExecute(n,t,r),o&&Bg.close(n),L.some(!0)}}}),Sy.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),bO.config({others:{sandbox:t=>UO(e,t,{onOpen:()=>Sy.on(t),onClose:()=>Sy.off(t)})}}),Jw("typeaheadevents",[Ra((t=>{const n=v;kO(e,i(t),t,o,n,yO.HighlightFirst).get(v)})),ka(kQ(),((t,n)=>{const o=bO.getCoupled(t,"sandbox");BQ(e.model,t,n.event.item),fa(t,ta()),e.onItemExecute(t,o,n.event.item,rp.getValue(t)),Bg.close(o),xQ(t)}))].concat(e.dismissOnBlur?[ka(Gi(),(e=>{const t=bO.getCoupled(e,"sandbox");Du(t.element).isNone()&&Bg.close(t)}))]:[]))];return{uid:e.uid,dom:z_(fr(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...s,...ap(e.typeaheadBehaviours,a)},eventOrder:e.eventOrder}},_Q=C([Qs("lazySink"),xs("fetch"),zs("minChars",5),zs("responseTime",1e3),bc("onOpen"),zs("getHotspot",L.some),zs("getAnchorOverrides",C({})),zs("layouts",L.none()),zs("eventOrder",{}),$s("model",{},[zs("getDisplayText",(e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value)),zs("selectsOver",!0),zs("populateFromBrowse",!0)]),bc("onSetValue"),vc("onExecute"),bc("onItemExecute"),zs("inputClasses",[]),zs("inputAttributes",{}),zs("inputStyles",{}),zs("matchWidth",!0),zs("useMinWidth",!1),zs("dismissOnBlur",!0),pc(["openClass"]),Qs("initialData"),sp("typeaheadBehaviours",[iy,rp,yQ,Qw,Sy,bO]),Bs("previewing",(()=>ei(!0)))].concat(P_()).concat(LO())),OQ=C([Hp({schema:[gc()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlight:(t,n)=>{e.previewing.get()?t.getSystem().getByUid(e.uid).each((o=>{FQ(e.model,o,n).fold((()=>Ab.dehighlight(t,n)),(e=>e()))})):t.getSystem().getByUid(e.uid).each((t=>{e.model.populateFromBrowse&&BQ(e.model,t,n)})),e.previewing.set(!1)},onExecute:(t,n)=>t.getSystem().getByUid(e.uid).toOptional().map((e=>(ba(e,kQ(),{item:n}),!0))),onHover:(t,n)=>{e.previewing.set(!1),t.getSystem().getByUid(e.uid).each((t=>{e.model.populateFromBrowse&&BQ(e.model,t,n)}))}})})]),UQ=bf({name:"Typeahead",configFields:_Q(),partFields:OQ(),factory:EQ}),TQ=e=>{const t=()=>TQ(e.toCached()),n=t=>TQ(e.bind((e=>e.fold((e=>eO.pure(Yo.error(e))),(e=>t(e)))))),o=t=>TQ(e.map((e=>e.bind(t)))),r=t=>TQ(e.map((e=>e.map(t)))),s=t=>TQ(e.map((e=>e.mapError(t)))),i=(t,n)=>e.map((e=>e.fold(t,n))),a=(t,n)=>TQ(eO.nu((o=>{let r=!1;const s=setTimeout((()=>{r=!0,o(Yo.error(n()))}),t);e.get((e=>{r||(clearTimeout(s),o(e))}))})));return{...e,toCached:t,bindFuture:n,bindResult:o,mapResult:r,mapError:s,foldResult:i,withTimeout:a}},LQ=e=>TQ(eO.nu(e)),NQ=e=>TQ(eO.pure(Yo.value(e))),QQ=e=>TQ(eO.pure(Yo.error(e))),DQ=e=>TQ(eO.pure(e)),IQ=e=>TQ(e.map(Yo.value)),HQ=e=>LQ((t=>{e.then((e=>{t(Yo.value(e))}),(e=>{t(Yo.error(e))}))})),MQ={nu:LQ,wrap:TQ,pure:NQ,value:NQ,error:QQ,fromResult:DQ,fromFuture:IQ,fromPromise:HQ},RQ=e=>({isEnabled:()=>!Vf.isDisabled(e),setEnabled:t=>Vf.set(e,!t),setActive:t=>{const n=e.element;t?(tl(n,"tox-tbtn--enabled"),Kt(n,"aria-pressed",!0)):(ol(n,"tox-tbtn--enabled"),Xt(n,"aria-pressed"))},isActive:()=>rl(e.element,"tox-tbtn--enabled")}),PQ=(e,t,n,o)=>EN({text:e.text,icon:e.icon,tooltip:e.tooltip,role:o,fetch:(t,o)=>{e.fetch((e=>{o(HN(e,qC.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:e.onSetup,getApi:RQ,columns:1,presets:"normal",classes:[],dropdownBehaviours:[C_.config({})]},t,n.shared),VQ=(e,t,n)=>{const o=e=>o=>{const r=!o.isActive();o.setActive(r),e.storage.set(r),n.shared.getSink().each((n=>{t().getOpt(n).each((t=>{Tu(t.element),ba(t,N_,{name:e.name,value:e.storage.get()})}))}))},r=e=>t=>{t.setActive(e.storage.get())};return t=>{t(j(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,onAction:o(e),onSetup:r(e)}})))}},jQ=(e,t,n=[],o,r,s)=>{const i=t.fold((()=>({})),(e=>({action:e}))),a={buttonBehaviours:Cu([BF.button((()=>!e.enabled||s.isDisabled())),fF(),C_.config({}),Jw("button press",[Fa("click"),Fa("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...i},A=fr(a,{dom:o});return fr(A,{components:r})},zQ=(e,t,n,o=[])=>{const r=e.tooltip.map((e=>({"aria-label":n.translate(e),title:n.translate(e)}))).getOr({}),s={tag:"button",classes:["tox-tbtn"],attributes:r},i=e.icon.map((e=>CN(e,n.icons))),a=EF([i]);return jQ(e,t,o,s,a,n)},KQ=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},WQ=(e,t,n,o=[],r=[])=>{const s=n.translate(e.text),i=e.icon.map((e=>CN(e,n.icons))),a=[i.getOrThunk((()=>Tl(s)))],A=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),l=KQ(A),c=[...l,...i.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...r],u={tag:"button",classes:c,attributes:{title:s}};return jQ(e,t,o,u,a,n)},GQ=(e,t,n,o=[],r=[])=>{const s=WQ(e,L.some(t),n,o,r);return wB.sketch(s)},qQ=(e,t)=>n=>{"custom"===t?ba(n,N_,{name:e,value:{}}):"submit"===t?fa(n,Q_):"cancel"===t?fa(n,L_):console.error("Unknown button type: ",t)},ZQ=(e,t)=>"menu"===t,XQ=(e,t)=>"custom"===t||"cancel"===t||"submit"===t,JQ=(e,t,n)=>{if(ZQ(e,t)){const t=()=>s,o=e,r={...e,onSetup:t=>(t.setEnabled(e.enabled),v),fetch:VQ(o.items,t,n)},s=yB(PQ(r,"tox-tbtn",n,L.none()));return s.asSpec()}if(XQ(e,t)){const o=qQ(e.name,t),r={...e,borderless:!1};return GQ(r,o,n.shared.providers,[])}console.error("Unknown footer button type: ",t)},YQ=(e,t)=>{const n=qQ(e.name,"custom");return F_(L.none(),v_.parts.field({factory:wB,...WQ(e,L.some(n),t,[qL.memory(""),RL.self()])}))},$Q={type:"separator"},eD=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:v}),tD=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:v}),nD=e=>j(e,eD),oD=(e,t)=>G(t,(t=>t.type===e)),rD=(e,t)=>nD(oD(e,t)),sD=e=>rD("header",e.targets),iD=e=>rD("anchor",e.targets),aD=e=>L.from(e.anchorTop).map((e=>tD("<top>",e))).toArray(),AD=e=>L.from(e.anchorBottom).map((e=>tD("<bottom>",e))).toArray(),lD=e=>j(e,(e=>tD(e,e))),cD=e=>Z(e,((e,t)=>{const n=0===e.length||0===t.length;return n?e.concat(t):e.concat($Q,t)}),[]),uD=(e,t)=>{const n=e.toLowerCase();return G(t,(e=>{const t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return Re(t.toLowerCase(),n)||Re(e.value.toLowerCase(),n)}))},dD=(e,t,n)=>{const o=rp.getValue(t),r=void 0!==o.meta.text?o.meta.text:o.value,s=n.getLinkInformation();return s.fold((()=>[]),(t=>{const o=uD(r,lD(n.getHistory(e)));return"file"===e?cD([o,uD(r,sD(t)),uD(r,$([aD(t),iD(t),AD(t)]))]):o}))},mD=$a("aria-invalid"),hD=(e,t,n,o)=>{const r=t.shared.providers,s=t=>{const o=rp.getValue(t);n.addToHistory(o.value,e.filetype)},i=v_.parts.field({factory:UQ,...o.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":mD,type:"url"},minChars:0,responseTime:0,fetch:o=>{const r=dD(e.filetype,o,n),s=HN(r,qC.BUBBLE_TO_SANDBOX,t,!1);return eO.pure(s)},getHotspot:e=>m.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(dO)&&dO.run(e).get(v)},typeaheadBehaviours:Cu($([n.getValidationHandler().map((t=>dO.config({getRoot:e=>Ct(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{l.getOpt(e).each((e=>{Kt(e.element,"title",r.translate(t))}))}},validator:{validate:n=>{const o=rp.getValue(n);return MQ.nu((n=>{t({type:e.filetype,url:o.value},(e=>{if("invalid"===e.status){const t=Yo.error(e.message);n(t)}else{const t=Yo.value(e.message);n(t)}}))}))},validateOnLoad:!1}}))).toArray(),[Vf.config({disabled:()=>!e.enabled||r.isDisabled()}),C_.config({}),Jw("urlinput-events",$(["file"===e.filetype?[ka(Ii(),(t=>{ba(t,U_,{name:e.name})}))]:[],[ka(Hi(),(t=>{ba(t,U_,{name:e.name}),s(t)})),ka(qi(),(t=>{ba(t,U_,{name:e.name}),s(t)}))]]))]])),eventOrder:{[Ii()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:yx(!1,1,"normal")},onExecute:(e,t,n)=>{ba(t,Q_,{})},onItemExecute:(t,n,o,r)=>{s(t),ba(t,U_,{name:e.name})}}),a=e.label.map((e=>O_(e,r))),A=(e,t,n=e,o=e)=>LB(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:r.translate(o),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},r.icons),l=yB(A("invalid",L.some(mD),"warning")),c=yB({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[l.asSpec()]}),u=n.getUrlPicker(e.filetype),d=$a("browser.url.event"),m=yB({dom:{tag:"div",classes:["tox-control-wrap"]},components:[i,c.asSpec()],behaviours:Cu([Vf.config({disabled:()=>!e.enabled||r.isDisabled()})])}),h=yB(GQ({name:e.name,icon:L.some("browse"),text:e.label.getOr(""),enabled:e.enabled,primary:!1,buttonType:L.none(),borderless:!0},(e=>fa(e,d)),r,[],["tox-browse-url"])),g=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:$([[m.asSpec()],u.map((()=>h.asSpec())).toArray()])}),p=t=>{Cf.getCurrent(t).each((n=>{const o=rp.getValue(n),r={fieldname:e.name,...o};u.each((o=>{o(r).get((o=>{rp.setValue(n,o),ba(t,U_,{name:e.name})}))}))}))};return v_.sketch({dom:E_(),components:a.toArray().concat([g()]),fieldBehaviours:Cu([Vf.config({disabled:()=>!e.enabled||r.isDisabled(),onDisabled:e=>{v_.getField(e).each(Vf.disable),h.getOpt(e).each(Vf.disable)},onEnabled:e=>{v_.getField(e).each(Vf.enable),h.getOpt(e).each(Vf.enable)}}),fF(),Jw("url-input-events",[ka(d,p)])])})},gD=(e,t)=>m_.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[wB.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:EB(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:t=>{ba(t,N_,{name:"alert-banner",value:e.url})},buttonBehaviours:Cu([UB()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]}),pD=(e,t)=>{e.dom.checked=t},fD=e=>e.dom.checked,bD=(e,t,n)=>{const o=e=>(e.element.dom.click(),L.some(!0)),r=v_.parts.field({factory:{sketch:x},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Cu([RL.self(),Vf.config({disabled:()=>!e.enabled||t.isDisabled()}),C_.config({}),iy.config({}),qL.withElement(n,fD,pD),Qw.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),Jw("checkbox-events",[ka(Hi(),((t,n)=>{ba(t,U_,{name:e.name})}))])])}),s=v_.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Tl(t.translate(e.label))],behaviours:Cu([PO.config({})])}),i=e=>{const n="checked"===e?"selected":"unselected";return LB(n,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons)},a=yB({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[i("checked"),i("unchecked")]});return v_.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[r,a.asSpec(),s],fieldBehaviours:Cu([Vf.config({disabled:()=>!e.enabled||t.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:e=>{v_.getField(e).each(Vf.disable)},onEnabled:e=>{v_.getField(e).each(Vf.enable)}}),fF()])})},vD=e=>"presentation"===e.presets?m_.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):m_.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Cu([C_.config({}),iy.config({})])}),wD=e=>(t,n,o,r)=>xe(n,"name").fold((()=>e(n,r,L.none())),(s=>t.field(s,e(n,r,xe(o,s))))),yD=e=>(t,n,o,r)=>{const s=fr(n,{source:"dynamic"});return wD(e)(t,s,o,r)},BD={bar:wD(((e,t)=>g_(e,t.shared))),collection:wD(((e,t,n)=>R_(e,t.shared.providers,n))),alertbanner:wD(((e,t)=>gD(e,t.shared.providers))),input:wD(((e,t,n)=>cQ(e,t.shared.providers,n))),textarea:wD(((e,t,n)=>uQ(e,t.shared.providers,n))),label:wD(((e,t)=>bN(e,t.shared))),iframe:yD(((e,t,n)=>mN(e,t.shared.providers,n))),button:wD(((e,t)=>YQ(e,t.shared.providers))),checkbox:wD(((e,t,n)=>bD(e,t.shared.providers,n))),colorinput:wD(((e,t,n)=>WO(e,t.shared,t.colorinput,n))),colorpicker:wD(((e,t,n)=>JL(e,t.shared.providers,n))),dropzone:wD(((e,t,n)=>oN(e,t.shared.providers,n))),grid:wD(((e,t)=>rN(e,t.shared))),listbox:wD(((e,t,n)=>jN(e,t,n))),selectbox:wD(((e,t,n)=>GN(e,t.shared.providers,n))),sizeinput:wD(((e,t)=>iQ(e,t.shared.providers))),slider:wD(((e,t,n)=>aQ(e,t.shared.providers,n))),urlinput:wD(((e,t,n)=>hD(e,t,t.urlinput,n))),customeditor:wD(eN),htmlpanel:wD(vD),imagepreview:wD(((e,t,n)=>fN(e,n))),table:wD(((e,t)=>AQ(e,t.shared.providers))),panel:wD(((e,t)=>zN(e,t)))},CD={field:(e,t)=>t,record:C([])},xD=(e,t,n,o)=>{const r=fr(o,{shared:{interpreter:t=>SD(e,t,n,r)}});return SD(e,t,n,r)},SD=(e,t,n,o)=>xe(BD,t.type).fold((()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t)),(r=>r(e,t,n,o))),FD=(e,t,n)=>SD(CD,e,t,n),kD="layout-inset",ED=e=>e.x,_D=(e,t)=>e.x+e.width/2-t.width/2,OD=(e,t)=>e.x+e.width-t.width,UD=e=>e.y,TD=(e,t)=>e.y+e.height-t.height,LD=(e,t)=>e.y+e.height/2-t.height/2,ND=(e,t,n)=>Sc(OD(e,t),TD(e,t),n.insetSouthwest(),Lc(),"southwest",Pc(e,{right:0,bottom:3}),kD),QD=(e,t,n)=>Sc(ED(e),TD(e,t),n.insetSoutheast(),Tc(),"southeast",Pc(e,{left:1,bottom:3}),kD),DD=(e,t,n)=>Sc(OD(e,t),UD(e),n.insetNorthwest(),Uc(),"northwest",Pc(e,{right:0,top:2}),kD),ID=(e,t,n)=>Sc(ED(e),UD(e),n.insetNortheast(),Oc(),"northeast",Pc(e,{left:1,top:2}),kD),HD=(e,t,n)=>Sc(_D(e,t),UD(e),n.insetNorth(),Nc(),"north",Pc(e,{top:2}),kD),MD=(e,t,n)=>Sc(_D(e,t),TD(e,t),n.insetSouth(),Qc(),"south",Pc(e,{bottom:3}),kD),RD=(e,t,n)=>Sc(OD(e,t),LD(e,t),n.insetEast(),Ic(),"east",Pc(e,{right:0}),kD),PD=(e,t,n)=>Sc(ED(e),LD(e,t),n.insetWest(),Dc(),"west",Pc(e,{left:1}),kD),VD=e=>{switch(e){case"north":return HD;case"northeast":return ID;case"northwest":return DD;case"south":return MD;case"southeast":return QD;case"southwest":return ND;case"east":return RD;case"west":return PD}},jD=(e,t,n,o,r)=>{const s=ed(o).map(VD).getOr(HD);return s(e,t,n,o,r)},zD=e=>{switch(e){case"north":return MD;case"northeast":return QD;case"northwest":return ND;case"south":return HD;case"southeast":return ID;case"southwest":return DD;case"east":return PD;case"west":return RD}},KD=(e,t,n,o,r)=>{const s=ed(o).map(zD).getOr(HD);return s(e,t,n,o,r)},WD={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},GD=(e,t,n)=>{const o=12,r={maxHeightFunction:Nd()},s=()=>({type:"node",root:Qt(e()),node:L.from(e()),bubble:Md(o,o,WD),layouts:{onRtl:()=>[ID],onLtr:()=>[DD]},overrides:r}),i=()=>({type:"hotspot",hotspot:t(),bubble:Md(-o,o,WD),layouts:{onRtl:()=>[Yc],onLtr:()=>[$c]},overrides:r});return()=>n()?s():i()},qD=(e,t,n)=>{const o=()=>({type:"node",root:Qt(e()),node:L.from(e()),layouts:{onRtl:()=>[HD],onLtr:()=>[HD]}}),r=()=>({type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[ou],onLtr:()=>[ou]}});return()=>n()?o():r()},ZD=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng();return L.some(Tm.range($e.fromDom(t.startContainer),t.startOffset,$e.fromDom(t.endContainer),t.endOffset))}}),XD=e=>t=>({type:"node",root:e(),node:t}),JD=(e,t,n)=>{const o=DC(e),r=()=>$e.fromDom(e.getBody()),s=()=>$e.fromDom(e.getContentAreaContainer()),i=()=>o||!n();return{inlineDialog:GD(s,t,i),banner:qD(s,t,i),cursor:ZD(e,r),node:XD(r)}},YD=e=>(t,n)=>{const o=sE(e);o(t,n)},$D=e=>()=>jk(e),eI=e=>()=>zk(e),tI=e=>()=>Vk(e),nI=e=>({colorPicker:YD(e),hasCustomColors:$D(e),getColors:eI(e),getColorCols:tI(e)}),oI=e=>()=>wC(e),rI=e=>({isDraggableModal:oI(e)}),sI=e=>{const t=ei(NC(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}},iI=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],aI=e=>Se(e,"items"),AI=e=>Se(e,"block"),lI=e=>Se(e,"inline"),cI=e=>Se(e,"selector"),uI=e=>Z(e,((e,t)=>{if(aI(t)){const n=uI(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(lI(t)||AI(t)||cI(t)){const n=a(t.name)?t.name:t.title.toLowerCase(),o=`custom-${n}`;return{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),dI=(e,t)=>{const n=uI(t),o=t=>{z(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?o(n.customFormats):e.on("init",(()=>{o(n.customFormats)})),n.formats},mI=e=>eC(e).map((t=>{const n=dI(e,t);return tC(e)?iI.concat(n):n})).getOr(iI),hI=(e,t,n)=>{const o={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return fr(e,o)},gI=(e,t,n,o)=>{const r=e=>hI(e,n,o),s=e=>{const t={type:"submenu"};return fr(e,t)},i=t=>{const r=a(t.name)?t.name:$a(t.title),s=`custom-${r}`,i={type:"formatter",format:s,isSelected:n(s),getStylePreview:o(s)},A=fr(t,i);return e.formatter.register(r,A),A},A=e=>j(e,(e=>{const t=de(e);if(Fe(e,"items")){const t=A(e.items);return fr(s(e),{getStyleItems:C(t)})}return Fe(e,"format")?r(e):1===t.length&&M(t,"title")?fr(e,{type:"separator"}):i(e)}));return A(t)},pI=e=>{const t=t=>()=>e.formatter.match(t),n=t=>()=>{const n=e.formatter.get(t);return void 0!==n?L.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):L.none()},o=e=>{const t=e.items;return void 0!==t&&t.length>0?ee(t,o):[e.format]},r=ei([]),s=ei([]),i=ei([]),a=ei([]),A=ei(!1);e.on("PreInit",(i=>{const a=mI(e),A=gI(e,a,t,n);r.set(A),s.set(ee(A,o))})),e.on("addStyleModifications",(r=>{const s=gI(e,r.items,t,n);i.set(s),A.set(r.replace),a.set(ee(s,o))}));const l=()=>{const e=A.get()?[]:r.get(),t=i.get();return e.concat(t)},c=()=>{const e=A.get()?[]:s.get(),t=a.get();return e.concat(t)};return{getData:l,getFlattenedKeys:c}},fI=e=>g(e)&&1===e.nodeType,bI=tN.trim,vI=e=>t=>{if(fI(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},wI=vI("true"),yI=vI("false"),BI=(e,t,n,o,r)=>({type:e,title:t,url:n,level:o,attach:r}),CI=e=>{while(e=e.parentNode){const t=e.contentEditable;if(t&&"inherit"!==t)return wI(e)}return!1},xI=(e,t)=>j(Wm($e.fromDom(t),e),(e=>e.dom)),SI=e=>e.innerText||e.textContent,FI=e=>e.id?e.id:$a("h"),kI=e=>e&&"A"===e.nodeName&&void 0!==(e.id||e.name),EI=e=>kI(e)&&OI(e),_I=e=>e&&/^(H[1-6])$/.test(e.nodeName),OI=e=>CI(e)&&!yI(e),UI=e=>_I(e)&&OI(e),TI=e=>_I(e)?parseInt(e.nodeName.substr(1),10):0,LI=e=>{const t=FI(e),n=()=>{e.id=t};return BI("header",SI(e),"#"+t,TI(e),n)},NI=e=>{const t=e.id||e.name,n=SI(e);return BI("anchor",n||"#"+t,"#"+t,0,v)},QI=e=>j(G(e,UI),LI),DI=e=>j(G(e,EI),NI),II=e=>{const t=xI("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t},HI=e=>bI(e.title).length>0,MI=e=>{const t=II(e);return G(QI(t).concat(DI(t)),HI)},RI={find:MI},PI="tinymce-url-history",VI=5,jI=e=>a(e)&&/^https?/.test(e),zI=e=>c(e)&&e.length<=VI&&te(e,jI),KI=e=>A(e)&&Be(e,(e=>!zI(e))).isNone(),WI=()=>{const e=Nk.getItem(PI);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+PI+" was not valid JSON",n),{};throw n}return KI(t)?t:(console.log("Local storage "+PI+" was not valid format",t),{})},GI=e=>{if(!KI(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));Nk.setItem(PI,JSON.stringify(e))},qI=e=>{const t=WI();return xe(t,e).getOr([])},ZI=(e,t)=>{if(!jI(e))return;const n=WI(),o=xe(n,t).getOr([]),r=G(o,(t=>t!==e));n[t]=[e].concat(r).slice(0,VI),GI(n)},XI=e=>!!e,JI=e=>ge(tN.makeMap(e,/[, ]/),XI),YI=e=>L.from(hC(e)),$I=e=>{const t=L.from(pC(e)).filter(XI).map(JI);return YI(e).fold(O,(e=>t.fold(U,(e=>de(e).length>0&&e))))},eH=(e,t)=>{const n=$I(e);return d(n)?n?YI(e):L.none():n[t]?YI(e):L.none()},tH=(e,t)=>eH(e,t).map((n=>o=>eO.nu((r=>{const s=(e,t)=>{if(!a(e))throw new Error("Expected value to be string");if(void 0!==t&&!A(t))throw new Error("Expected meta to be a object");const n={value:e,meta:t};r(n)},i={filetype:t,fieldname:o.fieldname,...L.from(o.meta).getOr({})};n.call(e,s,o.value,i)})))),nH=e=>L.from(e).filter(a).getOrUndefined(),oH=e=>fC(e)?L.some({targets:RI.find(e.getBody()),anchorTop:nH(bC(e)),anchorBottom:nH(vC(e))}):L.none(),rH=e=>L.from(gC(e)),sH=e=>({getHistory:qI,addToHistory:ZI,getLinkInformation:()=>oH(e),getValidationHandler:()=>rH(e),getUrlPicker:t=>tH(e,t)}),iH=(e,t,n)=>{const o=ei(!1),r=sI(t),s={shared:{providers:{icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:BB.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},interpreter:e=>FD(e,{},s),anchors:JD(t,n,r.isPositionedAtTop),header:r,getSink:e},urlinput:sH(t),styles:pI(t),colorinput:nI(t),dialog:rI(t),isContextMenuOpen:()=>o.get(),setContextMenuState:e=>o.set(e)};return s},aH=(e,t,n)=>{const o=(e,o)=>{z([t,n],(t=>{t.broadcastEvent(e,o)}))},r=(e,o)=>{z([t,n],(t=>{t.broadcastOn([e],o)}))},s=e=>r(Cg(),{target:e.target}),i=Do(),a=md(i,"touchstart",s),A=md(i,"touchmove",(e=>o(oa(),e))),l=md(i,"touchend",(e=>o(ra(),e))),c=md(i,"mousedown",s),u=md(i,"mouseup",(e=>{0===e.raw.button&&r(Sg(),{target:e.target})})),d=e=>r(Cg(),{target:$e.fromDom(e.target)}),m=e=>{0===e.button&&r(Sg(),{target:$e.fromDom(e.target)})},h=()=>{z(e.editorManager.get(),(t=>{e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})}))},g=e=>o(sa(),gd(e)),p=e=>{r(xg(),{}),o(ia(),gd(e))},f=()=>r(xg(),{}),b=t=>{t.state&&r(Cg(),{target:$e.fromDom(e.getContainer())})},v=e=>{r(Cg(),{target:$e.fromDom(e.relatedTarget.getContainer())})};e.on("PostRender",(()=>{e.on("click",d),e.on("tap",d),e.on("mouseup",m),e.on("mousedown",h),e.on("ScrollWindow",g),e.on("ResizeWindow",p),e.on("ResizeEditor",f),e.on("AfterProgressState",b),e.on("DismissPopups",v)})),e.on("remove",(()=>{e.off("click",d),e.off("tap",d),e.off("mouseup",m),e.off("mousedown",h),e.off("ScrollWindow",g),e.off("ResizeWindow",p),e.off("ResizeEditor",f),e.off("AfterProgressState",b),e.off("DismissPopups",v),c.unbind(),a.unbind(),A.unbind(),l.unbind(),u.unbind()})),e.on("detach",(()=>{ng(t),ng(n),t.destroy(),n.destroy()}))},AH=af,lH=Vp,cH=C([zs("shell",!1),xs("makeItem"),zs("setupItem",v),Ap.field("listBehaviours",[Zw])]),uH=()=>({behaviours:Cu([Zw.config({})])}),dH=Mp({name:"items",overrides:uH}),mH=C([dH]),hH=C("CustomList"),gH=(e,t,n,o)=>{const r=(t,n)=>{i(t).fold((()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(o=>{const r=Zw.contents(o),s=n.length,i=s-r.length,a=i>0?P(i,(()=>e.makeItem())):[],A=r.slice(s);z(A,(e=>Zw.remove(o,e))),z(a,(e=>Zw.append(o,e)));const l=Zw.contents(o);z(l,((o,r)=>{e.setupItem(t,o,n[r],r)}))}))},s=e.shell?{behaviours:[Zw.config({})],components:[]}:{behaviours:[],components:t},i=t=>e.shell?L.some(t):Yp(t,e,"items");return{uid:e.uid,dom:e.dom,components:s.components,behaviours:ap(e.listBehaviours,s.behaviours),apis:{setItems:r}}},pH=bf({name:hH(),configFields:cH(),partFields:mH(),factory:gH,apis:{setItems:(e,t,n)=>{e.setItems(t,n)}}}),fH=C([xs("dom"),zs("shell",!0),sp("toolbarBehaviours",[Zw])]),bH=()=>({behaviours:Cu([Zw.config({})])}),vH=C([Mp({name:"groups",overrides:bH})]),wH=(e,t,n,o)=>{const r=(e,t)=>{s(e).fold((()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{Zw.set(e,t)}))},s=t=>e.shell?L.some(t):Yp(t,e,"groups"),i=e.shell?{behaviours:[Zw.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:ap(e.toolbarBehaviours,i.behaviours),apis:{setGroups:r},domModification:{attributes:{role:"group"}}}},yH=bf({name:"Toolbar",configFields:fH(),partFields:vH(),factory:wH,apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)}}}),BH=v,CH=O,xH=C([]);var SH=Object.freeze({__proto__:null,setup:BH,isDocked:CH,getBehaviours:xH});const FH=e=>{const t=ke(sn(e,"position"),"fixed"),n=t?L.none():xt(e);return n.orThunk((()=>{const t=$e.fromTag("span");return Bt(e).bind((e=>{Fo(e,t);const n=xt(t);return Oo(t),n}))}))},kH=e=>FH(e).map(wn).getOrThunk((()=>fn(0,0))),EH=ni.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),_H=(e,t)=>{const n=e.element;tl(n,t.transitionClass),ol(n,t.fadeOutClass),tl(n,t.fadeInClass),t.onShow(e)},OH=(e,t)=>{const n=e.element;tl(n,t.transitionClass),ol(n,t.fadeInClass),tl(n,t.fadeOutClass),t.onHide(e)},UH=(e,t)=>e.y<t.bottom&&e.bottom>t.y,TH=(e,t)=>e.y>=t.y,LH=(e,t)=>e.bottom<=t.bottom,NH=(e,t,n)=>te(e,(e=>{switch(e){case"bottom":return LH(t,n);case"top":return TH(t,n)}})),QH=(e,t)=>t.getInitialPos().map((t=>Ko(t.bounds.x,t.bounds.y,xn(e),mn(e)))),DH=(e,t,n)=>{n.setInitialPos({style:an(e),position:on(e,"position")||"static",bounds:t})},IH=(e,t,n)=>n.getInitialPos().bind((o=>{switch(n.clearInitialPos(),o.position){case"static":return L.some(EH.static());case"absolute":const n=FH(e).map(Wo).getOrThunk((()=>Wo(Vt())));return L.some(EH.absolute(Hu("absolute",xe(o.style,"left").map((e=>t.x-n.x)),xe(o.style,"top").map((e=>t.y-n.y)),xe(o.style,"right").map((e=>n.right-t.right)),xe(o.style,"bottom").map((e=>n.bottom-t.bottom)))));default:return L.none()}})),HH=(e,t,n)=>QH(e,n).filter((e=>NH(n.getModes(),e,t))).bind((t=>IH(e,t,n))),MH=(e,t,n)=>{const o=Wo(e);if(NH(n.getModes(),o,t))return L.none();{DH(e,o,n);const r=qo(),s=o.x-r.x,i=t.y-r.y,a=r.bottom-t.bottom,A=o.y<=t.y;return L.some(EH.fixed(Hu("fixed",L.some(s),A?L.some(i):L.none(),L.none(),A?L.none():L.some(a))))}},RH=(e,t,n)=>{const o=e.element,r=ke(sn(o,"position"),"fixed");return r?HH(o,t,n):MH(o,t,n)},PH=(e,t)=>{const n=e.element;return QH(n,t).bind((e=>IH(n,e,t)))},VH=(e,t,n)=>{n.setDocked(!1),z(["left","right","top","bottom","position"],(t=>ln(e.element,t))),t.onUndocked(e)},jH=(e,t,n,o)=>{const r="fixed"===o.position;n.setDocked(r),Ru(e.element,o);const s=r?t.onDocked:t.onUndocked;s(e)},zH=(e,t,n,o,r=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((s=>{const i=UH(s,o);if(i!==n.isVisible())if(n.setVisible(i),r&&!i)sl(e.element,[t.fadeOutClass]),t.onHide(e);else{const n=i?_H:OH;n(e,t)}}))}))},KH=(e,t,n)=>{const o=t.lazyViewport(e),r=n.isDocked();r&&zH(e,t,n,o),RH(e,o,n).each((r=>{r.fold((()=>VH(e,t,n)),(o=>jH(e,t,n,o)),(r=>{zH(e,t,n,o,!0),jH(e,t,n,r)}))}))},WH=(e,t,n)=>{const o=e.element;n.setDocked(!1),PH(e,n).each((o=>{o.fold((()=>VH(e,t,n)),(o=>jH(e,t,n,o)),v)})),n.setVisible(!0),t.contextual.each((t=>{il(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),GH(e,t,n)},GH=(e,t,n)=>{e.getSystem().isConnected()&&KH(e,t,n)},qH=(e,t,n)=>{n.isDocked()&&WH(e,t,n)},ZH=(e,t,n)=>n.isDocked(),XH=(e,t,n,o)=>n.setModes(o),JH=(e,t,n)=>n.getModes();var YH=Object.freeze({__proto__:null,refresh:GH,reset:qH,isDocked:ZH,getModes:JH,setModes:XH});const $H=(e,t)=>Ca([Da(Pi(),((n,o)=>{e.contextual.each((e=>{if(rl(n.element,e.transitionClass)){il(n.element,[e.transitionClass,e.fadeInClass]);const o=t.isVisible()?e.onShown:e.onHidden;o(n)}o.stop()}))})),ka(sa(),((n,o)=>{GH(n,e,t)})),ka(ia(),((n,o)=>{qH(n,e,t)}))]);var eM=Object.freeze({__proto__:null,events:$H}),tM=[Vs("contextual",[ks("fadeInClass"),ks("fadeOutClass"),ks("transitionClass"),Os("lazyContext"),bc("onShow"),bc("onShown"),bc("onHide"),bc("onHidden")]),Xs("lazyViewport",qo),Ys("modes",["top","bottom"],rs),bc("onDocked"),bc("onUndocked")];const nM=e=>{const t=ei(!1),n=ei(!0),o=ud(),r=ei(e.modes),s=()=>`docked:  ${t.get()}, visible: ${n.get()}, modes: ${r.get().join(",")}`;return yA({isDocked:t.get,setDocked:t.set,getInitialPos:o.get,setInitialPos:o.set,clearInitialPos:o.clear,isVisible:n.get,setVisible:n.set,getModes:r.get,setModes:r.set,readState:s})};var oM=Object.freeze({__proto__:null,init:nM});const rM=Su({fields:tM,name:"docking",active:eM,apis:YH,state:oM}),sM=C($a("toolbar-height-change")),iM={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},aM="tox-tinymce--toolbar-sticky-on",AM="tox-tinymce--toolbar-sticky-off",lM=(e,t)=>{const n=bt(t),o=n.dom.defaultView.innerHeight,r=Uo(n),s=$e.fromDom(e.elm),i=Go(s),a=mn(s),A=i.y,l=A+a,c=wn(t),u=mn(t),d=c.top,m=d+u,h=Math.abs(d-r.top)<2,g=Math.abs(m-(r.top+o))<2;if(h&&A<m)To(r.left,A-u,n);else if(g&&l>d){const e=A-o+a+u;To(r.left,e,n)}},cM=(e,t)=>M(rM.getModes(e),t),uM=e=>{const t=e=>hn(e)+(parseInt(on(e,"margin-top"),10)||0)+(parseInt(on(e,"margin-bottom"),10)||0),n=e.element;Bt(n).each((o=>{const r="padding-"+rM.getModes(e)[0];if(rM.isDocked(e)){const e=xn(o);en(n,"width",e+"px"),en(o,r,t(n)+"px")}else ln(n,"width"),ln(o,r)}))},dM=(e,t)=>{t?(ol(e,iM.fadeOutClass),sl(e,[iM.transitionClass,iM.fadeInClass])):(ol(e,iM.fadeInClass),sl(e,[iM.fadeOutClass,iM.transitionClass]))},mM=(e,t)=>{const n=$e.fromDom(e.getContainer());t?(tl(n,aM),ol(n,AM)):(tl(n,AM),ol(n,aM))},hM=(e,t)=>{const n=bt(t);Qu(n).filter((e=>!pt(t,e))).filter((t=>pt(t,$e.fromDom(n.dom.body))||ft(e,t))).each((()=>Tu(t)))},gM=(e,t)=>Du(e).orThunk((()=>t().toOptional().bind((e=>Du(e.element))))),pM=(e,t,n)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(()=>{n().each(rM.reset)})),e.on("ResizeWindow ResizeEditor",(()=>{n().each(uM)})),e.on("SkinLoaded",(()=>{n().each((e=>{rM.isDocked(e)?rM.reset(e):rM.refresh(e)}))})),e.on("FullscreenStateChanged",(()=>{n().each(rM.reset)}))),e.on("AfterScrollIntoView",(e=>{n().each((t=>{rM.refresh(t);const n=t.element;ov(n)&&lM(e,n)}))})),e.on("PostRender",(()=>{mM(e,!1)}))},fM=e=>e().map(rM.isDocked).getOr(!1),bM=()=>[_u.config({channels:{[sM()]:{onReceive:uM}}})],vM=(e,t)=>{const n=ud(),o=t.getSink,r=e=>{o().each((t=>e(t.element)))},s=t=>{e.inline||uM(t),mM(e,rM.isDocked(t)),t.getSystem().broadcastOn([xg()],{}),o().each((e=>e.getSystem().broadcastOn([xg()],{})))},i=e.inline?[]:bM();return[iy.config({}),rM.config({contextual:{lazyContext:t=>{const n=hn(t.element),o=e.inline?e.getContentAreaContainer():e.getContainer(),r=Wo($e.fromDom(o)),s=r.height-n,i=r.y+(cM(t,"top")?0:n);return L.some(Ko(r.x,i,r.width,s))},onShow:()=>{r((e=>dM(e,!0)))},onShown:e=>{r((e=>il(e,[iM.transitionClass,iM.fadeInClass]))),n.get().each((t=>{hM(e.element,t),n.clear()}))},onHide:e=>{gM(e.element,o).fold(n.clear,n.set),r((e=>dM(e,!1)))},onHidden:()=>{r((e=>il(e,[iM.transitionClass])))},...iM},lazyViewport:t=>{const n=qo(),o=uC(e),r=n.y+(cM(t,"top")?o:0),s=n.height-(cM(t,"bottom")?o:0);return Ko(n.x,r,n.width,s)},modes:[t.header.getDockingMode()],onDocked:s,onUndocked:s}),...i]};var wM=Object.freeze({__proto__:null,setup:pM,isDocked:fM,getBehaviours:vM});const yM=e=>{const t=e.editor,n=e.sticky?vM:xH;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Cu(n(t,e.sharedBackstage))}},BM=Zr([Tx,Ss("items",Jr([es([Lx,Ns("items",rs)]),rs]))].concat(dS)),CM=e=>gs("GroupToolbarButton",BM,e),xM=[Hs("text"),Hs("tooltip"),Hs("icon"),Os("fetch"),Xs("onSetup",(()=>v))],SM=Zr([Tx,...xM]),FM=e=>gs("menubutton",SM,e),kM=Zr([Tx,Gx,Wx,Kx,Xx,Mx,jx,qs("presets","normal",["normal","color","listpreview"]),tS(1),Px,Vx]),EM=e=>gs("SplitButton",kM,e),_M=(e,t)=>{const n=(e,n)=>{const o=j(n,(e=>{const n={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}},o=FM(n).mapError((e=>bs(e))).getOrDie();return PQ(o,"tox-mbtn",t.backstage,L.some("menuitem"))}));Zw.set(e,o)},o={focus:Qw.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:Cu([Zw.config({}),Jw("menubar-events",[Ia((t=>{e.onSetup(t)})),ka(Ti(),((e,t)=>{Gl(e.element,".tox-mbtn--active").each((n=>{ql(t.event.target,".tox-mbtn").each((t=>{pt(n,t)||e.getSystem().getByDom(n).each((n=>{e.getSystem().getByDom(t).each((e=>{IO.expand(e),IO.close(n),iy.focus(e)}))}))}))}))})),ka(ua(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((n=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{IO.isOpen(n)&&(IO.expand(e),IO.close(n))}))}))}))]),Qw.config({mode:"flow",selector:".tox-mbtn",onEscape:t=>(e.onEscape(t),L.some(!0))}),C_.config({})]),apis:o,domModification:{attributes:{role:"menubar"}}}};var OM=ff({factory:_M,name:"silver.Menubar",configFields:[xs("dom"),xs("uid"),xs("onEscape"),xs("backstage"),zs("onSetup",v)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,n)=>{e.setMenus(t,n)}}});const UM=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),TM=e=>e.dimension.property,LM=(e,t)=>e.dimension.getDimension(t),NM=(e,t)=>{const n=UM(e,t);il(n,[t.shrinkingClass,t.growingClass])},QM=(e,t)=>{ol(e.element,t.openClass),tl(e.element,t.closedClass),en(e.element,TM(t),"0px"),cn(e.element)},DM=(e,t)=>{ol(e.element,t.closedClass),tl(e.element,t.openClass),ln(e.element,TM(t))},IM=(e,t,n,o)=>{n.setCollapsed(),en(e.element,TM(t),LM(t,e.element)),NM(e,t),QM(e,t),t.onStartShrink(e),t.onShrunk(e)},HM=(e,t,n,o)=>{const r=o.getOrThunk((()=>LM(t,e.element)));n.setCollapsed(),en(e.element,TM(t),r),cn(e.element);const s=UM(e,t);ol(s,t.growingClass),tl(s,t.shrinkingClass),QM(e,t),t.onStartShrink(e)},MM=(e,t,n)=>{const o=LM(t,e.element),r="0px"===o?IM:HM;r(e,t,n,L.some(o))},RM=(e,t,n)=>{const o=UM(e,t),r=rl(o,t.shrinkingClass),s=LM(t,e.element);DM(e,t);const i=LM(t,e.element),a=()=>{en(e.element,TM(t),s),cn(e.element)},A=()=>{QM(e,t)},l=r?a:A;l(),ol(o,t.shrinkingClass),tl(o,t.growingClass),DM(e,t),en(e.element,TM(t),i),n.setExpanded(),t.onStartGrow(e)},PM=(e,t,n)=>{if(n.isExpanded()){ln(e.element,TM(t));const n=LM(t,e.element);en(e.element,TM(t),n)}},VM=(e,t,n)=>{n.isExpanded()||RM(e,t,n)},jM=(e,t,n)=>{n.isExpanded()&&MM(e,t,n)},zM=(e,t,n)=>{n.isExpanded()&&IM(e,t,n)},KM=(e,t,n)=>n.isExpanded(),WM=(e,t,n)=>n.isCollapsed(),GM=(e,t,n)=>{const o=UM(e,t);return!0===rl(o,t.growingClass)},qM=(e,t,n)=>{const o=UM(e,t);return!0===rl(o,t.shrinkingClass)},ZM=(e,t,n)=>GM(e,t)||qM(e,t),XM=(e,t,n)=>{const o=n.isExpanded()?MM:RM;o(e,t,n)},JM=(e,t,n)=>{n.isExpanded()||(DM(e,t),en(e.element,TM(t),LM(t,e.element)),NM(e,t),n.setExpanded(),t.onStartGrow(e),t.onGrown(e))};var YM=Object.freeze({__proto__:null,refresh:PM,grow:VM,shrink:jM,immediateShrink:zM,hasGrown:KM,hasShrunk:WM,isGrowing:GM,isShrinking:qM,isTransitioning:ZM,toggleGrow:XM,disableTransitions:NM,immediateGrow:JM});const $M=(e,t,n)=>{const o=t.expanded;return FA(o?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Ai(t.dimension.property,"0px")})},eR=(e,t)=>Ca([Da(Pi(),((n,o)=>{const r=o.event.raw;if(r.propertyName===e.dimension.property){NM(n,e),t.isExpanded()&&ln(n.element,e.dimension.property);const o=t.isExpanded()?e.onGrown:e.onShrunk;o(n)}}))]);var tR=Object.freeze({__proto__:null,exhibit:$M,events:eR}),nR=[xs("closedClass"),xs("openClass"),xs("shrinkingClass"),xs("growingClass"),Qs("getAnimationRoot"),bc("onShrunk"),bc("onStartShrink"),bc("onGrown"),bc("onStartGrow"),zs("expanded",!1),Ss("dimension",vs("property",{width:[Bc("property","width"),Bc("getDimension",(e=>xn(e)+"px"))],height:[Bc("property","height"),Bc("getDimension",(e=>mn(e)+"px"))]}))];const oR=e=>{const t=ei(e.expanded),n=()=>"expanded: "+t.get();return yA({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:F(t.set,!1),setExpanded:F(t.set,!0),readState:n})};var rR=Object.freeze({__proto__:null,init:oR});const sR=Su({fields:nR,name:"sliding",active:tR,apis:YM,state:rR}),iR="container",aR=[sp("slotBehaviours",[])],AR=e=>"<alloy.field."+e+">",lR=e=>{const t=(()=>{const e=[],t=(t,n)=>(e.push(t),Gp(iR,AR(t),n));return{slot:t,record:C(e)}})(),n=e(t),o=t.record(),r=j(o,(e=>Ip({name:e,pname:AR(e)})));return uf(iR,aR,r,cR,n)},cR=(e,t)=>{const n=t=>nf(e),o=(t,n)=>Yp(t,e,n),r=(t,n)=>(o,r)=>Yp(o,e,r).map((e=>t(e,r))).getOr(n),s=e=>(t,n)=>{z(n,(n=>e(t,n)))},i=(e,t)=>"true"!==Gt(e.element,"aria-hidden"),a=(e,t)=>{if(!i(e)){const n=e.element;ln(n,"display"),Xt(n,"aria-hidden"),ba(e,da(),{name:t,visible:!0})}},A=(e,t)=>{if(i(e)){const n=e.element;en(n,"display","none"),Kt(n,"aria-hidden","true"),ba(e,da(),{name:t,visible:!1})}},l=r(i,!1),c=r(A),u=s(c),d=e=>u(e,n()),m=r(a),h={getSlotNames:n,getSlot:o,isShowing:l,hideSlot:c,hideAllSlots:d,showSlot:m};return{uid:e.uid,dom:e.dom,components:t,behaviours:ip(e.slotBehaviours),apis:h}},uR=ge({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,n)=>e.getSlot(t,n),isShowing:(e,t,n)=>e.isShowing(t,n),hideSlot:(e,t,n)=>e.hideSlot(t,n),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,n)=>e.showSlot(t,n)},(e=>vA(e))),dR={...uR,sketch:lR},mR=Zr([Wx,Gx,Xs("onShow",v),Xs("onHide",v),jx]),hR=e=>gs("sidebar",mR,e),gR=e=>{const{sidebars:t}=e.ui.registry.getAll();z(de(t),(n=>{const o=t[n],r=()=>ke(L.from(e.queryCommandValue("ToggleSidebar")),n);e.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",!1,n),t.setActive(r())},onSetup:t=>{t.setActive(r());const n=()=>t.setActive(r());return e.on("ToggleSidebar",n),()=>{e.off("ToggleSidebar",n)}}})}))},pR=e=>({element:()=>e.element.dom}),fR=(e,t)=>{const n=j(de(t),(e=>{const n=t[e],o=ps(hR(n));return{name:e,getApi:pR,onSetup:o.onSetup,onShow:o.onShow,onHide:o.onHide}}));return j(n,(t=>{const o=ei(v);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:$S.unnamedEvents([xF(t,o),SF(t,o),ka(da(),((e,t)=>{const o=t.event,r=J(n,(e=>e.name===o.name));r.each((t=>{const n=o.visible?t.onShow:t.onHide;n(t.getApi(e))}))}))])})}))},bR=e=>dR.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:fR(t,e),slotBehaviours:$S.unnamedEvents([Ia((e=>dR.hideAllSlots(e)))])}))),vR=(e,t,n)=>{const o=Cf.getCurrent(e);o.each((e=>{Zw.set(e,[bR(t)]);const o=null===n||void 0===n?void 0:n.toLowerCase();a(n)&&Se(t,o)&&Cf.getCurrent(e).each((t=>{dR.showSlot(t,o),sR.immediateGrow(e),ln(e.element,"width")}))}))},wR=(e,t)=>{const n=Cf.getCurrent(e);n.each((e=>{const n=Cf.getCurrent(e);n.each((n=>{sR.hasGrown(e)?dR.isShowing(n,t)?sR.shrink(e):(dR.hideAllSlots(n),dR.showSlot(n,t)):(dR.hideAllSlots(n),dR.showSlot(n,t),sR.grow(e))}))}))},yR=e=>{const t=Cf.getCurrent(e);return t.bind((e=>{const t=sR.isGrowing(e)||sR.hasGrown(e);if(t){const t=Cf.getCurrent(e);return t.bind((e=>J(dR.getSlotNames(e),(t=>dR.isShowing(e,t)))))}return L.none()}))},BR=$a("FixSizeEvent"),CR=$a("AutoSizeEvent"),xR=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Cu([C_.config({}),iy.config({}),sR.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{const t=Cf.getCurrent(e);t.each(dR.hideAllSlots),fa(e,CR)},onGrown:e=>{fa(e,CR)},onStartGrow:e=>{ba(e,BR,{width:sn(e.element,"width").getOr("")})},onStartShrink:e=>{ba(e,BR,{width:xn(e.element)+"px"})}}),Zw.config({}),Cf.config({find:e=>{const t=Zw.contents(e);return Ae(t)}})])}],behaviours:Cu([RL.childAt(0),Jw("sidebar-sliding-events",[ka(BR,((e,t)=>{en(e.element,"width",t.event.width)})),ka(CR,((e,t)=>{ln(e.element,"width")}))])])}),SR=(e,t,n,o)=>{Kt(e.element,"aria-busy",!0);const r=t.getRoot(e).getOr(e),s=Cu([Qw.config({mode:"special",onTab:()=>L.some(!0),onShiftTab:()=>L.some(!0)}),iy.config({})]),i=o(r,s),a=r.getSystem().build(i);Zw.append(r,Hl(a)),a.hasConfigured(Qw)&&t.focus&&Qw.focusIn(a),n.isBlocked()||t.onBlock(e),n.blockWith((()=>Zw.remove(r,a)))},FR=(e,t,n)=>{Xt(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()};var kR=Object.freeze({__proto__:null,block:SR,unblock:FR}),ER=[Xs("getRoot",L.none),Zs("focus",!0),bc("onBlock"),bc("onUnblock")];const _R=()=>{const e=ld(),t=t=>{e.set({destroy:t})};return yA({readState:e.isSet,blockWith:t,clear:e.clear,isBlocked:e.isSet})};var OR=Object.freeze({__proto__:null,init:_R});const UR=Su({fields:ER,name:"blocking",apis:kR,state:OR}),TR=e=>{const t=void 0!==e.dom.attributes?e.dom.attributes:[];return Z(t,((e,t)=>"class"===t.name?e:{...e,[t.name]:t.value}),{})},LR=e=>Array.prototype.slice.call(e.dom.classList,0),NR=e=>{const t=$e.fromHtml(e),n=Ft(t),o=TR(t),r=LR(t),s=0===n.length?{}:{innerHtml:Va(t)};return{tag:rt(t),classes:r,attributes:o,...s}},QR=e=>(t,n)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:NR('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),DR=e=>Cf.getCurrent(e).each((e=>Tu(e.element))),IR=(e,t)=>{const n="tabindex",o=`data-mce-${n}`;L.from(e.iframeElement).map($e.fromDom).each((e=>{t?(qt(e,n).each((t=>Kt(e,o,t))),Kt(e,n,-1)):(Xt(e,n),qt(e,o).each((t=>{Kt(e,n,t),Xt(e,o)})))}))},HR=(e,t,n,o)=>{const r=t.element;if(IR(e,n),n)UR.block(t,QR(o)),ln(r,"display"),Xt(r,"aria-hidden"),e.hasFocus()&&DR(t);else{const n=Cf.getCurrent(t).exists((e=>Nu(e.element)));UR.unblock(t),en(r,"display","none"),Kt(r,"aria-hidden","true"),n&&e.focus()}},MR=e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Cu([Zw.config({}),UR.config({focus:!1}),Cf.config({find:e=>Ae(e.components())})]),components:[]}),RR=e=>"focusin"===e.type,PR=e=>{if(RR(e)){const t=e.composed?Ae(e.composedPath()):L.from(e.target);return t.map($e.fromDom).filter(at).exists((e=>rl(e,"mce-pastebin")))}return!1},VR=(e,t,n)=>{const o=ei(!1),r=ud(),s=n=>{o.get()&&!PR(n)&&(n.preventDefault(),DR(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",s),e.on("BeforeExecCommand",(e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&s(e)}))}));const i=r=>{r!==o.get()&&(o.set(r),HR(e,t(),r,n.providers),e.dispatch("AfterProgressState",{state:r}))};e.on("ProgressState",(t=>{if(r.on(clearTimeout),f(t.time)){const n=bB.setEditorTimeout(e,(()=>i(t.state)),t.time);r.set(n)}else i(t.state),r.clear()}))},jR=(e,t)=>{const n={len:0,list:[]},o=Z(e,((e,n)=>{const o=t(n,e.len);return o.fold(C(e),(t=>({len:t.finish,list:e.list.concat([t])})))}),n);return o.list},zR=(e,t,n)=>({within:e,extra:t,withinWidth:n}),KR=(e,t,n)=>{const o=jR(e,((e,t)=>{const o=n(e);return L.some({element:e,start:t,finish:t+o,width:o})})),r=G(o,(e=>e.finish<=t)),s=q(r,((e,t)=>e+t.width),0),i=o.slice(r.length);return{within:r,extra:i,withinWidth:s}},WR=e=>j(e,(e=>e.element)),GR=(e,t,n)=>{const o=WR(e.concat(t));return zR(o,[],n)},qR=(e,t,n,o)=>{const r=WR(e).concat([n]);return zR(r,WR(t),o)},ZR=(e,t,n)=>zR(WR(e),[],n),XR=(e,t,n)=>{const o=KR(t,e,n);return 0===o.extra.length?L.some(o):L.none()},JR=(e,t,n,o)=>{const r=XR(e,t,n).getOrThunk((()=>KR(t,e-n(o),n))),s=r.within,i=r.extra,a=r.withinWidth;return 1===i.length&&i[0].width<=n(o)?GR(s,i,a):i.length>=1?qR(s,i,o,a):ZR(s,i,a)},YR=(e,t)=>{const n=j(t,(e=>Hl(e)));yH.setGroups(e,n)},$R=e=>ue(e,(e=>Du(e.element).bind((t=>e.getSystem().getByDom(t).toOptional())))),eP=(e,t,n)=>{const o=t.builtGroups.get();if(0===o.length)return;const r=$p(e,t,"primary"),s=bO.getCoupled(e,"overflowGroup");en(r.element,"visibility","hidden");const i=o.concat([s]),a=$R(i);n([]),YR(r,i);const A=xn(r.element),l=JR(A,t.builtGroups.get(),(e=>xn(e.element)),s);0===l.extra.length?(Zw.remove(r,s),n([])):(YR(r,l.within),n(l.extra)),ln(r.element,"visibility"),cn(r.element),a.each(iy.focus)},tP=C([sp("splitToolbarBehaviours",[bO]),Bs("builtGroups",(()=>ei([])))]),nP=C([pc(["overflowToggledClass"]),Rs("getOverflowBounds"),xs("lazySink"),Bs("overflowGroups",(()=>ei([])))].concat(tP())),oP=C([Ip({factory:yH,schema:fH(),name:"primary"}),Hp({schema:fH(),name:"overflow"}),Hp({name:"overflow-button"}),Hp({name:"overflow-group"})]),rP=C(((e,t)=>{Fn(e,Math.floor(t))})),sP=C([pc(["toggledClass"]),xs("lazySink"),Os("fetch"),Rs("getBounds"),Vs("fireDismissalEventInstead",[zs("event",la())]),Gd()]),iP=C([Hp({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Cu([Sy.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Hp({factory:yH,schema:fH(),name:"toolbar",overrides:e=>({toolbarBehaviours:Cu([Qw.config({mode:"cyclic",onEscape:t=>(Yp(t,e,"button").each(iy.focus),L.none())})])})})]),aP=(e,t)=>{const n=bO.getCoupled(e,"toolbarSandbox");Bg.isOpen(n)?Bg.close(n):Bg.open(n,t.toolbar())},AP=(e,t,n,o)=>{const r=n.getBounds.map((e=>e())),s=n.lazySink(e).getOrDie();Hh.positionWithinBounds(s,t,{anchor:{type:"hotspot",hotspot:e,layouts:o,overrides:{maxWidthFunction:rP()}}},r)},lP=(e,t,n,o,r)=>{yH.setGroups(t,r),AP(e,t,n,o),Sy.on(e)},cP=(e,t,n)=>{const o=Jl(),r=(r,s)=>{n.fetch().get((r=>{lP(e,s,n,t.layouts,r),o.link(e.element),Qw.focusIn(s)}))},s=()=>{Sy.off(e),iy.focus(e),o.unlink(e.element)};return{dom:{tag:"div",attributes:{id:o.id}},behaviours:Cu([Qw.config({mode:"special",onEscape:e=>(Bg.close(e),L.some(!0))}),Bg.config({onOpen:r,onClose:s,isPartOf:(t,n,o)=>$l(n,o)||$l(e,o),getAttachPoint:()=>n.lazySink(e).getOrDie()}),_u.config({channels:{...kg({isExtraPart:O,...n.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),..._g({doReposition:()=>{Bg.getState(bO.getCoupled(e,"toolbarSandbox")).each((o=>{AP(e,o,n,t.layouts)}))}})}})])}},uP=(e,t,n,o)=>({...wB.sketch({...o.button(),action:e=>{aP(e,o)},buttonBehaviours:Ap.augment({dump:o.button().buttonBehaviours},[bO.config({others:{toolbarSandbox:t=>cP(t,n,e)}})])}),apis:{setGroups:(t,o)=>{Bg.getState(bO.getCoupled(t,"toolbarSandbox")).each((r=>{lP(t,r,e,n.layouts,o)}))},reposition:t=>{Bg.getState(bO.getCoupled(t,"toolbarSandbox")).each((o=>{AP(t,o,e,n.layouts)}))},toggle:e=>{aP(e,o)},getToolbar:e=>Bg.getState(bO.getCoupled(e,"toolbarSandbox")),isOpen:e=>Bg.isOpen(bO.getCoupled(e,"toolbarSandbox"))}}),dP=bf({name:"FloatingToolbarButton",factory:uP,configFields:sP(),partFields:iP(),apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),mP=C([xs("items"),pc(["itemSelector"]),sp("tgroupBehaviours",[Qw])]),hP=C([Rp({name:"items",unit:"item"})]),gP=(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:ap(e.tgroupBehaviours,[Qw.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),pP=bf({name:"ToolbarGroup",configFields:mP(),partFields:hP(),factory:gP}),fP=e=>j(e,(e=>Hl(e))),bP=(e,t,n)=>{eP(e,n,(o=>{n.overflowGroups.set(o),t.getOpt(e).each((e=>{dP.setGroups(e,fP(o))}))}))},vP=(e,t,n,o)=>{const r=yB(dP.sketch({fetch:()=>eO.nu((t=>{t(fP(e.overflowGroups.get()))})),layouts:{onLtr:()=>[$c,Yc],onRtl:()=>[Yc,$c],onBottomLtr:()=>[tu,eu],onBottomRtl:()=>[eu,tu]},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:ap(e.splitToolbarBehaviours,[bO.config({others:{overflowGroup:()=>pP.sketch({...o["overflow-group"](),items:[r.asSpec()]})}})]),apis:{setGroups:(t,n)=>{e.builtGroups.set(j(n,t.getSystem().build)),bP(t,r,e)},refresh:t=>bP(t,r,e),toggle:e=>{r.getOpt(e).each((e=>{dP.toggle(e)}))},isOpen:e=>r.getOpt(e).map(dP.isOpen).getOr(!1),reposition:e=>{r.getOpt(e).each((e=>{dP.reposition(e)}))},getOverflow:e=>r.getOpt(e).bind(dP.getToolbar)},domModification:{attributes:{role:"group"}}}},wP=bf({name:"SplitFloatingToolbar",configFields:nP(),partFields:oP(),factory:vP,apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),yP=C([pc(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),bc("onOpened"),bc("onClosed")].concat(tP())),BP=C([Ip({factory:yH,schema:fH(),name:"primary"}),Ip({factory:yH,schema:fH(),name:"overflow",overrides:e=>({toolbarBehaviours:Cu([sR.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{Yp(t,e,"overflow-button").each((e=>{Sy.off(e),iy.focus(e)})),e.onClosed(t)},onGrown:t=>{Qw.focusIn(t),e.onOpened(t)},onStartGrow:t=>{Yp(t,e,"overflow-button").each(Sy.on)}}),Qw.config({mode:"acyclic",onEscape:t=>(Yp(t,e,"overflow-button").each(iy.focus),L.some(!0))})])})}),Hp({name:"overflow-button",overrides:e=>({buttonBehaviours:Cu([Sy.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Hp({name:"overflow-group"})]),CP=(e,t)=>Yp(e,t,"overflow").map(sR.hasGrown).getOr(!1),xP=(e,t)=>{Yp(e,t,"overflow-button").bind((()=>Yp(e,t,"overflow"))).each((n=>{SP(e,t),sR.toggleGrow(n)}))},SP=(e,t)=>{Yp(e,t,"overflow").each((n=>{eP(e,t,(e=>{const t=j(e,(e=>Hl(e)));yH.setGroups(n,t)})),Yp(e,t,"overflow-button").each((e=>{sR.hasGrown(n)&&Sy.on(e)})),sR.refresh(n)}))},FP=(e,t,n,o)=>{const r="alloy.toolbar.toggle",s=(t,n)=>{const o=j(n,t.getSystem().build);e.builtGroups.set(o)};return{uid:e.uid,dom:e.dom,components:t,behaviours:ap(e.splitToolbarBehaviours,[bO.config({others:{overflowGroup:e=>pP.sketch({...o["overflow-group"](),items:[wB.sketch({...o["overflow-button"](),action:t=>{fa(e,r)}})]})}}),Jw("toolbar-toggle-events",[ka(r,(t=>{xP(t,e)}))])]),apis:{setGroups:(t,n)=>{s(t,n),SP(t,e)},refresh:t=>SP(t,e),toggle:t=>xP(t,e),isOpen:t=>CP(t,e)},domModification:{attributes:{role:"group"}}}},kP=bf({name:"SplitSlidingToolbar",configFields:yP(),partFields:BP(),factory:FP,apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),EP=e=>{const t=e.title.fold((()=>({})),(e=>({attributes:{title:e}})));return{dom:{tag:"div",classes:["tox-toolbar__group"],...t},components:[pP.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Cu([C_.config({}),iy.config({})])}},_P=e=>pP.sketch(EP(e)),OP=(e,t)=>{const n=Ia((t=>{const n=j(e.initGroups,_P);yH.setGroups(t,n)}));return Cu([BF.toolbarButton(e.providers.isDisabled),fF(),Qw.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Jw("toolbar-events",[n])])},UP=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":EP({title:L.none(),items:[]}),"overflow-button":zQ({name:"more",icon:L.some("more-drawer"),enabled:!0,tooltip:L.some("More..."),primary:!1,buttonType:L.none(),borderless:!1},L.none(),e.providers)},splitToolbarBehaviours:OP(e,t)}},TP=e=>{const t=UP(e),n=4,o=wP.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return wP.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element,o=Go(t),r=wt(t),s=Go(r),i=Math.max(r.dom.scrollHeight,s.height);return Ko(o.x+n,s.y,o.width-2*n,i)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[o],markers:{overflowToggledClass:"tox-tbtn--enabled"}})},LP=e=>{const t=kP.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=kP.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=UP(e);return kP.sketch({...o,components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:e=>{e.getSystem().broadcastOn([sM()],{type:"opened"})},onClosed:e=>{e.getSystem().broadcastOn([sM()],{type:"closed"})}})},NP=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return yH.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===HB.scrolling?["tox-toolbar--scrolling"]:[])},components:[yH.parts.groups({})],toolbarBehaviours:OP(e,t)})},QP=(e,t,n)=>{const o={getSocket:t=>AH.getPart(t,e,"socket"),setSidebar:(t,n,o)=>{AH.getPart(t,e,"sidebar").each((e=>vR(e,n,o)))},toggleSidebar:(t,n)=>{AH.getPart(t,e,"sidebar").each((e=>wR(e,n)))},whichSidebar:t=>AH.getPart(t,e,"sidebar").bind(yR).getOrNull(),getHeader:t=>AH.getPart(t,e,"header"),getToolbar:t=>AH.getPart(t,e,"toolbar"),setToolbar:(t,n)=>{AH.getPart(t,e,"toolbar").each((e=>{e.getApis().setGroups(e,n)}))},setToolbars:(t,n)=>{AH.getPart(t,e,"multiple-toolbar").each((e=>{pH.setItems(e,n)}))},refreshToolbar:t=>{const n=AH.getPart(t,e,"toolbar");n.each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{AH.getPart(t,e,"toolbar").each((e=>{Le(e.getApis().toggle,(t=>t(e)))}))},isToolbarDrawerToggled:t=>AH.getPart(t,e,"toolbar").bind((e=>L.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>AH.getPart(t,e,"throbber"),focusToolbar:t=>{const n=AH.getPart(t,e,"toolbar").orThunk((()=>AH.getPart(t,e,"multiple-toolbar")));n.each((e=>{Qw.focusIn(e)}))},setMenubar:(t,n)=>{AH.getPart(t,e,"menubar").each((e=>{OM.setMenus(e,n)}))},focusMenubar:t=>{AH.getPart(t,e,"menubar").each((e=>{OM.focus(e)}))}};return{uid:e.uid,dom:e.dom,components:t,apis:o,behaviours:e.behaviours}},DP=lH.optional({factory:OM,name:"menubar",schema:[xs("backstage")]}),IP=e=>e.type===HB.sliding?LP:e.type===HB.floating?TP:NP,HP=lH.optional({factory:{sketch:e=>pH.sketch({uid:e.uid,dom:e.dom,listBehaviours:Cu([Qw.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>NP({type:e.type,uid:$a("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),L.some(!0))}),setupItem:(e,t,n,o)=>{yH.setGroups(t,n)},shell:!0})},name:"multiple-toolbar",schema:[xs("dom"),xs("onEscape")]}),MP=lH.optional({factory:{sketch:e=>{const t=IP(e),n={type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),L.some(!0)),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return t(n)}},name:"toolbar",schema:[xs("dom"),xs("onEscape"),xs("getSink")]}),RP=lH.optional({factory:{sketch:yM},name:"header",schema:[xs("dom")]}),PP=lH.optional({name:"socket",schema:[xs("dom")]}),VP=lH.optional({factory:{sketch:xR},name:"sidebar",schema:[xs("dom")]}),jP=lH.optional({factory:{sketch:MR},name:"throbber",schema:[xs("dom")]});var zP=bf({name:"OuterContainer",factory:QP,configFields:[xs("dom"),xs("behaviours")],partFields:[RP,DP,MP,HP,PP,VP,jP],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,n,o)=>{e.setSidebar(t,n,o)},toggleSidebar:(e,t,n)=>{e.toggleSidebar(t,n)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,n)=>{const o=j(n,(e=>_P(e)));e.setToolbar(t,o)},setToolbars:(e,t,n)=>{const o=j(n,(e=>j(e,_P)));e.setToolbars(t,o)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,n)=>{e.setMenubar(t,n)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)}}});const KP="file edit view insert format tools table help",WP={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},GP=(e,t,n)=>{const o=rC(n).split(/[ ,]/);return{text:e.title,getItems:()=>ee(e.items,(e=>{const n=e.toLowerCase();return 0===n.trim().length||R(o,(e=>e===n))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}},qP=e=>"string"===typeof e?e.split(" "):e,ZP=(e,t)=>{const n={...WP,...t.menus},o=de(t.menus).length>0,r=void 0===t.menubar||!0===t.menubar?qP(KP):qP(!1===t.menubar?"":t.menubar),s=G(r,(e=>{const n=Se(WP,e);return o?n||xe(t.menus,e).exists((e=>Se(e,"items"))):n})),i=j(s,(o=>{const r=n[o];return GP({title:r.title,items:qP(r.items)},t,e)}));return G(i,(e=>{const t=e=>"separator"!==e.type;return e.getItems().length>0&&R(e.getItems(),t)}))},XP=e=>{const t=()=>{e._skinLoaded=!0,Ck(e)};return()=>{e.initialized?t():e.on("init",t)}},JP=(e,t)=>()=>xk(e,{message:t}),YP=(e,t,n)=>(e.on("remove",(()=>n.unload(t))),n.load(t)),$P=(e,t)=>{const n=t+"/skin.min.css";return YP(e,n,e.ui.styleSheetLoader)},eV=(e,t)=>{const n=Dt($e.fromDom(e.getElement()));if(n){const n=t+"/skin.shadowdom.min.css";return YP(e,n,PB.DOM.styleSheetLoader)}return Promise.resolve()},tV=(e,t)=>{const n=_C(t);n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!kC(t)&&a(n)?Promise.all([$P(t,n),eV(t,n)]).then(XP(t),JP(t,"Skin could not be loaded")):XP(t)()},nV=F(tV,!1),oV=F(tV,!0),rV=(e,t)=>n=>{const o=cd(),r=()=>{n.setActive(e.formatter.match(t));const r=e.formatter.formatChanged(t,n.setActive);o.set(r)};return e.initialized?r():e.once("init",r),()=>{e.off("init",r),o.clear()}},sV=(e,t,n)=>o=>{const r=()=>n(o),s=()=>{n(o),e.on(t,r)};return e.initialized?s():e.once("init",s),()=>{e.off("init",s),e.off(t,r)}},iV=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))},aV=(e,t)=>()=>e.execCommand(t),AV=(e,t,n)=>{const o=(e,o,s,i)=>{const a=t.shared.providers.translate(e.title);if("separator"===e.type)return L.some({type:"separator",text:a});if("submenu"===e.type){const t=ee(e.getStyleItems(),(e=>r(e,o,i)));return 0===o&&t.length<=0?L.none():L.some({type:"nestedmenuitem",text:a,enabled:t.length>0,getSubmenuItems:()=>ee(e.getStyleItems(),(e=>r(e,o,i)))})}return L.some({type:"togglemenuitem",text:a,icon:e.icon,active:e.isSelected(i),enabled:!s,onAction:n.onAction(e),...e.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},r=(e,t,r)=>{const s="formatter"===e.type&&n.isInvalid(e);return 0===t?s?[]:o(e,t,!1,r).toArray():o(e,t,s,r).toArray()},s=e=>{const t=n.getCurrentValue(),o=n.shouldHide?0:1;return ee(e,(e=>r(e,o,t)))},i=(e,t)=>(n,o)=>{const r=t(),i=s(r),a=HN(i,qC.CLOSE_ON_EXECUTE,e,!1);o(a)};return{validateItems:s,getFetch:i}},lV=(e,t,n)=>{const o=n.dataset,r="basic"===o.type?()=>j(o.data,(e=>hI(e,n.isSelectedFor,n.getPreviewFor))):o.getData;return{items:AV(e,t,n),getStyleItems:r}},cV=(e,t,n)=>{const{items:o,getStyleItems:r}=lV(e,t,n),s=e=>({getComponent:C(e)}),i=sV(e,"NodeChange",(e=>{const t=e.getComponent();n.updateText(t)}));return EN({text:n.icon.isSome()?L.none():n.text,icon:n.icon,tooltip:L.from(n.tooltip),role:L.none(),fetch:o.getFetch(t,r),onSetup:i,getApi:s,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)},uV=e=>j(e,(e=>{let t=e,n=e;const o=e.split("=");return o.length>1&&(t=o[0],n=o[1]),{title:t,format:n}})),dV=e=>({type:"basic",data:e});var mV;(function(e){e[e["SemiColon"]=0]="SemiColon",e[e["Space"]=1]="Space"})(mV||(mV={}));const hV=(e,t)=>t===mV.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "),gV=(e,t,n)=>{const o=e.options.get(t),r=uV(hV(o,n));return{type:"basic",data:r}},pV=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],fV=e=>{const t=()=>J(pV,(t=>e.formatter.match(t.format))),n=t=>()=>e.formatter.match(t),o=e=>L.none,r=e=>{const n=t(),o=n.fold(C("left"),(e=>e.title.toLowerCase()));ba(e,kN,{icon:`align-${o}`})},s=dV(pV),i=t=>()=>J(pV,(e=>e.format===t.format)).each((t=>e.execCommand(t.command)));return{tooltip:"Align",text:L.none(),icon:L.some("align-left"),isSelectedFor:n,getCurrentValue:L.none,getPreviewFor:o,onAction:i,updateText:r,dataset:s,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},bV=(e,t)=>cV(e,t,fV(e)),vV=(e,t)=>{const n=lV(e,t,fV(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},wV=(e,t)=>{const n=t(),o=j(n,(e=>e.format));return L.from(e.formatter.closest(o)).bind((e=>J(n,(t=>t.format===e)))).orThunk((()=>Ne(e.formatter.match("p"),{title:"Paragraph",format:"p"})))},yV=e=>{const t="Paragraph",n=t=>()=>e.formatter.match(t),o=t=>()=>{const n=e.formatter.get(t);return L.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})},r=n=>{const o=wV(e,(()=>s.data)),r=o.fold(C(t),(e=>e.title));ba(n,FN,{text:r})},s=gV(e,"block_formats",mV.SemiColon);return{tooltip:"Blocks",text:L.some(t),icon:L.none(),isSelectedFor:n,getCurrentValue:L.none,getPreviewFor:o,onAction:iV(e),updateText:r,dataset:s,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},BV=(e,t)=>cV(e,t,yV(e)),CV=(e,t)=>{const n=lV(e,t,yV(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},xV=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],SV=e=>{const t=e.split(/\s*,\s*/);return j(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))},FV=e=>{const t=()=>{const t=SV(e.toLowerCase());return te(xV,(e=>t.indexOf(e.toLowerCase())>-1))};return 0===e.indexOf("-apple-system")&&t()},kV=e=>{const t="System Font",n=()=>{const n=e=>e?SV(e)[0]:"",o=e.queryCommandValue("FontName"),r=A.data,s=o?o.toLowerCase():"",i=J(r,(e=>{const t=e.format;return t.toLowerCase()===s||n(t).toLowerCase()===n(s).toLowerCase()})).orThunk((()=>Ne(FV(s),{title:t,format:s})));return{matchOpt:i,font:o}},o=e=>t=>t.exists((t=>t.format===e)),r=()=>{const{matchOpt:e}=n();return e},s=e=>()=>L.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),i=t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontName",!1,t.format)}))},a=e=>{const{matchOpt:t,font:o}=n(),r=t.fold(C(o),(e=>e.title));ba(e,FN,{text:r})},A=gV(e,"font_family_formats",mV.SemiColon);return{tooltip:"Fonts",text:L.some(t),icon:L.none(),isSelectedFor:o,getCurrentValue:r,getPreviewFor:s,onAction:i,updateText:a,dataset:A,shouldHide:!1,isInvalid:O}},EV=(e,t)=>cV(e,t,kV(e)),_V=(e,t)=>{const n=lV(e,t,kV(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},OV={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},UV={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},TV=(e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},LV=(e,t)=>/[0-9.]+px$/.test(e)?TV(72*parseInt(e,10)/96,t||0)+"pt":xe(UV,e).getOr(e),NV=e=>xe(OV,e).getOr(""),QV=e=>{const t=()=>{let t=L.none();const n=a.data,o=e.queryCommandValue("FontSize");if(o)for(let e=3;t.isNone()&&e>=0;e--){const r=LV(o,e),s=NV(r);t=J(n,(e=>e.format===o||e.format===r||e.format===s))}return{matchOpt:t,size:o}},n=e=>t=>t.exists((t=>t.format===e)),o=()=>{const{matchOpt:e}=t();return e},r=C(L.none),s=t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontSize",!1,t.format)}))},i=e=>{const{matchOpt:n,size:o}=t(),r=n.fold(C(o),(e=>e.title));ba(e,FN,{text:r})},a=gV(e,"font_size_formats",mV.Space);return{tooltip:"Font sizes",text:L.some("12pt"),icon:L.none(),isSelectedFor:n,getPreviewFor:r,getCurrentValue:o,onAction:s,updateText:i,dataset:a,shouldHide:!1,isInvalid:O}},DV=(e,t)=>cV(e,t,QV(e)),IV=(e,t)=>{const n=lV(e,t,QV(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},HV=(e,t)=>{const n="Paragraph",o=t=>()=>e.formatter.match(t),r=t=>()=>{const n=e.formatter.get(t);return void 0!==n?L.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):L.none()},s=t=>{const o=e=>{const t=e.items;return void 0!==t&&t.length>0?ee(t,o):[{title:e.title,format:e.format}]},r=ee(mI(e),o),s=wV(e,C(r)),i=s.fold(C(n),(e=>e.title));ba(t,FN,{text:i})};return{tooltip:"Formats",text:L.some(n),icon:L.none(),isSelectedFor:o,getCurrentValue:L.none,getPreviewFor:r,onAction:iV(e),updateText:s,shouldHide:nC(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},MV=(e,t)=>{const n={type:"advanced",...t.styles};return cV(e,t,HV(e,n))},RV=(e,t)=>{const n={type:"advanced",...t.styles},o=lV(e,t,HV(e,n));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})},PV=(e,t)=>{const n=(n,o)=>{e.updateState.each((e=>{const r=e(n,o);t.set(r)})),e.renderComponents.each((r=>{const s=r(o,t.get()),i=e.reuseDom?Iw:Dw;i(n,s)}))};return Ca([ka(Zi(),((t,o)=>{const r=o;if(!r.universal){const o=e.channel;M(r.channels,o)&&n(t,r.data)}})),Ia(((t,o)=>{e.initialData.each((e=>{n(t,e)}))}))])};var VV=Object.freeze({__proto__:null,events:PV});const jV=(e,t,n)=>n;var zV=Object.freeze({__proto__:null,getState:jV}),KV=[xs("channel"),Qs("renderComponents"),Qs("updateState"),Qs("initialData"),Zs("reuseDom",!0)];const WV=()=>{const e=ei(L.none()),t=()=>e.set(L.none()),n=()=>e.get().getOr("none");return{readState:n,get:e.get,set:e.set,clear:t}};var GV=Object.freeze({__proto__:null,init:WV});const qV=Su({fields:KV,name:"reflecting",active:VV,apis:zV,state:GV}),ZV=C([xs("toggleClass"),xs("fetch"),wc("onExecute"),zs("getHotspot",L.some),zs("getAnchorOverrides",C({})),Gd(),wc("onItemExecute"),Qs("lazySink"),xs("dom"),bc("onOpen"),sp("splitDropdownBehaviours",[bO,Qw,iy]),zs("matchWidth",!1),zs("useMinWidth",!1),zs("eventOrder",{}),Qs("role")].concat(LO())),XV=Ip({factory:wB,schema:[xs("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Cu([iy.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(va)},buttonBehaviours:Cu([Sy.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),JV=Ip({factory:wB,schema:[xs("dom")],name:"button",defaults:()=>({buttonBehaviours:Cu([iy.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((n=>{e.onExecute(n,t)}))}})}),YV=C([XV,JV,Mp({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[xs("text")],name:"aria-descriptor"}),Hp({schema:[gc()],name:"menu",defaults:e=>({onExecute:(t,n)=>{t.getSystem().getByUid(e.uid).each((o=>{e.onItemExecute(o,t,n)}))}})}),wO()]),$V=(e,t,n,o)=>{const r=e=>{Cf.getCurrent(e).each((e=>{Ab.highlightFirst(e),Qw.focusIn(e)}))},s=t=>{const n=r;kO(e,x,t,o,n,yO.HighlightFirst).get(v)},i=e=>(s(e),L.some(!0)),a=t=>{const n=$p(t,e,"button");return va(n),L.some(!0)},A={...Ca([Ia(((t,n)=>{const o=Yp(t,e,"aria-descriptor");o.each((e=>{const n=$a("aria");Kt(e.element,"id",n),Kt(t.element,"aria-describedby",n)}))}))]),...ky(L.some(s))},l={repositionMenus:e=>{Sy.isOn(e)&&TO(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[Xi()]:["disabling","toggling","alloy.base.behaviour"]},events:A,behaviours:ap(e.splitDropdownBehaviours,[bO.config({others:{sandbox:t=>{const n=$p(t,e,"arrow"),o={onOpen:()=>{Sy.on(n),Sy.on(t)},onClose:()=>{Sy.off(n),Sy.off(t)}};return UO(e,t,o)}}}),Qw.config({mode:"special",onSpace:a,onEnter:a,onDown:i}),iy.config({}),Sy.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},ej=bf({name:"SplitDropdown",configFields:ZV(),partFields:YV(),factory:$V,apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),tj=e=>({isEnabled:()=>!Vf.isDisabled(e),setEnabled:t=>Vf.set(e,!t)}),nj=e=>({setActive:t=>{Sy.set(e,t)},isActive:()=>Sy.isOn(e),isEnabled:()=>!Vf.isDisabled(e),setEnabled:t=>Vf.set(e,!t)}),oj=(e,t)=>e.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),rj=$a("focus-button"),sj=(e,t,n,o,r,s)=>({dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:oj(n,s)},components:EF([e.map((e=>CN(e,s.icons))),t.map((e=>SN(e,"tox-tbtn",s)))]),eventOrder:{[Ei()]:["focusing","alloy.base.behaviour","common-button-display-events"]},buttonBehaviours:Cu([BF.toolbarButton(s.isDisabled),fF(),Jw("common-button-display-events",[ka(Ei(),((e,t)=>{t.event.prevent(),fa(e,rj)}))])].concat(o.map((n=>qV.config({channel:n,initialData:{icon:e,text:t},renderComponents:(e,t)=>EF([e.icon.map((e=>CN(e,s.icons))),e.text.map((e=>SN(e,"tox-tbtn",s)))])}))).toArray()).concat(r.getOr([])))}),ij=(e,t,n,o)=>{const r=t.shared;return dP.sketch({lazySink:r.getSink,fetch:()=>eO.nu((t=>{t(j(n(e.items),_P))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:sj(e.icon,e.text,e.tooltip,L.none(),L.none(),r.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})},aj=(e,t,n)=>{const o=ei(v),r=sj(e.icon,e.text,e.tooltip,L.none(),L.none(),n);return wB.sketch({dom:r.dom,components:r.components,eventOrder:yN,buttonBehaviours:Cu([Jw("toolbar-button-events",[wN({onAction:e.onAction,getApi:t.getApi}),xF(t,o),SF(t,o)]),BF.toolbarButton((()=>!e.enabled||n.isDisabled())),fF()].concat(t.toolbarButtonBehaviours))})},Aj=(e,t)=>lj(e,t,[]),lj=(e,t,n)=>aj(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Jw("toolbarButtonWith",n)]:[]),getApi:tj,onSetup:e.onSetup},t),cj=(e,t)=>uj(e,t,[]),uj=(e,t,n)=>fr(aj(e,{toolbarButtonBehaviours:[Zw.config({}),Sy.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Jw("toolbarToggleButtonWith",n)]:[]),getApi:nj,onSetup:e.onSetup},t)),dj=(e,t,n)=>o=>eO.nu((e=>t.fetch(e))).map((r=>L.from(HE(fr(aE($a("menu-value"),r,(n=>{t.onItemAction(e(o),n)}),t.columns,t.presets,qC.CLOSE_ON_EXECUTE,t.select.getOr(O),n),{movement:lE(t.columns,t.presets),menuBehaviours:$S.unnamedEvents("auto"!==t.columns?[]:[Ia(((e,n)=>{XS(e,4,gx(t.presets)).each((({numRows:t,numColumns:n})=>{Qw.setGridSize(e,t,n)}))}))])}))))),mj=(e,t)=>{const n=$a("channel-update-split-dropdown-display"),o=e=>({isEnabled:()=>!Vf.isDisabled(e),setEnabled:t=>Vf.set(e,!t),setIconFill:(t,n)=>{Gl(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((e=>{Kt(e,"fill",n)}))},setActive:t=>{Kt(e.element,"aria-pressed",t),Gl(e.element,"span").each((n=>{e.getSystem().getByDom(n).each((e=>Sy.set(e,t)))}))},isActive:()=>Gl(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists(Sy.isOn)))}),r=ei(v),s={getApi:o,onSetup:e.onSetup};return ej.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...oj(e.tooltip,t.providers)}},onExecute:t=>{e.onAction(o(t))},onItemExecute:(e,t,n)=>{},splitDropdownBehaviours:Cu([BF.splitButton(t.providers.isDisabled),fF(),Jw("split-dropdown-events",[ka(rj,iy.focus),xF(s,r),SF(s,r)]),PO.config({})]),eventOrder:{[aa()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:dj(o,e,t.providers),parts:{menu:yx(!1,e.columns,e.presets)},components:[ej.parts.button(sj(e.icon,e.text,L.none(),L.some(n),L.some([Sy.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),ej.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:EB("chevron-down",t.providers.icons)},buttonBehaviours:Cu([BF.splitButton(t.providers.isDisabled),fF(),UB()])}),ej.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},hj=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],gj=(e,t)=>(n,o,r)=>{const s=e(n).mapError((e=>bs(e))).getOrDie();return t(s,o,r)},pj={button:gj(hS,((e,t)=>Aj(e,t.backstage.shared.providers))),togglebutton:gj(fS,((e,t)=>cj(e,t.backstage.shared.providers))),menubutton:gj(FM,((e,t)=>PQ(e,"tox-tbtn",t.backstage,L.none()))),splitbutton:gj(EM,((e,t)=>mj(e,t.backstage.shared))),grouptoolbarbutton:gj(CM,((e,t,n)=>{const o=n.ui.registry.getAll().buttons,r=e=>xj(n,{buttons:o,toolbar:e,allowToolbarGroups:!1},t,L.none()),s={[Kd]:t.backstage.shared.header.isPositionedAtTop()?zd.TopToBottom:zd.BottomToTop};switch(sC(n)){case HB.floating:return ij(e,t.backstage,r,s);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:(e,t)=>MV(e,t.backstage),fontsizeSelectButton:(e,t)=>DV(e,t.backstage),fontSelectButton:(e,t)=>EV(e,t.backstage),formatButton:(e,t)=>BV(e,t.backstage),alignMenuButton:(e,t)=>bV(e,t.backstage)},fj=(e,t,n)=>xe(pj,e.type).fold((()=>(console.error("skipping button defined by",e),L.none())),(o=>L.some(o(e,t,n)))),bj={styles:pj.styleSelectButton,fontsize:pj.fontsizeSelectButton,fontfamily:pj.fontSelectButton,blocks:pj.formatButton,align:pj.alignMenuButton},vj=e=>{const t=j(hj,(t=>{const n=G(t.items,(t=>Se(e,t)||Se(bj,t)));return{name:t.name,items:n}}));return G(t,(e=>e.items.length>0))},wj=e=>{const t=e.split("|");return j(t,(e=>({items:e.trim().split(" ")})))},yj=e=>b(e,(e=>Se(e,"name")&&Se(e,"items"))),Bj=e=>{const t=e.toolbar,n=e.buttons;return!1===t?[]:void 0===t||!0===t?vj(n):a(t)?wj(t):yj(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},Cj=(e,t,n,o,r,s)=>xe(t,n.toLowerCase()).orThunk((()=>s.bind((e=>ue(e,(e=>xe(t,e+n.toLowerCase()))))))).fold((()=>xe(bj,n.toLowerCase()).map((t=>t(e,r))).orThunk((()=>L.none()))),(t=>"grouptoolbarbutton"!==t.type||o?fj(t,r,e):(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),L.none()))),xj=(e,t,n,o)=>{const r=Bj(t),s=j(r,(r=>{const s=ee(r.items,(r=>0===r.trim().length?[]:Cj(e,t.buttons,r,t.allowToolbarGroups,n,o).toArray()));return{title:L.from(e.translate(r.name)),items:s}}));return G(s,(e=>e.items.length>0))},Sj=(e,t,n,o)=>{const r=t.outerContainer,s=n.toolbar,i=n.buttons;if(b(s,a)){const t=s.map((t=>{const r={toolbar:t,buttons:i,allowToolbarGroups:n.allowToolbarGroups};return xj(e,r,{backstage:o},L.none())}));zP.setToolbars(r,t)}else zP.setToolbar(r,xj(e,n,{backstage:o},L.none()))},Fj=go(),kj=Fj.os.isiOS()&&Fj.os.version.major<=12,Ej=(e,t)=>{const n=e.dom;let o=e.getWin();const r=e.getDoc().documentElement,s=ei(fn(o.innerWidth,o.innerHeight)),i=ei(fn(r.offsetWidth,r.offsetHeight)),a=()=>{const t=s.get();t.left===o.innerWidth&&t.top===o.innerHeight||(s.set(fn(o.innerWidth,o.innerHeight)),Fk(e))},A=()=>{const t=e.getDoc().documentElement,n=i.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(i.set(fn(t.offsetWidth,t.offsetHeight)),Fk(e))},l=t=>kk(e,t);n.bind(o,"resize",a),n.bind(o,"scroll",l);const c=hd($e.fromDom(e.getBody()),"load",A),u=t.uiMothership.element;e.on("hide",(()=>{en(u,"display","none")})),e.on("show",(()=>{ln(u,"display")})),e.on("NodeChange",A),e.on("remove",(()=>{c.unbind(),n.unbind(o,"resize",a),n.unbind(o,"scroll",l),o=null}))},_j=(e,t,n,o,r)=>{const s=ei(0),i=t.outerContainer;nV(e);const a=$e.fromDom(r.targetNode),A=Qt(Nt(a));eg(a,t.mothership),$h(A,t.uiMothership),e.on("PostRender",(()=>{zP.setSidebar(i,n.sidebar,FC(e)),Sj(e,t,n,o),s.set(e.getWin().innerWidth),zP.setMenubar(i,ZP(e,n)),Ej(e,t)}));const l=zP.getSocket(i).getOrDie("Could not find expected socket element");if(kj){tn(l.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=hQ((()=>{e.dispatch("ScrollContent")}),20),n=md(l.element,"scroll",t.throttle);e.on("remove",n.unbind)}pF(e,t),e.addCommand("ToggleSidebar",((t,n)=>{zP.toggleSidebar(i,n),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(()=>zP.whichSidebar(i)));const c=sC(e),u=()=>{zP.refreshToolbar(t.outerContainer)};c!==HB.sliding&&c!==HB.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const t=e.getWin().innerWidth;t!==s.get()&&(u(),s.set(t))}));const d={setEnabled:e=>{gF(t,!e)},isEnabled:()=>!Vf.isDisabled(i)};return{iframeContainer:l.element.dom,editorContainer:i.element.dom,api:d}};var Oj=Object.freeze({__proto__:null,render:_j});const Uj=e=>{const t=/^[0-9\.]+(|px)$/i;return t.test(""+e)?L.some(parseInt(""+e,10)):L.none()},Tj=e=>f(e)?e+"px":e,Lj=(e,t,n)=>{const o=t.filter((t=>e<t)),r=n.filter((t=>e>t));return o.or(r).getOr(e)},Nj=e=>{const t=qB(e),n=JB(e),o=$B(e);return Uj(t).map((e=>Lj(e,n,o)))},Qj=e=>{const t=Nj(e);return t.getOr(qB(e))},Dj=e=>{const t=ZB(e),n=XB(e),o=YB(e);return Uj(t).map((e=>Lj(e,n,o)))},Ij=e=>{const t=Dj(e);return t.getOr(ZB(e))},{ToolbarLocation:Hj,ToolbarMode:Mj}=PC,Rj=(e,t,n,o,r)=>{const{uiMothership:s,outerContainer:i}=n,a=PB.DOM,A=DC(e),l=MC(e),c=YB(e).or(Dj(e)),u=o.shared.header,d=u.isPositionedAtTop,m=sC(e),h=m===Mj.sliding||m===Mj.floating,g=ei(!1),p=()=>g.get()&&!e.removed,f=e=>h?e.fold(C(0),(e=>e.components().length>1?mn(e.components()[1].element):0)):0,b=n=>{switch(aC(e)){case Hj.auto:const e=zP.getToolbar(i),o=f(e),r=mn(n.element)-o,s=Wo(t),a=s.y>r;if(a)return"top";{const e=wt(t),n=Math.max(e.dom.scrollHeight,mn(e)),o=s.bottom<n-r;if(o)return"bottom";{const e=qo(),t=e.bottom<s.bottom-r;return t?"bottom":"top"}}case Hj.bottom:return"bottom";case Hj.top:default:return"top"}},v=e=>{const t=r.get();rM.setModes(t,[e]),u.setDockingMode(e);const n=d()?zd.TopToBottom:zd.BottomToTop;Kt(t.element,Kd,n)},w=()=>{const e=c.getOrThunk((()=>{const e=Uj(on(Vt(),"margin-left")).getOr(0);return xn(Vt())-wn(t).left+e}));en(r.get().element,"max-width",e+"px")},y=()=>{const e=zP.getToolbar(i),n=f(e),o=Wo(t),s=d()?Math.max(o.y-mn(r.get().element)+n,0):o.bottom;tn(i.element,{position:"absolute",top:Math.round(s)+"px",left:Math.round(o.x)+"px"})},B=()=>{s.broadcastOn([xg()],{})},x=(e=!1)=>{if(p()){if(A||w(),h&&zP.refreshToolbar(i),A||y(),l){const t=r.get();e?rM.reset(t):rM.refresh(t)}B()}},S=(e=!0)=>{if(A||!l||!p())return;const t=u.getDockingMode(),n=b(r.get());n!==t&&(v(n),e&&x(!0))},F=()=>{g.set(!0),en(i.element,"display","flex"),a.addClass(e.getBody(),"mce-edit-focus"),ln(s.element,"display"),S(!1),x()},k=()=>{g.set(!1),n.outerContainer&&(en(i.element,"display","none"),a.removeClass(e.getBody(),"mce-edit-focus")),en(s.element,"display","none")};return{isVisible:p,isPositionedAtTop:d,show:F,hide:k,update:x,updateMode:S,repositionPopups:B}},Pj=(e,t)=>{const n=Wo(e);return{pos:t?n.y:n.bottom,bounds:n}},Vj=(e,t,n,o)=>{const r=ei(Pj(t,n.isPositionedAtTop())),s=o=>{const{pos:s,bounds:i}=Pj(t,n.isPositionedAtTop()),{pos:a,bounds:A}=r.get(),l=i.height!==A.height||i.width!==A.width;r.set({pos:s,bounds:i}),l&&Fk(e,o),n.isVisible()&&(a!==s?n.update(!0):l&&(n.updateMode(),n.repositionPopups()))};o||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(()=>n.update(!0))),e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>s(e)))})),e.on("ScrollWindow",(()=>n.updateMode()));const i=cd();i.set(hd($e.fromDom(e.getBody()),"load",s)),e.on("remove",(()=>{i.clear()}))},jj=(e,t,n,o,r)=>{const{mothership:s,uiMothership:i,outerContainer:a}=t,A=ei(null),l=$e.fromDom(r.targetNode),c=Rj(e,l,t,o,A),u=cC(e);oV(e);const d=()=>{if(A.get())return void c.show();A.set(zP.getHeader(a).getOrDie());const r=IC(e);$h(r,s),$h(r,i),Sj(e,t,n,o),zP.setMenubar(a,ZP(e,n)),c.show(),Vj(e,l,c,u),e.nodeChanged()};e.on("show",d),e.on("hide",c.hide),u||(e.on("focus",d),e.on("blur",c.hide)),e.on("init",(()=>{(e.hasFocus()||u)&&d()})),pF(e,t);const m={show:()=>{d()},hide:()=>{c.hide()},setEnabled:e=>{gF(t,!e)},isEnabled:()=>!Vf.isDisabled(a)};return{editorContainer:a.element.dom,api:m}};var zj=Object.freeze({__proto__:null,render:jj});const Kj="contexttoolbar-show",Wj="contexttoolbar-hide",Gj=e=>({hide:()=>fa(e,ea()),getValue:()=>rp.getValue(e)}),qj=(e,t)=>ka(vN,((n,o)=>{const r=e.get(n),s=Gj(r);t.onAction(s,o.event.buttonApi)})),Zj=(e,t,n)=>{const{primary:o,...r}=t.original,s=ps(hS({...r,type:"button",onAction:v}));return lj(s,n.backstage.shared.providers,[qj(e,t)])},Xj=(e,t,n)=>{const{primary:o,...r}=t.original,s=ps(fS({...r,type:"togglebutton",onAction:v}));return uj(s,n.backstage.shared.providers,[qj(e,t)])},Jj=(e,t,n)=>{const o={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?Xj(e,t,o):Zj(e,t,o)},Yj=(e,t,n)=>{const o=j(t,(t=>yB(Jj(e,t,n)))),r=()=>j(o,(e=>e.asSpec())),s=e=>ue(t,((t,n)=>t.primary?L.from(o[n]).bind((t=>t.getOpt(e))).filter(k(Vf.isDisabled)):L.none()));return{asSpecs:r,findPrimary:s}},$j=(e,t)=>{const n=e.label.fold((()=>({})),(e=>({"aria-label":e}))),o=yB(W_.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Cu([Qw.config({mode:"special",onEnter:e=>r.findPrimary(e).map((e=>(va(e),!0))),onLeft:(e,t)=>(t.cut(),L.none()),onRight:(e,t)=>(t.cut(),L.none())})])})),r=Yj(o,e.commands,t);return[{title:L.none(),items:[o.asSpec()]},{title:L.none(),items:r.asSpecs()}]},ez=(e,t,n)=>NP({type:e,uid:$a("context-toolbar"),initGroups:$j(t,n),onEscape:L.none,cyclicKeying:!0,providers:n}),tz={renderContextForm:ez,buildInitGroups:$j},nz=(e,t,n=.01)=>t.bottom-e.y>=n&&e.bottom-t.y>=n,oz=e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const n=Ot($e.fromDom(e.startContainer),e.startOffset).element,o=At(n)?Bt(n):L.some(n);return o.filter(at).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t},rz=e=>{const t=e.selection.getRng(),n=oz(t);if(e.inline){const e=Uo();return Ko(e.left+n.left,e.top+n.top,n.width,n.height)}{const t=Go($e.fromDom(e.getBody()));return Ko(t.x+n.left,t.y+n.top,n.width,n.height)}},sz=(e,t)=>t.filter(Pt).map(Go).getOrThunk((()=>rz(e))),iz=(e,t,n)=>{const o=Math.max(e.x+n,t.x),r=Math.min(e.right-n,t.right);return{x:o,width:r-o}},az=(e,t,n,o,r,s)=>{const i=$e.fromDom(e.getContainer()),a=Gl(i,".tox-editor-header").getOr(i),A=Wo(a),l=A.y>=t.bottom,c=o&&!l;if(e.inline&&c)return{y:Math.max(A.bottom+s,n.y),bottom:n.bottom};if(e.inline&&!c)return{y:n.y,bottom:Math.min(A.y-s,n.bottom)};const u="line"===r?Wo(i):t;return c?{y:Math.max(A.bottom+s,n.y),bottom:Math.min(u.bottom-s,n.bottom)}:{y:Math.max(u.y+s,n.y),bottom:Math.min(A.y-s,n.bottom)}},Az=(e,t,n,o=0)=>{const r=Qo(window),s=Wo($e.fromDom(e.getContentAreaContainer())),i=EC(e)||UC(e)||LC(e),{x:a,width:A}=iz(s,r,o);if(e.inline&&!i)return Ko(a,r.y,A,r.height);{const i=t.header.isPositionedAtTop(),{y:l,bottom:c}=az(e,s,r,i,n,o);return Ko(a,l,A,c-l)}},lz=12,cz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},uz={maxHeightFunction:Nd(),maxWidthFunction:rP()},dz=(e,t)=>{const n=e.selection.getRng(),o=Ot($e.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&pt(o.element,t)},mz=(e,t,n)=>{const o=sn(e,"position");en(e,"position",t);const r=n(e);return o.each((t=>en(e,"position",t))),r},hz=e=>"node"===e,gz=(e,t,n,o,r)=>{const s=rz(e),i=o.lastElement().exists((e=>pt(n,e)));if(dz(e,n))return i?jD:HD;if(i)return mz(t,o.getMode(),(()=>{const e=nz(s,Wo(t));return e&&!o.isReposition()?KD:jD}));{const e="fixed"===o.getMode()?r.y+Uo().top:r.y,n=mn(t)+lz;return e+n<=s.y?HD:MD}},pz=(e,t,n,o)=>{const r=t=>(o,r,s,i,a)=>{const A=gz(e,i,t,n,a),l={...o,y:a.y,height:a.height};return{...A(l,r,s,i,a),alwaysFit:!0}},s=e=>hz(o)?[r(e)]:[],i={onLtr:e=>[nu,ou,eu,Yc,tu,$c].concat(s(e)),onRtl:e=>[nu,ou,tu,$c,eu,Yc].concat(s(e))},a={onLtr:e=>[ou,Yc,$c,eu,tu,nu].concat(s(e)),onRtl:e=>[ou,$c,Yc,tu,eu,nu].concat(s(e))};return t?a:i},fz=(e,t,n,o)=>"line"===t?{bubble:Md(lz,0,cz),layouts:{onLtr:()=>[ru],onRtl:()=>[su]},overrides:uz}:{bubble:Md(0,lz,cz,1/lz),layouts:pz(e,n,o,t),overrides:uz},bz=(e,t)=>{const n=G(t,(t=>t.predicate(e.dom))),{pass:o,fail:r}=W(n,(e=>"contexttoolbar"===e.type));return{contextToolbars:o,contextForms:r}},vz=e=>{if(e.length<=1)return e;{const t=t=>R(e,(e=>e.position===t)),n=t=>G(e,(e=>e.position===t)),o=t("selection"),r=t("node");if(o||r){if(r&&o){const e=n("node"),t=j(n("selection"),(e=>({...e,position:"node"})));return e.concat(t)}return n(o?"selection":"node")}return n("line")}},wz=e=>{if(e.length<=1)return e;{const t=t=>J(e,(e=>e.position===t)),n=t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position));return n.fold((()=>[]),(t=>G(e,(e=>e.position===t))))}},yz=(e,t,n)=>{const o=bz(e,t);if(o.contextForms.length>0)return L.some({elem:e,toolbars:[o.contextForms[0]]});{const t=bz(e,n);if(t.contextForms.length>0)return L.some({elem:e,toolbars:[t.contextForms[0]]});if(o.contextToolbars.length>0||t.contextToolbars.length>0){const n=vz(o.contextToolbars.concat(t.contextToolbars));return L.some({elem:e,toolbars:n})}return L.none()}},Bz=(e,t,n)=>e(t)?L.none():hi(t,(e=>{if(at(e)){const{contextToolbars:t,contextForms:o}=bz(e,n.inNodeScope),r=o.length>0?o:wz(t);return r.length>0?L.some({elem:e,toolbars:r}):L.none()}return L.none()}),e),Cz=(e,t)=>{const n=$e.fromDom(t.getBody()),o=e=>pt(e,n),r=e=>!o(e)&&!ft(n,e),s=$e.fromDom(t.selection.getNode());return r(s)?L.none():yz(s,e.inNodeScope,e.inEditorScope).orThunk((()=>Bz(o,s,e)))},xz=(e,t)=>{const n={},o=[],r=[],s={},i={},a=(e,a)=>{const A=ps(SS(a));n[e]=A,A.launch.map((n=>{s["form:"+e]={...a.launch,type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:()=>{t(A)}}})),"editor"===A.scope?r.push(A):o.push(A),i[e]=A},A=(e,t)=>{kS(t).each((n=>{"editor"===t.scope?r.push(n):o.push(n),i[e]=n}))},l=de(e);return z(l,(t=>{const n=e[t];"contextform"===n.type?a(t,n):"contexttoolbar"===n.type&&A(t,n)})),{forms:n,inNodeScope:o,inEditorScope:r,lookupTable:i,formNavigators:s}},Sz=$a("forward-slide"),Fz=$a("backward-slide"),kz=$a("change-slide-event"),Ez="tox-pop--resizing",_z=e=>{const t=ei([]);return fB.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]),fB.getContent(e).each((e=>{ln(e.element,"visibility")})),ol(e.element,Ez),ln(e.element,"width")},inlineBehaviours:Cu([Jw("context-toolbar-events",[Da(Pi(),((e,t)=>{"width"===t.event.raw.propertyName&&(ol(e.element,Ez),ln(e.element,"width"))})),ka(kz,((e,t)=>{const n=e.element;ln(n,"width");const o=xn(n);fB.setContent(e,t.event.contents),tl(n,Ez);const r=xn(n);en(n,"width",o+"px"),fB.getContent(e).each((e=>{t.event.focus.bind((e=>(Tu(e),Du(n)))).orThunk((()=>(Qw.focusIn(e),Qu(Nt(n)))))})),setTimeout((()=>{en(e.element,"width",r+"px")}),0)})),ka(Sz,((e,n)=>{fB.getContent(e).each((n=>{t.set(t.get().concat([{bar:n,focus:Qu(Nt(e.element))}]))})),ba(e,kz,{contents:n.event.forwardContents,focus:L.none()})})),ka(Fz,((e,n)=>{le(t.get()).each((n=>{t.set(t.get().slice(0,t.get().length-1)),ba(e,kz,{contents:Hl(n.bar),focus:n.focus})}))}))]),Qw.config({mode:"special",onEscape:n=>le(t.get()).fold((()=>e.onEscape()),(e=>(fa(n,Fz),L.some(!0))))})]),lazySink:()=>Yo.value(e.sink)})},Oz="tox-pop--transition",Uz=(e,t,n,o)=>{const r=o.backstage,s=r.shared,i=go().deviceType.isTouch,a=ud(),A=ud(),l=ud(),c=Il(_z({sink:n,onEscape:()=>(e.focus(),L.some(!0))})),u=()=>{const t=l.get().getOr("node"),n=hz(t)?1:0;return Az(e,s,t,n)},d=()=>!e.removed&&!(i()&&r.isContextMenuOpen()),m=e=>ke(Ue(e,a.get(),pt),!0),h=()=>{if(d()){const t=u(),n=ke(l.get(),"node")?sz(e,a.get()):rz(e);return t.height<=0||!nz(n,t)}return!0},g=()=>{a.clear(),A.clear(),l.clear(),fB.hide(c)},p=()=>{if(fB.isOpen(c)){const e=c.element;ln(e,"display"),h()?en(e,"display","none"):(A.set(0),fB.reposition(c))}},f=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Cu([Qw.config({mode:"acyclic"}),Jw("pop-dialog-wrap-events",[Ia((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>Qw.focusIn(t)))})),Ha((t=>{e.shortcuts.remove("ctrl+F9")}))])])}),b=kn((()=>xz(t,(e=>{const t=B([e]);ba(c,Sz,{forwardContents:f(t)})})))),w=(t,n)=>xj(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},o,L.some(["form:"])),y=(e,t)=>tz.buildInitGroups(e,t),B=t=>{const{buttons:n}=e.ui.registry.getAll(),o=b(),r={...n,...o.formNavigators},i=sC(e)===HB.scrolling?HB.scrolling:HB.default,a=$(j(t,(e=>"contexttoolbar"===e.type?w(r,e):y(e,s.providers))));return NP({type:i,uid:$a("context-toolbar"),initGroups:a,onEscape:L.none,cyclicKeying:!0,providers:s.providers})},C=(t,o)=>{const r="node"===t?s.anchors.node(o):s.anchors.cursor(),l=fz(e,t,i(),{lastElement:a.get,isReposition:()=>ke(A.get(),0),getMode:()=>Hh.getMode(n)});return fr(r,l)},x=(e,t)=>{if(S.cancel(),!d())return;const o=B(e),r=e[0].position,s=C(r,t);l.set(r),A.set(1);const i=c.element;ln(i,"display"),m(t)||(ol(i,Oz),Hh.reset(n,c)),fB.showWithinBounds(c,f(o),{anchor:s,transition:{classes:[Oz],mode:"placement"}},(()=>L.some(u()))),t.fold(a.clear,a.set),h()&&en(i,"display","none")},S=gQ((()=>{if(e.hasFocus()&&!e.removed)if(rl(c.element,Oz))S.throttle();else{const t=b();Cz(t,e).fold(g,(e=>{x(e.toolbars,L.some(e.elem))}))}}),17);e.on("init",(()=>{e.on("remove",g),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",p),e.on("click keyup focus SetContent",S.throttle),e.on(Wj,g),e.on(Kj,(t=>{const n=b();xe(n.lookupTable,t.toolbarKey).each((n=>{x([n],Ne(t.target!==e,t.target)),fB.getContent(c).each(Qw.focusIn)}))})),e.on("focusout",(t=>{bB.setEditorTimeout(e,(()=>{Du(n.element).isNone()&&Du(c.element).isNone()&&g()}),0)})),e.on("SwitchMode",(()=>{e.mode.isReadOnly()&&g()})),e.on("AfterProgressState",(t=>{t.state?g():e.hasFocus()&&S.throttle()})),e.on("NodeChange",(e=>{Du(c.element).fold(S.throttle,v)}))}))},Tz=e=>{const t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];z(t,(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:aV(e,t.cmd),onSetup:rV(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:aV(e,"JustifyNone")})},Lz={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Nz=(()=>{const e="[0-9]+",t="[+-]?"+e,n="[eE]"+t,o="\\.",r=e=>`(?:${e})?`,s=["Infinity",e+o+r(e)+r(n),o+e+r(n),e+r(n)].join("|"),i=`[+-]?(?:${s})`;return new RegExp(`^(${i})(.*)$`)})(),Qz=(e,t)=>R(t,(t=>R(Lz[t],(t=>e===t)))),Dz=(e,t)=>{const n=L.from(Nz.exec(e));return n.bind((e=>{const n=Number(e[1]),o=e[2];return Qz(o,t)?L.some({value:n,unit:o}):L.none()}))},Iz=(e,t)=>Dz(e,t).map((({value:e,unit:t})=>e+t)),Hz=(e,t)=>{const n=()=>{const n=t.getOptions(e),o=t.getCurrent(e).map(t.hash),r=ud();return j(n,(n=>({type:"togglemenuitem",text:t.display(n),onSetup:s=>{const i=e=>{e&&(r.on((e=>e.setActive(!1))),r.set(s)),s.setActive(e)};i(ke(o,t.hash(n)));const a=t.watcher(e,n,i);return()=>{r.clear(),a()}},onAction:()=>t.setCurrent(e,n)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(n()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},Mz={name:"lineheight",text:"Line height",icon:"line-height",getOptions:OC,hash:e=>Iz(e,["fixed","relative","empty"]).getOr(e),display:x,watcher:(e,t,n)=>e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind,getCurrent:e=>L.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t)},Rz=e=>{const t=L.from(oC(e));return t.map((t=>({name:"language",text:"Language",icon:"language",getOptions:C(t),hash:e=>m(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,n)=>e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:t.customCode}).unbind,getCurrent:e=>{const t=$e.fromDom(e.selection.getNode());return gi(t,(e=>L.some(e).filter(at).bind((e=>{const t=qt(e,"lang");return t.map((t=>{const n=qt(e,"data-mce-lang").getOrUndefined();return{code:t,customCode:n,title:""}}))}))))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:t=>{const n=cd();return t.setActive(e.formatter.match("lang",{},void 0,!0)),n.set(e.formatter.formatChanged("lang",t.setActive,!0)),n.clear}})))},Pz=e=>{Hz(e,Mz),Rz(e).each((t=>Hz(e,t)))},Vz=(e,t)=>{vV(e,t),_V(e,t),RV(e,t),CV(e,t),IV(e,t)},jz=e=>sV(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent"))})),zz=e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:jz(e),onAction:aV(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:aV(e,"indent")})},Kz=e=>{zz(e)},Wz=(e,t)=>n=>{n.setActive(t.get());const o=e=>{t.set(e.state),n.setActive(e.state)};return e.on("PastePlainTextToggle",o),()=>e.off("PastePlainTextToggle",o)},Gz=e=>{const t=ei(SC(e)),n=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:Wz(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:Wz(e,t)})},qz=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},Zz=e=>{tN.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,n)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:rV(e,t.name),onAction:qz(e,t.name)})}));for(let t=1;t<=6;t++){const n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:rV(e,n),onAction:qz(e,n)})}},Xz=e=>{tN.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:aV(e,t.action)})}))},Jz=e=>{tN.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:aV(e,t.action),onSetup:rV(e,t.name)})}))},Yz=e=>{Zz(e),Xz(e),Jz(e)},$z=e=>{tN.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:aV(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:qz(e,"code")})},eK=e=>{Yz(e),$z(e)},tK=(e,t)=>sV(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(n=>{n.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),nK=e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:tK(e,"hasUndo"),onAction:aV(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:tK(e,"hasRedo"),onAction:aV(e,"redo")})},oK=e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:tK(e,"hasUndo"),onAction:aV(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:tK(e,"hasRedo"),onAction:aV(e,"redo")})},rK=e=>{nK(e),oK(e)},sK=e=>sV(e,"VisualAid",(t=>{t.setActive(e.hasVisual)})),iK=e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:sK(e),onAction:aV(e,"mceToggleVisualAid")})},aK=e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:aV(e,"mceToggleVisualAid")})},AK=e=>{aK(e),iK(e)},lK=(e,t)=>{Tz(e),eK(e),Vz(e,t),rK(e),iE(e),AK(e),Kz(e),Pz(e),Gz(e)},cK=e=>a(e)?e.split(/[ ,]/):e,uK=e=>t=>t.options.get(e),dK=e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:a(e)||b(e,a)?{value:cK(e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},mK=uK("contextmenu_never_use_native"),hK=uK("contextmenu_avoid_overlap"),gK=e=>0===pK(e).length,pK=e=>{const t=e.ui.registry.getAll().contextMenus,n=e.options.get("contextmenu");return e.options.isSet("contextmenu")?n:G(n,(e=>Se(t,e)))},fK=(e,t)=>({type:"makeshift",x:e,y:t}),bK=(e,t,n)=>fK(e.x+t,e.y+n),vK=e=>"longpress"===e.type||0===e.type.indexOf("touch"),wK=e=>{if(vK(e)){const t=e.touches[0];return fK(t.pageX,t.pageY)}return fK(e.pageX,e.pageY)},yK=e=>{if(vK(e)){const t=e.touches[0];return fK(t.clientX,t.clientY)}return fK(e.clientX,e.clientY)},BK=(e,t)=>{const n=PB.DOM.getPos(e);return bK(t,n.x,n.y)},CK=(e,t)=>"contextmenu"===t.type||"longpress"===t.type?e.inline?wK(t):BK(e.getContentAreaContainer(),yK(t)):xK(e),xK=e=>({type:"selection",root:$e.fromDom(e.selection.getNode())}),SK=e=>({type:"node",node:L.some($e.fromDom(e.selection.getNode())),root:$e.fromDom(e.getBody())}),FK=(e,t,n)=>{switch(n){case"node":return SK(e);case"point":return CK(e,t);case"selection":return xK(e)}},kK=(e,t,n,o,r,s)=>{const i=n(),a=FK(e,t,s);HN(i,qC.CLOSE_ON_EXECUTE,o,!1).map((e=>{t.preventDefault(),fB.showMenuAt(r,{anchor:a},{menu:{markers:bx("normal")},data:e})}))},EK={onLtr:()=>[ou,Yc,$c,eu,tu,nu,HD,MD,ID,QD,DD,ND],onRtl:()=>[ou,$c,Yc,tu,eu,nu,HD,MD,DD,ND,ID,QD]},_K=12,OK={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},UK=(e,t)=>{const n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;{const o=t.touches[0],r=n.getRng(),s=$m(e.getWin(),Tm.domRange(r));return s.exists((e=>e.left<=o.clientX&&e.right>=o.clientX&&e.top<=o.clientY&&e.bottom>=o.clientY))}},TK=e=>{const t=e.selection.getRng(),n=()=>{bB.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),s()};e.once("touchend",n);const o=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",o,!0);const r=()=>s();e.once("longpresscancel",r);const s=()=>{e.off("touchend",n),e.off("longpresscancel",r),e.off("mousedown",o)}},LK=(e,t,n)=>{const o=FK(e,t,n),r="point"===n?_K:0;return{bubble:Md(0,r,OK),layouts:EK,overrides:{maxWidthFunction:rP(),maxHeightFunction:Nd()},...o}},NK=(e,t,n,o,r,s,i)=>{const a=LK(e,t,s);HN(n,qC.CLOSE_ON_EXECUTE,o,!0).map((n=>{t.preventDefault(),fB.showMenuWithinBounds(r,{anchor:a},{menu:{markers:bx("normal"),highlightImmediately:i},data:n,type:"horizontal"},(()=>L.some(Az(e,o.shared,"node"===s?"node":"selection")))),e.dispatch(Wj)}))},QK=(e,t,n,o,r,s)=>{const i=go(),a=i.os.isiOS(),A=i.os.isMacOS(),l=i.os.isAndroid(),c=i.deviceType.isTouch(),u=()=>!(l||a||A&&c),d=()=>{const i=n();NK(e,t,i,o,r,s,u())};if((A||a)&&"node"!==s){const n=()=>{TK(e),d()};UK(e,t)?n():(e.once("selectionchange",n),e.once("touchend",(()=>e.off("selectionchange",n))))}else d()},DK=e=>a(e)?"|"===e:"separator"===e.type,IK={type:"separator"},HK=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(a(e))return e;switch(e.type){case"separator":return IK;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();return a(t)?t:j(t,HK)}};default:return{type:"menuitem",...t(e),onAction:w(e.onAction)}}},MK=(e,t)=>{if(0===t.length)return e;const n=le(e).filter((e=>!DK(e))),o=n.fold((()=>[]),(e=>[IK]));return e.concat(o).concat(t).concat([IK])},RK=(e,t,n)=>{const o=Z(t,((t,o)=>xe(e,o.toLowerCase()).map((e=>{const o=e.update(n);if(a(o))return MK(t,o.split(" "));if(o.length>0){const e=j(o,HK);return MK(t,e)}return t})).getOrThunk((()=>t.concat([o])))),[]);return o.length>0&&DK(o[o.length-1])&&o.pop(),o},PK=(e,t)=>t.ctrlKey&&!mK(e),VK=(e,t)=>"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType),jK=(e,t)=>VK(e,t)?e.selection.getStart(!0):t.target,zK=(e,t)=>{const n=hK(e),o=VK(e,t)?"selection":"point";if(Ke(n)){const r=jK(e,t),s=jE($e.fromDom(r),n);return s?"node":o}return o},KK=(e,t,n)=>{const o=go(),r=o.deviceType.isTouch,s=Il(fB.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Cu([Jw("dismissContextMenu",[ka(la(),((t,n)=>{Bg.close(t),e.focus()}))])])})),i=e=>fB.hide(s),a=t=>{if(mK(e)&&t.preventDefault(),PK(e,t)||gK(e))return;const o=zK(e,t),i=()=>{const n=jK(e,t),o=e.ui.registry.getAll(),r=pK(e);return RK(o.contextMenus,r,n)},a=r()?QK:kK;a(e,t,i,n,s,o)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(r()?"":" ResizeWindow");e.on(t,i),e.on("longpress contextmenu",a)}))},WK=ni.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),GK=e=>t=>t.translate(-e.left,-e.top),qK=e=>t=>t.translate(e.left,e.top),ZK=e=>(t,n)=>Z(e,((e,t)=>t(e)),fn(t,n)),XK=(e,t,n)=>e.fold(ZK([qK(n),GK(t)]),ZK([GK(t)]),ZK([])),JK=(e,t,n)=>e.fold(ZK([qK(n)]),ZK([]),ZK([qK(t)])),YK=(e,t,n)=>e.fold(ZK([]),ZK([GK(n)]),ZK([qK(t),GK(n)])),$K=(e,t,n,o,r,s)=>{const i=JK(e,r,s),a=JK(t,r,s);return Math.abs(i.left-a.left)<=n&&Math.abs(i.top-a.top)<=o},eW=(e,t,n,o,r,s)=>{const i=JK(e,r,s),a=JK(t,r,s),A=Math.abs(i.left-a.left),l=Math.abs(i.top-a.top);return fn(A,l)},tW=(e,t,n)=>{const o=e.fold(((e,t)=>({position:L.some("absolute"),left:L.some(e+"px"),top:L.some(t+"px")})),((e,t)=>({position:L.some("absolute"),left:L.some(e-n.left+"px"),top:L.some(t-n.top+"px")})),((e,t)=>({position:L.some("fixed"),left:L.some(e+"px"),top:L.some(t+"px")})));return{right:L.none(),bottom:L.none(),...o}},nW=(e,t,n)=>e.fold(((e,o)=>rW(e+t,o+n)),((e,o)=>sW(e+t,o+n)),((e,o)=>iW(e+t,o+n))),oW=(e,t,n,o)=>{const r=(e,r)=>(s,i)=>{const a=e(t,n,o);return r(s.getOr(a.left),i.getOr(a.top))};return e.fold(r(YK,rW),r(JK,sW),r(XK,iW))},rW=WK.offset,sW=WK.absolute,iW=WK.fixed,aW=(e,t)=>{const n=Gt(e,t);return m(n)?NaN:parseInt(n,10)},AW=(e,t)=>{const n=e.element,o=aW(n,t.leftAttr),r=aW(n,t.topAttr);return isNaN(o)||isNaN(r)?L.none():L.some(fn(o,r))},lW=(e,t,n)=>{const o=e.element;Kt(o,t.leftAttr,n.left+"px"),Kt(o,t.topAttr,n.top+"px")},cW=(e,t)=>{const n=e.element;Xt(n,t.leftAttr),Xt(n,t.topAttr)},uW=(e,t,n,o)=>AW(e,t).fold((()=>n),(e=>iW(e.left+o.left,e.top+o.top))),dW=(e,t,n,o,r,s)=>{const i=uW(e,t,n,o),a=t.mustSnap?gW(e,t,i,r,s):pW(e,t,i,r,s),A=XK(i,r,s);return lW(e,t,A),a.fold((()=>({coord:iW(A.left,A.top),extra:L.none()})),(e=>({coord:e.output,extra:e.extra})))},mW=(e,t)=>{cW(e,t)},hW=(e,t,n,o)=>ue(e,(e=>{const r=e.sensor,s=$K(t,r,e.range.left,e.range.top,n,o);return s?L.some({output:oW(e.output,t,n,o),extra:e.extra}):L.none()})),gW=(e,t,n,o,r)=>{const s=t.getSnapPoints(e),i=hW(s,n,o,r);return i.orThunk((()=>{const e=Z(s,((e,t)=>{const s=t.sensor,i=eW(n,s,t.range.left,t.range.top,o,r);return e.deltas.fold((()=>({deltas:L.some(i),snap:L.some(t)})),(n=>{const o=(i.left+i.top)/2,r=(n.left+n.top)/2;return o<=r?{deltas:L.some(i),snap:L.some(t)}:e}))}),{deltas:L.none(),snap:L.none()});return e.snap.map((e=>({output:oW(e.output,n,o,r),extra:e.extra})))}))},pW=(e,t,n,o,r)=>{const s=t.getSnapPoints(e);return hW(s,n,o,r)},fW=(e,t,n)=>({coord:oW(e.output,e.output,t,n),extra:e.extra}),bW=(e,t,n,o)=>{const r=t.getTarget(e.element);if(t.repositionTarget){const t=bt(e.element),n=Uo(t),s=kH(r),i=fW(o,n,s),a=tW(i.coord,n,s);nn(r,a)}};var vW=Object.freeze({__proto__:null,snapTo:bW});const wW="data-initial-z-index",yW=e=>{Bt(e.element).filter(at).each((e=>{qt(e,wW).fold((()=>ln(e,"z-index")),(t=>en(e,"z-index",t))),Xt(e,wW)}))},BW=e=>{Bt(e.element).filter(at).each((t=>{sn(t,"z-index").each((e=>{Kt(t,wW,e)})),en(t,"z-index",on(e.element,"z-index"))}))},CW=(e,t)=>{e.getSystem().addToGui(t),BW(t)},xW=e=>{yW(e),e.getSystem().removeFromGui(e)},SW=(e,t,n)=>e.getSystem().build(m_.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}));var FW=Vs("snaps",[xs("getSnapPoints"),bc("onSensor"),xs("leftAttr"),xs("topAttr"),zs("lazyViewport",qo),zs("mustSnap",!1)]);const kW=[zs("useFixed",O),xs("blockerClass"),zs("getTarget",x),zs("onDrag",v),zs("repositionTarget",!0),zs("onDrop",v),Xs("getBounds",qo),FW],EW=e=>Te(sn(e,"left"),sn(e,"top"),sn(e,"position"),((e,t,n)=>{const o="fixed"===n?iW:rW;return o(parseInt(e,10),parseInt(t,10))})).getOrThunk((()=>{const t=wn(e);return sW(t.left,t.top)})),_W=(e,t,n,o,r)=>{const s=r.bounds,i=JK(t,n,o),a=Mc(i.left,s.x,s.x+s.width-r.width),A=Mc(i.top,s.y,s.y+s.height-r.height),l=sW(a,A);return t.fold((()=>{const e=YK(l,n,o);return rW(e.left,e.top)}),C(l),(()=>{const e=XK(l,n,o);return iW(e.left,e.top)}))},OW=(e,t,n,o,r,s,i)=>{const a=t.fold((()=>{const e=nW(n,s.left,s.top),t=XK(e,o,r);return iW(t.left,t.top)}),(t=>{const i=dW(e,t,n,s,o,r);return i.extra.each((n=>{t.onSensor(e,n)})),i.coord}));return _W(e,a,o,r,i)},UW=(e,t,n,o)=>{const r=t.getTarget(e.element);if(t.repositionTarget){const s=bt(e.element),i=Uo(s),a=kH(r),A=EW(r),l=OW(e,t.snaps,A,i,a,o,n),c=tW(l,i,a);nn(r,c)}t.onDrag(e,r,o)},TW=(e,t)=>({bounds:e.getBounds(),height:hn(t.element),width:Sn(t.element)}),LW=(e,t,n,o,r)=>{const s=n.update(o,r),i=n.getStartData().getOrThunk((()=>TW(t,e)));s.each((n=>{UW(e,t,i,n)}))},NW=(e,t,n,o)=>{t.each(xW),n.snaps.each((t=>{mW(e,t)}));const r=n.getTarget(e.element);o.reset(),n.onDrop(e,r)},QW=e=>(t,n)=>{const o=e=>{n.setStartData(TW(t,e))};return Ca([ka(sa(),(e=>{n.getStartData().each((()=>o(e)))})),...e(t,n,o)])},DW=e=>Ca([ka(Ei(),e.forceDrop),ka(Ui(),e.drop),ka(_i(),((t,n)=>{e.move(n.event)})),ka(Oi(),e.delayDrop)]),IW=e=>L.from(fn(e.x,e.y)),HW=(e,t)=>fn(t.left-e.left,t.top-e.top);var MW=Object.freeze({__proto__:null,getData:IW,getDelta:HW});const RW=(e,t,n)=>[ka(Ei(),((o,r)=>{const s=r.event.raw;if(0!==s.button)return;r.stop();const i=()=>NW(o,L.some(l),e,t),a=zE(i,200),A={drop:i,delayDrop:a.schedule,forceDrop:i,move:n=>{a.cancel(),LW(o,e,t,MW,n)}},l=SW(o,e.blockerClass,DW(A)),c=()=>{n(o),CW(o,l)};c()}))],PW=[...kW,Bc("dragger",{handlers:QW(RW)})],VW=e=>Ca([ka(xi(),e.forceDrop),ka(Fi(),e.drop),ka(ki(),e.drop),ka(Si(),((t,n)=>{e.move(n.event)}))]),jW=e=>{const t=e[0];return L.some(fn(t.clientX,t.clientY))},zW=e=>{const t=e.raw,n=t.touches;return 1===n.length?jW(n):L.none()},KW=(e,t)=>fn(t.left-e.left,t.top-e.top);var WW=Object.freeze({__proto__:null,getData:zW,getDelta:KW});const GW=(e,t,n)=>{const o=ud(),r=n=>{NW(n,o.get(),e,t),o.clear()};return[ka(xi(),((s,i)=>{i.stop();const a=()=>r(s),A={drop:a,delayDrop:v,forceDrop:a,move:n=>{LW(s,e,t,WW,n)}},l=SW(s,e.blockerClass,VW(A));o.set(l);const c=()=>{n(s),CW(s,l)};c()})),ka(Si(),((n,o)=>{o.stop(),LW(n,e,t,WW,o.event)})),ka(Fi(),((e,t)=>{t.stop(),r(e)})),ka(ki(),r)]},qW=[...kW,Bc("dragger",{handlers:QW(GW)})],ZW=(e,t,n)=>[...RW(e,t,n),...GW(e,t,n)],XW=[...kW,Bc("dragger",{handlers:QW(ZW)})],JW=PW,YW=qW,$W=XW;var eG=Object.freeze({__proto__:null,mouse:JW,touch:YW,mouseOrTouch:$W});const tG=()=>{let e=L.none(),t=L.none();const n=()=>{e=L.none(),t=L.none()},o=(t,n)=>{const o=e.map((e=>t.getDelta(e,n)));return e=L.some(n),o},r=(e,t)=>e.getData(t).bind((t=>o(e,t))),s=e=>{t=L.some(e)},i=()=>t,a=C({});return yA({readState:a,reset:n,update:r,getStartData:i,setStartData:s})};var nG=Object.freeze({__proto__:null,init:tG});const oG=ku({branchKey:"mode",branches:eG,name:"dragging",active:{events:(e,t)=>{const n=e.dragger;return n.handlers(e,t)}},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:L.from(e.extra)})},state:nG,apis:vW}),rG=40,sG=rG/2,iG=(e,t,n,o,r,s)=>e.fold((()=>oG.snap({sensor:sW(n-sG,o-sG),range:fn(r,s),output:sW(L.some(n),L.some(o)),extra:{td:t}})),(e=>{const r=n-sG,s=o-sG,i=rG,a=rG,A=e.element.dom.getBoundingClientRect();return oG.snap({sensor:sW(r,s),range:fn(i,a),output:sW(L.some(n-A.width/2),L.some(o-A.height/2)),extra:{td:t}})})),aG=(e,t,n)=>{const o=(e,t)=>e.exists((e=>pt(e,t)));return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,r)=>{const s=r.td;o(t.get(),s)||(t.set(s),n(s))},mustSnap:!0}},AG=e=>yB(wB.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Cu([oG.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),PO.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),lG=(e,t)=>{const n=ei([]),o=ei([]),r=ei(!1),s=ud(),i=ud(),a=e=>{const n=Go(e);return iG(m.getOpt(t),e,n.x,n.y,n.width,n.height)},A=()=>j(n.get(),(e=>a(e))),l=e=>{const n=Go(e);return iG(h.getOpt(t),e,n.right,n.bottom,n.width,n.height)},c=()=>j(o.get(),(e=>l(e))),u=aG(A,s,(t=>{i.get().each((n=>{e.dispatch("TableSelectorChange",{start:t,finish:n})}))})),d=aG(c,i,(t=>{s.get().each((n=>{e.dispatch("TableSelectorChange",{start:n,finish:t})}))})),m=AG(u),h=AG(d),g=Il(m.asSpec()),p=Il(h.asSpec()),f=(t,n,o,r)=>{const s=n.dom.getBoundingClientRect();ln(t.element,"display");const i=yt($e.fromDom(e.getBody())).dom.innerHeight,a=o(s),A=r(s,i);(a||A)&&en(t.element,"display","none")},b=(e,t,n,o)=>{const r=n(t);oG.snapTo(e,r);const s=e=>e[o]<0,i=(e,t)=>e[o]>t;f(e,t,s,i)},v=e=>b(g,e,a,"top"),w=()=>s.get().each(v),y=e=>b(p,e,l,"bottom"),B=()=>i.get().each(y);go().deviceType.isTouch()&&(e.on("TableSelectionChange",(e=>{r.get()||(qh(t,g),qh(t,p),r.set(!0)),s.set(e.start),i.set(e.finish),e.otherCells.each((t=>{n.set(t.upOrLeftCells),o.set(t.downOrRightCells),v(e.start),y(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{w(),B()})),e.on("TableSelectionClear",(()=>{r.get()&&(Jh(g),Jh(p),r.set(!1)),s.clear(),i.clear()})))};var cG='<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n';const uG=e=>"BR"===e.nodeName||!!e.getAttribute("data-mce-bogus")||"bookmark"===e.getAttribute("data-mce-type"),dG=(e,t,n)=>{var o;const r=null!==(o=t.delimiter)&&void 0!==o?o:"›",s=(t,o,r)=>wB.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":r,"aria-level":r+1}},components:[Tl(t)],action:t=>{e.focus(),e.selection.select(o),e.nodeChanged()},buttonBehaviours:Cu([BF.button(n.isDisabled),fF()])}),i=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Tl(` ${r} `)]}),a=e=>Z(e,((e,t,n)=>{const o=s(t.name,t.element,n);return 0===n?e.concat([o]):e.concat([i(),o])}),[]),A=t=>{const n=[];let o=t.length;while(o-- >0){const r=t[o];if(1===r.nodeType&&!uG(r)){const t=e.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r});if(t.isDefaultPrevented()||n.push({name:t.name,element:r}),t.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Cu([Qw.config({mode:"flow",selector:"div[role=button]"}),Vf.config({disabled:n.isDisabled}),fF(),C_.config({}),Zw.config({}),Jw("elementPathEvents",[Ia(((t,n)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>Qw.focusIn(t))),e.on("NodeChange",(e=>{const n=A(e.parents),o=n.length>0?a(n):[];Zw.set(t,o)}))}))])]),components:[]}};var mG;(function(e){e[e["None"]=0]="None",e[e["Both"]=1]="Both",e[e["Vertical"]=2]="Vertical"})(mG||(mG={}));const hG=(e,t,n,o,r)=>{const s={};return s.height=Lj(o+t.top,JB(e),$B(e)),n===mG.Both&&(s.width=Lj(r+t.left,XB(e),YB(e))),s},gG=(e,t,n)=>{const o=$e.fromDom(e.getContainer()),r=hG(e,t,n,mn(o),xn(o));he(r,((e,t)=>en(o,t,Tj(e)))),Sk(e)},pG=e=>{const t=xC(e);return!1===t?mG.None:"both"===t?mG.Both:mG.Vertical},fG=(e,t,n,o)=>{const r=20,s=fn(n*r,o*r);return gG(e,s,t),L.some(!0)},bG=(e,t)=>{const n=pG(e);return n===mG.None?L.none():L.some(LB("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[oG.config({mode:"mouse",repositionTarget:!1,onDrag:(t,o,r)=>gG(e,r,n),blockerClass:"tox-blocker"}),Qw.config({mode:"special",onLeft:()=>fG(e,n,-1,0),onRight:()=>fG(e,n,1,0),onUp:()=>fG(e,n,0,-1),onDown:()=>fG(e,n,0,1)}),C_.config({}),iy.config({})]},t.icons))},vG=(e,t)=>{const n=(e,n,o)=>Zw.set(e,[Tl(t.translate(["{0} "+o,n[o]]))]);return wB.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Cu([BF.button(t.isDisabled),fF(),C_.config({}),Zw.config({}),rp.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Jw("wordcount-events",[Ra((e=>{const t=rp.getValue(e),o="words"===t.mode?"characters":"words";rp.setValue(e,{mode:o,count:t.count}),n(e,t.count,o)})),Ia((t=>{e.on("wordCountUpdate",(e=>{const{mode:o}=rp.getValue(t);rp.setValue(t,{mode:o,count:e.wordCount}),n(t,e.wordCount,o)}))}))])]),eventOrder:{[Xi()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},wG=(e,t)=>{const n=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":BB.translate(["Powered by {0}","Tiny"])},innerHtml:cG.trim()},behaviours:Cu([iy.config({})])}]}),o=()=>{const o=[];return BC(e)&&o.push(dG(e,{},t)),e.hasPlugin("wordcount")&&o.push(vG(e,t)),CC(e)&&o.push(n()),o.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:o}]:[]},r=()=>{const n=o(),r=bG(e,t);return n.concat(r.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:r()}},yG=e=>e.get().getOrDie("UI has not been rendered"),BG=e=>{const t=e.inline,n=t?zj:Oj,o=MC(e)?wM:SH,r=ud(),s=ud(),i=ud(),a=ud(),A=go(),l=A.deviceType.isTouch(),c="tox-platform-touch",u=l?[c]:[],d=NC(e),m=sC(e),h=yB({dom:{tag:"div",classes:["tox-anchorbar"]}}),g=()=>s.get().bind(zP.getHeader),p=()=>Yo.fromOption(r.get(),"UI has not been rendered"),f=()=>s.get().bind((e=>h.getOpt(e))).getOrDie("Could not find a anchor bar element"),b=()=>s.get().bind((e=>zP.getToolbar(e))).getOrDie("Could not find more toolbar element"),v=()=>s.get().bind((e=>zP.getThrobber(e))).getOrDie("Could not find throbber element"),w=iH(p,e,f),y=()=>{const t={attributes:{[Kd]:d?zd.BottomToTop:zd.TopToBottom}},n=zP.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:w,onEscape:()=>{e.focus()}}),o=zP.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:p,providers:w.shared.providers,onEscape:()=>{e.focus()},type:m,lazyToolbar:b,lazyHeader:()=>g().getOrDie("Could not find header element"),...t}),r=zP.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:w.shared.providers,onEscape:()=>{e.focus()},type:m}),s=LC(e),i=UC(e),a=EC(e),A=()=>s?[r]:i?[o]:[];return zP.parts.header({dom:{tag:"div",classes:["tox-editor-header"],...t},components:$([a?[n]:[],A(),DC(e)?[]:[h.asSpec()]]),sticky:MC(e),editor:e,sharedBackstage:w.shared})},B=()=>{const e=zP.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),t=zP.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[e,t]}},C=()=>{const t=IC(e),n=pt(Vt(),t)&&"grid"===on(t,"display"),s={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(u),attributes:{...BB.isRtl()?{dir:"rtl"}:{}}},behaviours:Cu([Hh.config({useFixed:()=>o.isDocked(g)})])},i={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ca([ka(ia(),(e=>{en(e.element,"width",document.body.clientWidth+"px")}))])},A=Il(fr(s,n?i:{})),l=h_(A);return r.set(A),a.set(l),{sink:A,uiMothership:l}},x=()=>{const n=y(),o=B(),r=zP.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:w}),a=yC(e)&&!t?L.some(wG(e,w.shared.providers)):L.none(),A=$([d?[]:[n],t?[]:[o],d?[n]:[]]),l={dom:{tag:"div",classes:["tox-editor-container"]},components:A},c=$([[l],t?[]:a.toArray(),[r]]),m=HC(e),h={role:"application",...BB.isRtl()?{dir:"rtl"}:{},...m?{"aria-hidden":"true"}:{}},g=Il(zP.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(t?["tox-tinymce-inline"]:[]).concat(d?["tox-tinymce--toolbar-bottom"]:[]).concat(u),styles:{visibility:"hidden",...m?{opacity:"0",border:"0"}:{}},attributes:h},components:c,behaviours:Cu([fF(),Vf.config({disableClass:"tox-tinymce--disabled"}),Qw.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),p=h_(g);return s.set(g),i.set(p),{mothership:p,outerContainer:g}},S=t=>{const n=Tj(Qj(e)),o=Tj(Ij(e));return e.inline||(An("div","width",o)&&en(t.element,"width",o),An("div","height",n)?en(t.element,"height",n):en(t.element,"height","400px")),n},F=t=>{e.addShortcut("alt+F9","focus menubar",(()=>{zP.focusMenubar(t)})),e.addShortcut("alt+F10","focus toolbar",(()=>{zP.focusToolbar(t)})),e.addCommand("ToggleToolbarDrawer",(()=>{zP.toggleToolbarDrawer(t)})),e.addQueryStateHandler("ToggleToolbarDrawer",(()=>zP.isToolbarDrawerToggled(t)))},k=()=>{const{mothership:t,outerContainer:r}=x(),{uiMothership:s,sink:i}=C();ge(iC(e),((t,n)=>{e.ui.registry.addGroupToolbarButton(n,t)}));const{buttons:a,menuItems:A,contextToolbars:l,sidebars:c}=e.ui.registry.getAll(),u=TC(e),d={menuItems:A,menus:RC(e),menubar:dC(e),toolbar:u.getOrThunk((()=>mC(e))),allowToolbarGroups:m===HB.floating,buttons:a,sidebar:c};F(r),aH(e,t,s),o.setup(e,w.shared,g),lK(e,w),KK(e,p,w),gR(e),VR(e,v,w.shared),Uz(e,l,i,{backstage:w}),lG(e,i);const h=e.getElement(),f=S(r),b={mothership:t,uiMothership:s,outerContainer:r,sink:i},y={targetNode:h,height:f};return n.render(e,b,d,w,y)},E=()=>yG(i),_=()=>yG(a);return{getMothership:E,getUiMothership:_,backstage:w,renderUI:k}},CG=(e,t)=>{const n=L.from(Gt(e,"id")).fold((()=>{const e=$a("dialog-describe");return Kt(t,"id",e),e}),x);Kt(e,"aria-describedby",n)},xG=(e,t)=>{const n=qt(e,"id").fold((()=>{const e=$a("dialog-label");return Kt(t,"id",e),e}),x);Kt(e,"aria-labelledby",n)},SG=C([xs("lazySink"),Qs("dragBlockClass"),Xs("getBounds",qo),zs("useTabstopAt",U),zs("eventOrder",{}),sp("modalBehaviours",[Qw]),vc("onExecute"),yc("onEscape")]),FG={sketch:x},kG=C([Mp({name:"draghandle",overrides:(e,t)=>({behaviours:Cu([oG.config({mode:"mouse",getTarget:e=>Kl(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),Ip({schema:[xs("dom")],name:"title"}),Ip({factory:FG,schema:[xs("dom")],name:"close"}),Ip({factory:FG,schema:[xs("dom")],name:"body"}),Mp({factory:FG,schema:[xs("dom")],name:"footer"}),Hp({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[zs("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),zs("components",[])],name:"blocker"})]),EG=(e,t,n,o)=>{const r=ud(),s=t=>{r.set(t);const n=e.lazySink(t).getOrDie(),s=o.blocker(),i=n.getSystem().build({...s,components:s.components.concat([Hl(t)]),behaviours:Cu([iy.config({}),Jw("dialog-blocker-events",[Da(Li(),(()=>{Qw.focusIn(t)}))])])});qh(n,i),Qw.focusIn(t)},i=e=>{r.clear(),Bt(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{Jh(e)}))}))},a=t=>$p(t,e,"body"),A=t=>$p(t,e,"footer"),l=(e,t)=>{UR.block(e,t)},c=e=>{UR.unblock(e)},u=$a("modal-events"),d={...e.eventOrder,[aa()]:[u].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:s,hide:i,getBody:a,getFooter:A,setIdle:c,setBusy:l},eventOrder:d,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:ap(e.modalBehaviours,[Zw.config({}),Qw.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),UR.config({getRoot:r.get}),Jw(u,[Ia((t=>{xG(t.element,$p(t,e,"title").element),CG(t.element,$p(t,e,"body").element)}))])])}},_G=bf({name:"ModalDialog",configFields:SG(),partFields:kG(),factory:EG,apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,n)=>{e.setBusy(t,n)},setIdle:(e,t)=>{e.setIdle(t)}}}),OG=Zr([Tx,Lx].concat(NS)),UG=ss,TG=[sS("button"),Wx,qs("align","end",["start","end"]),eS,$x,Ms("buttonType",["primary","secondary"])],LG=[...TG,Qx],NG=[Es("type",["submit","cancel","custom"]),...LG],QG=[Es("type",["menu"]),Kx,Gx,Wx,Ns("items",OG),...TG],DG=vs("type",{submit:NG,cancel:NG,custom:NG,menu:QG}),IG=[Tx,Qx,Es("level",["info","warn","error","success"]),Ix,zs("url","")],HG=Zr(IG),MG=e=>[Tx,e],RG=[Tx,Qx,$x,sS("button"),Wx,Yx,Ms("buttonType",["primary","secondary","toolbar"]),eS],PG=Zr(RG),VG=[Tx,Lx],jG=VG.concat([qx]),zG=VG.concat([Nx,$x]),KG=Zr(zG),WG=ss,GG=jG.concat([tS("auto")]),qG=Zr(GG),ZG=es([Hx,Qx,Ix]),XG=jG,JG=Zr(XG),YG=rs,$G=jG,eq=Zr($G),tq=rs,nq=VG.concat([Gs("tag","textarea"),ks("scriptId"),ks("scriptUrl"),Js("settings",void 0)]),oq=VG.concat([Gs("tag","textarea"),Os("init")]),rq=ds((e=>gs("customeditor.old",qr(oq),e).orThunk((()=>gs("customeditor.new",qr(nq),e))))),sq=rs,iq=jG,aq=Zr(iq),Aq=us(),lq=e=>[Tx,Fs("columns"),e],cq=[Tx,ks("html"),qs("presets","presentation",["presentation","document"])],uq=Zr(cq),dq=jG.concat([Zs("sandboxed",!0),Zs("transparent",!0)]),mq=Zr(dq),hq=rs,gq=Zr(VG.concat([Hs("height")])),pq=Zr([ks("url"),Is("zoom"),Is("cachedWidth"),Is("cachedHeight")]),fq=jG.concat([Hs("inputMode"),Hs("placeholder"),Zs("maximized",!1),$x]),bq=Zr(fq),vq=rs,wq=e=>[Tx,Nx,e],yq=[Qx,Hx],Bq=[Qx,Ns("items",ws("items",(()=>Cq)))],Cq=Jr([Zr(yq),Zr(Bq)]),xq=jG.concat([Ns("items",Cq),$x]),Sq=Zr(xq),Fq=rs,kq=jG.concat([Ls("items",[Qx,Hx]),Ws("size",1),$x]),Eq=Zr(kq),_q=rs,Oq=jG.concat([Zs("constrain",!0),$x]),Uq=Zr(Oq),Tq=Zr([ks("width"),ks("height")]),Lq=VG.concat([Nx,Ws("min",0),Ws("max",0)]),Nq=Zr(Lq),Qq=os,Dq=[Tx,Ns("header",rs),Ns("cells",Xr(rs))],Iq=Zr(Dq),Hq=jG.concat([Hs("placeholder"),Zs("maximized",!1),$x]),Mq=Zr(Hq),Rq=rs,Pq=jG.concat([qs("filetype","file",["image","media","file"]),$x]),Vq=Zr(Pq),jq=Zr([Hx,nS]),zq=e=>ys("items","items",vr(),Xr(ds((t=>gs(`Checking item of ${e}`,Kq,t).fold((e=>Yo.error(bs(e))),(e=>Yo.value(e))))))),Kq=Wr((()=>cs("type",{alertbanner:HG,bar:Zr(MG(zq("bar"))),button:PG,checkbox:KG,colorinput:JG,colorpicker:eq,dropzone:aq,grid:Zr(lq(zq("grid"))),iframe:mq,input:bq,listbox:Sq,selectbox:Eq,sizeinput:Uq,slider:Nq,textarea:Mq,urlinput:Vq,customeditor:rq,htmlpanel:uq,imagepreview:gq,collection:qG,label:Zr(wq(zq("label"))),table:Iq,panel:Gq}))),Wq=[Tx,zs("classes",[]),Ns("items",Kq)],Gq=Zr(Wq),qq=[sS("tab"),Dx,Ns("items",Kq)],Zq=[Tx,Ls("tabs",qq)],Xq=Zr(Zq),Jq=LG,Yq=DG,$q=Zr([ks("title"),Ss("body",cs("type",{panel:Gq,tabpanel:Xq})),Gs("size","normal"),Ns("buttons",Yq),zs("initialData",{}),Xs("onAction",v),Xs("onChange",v),Xs("onSubmit",v),Xs("onClose",v),Xs("onCancel",v),Xs("onTabChange",v)]),eZ=e=>gs("dialog",$q,e),tZ=Zr([Es("type",["cancel","custom"]),...Jq]),nZ=Zr([ks("title"),ks("url"),Is("height"),Is("width"),Ps("buttons",tZ),Xs("onAction",v),Xs("onCancel",v),Xs("onClose",v),Xs("onMessage",v)]),oZ=e=>gs("dialog",nZ,e),rZ=e=>A(e)?[e].concat(ee(Ce(e),rZ)):c(e)?ee(e,rZ):[],sZ=e=>a(e.type)&&a(e.name),iZ={checkbox:WG,colorinput:YG,colorpicker:tq,dropzone:Aq,input:vq,iframe:hq,imagepreview:pq,selectbox:_q,sizeinput:Tq,slider:Qq,listbox:Fq,size:Tq,textarea:Rq,urlinput:jq,customeditor:sq,collection:ZG,togglemenuitem:UG},aZ=e=>L.from(iZ[e.type]),AZ=e=>G(rZ(e),sZ),lZ=e=>{const t=AZ(e),n=ee(t,(e=>aZ(e).fold((()=>[]),(t=>[Ss(e.name,t)]))));return Zr(n)},cZ=e=>{const t=ps(eZ(e)),n=lZ(e),o=e.initialData;return{internalDialog:t,dataValidator:n,initialData:o}},uZ={open:(e,t)=>{const n=cZ(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:(e,t)=>{const n=ps(oZ(t));return e(n)},redial:e=>cZ(e)},dZ=e=>{const t=[],n={};return he(e,((e,o)=>{e.fold((()=>{t.push(o)}),(e=>{n[o]=e}))})),t.length>0?Yo.error(t):Yo.value(n)},mZ=(e,t,n)=>{const o=yB(_L.sketch((o=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:j(e.items,(e=>xD(o,e,t,n)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Cu([Qw.config({mode:"acyclic",useTabstopAt:k(uN)}),RL.memento(o),qL.memento(o,{postprocess:e=>dZ(e).fold((e=>(console.error(e),{})),x)})])}},hZ=(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:ky(e.action),behaviours:ap(e.tabButtonBehaviours,[iy.config({}),Qw.config({mode:"execution",useSpace:!0,useEnter:!0}),rp.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}),gZ=ff({name:"TabButton",configFields:[zs("uid",void 0),xs("value"),ys("dom","dom",Cr((()=>({attributes:{role:"tab",id:$a("aria"),"aria-selected":"false"}}))),ts()),Qs("action"),zs("domModification",{}),sp("tabButtonBehaviours",[iy,Qw,rp]),xs("view")],factory:hZ}),pZ=C([xs("tabs"),xs("dom"),zs("clickToDismiss",!1),sp("tabbarBehaviours",[Ab,Qw]),pc(["tabClass","selectedClass"])]),fZ=Rp({factory:gZ,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{Ab.dehighlight(e,t),ba(e,ha(),{tabbar:e,button:t})},n=(e,t)=>{Ab.highlight(e,t),ba(e,ma(),{tabbar:e,button:t})};return{action:o=>{const r=o.getSystem().getByUid(e.uid).getOrDie(),s=Ab.isHighlighted(r,o),i=(()=>s&&e.clickToDismiss?t:s?v:n)();i(r,o)},domModification:{classes:[e.markers.tabClass]}}}}),bZ=C([fZ]),vZ=(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:ap(e.tabbarBehaviours,[Ab.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{Kt(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{Kt(t.element,"aria-selected","false")}}),Qw.config({mode:"flow",getInitial:e=>Ab.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:!0})])}),wZ=bf({name:"Tabbar",configFields:pZ(),partFields:bZ(),factory:vZ}),yZ=(e,t)=>({uid:e.uid,dom:e.dom,behaviours:ap(e.tabviewBehaviours,[Zw.config({})]),domModification:{attributes:{role:"tabpanel"}}}),BZ=ff({name:"Tabview",configFields:[sp("tabviewBehaviours",[Zw])],factory:yZ}),CZ=C([zs("selectFirst",!0),bc("onChangeTab"),bc("onDismissTab"),zs("tabs",[]),sp("tabSectionBehaviours",[])]),xZ=Ip({factory:wZ,schema:[xs("dom"),Ts("markers",[xs("tabClass"),xs("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),SZ=Ip({factory:BZ,name:"tabview"}),FZ=C([xZ,SZ]),kZ=(e,t,n,o)=>{const r=t=>{const n=rp.getValue(t);Yp(t,e,"tabview").each((o=>{const r=J(e.tabs,(e=>e.value===n));r.each((n=>{const r=n.view();qt(t.element,"id").each((e=>{Kt(o.element,"aria-labelledby",e)})),Zw.set(o,r),e.onChangeTab(o,t,r)}))}))},s=(t,n)=>{Yp(t,e,"tabbar").each((e=>{n(e).each(va)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:ip(e.tabSectionBehaviours),events:Ca($([e.selectFirst?[Ia(((e,t)=>{s(e,Ab.getFirst)}))]:[],[ka(ma(),((e,t)=>{const n=t.event.button;r(n)})),ka(ha(),((t,n)=>{const o=n.event.button;e.onDismissTab(t,o)}))]])),apis:{getViewItems:t=>Yp(t,e,"tabview").map((e=>Zw.contents(e))).getOr([]),showTab:(e,t)=>{const n=e=>{const n=Ab.getCandidates(e),o=J(n,(e=>rp.getValue(e)===t));return o.filter((t=>!Ab.isHighlighted(e,t)))};s(e,n)}}}},EZ=bf({name:"TabSection",configFields:CZ(),partFields:FZ(),factory:kZ,apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,n)=>{e.showTab(t,n)}}}),_Z=(e,t,n)=>j(e,((o,r)=>{Zw.set(n,e[r].view());const s=t.dom.getBoundingClientRect();return Zw.set(n,[]),s.height})),OZ=e=>Ae(ie(e,((e,t)=>e>t?-1:e<t?1:0))),UZ=(e,t,n)=>{const o=wt(e).dom,r=Kl(e,".tox-dialog-wrap").getOr(e),s="fixed"===on(r,"position");let i;i=s?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);const a=mn(t),A=t.dom.offsetLeft>=n.dom.offsetLeft+xn(n),l=A?Math.max(mn(n),a):a,c=parseInt(on(e,"margin-top"),10)||0,u=parseInt(on(e,"margin-bottom"),10)||0,d=mn(e)+c+u,m=d-l;return i-m},TZ=(e,t)=>{Ae(e).each((e=>EZ.showTab(t,e.value)))},LZ=(e,t)=>{en(e,"height",t+"px"),en(e,"flex-basis",t+"px")},NZ=(e,t,n)=>{Kl(e,'[role="dialog"]').each((e=>{Gl(e,'[role="tablist"]').each((o=>{n.get().map((n=>(en(t,"height","0"),en(t,"flex-basis","0"),Math.min(n,UZ(e,t,o))))).each((e=>{LZ(t,e)}))}))}))},QZ=e=>Gl(e,'[role="tabpanel"]'),DZ=e=>{const t=(()=>{const t=ud(),n=[Ia((n=>{const o=n.element;QZ(o).each((r=>{en(r,"visibility","hidden"),n.getSystem().getByDom(r).toOptional().each((n=>{const o=_Z(e,r,n),s=OZ(o);s.fold(t.clear,t.set)})),NZ(o,r,t),ln(r,"visibility"),TZ(e,n),requestAnimationFrame((()=>{NZ(o,r,t)}))}))})),ka(ia(),(e=>{const n=e.element;QZ(n).each((e=>{NZ(n,e,t)}))})),ka(M_,((e,n)=>{const o=e.element;QZ(o).each((e=>{const n=Qu(Nt(e));en(e,"visibility","hidden");const r=sn(e,"height").map((e=>parseInt(e,10)));ln(e,"height"),ln(e,"flex-basis");const s=e.dom.getBoundingClientRect().height,i=r.forall((e=>s>e));i?(t.set(s),NZ(o,e,t)):r.each((t=>{LZ(e,t)})),ln(e,"visibility"),n.each(Tu)}))}))],o=!1;return{extraEvents:n,selectFirst:o}})(),n=(()=>{const e=[],t=!0;return{extraEvents:e,selectFirst:t}})();return{smartTabHeight:t,naiveTabHeight:n}},IZ="send-data-to-section",HZ="send-data-to-view",MZ=(e,t,n)=>{const o=ei({}),r=e=>{const t=rp.getValue(e),n=dZ(t).getOr({}),r=o.get(),s=fr(r,n);o.set(s)},s=e=>{const t=o.get();rp.setValue(e,t)},i=ei(null),a=j(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Tl(n.shared.providers.translate(e.title))],view:()=>[_L.sketch((o=>({dom:{tag:"div",classes:["tox-form"]},components:j(e.items,(e=>xD(o,e,t,n))),formBehaviours:Cu([Qw.config({mode:"acyclic",useTabstopAt:k(uN)}),Jw("TabView.form.events",[Ia(s),Ha(r)]),_u.config({channels:li([{key:IZ,value:{onReceive:r}},{key:HZ,value:{onReceive:s}}])})])})))]}))),A=DZ(a).smartTabHeight;return EZ.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,n)=>{const o=rp.getValue(t);ba(e,H_,{name:o,oldName:i.get()}),i.set(o)},tabs:a,components:[EZ.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[wZ.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Cu([C_.config({})])}),EZ.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:A.selectFirst,tabSectionBehaviours:Cu([Jw("tabpanel",A.extraEvents),Qw.config({mode:"acyclic"}),Cf.config({find:e=>Ae(EZ.getViewItems(e))}),qL.withComp(L.none(),(e=>(e.getSystem().broadcastOn([IZ],{}),o.get())),((e,t)=>{o.set(t),e.getSystem().broadcastOn([HZ],{})}))])})},RZ=$a("update-dialog"),PZ=$a("update-title"),VZ=$a("update-body"),jZ=$a("update-footer"),zZ=$a("body-send-message"),KZ=(e,t,n,o,r)=>{const s=e=>{const t=e.body;switch(t.type){case"tabpanel":return[MZ(t,e.initialData,o)];default:return[mZ(t,e.initialData,o)]}},i=(e,t)=>L.some({isTabPanel:()=>"tabpanel"===t.body.type}),a={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...n.map((e=>({id:e}))).getOr({}),...r?a:{}}},components:[],behaviours:Cu([RL.childAt(0),qV.config({channel:`${VZ}-${t}`,updateState:i,renderComponents:s,initialData:e})])}},WZ=(e,t,n,o,r)=>KZ(e,t,L.some(n),o,r),GZ=(e,t,n)=>{const o=KZ(e,t,L.none(),n,!1);return _G.parts.body(o)},qZ=e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[AN({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Cu([C_.config({}),iy.config({})])})]}],behaviours:Cu([Qw.config({mode:"acyclic",useTabstopAt:k(uN)})])};return _G.parts.body(t)},ZZ=jB.deviceType.isTouch(),XZ=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),JZ=(e,t)=>_G.parts.close(wB.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Cu([C_.config({})])})),YZ=()=>_G.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),$Z=(e,t)=>_G.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:NR(`<p>${t.translate(e)}</p>`)}]}]}),eX=e=>_G.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),tX=(e,t)=>[m_.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),m_.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],nX=e=>{const t="tox-dialog",n=t+"-wrap",o=n+"__backdrop",r=t+"__disable-scroll";return _G.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),L.some(!0)),useTabstopAt:e=>!uN(e),dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:NR(`<div class="${n}"></div>`),components:[{dom:{tag:"div",classes:ZZ?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:n,modalBehaviours:Cu([iy.config({}),Jw("dialog-events",e.dialogEvents.concat([Da(Li(),((e,t)=>{Qw.focusIn(e)}))])),Jw("scroll-lock",[Ia((()=>{tl(Vt(),r)})),Ha((()=>{ol(Vt(),r)}))]),...e.extraBehaviours]),eventOrder:{[Xi()]:["dialog-events"],[aa()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Aa()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},oX=e=>wB.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[LB("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:e=>{fa(e,L_)}}),rX=(e,t,n,o)=>{const r=e=>[Tl(o.translate(e.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...n.map((e=>({id:e}))).getOr({})}},components:[],behaviours:Cu([qV.config({channel:`${PZ}-${t}`,initialData:e,renderComponents:r})])}},sX=()=>({dom:NR('<div class="tox-dialog__draghandle"></div>')}),iX=(e,t,n,o)=>m_.sketch({dom:NR('<div class="tox-dialog__header"></div>'),components:[rX(e,t,L.some(n),o),sX(),oX(o)],containerBehaviours:Cu([oG.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>ql(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),aX=(e,t,n)=>{const o=_G.parts.title(rX(e,t,L.none(),n)),r=_G.parts.draghandle(sX()),s=_G.parts.close(oX(n)),i=[o].concat(e.draggable?[r]:[]).concat([s]);return m_.sketch({dom:NR('<div class="tox-dialog__header"></div>'),components:i})},AX=(e,t,n)=>aX({title:n.shared.providers.translate(e),draggable:n.dialog.isDraggableModal()},t,n.shared.providers),lX=(e,t,n)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:NR('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),cX=(e,t,n)=>({onClose:()=>n.closeWindow(),onBlock:n=>{_G.setBusy(e(),((e,o)=>lX(n.message,o,t)))},onUnblock:()=>{_G.setIdle(e())}}),uX=(e,t,n,o)=>{const r=(e,t)=>L.some(t);return Il(nX({...e,lazySink:o.shared.getSink,extraBehaviours:[qV.config({channel:`${RZ}-${e.id}`,updateState:r,initialData:t}),qL.memory({}),...e.extraBehaviours],onEscape:e=>{fa(e,L_)},dialogEvents:n,eventOrder:{[Zi()]:[qV.name(),_u.name()],[aa()]:["scroll-lock",qV.name(),"messages","dialog-events","alloy.base.behaviour"],[Aa()]:["alloy.base.behaviour","dialog-events","messages",qV.name(),"scroll-lock"]}}))},dX=e=>{const t=e=>{const t=j(e.items,(e=>{const t=ei(!1);return{...e,storage:t}}));return{...e,items:t}};return j(e,(e=>"menu"===e.type?t(e):e))},mX=e=>Z(e,((e,t)=>{if("menu"===t.type){const n=t;return Z(n.items,((e,t)=>(e[t.name]=t.storage,e)),e)}return e}),{}),hX=(e,t)=>[La(Li(),cN),e(T_,((e,n)=>{t.onClose(),n.onClose()})),e(L_,((e,t,n,o)=>{t.onCancel(e),fa(o,T_)})),ka(I_,((e,n)=>t.onUnblock())),ka(D_,((e,n)=>t.onBlock(n.event)))],gX=(e,t)=>{const n=(t,n)=>ka(t,((t,r)=>{o(t,((o,s)=>{n(e(),o,r.event,t)}))})),o=(e,t)=>{qV.getState(e).get().each((n=>{t(n,e)}))};return[...hX(n,t),n(N_,((e,t,n)=>{t.onAction(e,{name:n.name})}))]},pX=(e,t,n)=>{const o=(t,n)=>ka(t,((t,o)=>{r(t,((r,s)=>{n(e(),r,o.event,t)}))})),r=(e,t)=>{qV.getState(e).get().each((n=>{t(n.internalDialog,e)}))};return[...hX(o,t),o(Q_,((e,t)=>t.onSubmit(e))),o(U_,((e,t,n)=>{t.onChange(e,{name:n.name})})),o(N_,((e,t,o,r)=>{const s=()=>Qw.focusIn(r),i=e=>Zt(e,"disabled")||qt(e,"aria-disabled").exists((e=>"true"===e)),a=Nt(r.element),A=Qu(a);t.onAction(e,{name:o.name,value:o.value}),Qu(a).fold(s,(e=>{i(e)||A.exists((t=>ft(e,t)&&i(t)))?s():n().toOptional().filter((t=>!ft(t.element,e))).each(s)}))})),o(H_,((e,t,n)=>{t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Ha((t=>{const n=e();rp.setValue(t,n.getData())}))]},fX={initUrlDialog:gX,initDialog:pX},bX=(e,t)=>JQ(e,e.type,t),vX=(e,t,n)=>J(t,(e=>e.name===n)).bind((t=>t.memento.getOpt(e))),wX=(e,t)=>{const n=t.map((e=>e.footerButtons)).getOr([]),o=W(n,(e=>"start"===e.align)),r=(e,t)=>m_.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:j(t,(e=>e.memento.asSpec()))}),s=r("start",o.pass),i=r("end",o.fail);return[s,i]},yX=(e,t,n)=>{const o=(e,t)=>{const o=j(t.buttons,(e=>{const t=yB(bX(e,n));return{name:e.name,align:e.align,memento:t}})),r=t=>vX(e,o,t);return L.some({lookupByName:r,footerButtons:o})};return{dom:NR('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Cu([qV.config({channel:`${jZ}-${t}`,initialData:e,updateState:o,renderComponents:wX})])}},BX=(e,t,n)=>yX(e,t,n),CX=(e,t,n)=>_G.parts.footer(yX(e,t,n)),xX=(e,t)=>{const n=e.getRoot();if(n.getSystem().isConnected()){const n=Cf.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return _L.getField(n,t).orThunk((()=>{const n=e.getFooter(),o=qV.getState(n).get();return o.bind((e=>e.lookupByName(t)))}))}return L.none()},SX=(e,t)=>{const n=e.getRoot();return qV.getState(n).get().map((e=>ps(gs("data",e.dataValidator,t)))).getOr(t)},FX=(e,t,n)=>{const o=t=>{const n=e.getRoot();n.getSystem().isConnected()&&t(n)},r=()=>{const t=e.getRoot(),o=t.getSystem().isConnected()?e.getFormWrapper():t,r=rp.getValue(o),s=ge(n,(e=>e.get()));return{...r,...s}},s=t=>{o((o=>{const r=h.getData(),s=fr(r,t),i=SX(e,s),a=e.getFormWrapper();rp.setValue(a,i),he(n,((e,t)=>{Se(s,t)&&e.set(s[t])}))}))},i=(t,n)=>{xX(e,t).each(n?Vf.enable:Vf.disable)},A=t=>{xX(e,t).each(iy.focus)},l=e=>{if(!a(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o((t=>{ba(t,D_,{message:e})}))},c=()=>{o((e=>{fa(e,I_)}))},u=t=>{o((n=>{const o=e.getBody(),r=qV.getState(o);r.get().exists((e=>e.isTabPanel()))&&Cf.getCurrent(o).each((e=>{EZ.showTab(e,t)}))}))},d=n=>{o((o=>{const r=e.getId(),s=t(n);o.getSystem().broadcastOn([`${RZ}-${r}`],s),o.getSystem().broadcastOn([`${PZ}-${r}`],s.internalDialog),o.getSystem().broadcastOn([`${VZ}-${r}`],s.internalDialog),o.getSystem().broadcastOn([`${jZ}-${r}`],s.internalDialog),h.setData(s.initialData)}))},m=()=>{o((e=>{fa(e,T_)}))},h={getData:r,setData:s,setEnabled:i,focus:A,block:l,unblock:c,showTab:u,redial:d,close:m};return h},kX=e=>{switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},EX=(e,t,n)=>{const o=$a("dialog"),r=e.internalDialog,s=AX(r.title,o,n),i=GZ({body:r.body,initialData:r.initialData},o,n),a=dX(r.buttons),A=mX(a),l=CX({buttons:a},o,n),c=fX.initDialog((()=>g),cX((()=>m),n.shared.providers,t),n.shared.getSink),u=kX(r.size),d={id:o,header:s,body:i,footer:L.some(l),extraClasses:u,extraBehaviours:[],extraStyles:{}},m=uX(d,e,c,n),h=(()=>{const e=()=>{const e=_G.getBody(m);return Cf.getCurrent(e).getOr(e)};return{getId:C(o),getRoot:C(m),getBody:()=>_G.getBody(m),getFooter:()=>_G.getFooter(m),getFormWrapper:e}})(),g=FX(h,t.redial,A);return{dialog:m,instanceApi:g}},_X=(e,t,n,o)=>{const r=$a("dialog"),s=$a("dialog-label"),i=$a("dialog-content"),a=e.internalDialog,A=(e,t)=>L.some(t),l=yB(iX({title:a.title,draggable:!0},r,s,n.shared.providers)),c=yB(WZ({body:a.body,initialData:a.initialData},r,i,n,o)),u=dX(a.buttons),d=mX(u),m=yB(BX({buttons:u},r,n)),h=fX.initDialog((()=>p),{onBlock:e=>{UR.block(g,((t,o)=>lX(e.message,o,n.shared.providers)))},onUnblock:()=>{UR.unblock(g)},onClose:()=>t.closeWindow()},n.shared.getSink),g=Il({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:{role:"dialog",["aria-labelledby"]:s,["aria-describedby"]:i}},eventOrder:{[Zi()]:[qV.name(),_u.name()],[Xi()]:["execute-on-form"],[aa()]:["reflecting","execute-on-form"]},behaviours:Cu([Qw.config({mode:"cyclic",onEscape:e=>(fa(e,T_),L.some(!0)),useTabstopAt:e=>!uN(e)&&("button"!==rt(e)||"disabled"!==Gt(e,"disabled"))}),qV.config({channel:`${RZ}-${r}`,updateState:A,initialData:e}),iy.config({}),Jw("execute-on-form",h.concat([Da(Li(),((e,t)=>{Qw.focusIn(e)}))])),UR.config({getRoot:()=>L.some(g)}),Zw.config({}),qL.memory({})]),components:[l.asSpec(),c.asSpec(),m.asSpec()]}),p=FX({getId:C(r),getRoot:C(g),getFooter:()=>m.get(g),getBody:()=>c.get(g),getFormWrapper:()=>{const e=c.get(g);return Cf.getCurrent(e).getOr(e)}},t.redial,d);return{dialog:g,instanceApi:p}};var OX=tinymce.util.Tools.resolve("tinymce.util.URI");const UX=e=>{const t=t=>{e.getSystem().isConnected()&&t(e)},n=e=>{if(!a(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((t=>{ba(t,D_,{message:e})}))},o=()=>{t((e=>{fa(e,I_)}))},r=()=>{t((e=>{fa(e,T_)}))},s=e=>{t((t=>{t.getSystem().broadcastOn([zZ],e)}))};return{block:n,unblock:o,close:r,sendMessage:s}},TX=["insertContent","setContent","execCommand","close","block","unblock"],LX=e=>A(e)&&-1!==TX.indexOf(e.mceAction),NX=e=>!LX(e)&&A(e)&&Se(e,"mceAction"),QX=(e,t,n)=>{switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":const o=!!d(n.ui)&&n.ui;e.execCommand(n.cmd,o,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock();break}},DX=(e,t,n,o)=>{const r=$a("dialog"),s=AX(e.title,r,o),i=qZ(e),a=e.buttons.bind((e=>0===e.length?L.none():L.some(CX({buttons:e},r,o)))),A=fX.initUrlDialog((()=>f),cX((()=>p),o.shared.providers,t)),l={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))},c=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],u=new OX(e.url,{base_uri:new OX(window.location.href)}),d=`${u.protocol}://${u.host}${u.port?":"+u.port:""}`,m=cd(),h=[Jw("messages",[Ia((()=>{const t=md($e.fromDom(window),"message",(t=>{if(u.isSameOrigin(new OX(t.raw.origin))){const o=t.raw.data;LX(o)?QX(n,f,o):NX(o)&&e.onMessage(f,o)}}));m.set(t)})),Ha(m.clear)]),_u.config({channels:{[zZ]:{onReceive:(e,t)=>{Gl(e.element,"iframe").each((e=>{const n=e.dom.contentWindow;n.postMessage(t,d)}))}}}})],g={id:r,header:s,body:i,footer:a,extraClasses:c,extraBehaviours:h,extraStyles:l},p=uX(g,e,A,o),f=UX(p);return{dialog:p,instanceApi:f}},IX=e=>{const t=e.backstage.shared,n=(n,o)=>{const r=()=>{_G.hide(A),o()},s=yB(JQ({name:"close-alert",text:"OK",primary:!0,buttonType:L.some("primary"),align:"end",enabled:!0,icon:L.none()},"cancel",e.backstage)),i=YZ(),a=JZ(r,t.providers),A=Il(nX({lazySink:()=>t.getSink(),header:XZ(i,a),body:$Z(n,t.providers),footer:L.some(eX(tX([],[s.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ka(L_,r)],eventOrder:{}}));_G.show(A);const l=s.get(A);iy.focus(l)};return{open:n}},HX=e=>{const t=e.backstage.shared,n=(n,o)=>{const r=e=>{_G.hide(l),o(e)},s=yB(JQ({name:"yes",text:"Yes",primary:!0,buttonType:L.some("primary"),align:"end",enabled:!0,icon:L.none()},"submit",e.backstage)),i=JQ({name:"no",text:"No",primary:!1,buttonType:L.some("secondary"),align:"end",enabled:!0,icon:L.none()},"cancel",e.backstage),a=YZ(),A=JZ((()=>r(!1)),t.providers),l=Il(nX({lazySink:()=>t.getSink(),header:XZ(a,A),body:$Z(n,t.providers),footer:L.some(eX(tX([],[i,s.asSpec()]))),onEscape:()=>r(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ka(L_,(()=>r(!1))),ka(Q_,(()=>r(!0)))],eventOrder:{}}));_G.show(l);const c=s.get(l);iy.focus(c)};return{open:n}},MX=(e,t)=>ps(gs("data",t,e)),RX=e=>jE(e,".tox-alert-dialog")||jE(e,".tox-confirm-dialog"),PX=(e,t,n)=>t&&n?[]:[rM.config({contextual:{lazyContext:()=>L.some(Wo($e.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})],VX=e=>{const t=e.backstage,n=e.editor,o=MC(n),r=IX(e),s=HX(e),i=(e,n,o)=>void 0!==n&&"toolbar"===n.inline?c(e,t.shared.anchors.inlineDialog(),o,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?c(e,t.shared.anchors.cursor(),o,n.ariaAttrs):l(e,o),a=(e,t)=>A(e,t),A=(e,o)=>{const r=e=>{const r=DX(e,{closeWindow:()=>{_G.hide(r.dialog),o(r.instanceApi)}},n,t);return _G.show(r.dialog),r.instanceApi};return uZ.openUrl(r,e)},l=(e,n)=>{const o=(e,o,r)=>{const s=o,i={dataValidator:r,initialData:s,internalDialog:e},a=EX(i,{redial:uZ.redial,closeWindow:()=>{_G.hide(a.dialog),n(a.instanceApi)}},t);return _G.show(a.dialog),a.instanceApi.setData(s),a.instanceApi};return uZ.open(o,e)},c=(e,r,s,i)=>{const a=(e,a,A)=>{const l=MX(a,A),c=ud(),u=t.shared.header.isPositionedAtTop(),d={dataValidator:A,initialData:l,internalDialog:e},m=()=>c.on((e=>{fB.reposition(e),rM.refresh(e)})),h=_X(d,{redial:uZ.redial,closeWindow:()=>{c.on(fB.hide),n.off("ResizeEditor",m),c.clear(),s(h.instanceApi)}},t,i),g=Il(fB.sketch({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...u?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Cu([Jw("window-manager-inline-events",[ka(la(),((e,t)=>{fa(h.dialog,L_)}))]),...PX(n,o,u)]),isExtraPart:(e,t)=>RX(t)}));return c.set(g),fB.showWithin(g,Hl(h.dialog),{anchor:r},L.some(Vt())),o&&u||(rM.refresh(g),n.on("ResizeEditor",m)),h.instanceApi.setData(l),Qw.focusIn(h.dialog),h.instanceApi};return uZ.open(a,e)},u=(e,t)=>{s.open(e,(e=>{t(e)}))},d=(e,t)=>{r.open(e,(()=>{t()}))},m=e=>{e.close()};return{open:i,openUrl:a,alert:d,close:m,confirm:u}},jX=e=>{WB(e),Pk(e),dK(e)};var zX=()=>{T.add("silver",(e=>{jX(e);const{getUiMothership:t,backstage:n,renderUI:o}=BG(e);VE.register(e,n.shared);const r=VX({editor:e,backstage:n});return{renderUI:o,getWindowManagerImpl:C(r),getNotificationManagerImpl:()=>RB(e,{backstage:n},t())}}))};zX()})()},7336:function(){!function(){"use strict";const e=Object.getPrototypeOf,t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>n=>(e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n})(n)===e,o=e=>t=>typeof t===e,r=e=>t=>e===t,s=n("string"),i=n("object"),a=n=>((n,o)=>i(n)&&t(n,o,((t,n)=>e(t)===n)))(n,Object),A=n("array"),l=r(null),c=o("boolean"),u=r(void 0),d=e=>null==e,m=e=>!d(e),h=o("function"),g=o("number"),p=(e,t)=>{if(A(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},f=()=>{},b=(e,t)=>(...n)=>e(t.apply(null,n)),v=e=>()=>e,w=e=>e,y=(e,t)=>e===t;function B(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const C=e=>t=>!e(t),x=e=>()=>{throw new Error(e)},S=e=>e(),F=v(!1),k=v(!0);var E=tinymce.util.Tools.resolve("tinymce.ThemeManager");class _{constructor(e,t){this.tag=e,this.value=t}static some(e){return new _(!0,e)}static none(){return _.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?_.some(e(this.value)):_.none()}bind(e){return this.tag?e(this.value):_.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:_.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return m(e)?_.some(e):_.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}_.singletonNone=new _(!1);const O=Array.prototype.slice,U=Array.prototype.indexOf,T=Array.prototype.push,L=(e,t)=>U.call(e,t),N=(e,t)=>{const n=L(e,t);return-1===n?_.none():_.some(n)},Q=(e,t)=>L(e,t)>-1,D=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},I=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},H=(e,t)=>{const n=[];for(let o=0;o<e.length;o+=t){const r=O.call(e,o,o+t);n.push(r)}return n},M=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},R=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},P=(e,t)=>{const n=[],o=[];for(let r=0,s=e.length;r<s;r++){const s=e[r];(t(s,r)?n:o).push(s)}return{pass:n,fail:o}},V=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},j=(e,t,n)=>(((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(e,((e,o)=>{n=t(n,e,o)})),n),z=(e,t,n)=>(R(e,((e,o)=>{n=t(n,e,o)})),n),K=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return _.some(r);if(n(r,o))break}return _.none()})(e,t,F),W=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return _.some(n);return _.none()},G=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!A(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);T.apply(t,e[n])}return t},q=(e,t)=>G(M(e,t)),Z=(e,t)=>{for(let n=0,o=e.length;n<o;++n)if(!0!==t(e[n],n))return!1;return!0},X=e=>{const t=O.call(e,0);return t.reverse(),t},J=(e,t)=>V(e,(e=>!Q(t,e))),Y=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},$=e=>[e],ee=(e,t)=>{const n=O.call(e,0);return n.sort(t),n},te=(e,t)=>t>=0&&t<e.length?_.some(e[t]):_.none(),ne=e=>te(e,0),oe=e=>te(e,e.length-1),re=h(Array.from)?Array.from:e=>O.call(e),se=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return _.none()},ie=Object.keys,ae=Object.hasOwnProperty,Ae=(e,t)=>{const n=ie(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},le=(e,t)=>ce(e,((e,n)=>({k:n,v:t(e,n)}))),ce=(e,t)=>{const n={};return Ae(e,((e,o)=>{const r=t(e,o);n[r.k]=r.v})),n},ue=e=>(t,n)=>{e[n]=t},de=(e,t,n,o)=>(Ae(e,((e,r)=>{(t(e,r)?n:o)(e,r)})),{}),me=(e,t)=>{const n={};return de(e,t,ue(n),f),n},he=(e,t)=>{const n=[];return Ae(e,((e,o)=>{n.push(t(e,o))})),n},ge=(e,t)=>{const n=ie(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],s=e[r];if(t(s,r,e))return _.some(s)}return _.none()},pe=e=>he(e,w),fe=(e,t)=>be(e,t)?_.from(e[t]):_.none(),be=(e,t)=>ae.call(e,t),ve=(e,t)=>be(e,t)&&void 0!==e[t]&&null!==e[t],we=(e,t,n=y)=>e.exists((e=>n(e,t))),ye=e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t},Be=(e,t,n)=>e.isSome()&&t.isSome()?_.some(n(e.getOrDie(),t.getOrDie())):_.none(),Ce=(e,t)=>e?_.some(t):_.none(),xe=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Se=(e,t)=>-1!==e.indexOf(t),Fe=(e,t)=>xe(e,t,e.length-t.length),ke=(Qe=/^\s+|\s+$/g,e=>e.replace(Qe,"")),Ee=e=>e.length>0,_e=e=>void 0!==e.style&&h(e.style.getPropertyValue),Oe=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Ue=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Oe(n.childNodes[0])},Te=(e,t)=>{const n=(t||document).createElement(e);return Oe(n)},Le=(e,t)=>{const n=(t||document).createTextNode(e);return Oe(n)},Ne=Oe;var Qe;"undefined"!=typeof window?window:Function("return this;")();const De=e=>e.dom.nodeName.toLowerCase(),Ie=e=>t=>(e=>e.dom.nodeType)(t)===e,He=Ie(1),Me=Ie(3),Re=Ie(9),Pe=Ie(11),Ve=e=>t=>He(t)&&De(t)===e,je=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},ze=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Ke=(e,t)=>e.dom===t.dom,We=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},Ge=e=>Ne(e.dom.ownerDocument),qe=e=>Re(e)?e:Ge(e),Ze=e=>Ne(qe(e).dom.documentElement),Xe=e=>Ne(qe(e).dom.defaultView),Je=e=>_.from(e.dom.parentNode).map(Ne),Ye=e=>_.from(e.dom.parentElement).map(Ne),$e=e=>_.from(e.dom.offsetParent).map(Ne),et=e=>M(e.dom.childNodes,Ne),tt=(e,t)=>{const n=e.dom.childNodes;return _.from(n[t]).map(Ne)},nt=(e,t)=>({element:e,offset:t}),ot=(e,t)=>{const n=et(e);return n.length>0&&t<n.length?nt(n[t],0):nt(e,t)},rt=e=>Pe(e)&&m(e.dom.host),st=h(Element.prototype.attachShadow)&&h(Node.prototype.getRootNode),it=v(st),at=st?e=>Ne(e.dom.getRootNode()):qe,At=e=>rt(e)?e:Ne(qe(e).dom.body),lt=e=>{const t=at(e);return rt(t)?_.some(t):_.none()},ct=e=>Ne(e.dom.host),ut=e=>{const t=Me(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return lt(Ne(t)).fold((()=>n.body.contains(t)),(o=ut,r=ct,e=>o(r(e))));var o,r},dt=()=>mt(Ne(document)),mt=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Ne(t)},ht=(e,t,n)=>{if(!(s(n)||c(n)||g(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},gt=(e,t,n)=>{ht(e.dom,t,n)},pt=(e,t)=>{const n=e.dom;Ae(t,((e,t)=>{ht(n,t,e)}))},ft=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},bt=(e,t)=>_.from(ft(e,t)),vt=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},wt=(e,t)=>{e.dom.removeAttribute(t)},yt=(e,t,n)=>{if(!s(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);_e(e)&&e.style.setProperty(t,n)},Bt=(e,t)=>{_e(e)&&e.style.removeProperty(t)},Ct=(e,t,n)=>{const o=e.dom;yt(o,t,n)},xt=(e,t)=>{const n=e.dom;Ae(t,((e,t)=>{yt(n,t,e)}))},St=(e,t)=>{const n=e.dom;Ae(t,((e,t)=>{e.fold((()=>{Bt(n,t)}),(e=>{yt(n,t,e)}))}))},Ft=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||ut(e)?o:kt(n,t)},kt=(e,t)=>_e(e)?e.style.getPropertyValue(t):"",Et=(e,t)=>{const n=e.dom,o=kt(n,t);return _.from(o).filter((e=>e.length>0))},_t=e=>{const t={},n=e.dom;if(_e(n))for(let o=0;o<n.style.length;o++){const e=n.style.item(o);t[e]=n.style[e]}return t},Ot=(e,t,n)=>{const o=Te(e);return Ct(o,t,n),Et(o,t).isSome()},Ut=(e,t)=>{const n=e.dom;Bt(n,t),we(bt(e,"style").map(ke),"")&&wt(e,"style")},Tt=e=>e.dom.offsetWidth,Lt=(e,t)=>{const n=n=>{const o=t(n);if(o<=0||null===o){const t=Ft(n,e);return parseFloat(t)||0}return o},o=(e,t)=>z(t,((t,n)=>{const o=Ft(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0);return{set:(t,n)=>{if(!g(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;_e(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:(e,t,n)=>{const r=o(e,n);return t>r?t-r:0}}},Nt=Lt("height",(e=>{const t=e.dom;return ut(e)?t.getBoundingClientRect().height:t.offsetHeight})),Qt=e=>Nt.get(e),Dt=e=>Nt.getOuter(e),It=(e,t)=>({left:e,top:t,translate:(n,o)=>It(e+n,t+o)}),Ht=It,Mt=(e,t)=>void 0!==e?e:void 0!==t?t:0,Rt=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return Ht(n.offsetLeft,n.offsetTop);const s=Mt(null==o?void 0:o.pageYOffset,r.scrollTop),i=Mt(null==o?void 0:o.pageXOffset,r.scrollLeft),a=Mt(r.clientTop,n.clientTop),A=Mt(r.clientLeft,n.clientLeft);return Pt(e).translate(i-A,s-a)},Pt=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Ht(n.offsetLeft,n.offsetTop):ut(e)?(e=>{const t=e.getBoundingClientRect();return Ht(t.left,t.top)})(t):Ht(0,0)},Vt=Lt("width",(e=>e.dom.offsetWidth)),jt=e=>Vt.get(e),zt=e=>Vt.getOuter(e),Kt=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Wt=()=>Gt(0,0),Gt=(e,t)=>({major:e,minor:t}),qt={nu:Gt,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Wt():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Gt(o(1),o(2))})(e,n)},unknown:Wt},Zt=(e,t)=>{const n=String(t).toLowerCase();return K(e,(e=>e.search(n)))},Xt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Jt=e=>t=>Se(t,e),Yt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Se(e,"edge/")&&Se(e,"chrome")&&Se(e,"safari")&&Se(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Xt],search:e=>Se(e,"chrome")&&!Se(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Se(e,"msie")||Se(e,"trident")},{name:"Opera",versionRegexes:[Xt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Jt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Jt("firefox")},{name:"Safari",versionRegexes:[Xt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Se(e,"safari")||Se(e,"mobile/"))&&Se(e,"applewebkit")}],$t=[{name:"Windows",search:Jt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Se(e,"iphone")||Se(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Jt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Jt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Jt("linux"),versionRegexes:[]},{name:"Solaris",search:Jt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Jt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Jt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],en={browsers:v(Yt),oses:v($t)},tn="Edge",nn="Chromium",on="Opera",rn="Firefox",sn="Safari",an=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(tn),isChromium:o(nn),isIE:o("IE"),isOpera:o(on),isFirefox:o(rn),isSafari:o(sn)}},An=()=>an({current:void 0,version:qt.unknown()}),ln=an,cn=(v(tn),v(nn),v("IE"),v(on),v(rn),v(sn),"Windows"),un="Android",dn="Linux",mn="macOS",hn="Solaris",gn="FreeBSD",pn="ChromeOS",fn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(cn),isiOS:o("iOS"),isAndroid:o(un),isMacOS:o(mn),isLinux:o(dn),isSolaris:o(hn),isFreeBSD:o(gn),isChromeOS:o(pn)}},bn=()=>fn({current:void 0,version:qt.unknown()}),vn=fn,wn=(v(cn),v("iOS"),v(un),v(dn),v(mn),v(hn),v(gn),v(pn),e=>window.matchMedia(e).matches);let yn=Kt((()=>((e,t,n)=>{const o=en.browsers(),r=en.oses(),s=t.bind((e=>((e,t)=>se(t.brands,(t=>{const n=t.brand.toLowerCase();return K(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:qt.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>Zt(e,t).map((e=>{const n=qt.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(An,ln),i=((e,t)=>Zt(e,t).map((e=>{const n=qt.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(bn,vn),a=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!r,i=e.isiOS()||e.isAndroid(),a=i||o("(pointer:coarse)"),A=r||!s&&i&&o("(min-device-width:768px)"),l=s||i&&!A,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!l&&!A&&!c;return{isiPad:v(r),isiPhone:v(s),isTablet:v(A),isPhone:v(l),isTouch:v(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:v(c),isDesktop:v(u)}})(i,s,e,n);return{browser:s,os:i,deviceType:a}})(navigator.userAgent,_.from(navigator.userAgentData),wn)));const Bn=()=>yn(),Cn=e=>{const t=Ne((e=>{if(it()&&m(e.target)){const t=Ne(e.target);if(He(t)&&(e=>m(e.dom.shadowRoot))(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return ne(t)}}return _.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=b(o,n);return((e,t,n,o,r,s,i)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:s,raw:i}))(t,e.clientX,e.clientY,n,o,r,e)},xn=(e,t,n,o,r)=>{const s=((e,t)=>n=>{e(n)&&t(Cn(n))})(n,o);return e.dom.addEventListener(t,s,r),{unbind:B(Sn,e,t,s,r)}},Sn=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Fn=(e,t)=>{Je(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},kn=(e,t)=>{const n=(e=>_.from(e.dom.nextSibling).map(Ne))(e);n.fold((()=>{Je(e).each((e=>{_n(e,t)}))}),(e=>{Fn(e,t)}))},En=(e,t)=>{const n=(e=>tt(e,0))(e);n.fold((()=>{_n(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},_n=(e,t)=>{e.dom.appendChild(t.dom)},On=(e,t)=>{R(t,(t=>{_n(e,t)}))},Un=e=>{e.dom.textContent="",R(et(e),(e=>{Tn(e)}))},Tn=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Ln=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Ht(n,o)},Nn=(e,t,n)=>{const o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollTo(e,t)},Qn=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Dn=e=>{const t=void 0===e?window:e,n=t.document,o=Ln(Ne(n));return(e=>{const t=void 0===e?window:e;return Bn().browser.isFirefox()?_.none():_.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Qn(o.left,o.top,n,r)}),(e=>Qn(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},In=()=>Ne(document),Hn=(e,t)=>e.view(t).fold(v([]),(t=>{const n=e.owner(t),o=Hn(e,n);return[t].concat(o)}));var Mn=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?_.none():_.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Ne)},owner:e=>Ge(e)});const Rn=e=>{const t=In(),n=Ln(t),o=((e,t)=>{const n=t.owner(e),o=Hn(t,n);return _.some(o)})(e,Mn);return o.fold(B(Rt,e),(t=>{const o=Pt(e),r=j(t,((e,t)=>{const n=Pt(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Ht(r.left+o.left+n.left,r.top+o.top+n.top)}))},Pn=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Vn=e=>{const t=Rt(e),n=zt(e),o=Dt(e);return Pn(t.left,t.top,n,o)},jn=e=>{const t=Rn(e),n=zt(e),o=Dt(e);return Pn(t.left,t.top,n,o)},zn=()=>Dn(window),Kn=e=>{const t=t=>t(e),n=v(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:k,isError:F,map:t=>Gn.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>_.some(e)};return r},Wn=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:F,isError:k,map:t,mapError:t=>Gn.error(t(e)),bind:t,exists:F,forall:k,getOr:w,or:w,getOrThunk:S,orThunk:S,getOrDie:x(String(e)),each:f,toOptional:_.none};return n},Gn={value:Kn,error:Wn,fromOption:(e,t)=>e.fold((()=>Wn(t)),Kn)};var qn;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(qn||(qn={}));const Zn=(e,t,n)=>e.stype===qn.Error?t(e.serror):n(e.svalue),Xn=e=>({stype:qn.Value,svalue:e}),Jn=e=>({stype:qn.Error,serror:e}),Yn=Xn,$n=Jn,eo=Zn,to=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),no=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},oo=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const r=t[o];for(const t in r)be(r,t)&&(n[t]=e(n[t],r[t]))}return n},ro=oo(((e,t)=>a(e)&&a(t)?ro(e,t):t)),so=oo(((e,t)=>t)),io=e=>({tag:"defaultedThunk",process:e}),ao=e=>io(v(e)),Ao=e=>({tag:"mergeWithThunk",process:e}),lo=e=>{const t=(e=>{const t=[],n=[];return R(e,(e=>{Zn(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}})(e);return t.errors.length>0?(n=t.errors,b($n,G)(n)):Yn(t.values);var n},co=e=>i(e)&&ie(e).length>100?" removed due to size":JSON.stringify(e,null,2),uo=(e,t)=>$n([{path:e,getErrorInfo:t}]),mo=e=>({extract:(t,n)=>{return o=e(n),r=e=>((e,t)=>uo(e,v(t)))(t,e),o.stype===qn.Error?r(o.serror):o;var o,r},toString:v("val")}),ho=mo(Yn),go=(e,t,n,o)=>o(fe(e,t).getOrThunk((()=>n(e)))),po=(e,t,n,o,r)=>{const s=e=>r.extract(t.concat([o]),e),i=e=>e.fold((()=>Yn(_.none())),(e=>{const n=r.extract(t.concat([o]),e);return s=n,i=_.some,s.stype===qn.Value?{stype:qn.Value,svalue:i(s.svalue)}:s;var s,i}));switch(e.tag){case"required":return((e,t,n,o)=>fe(t,n).fold((()=>((e,t,n)=>uo(e,(()=>'Could not find valid *required* value for "'+t+'" in '+co(n))))(e,n,t)),o))(t,n,o,s);case"defaultedThunk":return go(n,o,e.process,s);case"option":return((e,t,n)=>n(fe(e,t)))(n,o,i);case"defaultedOptionThunk":return((e,t,n,o)=>o(fe(e,t).map((t=>!0===t?n(e):t))))(n,o,e.process,i);case"mergeWithThunk":return go(n,o,v({}),(t=>{const o=ro(e.process(n),t);return s(o)}))}},fo=e=>({extract:(t,n)=>e().extract(t,n),toString:()=>e().toString()}),bo=e=>ie(me(e,m)),vo=e=>{const t=wo(e),n=j(e,((e,t)=>no(t,(t=>ro(e,{[t]:!0})),v(e))),{});return{extract:(e,o)=>{const r=c(o)?[]:bo(o),s=V(r,(e=>!ve(n,e)));return 0===s.length?t.extract(e,o):((e,t)=>uo(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified")))(e,s)},toString:t.toString}},wo=e=>({extract:(t,n)=>((e,t,n)=>{const o={},r=[];for(const s of n)no(s,((n,s,i,a)=>{const A=po(i,e,t,n,a);eo(A,(e=>{r.push(...e)}),(e=>{o[s]=e}))}),((e,n)=>{o[e]=n(t)}));return r.length>0?$n(r):Yn(o)})(t,n,e),toString:()=>{const t=M(e,(e=>no(e,((e,t,n,o)=>e+" -> "+o.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),yo=e=>({extract:(t,n)=>{const o=M(n,((n,o)=>e.extract(t.concat(["["+o+"]"]),n)));return lo(o)},toString:()=>"array("+e.toString()+")"}),Bo=e=>({extract:(t,n)=>{const o=[];for(const r of e){const e=r.extract(t,n);if(e.stype===qn.Value)return e;o.push(e)}return lo(o)},toString:()=>"oneOf("+M(e,(e=>e.toString())).join(", ")+")"}),Co=(e,t)=>({extract:(n,o)=>{const r=ie(o),s=((t,n)=>yo(mo(e)).extract(t,n))(n,r);return a=e=>{const r=M(e,(e=>to(e,e,{tag:"required",process:{}},t)));return wo(r).extract(n,o)},(i=s).stype===qn.Value?a(i.svalue):i;var i,a},toString:()=>"setOf("+t.toString()+")"}),xo=b(yo,wo),So=v(ho),Fo=(e,t)=>mo((n=>{const o=typeof n;return e(n)?Yn(n):$n(`Expected type: ${t} but got: ${o}`)})),ko=Fo(g,"number"),Eo=Fo(s,"string"),_o=Fo(c,"boolean"),Oo=Fo(h,"function"),Uo=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((t=>Uo(e[t])));default:return!1}},To=mo((e=>Uo(e)?Yn(e):$n("Expected value to be acceptable for sending via postMessage"))),Lo=(e,t)=>({extract:(n,o)=>fe(o,e).fold((()=>((e,t)=>uo(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(n,e)),(e=>((e,t,n,o)=>fe(n,o).fold((()=>((e,t,n)=>uo(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+co(t))))(e,n,o)),(n=>n.extract(e.concat(["branch: "+o]),t))))(n,o,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+ie(t)}),No=e=>mo((t=>e(t).fold($n,Yn))),Qo=(e,t)=>Co((t=>e(t).fold(Jn,Xn)),t),Do=(e,t,n)=>{return o=((e,t,n)=>((e,t)=>e.stype===qn.Error?{stype:qn.Error,serror:t(e.serror)}:e)(t.extract([e],n),(e=>({input:n,errors:e}))))(e,t,n),Zn(o,Gn.error,Gn.value);var o},Io=e=>e.fold((e=>{throw new Error(Mo(e))}),w),Ho=(e,t,n)=>Io(Do(e,t,n)),Mo=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:v("... (only showing first ten failures)")}]):e;return M(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+co(e.input),Ro=(e,t)=>Lo(e,le(t,wo)),Po=to,Vo=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),jo=e=>No((t=>Q(e,t)?Gn.value(t):Gn.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),zo=e=>Po(e,e,{tag:"required",process:{}},So()),Ko=(e,t)=>Po(e,e,{tag:"required",process:{}},t),Wo=e=>Ko(e,ko),Go=e=>Ko(e,Eo),qo=(e,t)=>Po(e,e,{tag:"required",process:{}},jo(t)),Zo=e=>Ko(e,Oo),Xo=(e,t)=>Po(e,e,{tag:"required",process:{}},wo(t)),Jo=(e,t)=>Po(e,e,{tag:"required",process:{}},xo(t)),Yo=(e,t)=>Po(e,e,{tag:"required",process:{}},yo(t)),$o=e=>Po(e,e,{tag:"option",process:{}},So()),er=(e,t)=>Po(e,e,{tag:"option",process:{}},t),tr=e=>er(e,ko),nr=e=>er(e,Eo),or=(e,t)=>er(e,jo(t)),rr=e=>er(e,Oo),sr=(e,t)=>er(e,yo(t)),ir=(e,t)=>er(e,wo(t)),ar=(e,t)=>Po(e,e,ao(t),So()),Ar=(e,t,n)=>Po(e,e,ao(t),n),lr=(e,t)=>Ar(e,t,ko),cr=(e,t)=>Ar(e,t,Eo),ur=(e,t,n)=>Ar(e,t,jo(n)),dr=(e,t)=>Ar(e,t,_o),mr=(e,t)=>Ar(e,t,Oo),hr=(e,t,n)=>Ar(e,t,yo(n)),gr=(e,t,n)=>Ar(e,t,wo(n)),pr=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},fr=e=>{if(!A(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return R(e,((o,r)=>{const s=ie(o);if(1!==s.length)throw new Error("one and only one name per case");const i=s[0],a=o[i];if(void 0!==n[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!A(a))throw new Error("case arguments must be an array");t.push(i),n[i]=(...n)=>{const o=n.length;if(o!==a.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+a.length+" ("+a+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[r].apply(null,n)},match:e=>{const o=ie(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!Z(t,(e=>Q(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:i,params:n})}}}})),n};fr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const br=(e,t)=>((e,t)=>({[e]:t}))(e,t),vr=e=>(e=>{const t={};return R(e,(e=>{t[e.key]=e.value})),t})(e),wr=e=>h(e)?e:F,yr=(e,t,n)=>{let o=e.dom;const r=wr(n);for(;o.parentNode;){o=o.parentNode;const e=Ne(o),n=t(e);if(n.isSome())return n;if(r(e))break}return _.none()},Br=(e,t,n)=>{const o=t(e),r=wr(n);return o.orThunk((()=>r(e)?_.none():yr(e,t,r)))},Cr=(e,t)=>Ke(e.element,t.event.target),xr={can:k,abort:F,run:f},Sr=e=>{if(!ve(e,"can")&&!ve(e,"abort")&&!ve(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...xr,...e}},Fr=v,kr=Fr("touchstart"),Er=Fr("touchmove"),_r=Fr("touchend"),Or=Fr("touchcancel"),Ur=Fr("mousedown"),Tr=Fr("mousemove"),Lr=Fr("mouseout"),Nr=Fr("mouseup"),Qr=Fr("mouseover"),Dr=Fr("focusin"),Ir=Fr("focusout"),Hr=Fr("keydown"),Mr=Fr("keyup"),Rr=Fr("input"),Pr=Fr("change"),Vr=Fr("click"),jr=Fr("transitioncancel"),zr=Fr("transitionend"),Kr=Fr("transitionstart"),Wr=Fr("selectstart"),Gr=e=>v("alloy."+e),qr={tap:Gr("tap")},Zr=Gr("focus"),Xr=Gr("blur.post"),Jr=Gr("paste.post"),Yr=Gr("receive"),$r=Gr("execute"),es=Gr("focus.item"),ts=qr.tap,ns=Gr("longpress"),os=Gr("sandbox.close"),rs=Gr("typeahead.cancel"),ss=Gr("system.init"),is=Gr("system.touchmove"),as=Gr("system.touchend"),As=Gr("system.scroll"),ls=Gr("system.resize"),cs=Gr("system.attached"),us=Gr("system.detached"),ds=Gr("system.dismissRequested"),ms=Gr("system.repositionRequested"),hs=Gr("focusmanager.shifted"),gs=Gr("slotcontainer.visibility"),ps=Gr("change.tab"),fs=Gr("dismiss.tab"),bs=Gr("highlight"),vs=Gr("dehighlight"),ws=(e,t)=>{xs(e,e.element,t,{})},ys=(e,t,n)=>{xs(e,e.element,t,n)},Bs=e=>{ws(e,$r())},Cs=(e,t,n)=>{xs(e,t,n,{})},xs=(e,t,n,o)=>{const r={target:t,...o};e.getSystem().triggerEvent(n,t,r)},Ss=(e,t,n,o)=>{e.getSystem().triggerEvent(n,t,o.event)},Fs=e=>vr(e),ks=(e,t)=>({key:e,value:Sr({abort:t})}),Es=e=>({key:e,value:Sr({run:(e,t)=>{t.event.prevent()}})}),_s=(e,t)=>({key:e,value:Sr({run:t})}),Os=(e,t,n)=>({key:e,value:Sr({run:(e,o)=>{t.apply(void 0,[e,o].concat(n))}})}),Us=e=>t=>({key:e,value:Sr({run:(e,n)=>{Cr(e,n)&&t(e,n)}})}),Ts=(e,t,n)=>((e,t)=>_s(e,((n,o)=>{n.getSystem().getByUid(t).each((t=>{Ss(t,t.element,e,o)}))})))(e,t.partUids[n]),Ls=(e,t)=>_s(e,((e,n)=>{const o=n.event,r=e.getSystem().getByDom(o.target).getOrThunk((()=>Br(o.target,(t=>e.getSystem().getByDom(t).toOptional()),F).getOr(e)));t(e,r,n)})),Ns=e=>_s(e,((e,t)=>{t.cut()})),Qs=e=>_s(e,((e,t)=>{t.stop()})),Ds=(e,t)=>Us(e)(t),Is=Us(cs()),Hs=Us(us()),Ms=Us(ss()),Rs=(Ws=$r(),e=>_s(Ws,e)),Ps=e=>e.dom.innerHTML,Vs=(e,t)=>{const n=Ge(e).dom,o=Ne(n.createDocumentFragment()),r=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,et(Ne(n))})(t,n);On(o,r),Un(e),_n(e,o)},js=e=>rt(e)?"#shadow-root":(e=>{const t=Te("div"),n=Ne(e.dom.cloneNode(!0));return _n(t,n),Ps(t)})((e=>((e,t)=>Ne(e.dom.cloneNode(!1)))(e))(e)),zs=e=>js(e),Ks=Fs([((e,t)=>({key:e,value:Sr({can:(e,t)=>{const n=t.event,o=n.originator,r=n.target;return!((e,t,n)=>Ke(t,e.element)&&!Ke(t,n))(e,o,r)||(console.warn(Zr()+" did not get interpreted by the desired target. \nOriginator: "+zs(o)+"\nTarget: "+zs(r)+"\nCheck the "+Zr()+" event handlers"),!1)}})}))(Zr())]);var Ws,Gs=Object.freeze({__proto__:null,events:Ks});let qs=0;const Zs=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return qs++,e+"_"+n+qs+String(t)},Xs=v("alloy-id-"),Js=v("data-alloy-id"),Ys=Xs(),$s=Js(),ei=(e,t)=>{Object.defineProperty(e.dom,$s,{value:t,writable:!0})},ti=e=>{const t=He(e)?e.dom[$s]:null;return _.from(t)},ni=e=>Zs(e),oi=w,ri=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+zs(e().element)+" is not in context.":""),n=e=>()=>{throw new Error(t(e))},o=e=>()=>{console.warn(t(e))};return{debugInfo:v("fake"),triggerEvent:o("triggerEvent"),triggerFocus:o("triggerFocus"),triggerEscape:o("triggerEscape"),broadcast:o("broadcast"),broadcastOn:o("broadcastOn"),broadcastEvent:o("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:F}},si=ri(),ii=e=>M(e,(e=>Fe(e,"/*")?e.substring(0,e.length-2):e)),ai=(e,t)=>{const n=e.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),s=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:ii(s)}),e},Ai=Zs("alloy-premade"),li=e=>(Object.defineProperty(e.element.dom,Ai,{value:e.uid,writable:!0}),br(Ai,e)),ci=e=>fe(e,Ai),ui=e=>((e,t)=>{const n=t.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),s=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:ii(s.slice(1))}),e})(((t,...n)=>e(t.getApis(),t,...n)),e),di={init:()=>mi({readState:v("No State required")})},mi=e=>e,hi=(e,t)=>{const n={};return Ae(e,((e,o)=>{Ae(e,((e,r)=>{const s=fe(n,r).getOr([]);n[r]=s.concat([t(o,e)])}))})),n},gi=e=>({classes:u(e.classes)?[]:e.classes,attributes:u(e.attributes)?{}:e.attributes,styles:u(e.styles)?{}:e.styles}),pi=e=>e.cHandler,fi=(e,t)=>({name:e,handler:t}),bi=(e,t)=>{const n={};return R(e,(e=>{n[e.name()]=e.handlers(t)})),n},vi=(e,t,n)=>{const o=t[n];return o?((e,t,n,o)=>{try{const t=ee(n,((t,n)=>{const r=t.name,s=n.name,i=o.indexOf(r),a=o.indexOf(s);if(-1===i)throw new Error("The ordering for "+e+" does not have an entry for "+r+".\nOrder specified: "+JSON.stringify(o,null,2));if(-1===a)throw new Error("The ordering for "+e+" does not have an entry for "+s+".\nOrder specified: "+JSON.stringify(o,null,2));return i<a?-1:a<i?1:0}));return Gn.value(t)}catch(e){return Gn.error([e])}})("Event: "+n,0,e,o).map((e=>(e=>{const t=((e,t)=>(...t)=>z(e,((e,n)=>e&&(e=>e.can)(n).apply(void 0,t)),!0))(e),n=((e,t)=>(...t)=>z(e,((e,n)=>e||(e=>e.abort)(n).apply(void 0,t)),!1))(e);return{can:t,abort:n,run:(...t)=>{R(e,(e=>{e.run.apply(void 0,t)}))}}})(M(e,(e=>e.handler))))):((e,t)=>Gn.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(M(t,(e=>e.name)),null,2)]))(n,e)},wi=(e,t)=>((e,t)=>{const n=(e=>{const t=[],n=[];return R(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(e);return n.errors.length>0?(o=n.errors,Gn.error(G(o))):((e,t)=>0===e.length?Gn.value(t):Gn.value(ro(t,so.apply(void 0,e))))(n.values,t);var o})(he(e,((e,n)=>(1===e.length?Gn.value(e[0].handler):vi(e,t,n)).map((o=>{const r=(e=>{const t=(e=>h(e)?{can:k,abort:F,run:e}:e)(e);return(e,n,...o)=>{const r=[e,n].concat(o);t.abort.apply(void 0,r)?n.stop():t.can.apply(void 0,r)&&t.run.apply(void 0,r)}})(o),s=e.length>1?V(t[n],(t=>D(e,(e=>e.name===t)))).join(" > "):e[0].name;return br(n,((e,t)=>({handler:e,purpose:t}))(r,s))})))),{}),yi="alloy.base.behaviour",Bi=wo([Po("dom","dom",{tag:"required",process:{}},wo([zo("tag"),ar("styles",{}),ar("classes",[]),ar("attributes",{}),$o("value"),$o("innerHtml")])),zo("components"),zo("uid"),ar("events",{}),ar("apis",{}),Po("eventOrder","eventOrder",(Gi={[$r()]:["disabling",yi,"toggling","typeaheadevents"],[Zr()]:[yi,"focusing","keying"],[ss()]:[yi,"disabling","toggling","representing"],[Rr()]:[yi,"representing","streaming","invalidating"],[us()]:[yi,"representing","item-events","tooltipping"],[Ur()]:["focusing",yi,"item-type-events"],[kr()]:["focusing",yi,"item-type-events"],[Qr()]:["item-type-events","tooltipping"],[Yr()]:["receiving","reflecting","tooltipping"]},Ao(v(Gi))),So()),$o("domModification")]),Ci=e=>e.events,xi=(e,t)=>{const n=ft(e,t);return void 0===n||""===n?[]:n.split(" ")},Si=e=>void 0!==e.dom.classList,Fi=e=>xi(e,"class"),ki=(e,t)=>{Si(e)?e.dom.classList.add(t):((e,t)=>{((e,t,n)=>{const o=xi(e,t).concat([n]);gt(e,t,o.join(" "))})(e,"class",t)})(e,t)},Ei=(e,t)=>{Si(e)?e.dom.classList.remove(t):((e,t)=>{((e,t,n)=>{const o=V(xi(e,t),(e=>e!==n));o.length>0?gt(e,t,o.join(" ")):wt(e,t)})(e,"class",t)})(e,t),(e=>{0===(Si(e)?e.dom.classList:Fi(e)).length&&wt(e,"class")})(e)},_i=(e,t)=>Si(e)&&e.dom.classList.contains(t),Oi=(e,t)=>{R(t,(t=>{ki(e,t)}))},Ui=(e,t)=>{R(t,(t=>{Ei(e,t)}))},Ti=e=>e.dom.value,Li=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},Ni=(e,t,n)=>{n.fold((()=>_n(e,t)),(e=>{Ke(e,t)||(Fn(e,t),Tn(e))}))},Qi=(e,t,n)=>{const o=M(t,n),r=et(e);return R(r.slice(o.length),Tn),o},Di=(e,t,n,o)=>{const r=tt(e,t),s=o(n,r),i=((e,t,n)=>tt(e,t).map((e=>{if(n.exists((t=>!Ke(t,e)))){const t=n.map(De).getOr("span"),o=Te(t);return Fn(e,o),o}return e})))(e,t,r);return Ni(e,s.element,i),s},Ii=(e,t)=>{const n=ie(e),o=ie(t);return{toRemove:J(o,n),toSet:((e,n)=>{const o={},r={};return de(e,((e,n)=>!be(t,n)||e!==t[n]),ue(o),ue(r)),{t:o,f:r}})(e).t}},Hi=(e,t)=>{const{class:n,style:o,...r}=(e=>z(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))(t),{toSet:s,toRemove:i}=Ii(e.attributes,r),a=_t(t),{toSet:A,toRemove:l}=Ii(e.styles,a),c=(e=>Si(e)?(e=>{const t=e.dom.classList,n=new Array(t.length);for(let o=0;o<t.length;o++){const e=t.item(o);null!==e&&(n[o]=e)}return n})(e):Fi(e))(t),u=J(c,e.classes),d=J(e.classes,c);return R(i,(e=>wt(t,e))),pt(t,s),Oi(t,d),Ui(t,u),R(l,(e=>Ut(t,e))),xt(t,A),e.innerHtml.fold((()=>{const n=e.domChildren;((e,t)=>{Qi(e,t,((t,n)=>{const o=tt(e,n);return Ni(e,t,o),t}))})(t,n)}),(e=>{Vs(t,e)})),(()=>{const n=t,o=e.value.getOrUndefined();o!==Ti(n)&&Li(n,null!=o?o:"")})(),t},Mi=e=>{const t=(e=>{const t=fe(e,"behaviours").getOr({});return q(ie(t),(e=>{const n=t[e];return m(n)?[n.me]:[]}))})(e);return((e,t)=>((e,t)=>{const n=M(t,(e=>ir(e.name(),[zo("config"),ar("state",di)]))),o=Do("component.behaviours",wo(n),e.behaviours).fold((t=>{throw new Error(Mo(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),w);return{list:t,data:le(o,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return v(t)}))}})(e,t))(e,t)},Ri=(e,t)=>{const n=()=>d,o=pr(si),r=Io((e=>Do("custom.definition",Bi,e))(e)),s=Mi(e),i=(e=>e.list)(s),a=(e=>e.data)(s),A=((e,t,n)=>{const o={...(r=e).dom,uid:r.uid,domChildren:M(r.components,(e=>e.element))};var r;const s=(e=>e.domModification.fold((()=>gi({})),gi))(e),i={"alloy.base.modification":s},a=t.length>0?((e,t,n,o)=>{const r={...t};R(n,(t=>{r[t.name()]=t.exhibit(e,o)}));const s=hi(r,((e,t)=>({name:e,modification:t}))),i=e=>j(e,((e,t)=>({...t.modification,...e})),{}),a=j(s.classes,((e,t)=>t.modification.concat(e)),[]),A=i(s.attributes),l=i(s.styles);return gi({classes:a,attributes:A,styles:l})})(n,i,t,o):s;return A=o,l=a,{...A,attributes:{...A.attributes,...l.attributes},styles:{...A.styles,...l.styles},classes:A.classes.concat(l.classes)};var A,l})(r,i,a),l=((e,t)=>{const n=t.filter((t=>De(t)===e.tag&&!(e=>e.innerHtml.isSome()&&e.domChildren.length>0)(e)&&!(e=>be(e.dom,Ai))(t))).bind((t=>((e,t)=>{try{const n=Hi(e,t);return _.some(n)}catch(e){return _.none()}})(e,t))).getOrThunk((()=>(e=>{const t=Te(e.tag);pt(t,e.attributes),Oi(t,e.classes),xt(t,e.styles),e.innerHtml.each((e=>Vs(t,e)));const n=e.domChildren;return On(t,n),e.value.each((e=>{Li(t,e)})),t})(e)));return ei(n,e.uid),n})(A,t),c=((e,t,n)=>{const o={"alloy.base.behaviour":Ci(e)};return((e,t,n,o)=>{const r=((e,t,n)=>{const o={...n,...bi(t,e)};return hi(o,fi)})(e,n,o);return wi(r,t)})(n,e.eventOrder,t,o).getOrDie()})(r,i,a),u=pr(r.components),d={uid:e.uid,getSystem:o.get,config:t=>{const n=a;return(h(n[t.name()])?n[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:e=>h(a[e.name()]),spec:e,readState:e=>a[e]().map((e=>e.state.readState())).getOr("not enabled"),getApis:()=>r.apis,connect:e=>{o.set(e)},disconnect:()=>{o.set(ri(n))},element:l,syncComponents:()=>{const e=et(l),t=q(e,(e=>o.get().getByDom(e).fold((()=>[]),$)));u.set(t)},components:u.get,events:c};return d},Pi=e=>{const t=Le(e);return Vi({element:t})},Vi=e=>{const t=Ho("external.component",vo([zo("element"),$o("uid")]),e),n=pr(ri()),o=t.uid.getOrThunk((()=>ni("external")));ei(t.element,o);const r={uid:o,getSystem:n.get,config:_.none,hasConfigured:F,connect:e=>{n.set(e)},disconnect:()=>{n.set(ri((()=>r)))},getApis:()=>({}),element:t.element,spec:e,readState:v("No state"),syncComponents:f,components:v([]),events:{}};return li(r)},ji=ni,zi=(e,t)=>ci(e).getOrThunk((()=>((e,t)=>{const{events:n,...o}=oi(e),r=((e,t)=>{const n=fe(e,"components").getOr([]);return t.fold((()=>M(n,Ki)),(e=>M(n,((t,n)=>zi(t,tt(e,n))))))})(o,t),s={...o,events:{...Gs,...n},components:r};return Gn.value(Ri(s,t))})((e=>be(e,"uid"))(e)?e:{uid:ji(""),...e},t).getOrDie())),Ki=e=>zi(e,_.none()),Wi=li;var Gi,qi=(e,t,n,o,r)=>e(n,o)?_.some(n):h(r)&&r(n)?_.none():t(n,o,r);const Zi=(e,t,n)=>{let o=e.dom;const r=h(n)?n:F;for(;o.parentNode;){o=o.parentNode;const e=Ne(o);if(t(e))return _.some(e);if(r(e))break}return _.none()},Xi=(e,t,n)=>qi(((e,t)=>t(e)),Zi,e,t,n),Ji=(e,t,n)=>Xi(e,t,n).isSome(),Yi=(e,t,n)=>Zi(e,(e=>je(e,t)),n),$i=(e,t)=>((e,n)=>K(e.dom.childNodes,(e=>{return n=Ne(e),je(n,t);var n})).map(Ne))(e),ea=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return ze(n)?_.none():_.from(n.querySelector(e)).map(Ne)})(t,e),ta=(e,t,n)=>qi(((e,t)=>je(e,t)),Yi,e,t,n),na="aria-controls",oa=()=>{const e=Zs(na);return{id:e,link:t=>{gt(t,na,e)},unlink:e=>{wt(e,na)}}},ra=(e,t)=>Ji(t,(t=>Ke(t,e.element)),F)||((e,t)=>(e=>Xi(e,(e=>{if(!He(e))return!1;const t=ft(e,"id");return void 0!==t&&t.indexOf(na)>-1})).bind((e=>{const t=ft(e,"id"),n=at(e);return ea(n,`[${na}="${t}"]`)})))(t).exists((t=>ra(e,t))))(e,t);var sa;!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(sa||(sa={}));const ia=pr({}),aa=["alloy/data/Fields","alloy/debugging/Debugging"],Aa=(e,t,n)=>((e,t,n)=>{switch(fe(ia.get(),e).orThunk((()=>{const t=ie(ia.get());return se(t,(t=>e.indexOf(t)>-1?_.some(ia.get()[t]):_.none()))})).getOr(sa.NORMAL)){case sa.NORMAL:return n(la());case sa.LOGGING:{const o=((e,t)=>{const n=[],o=(new Date).getTime();return{logEventCut:(e,t,o)=>{n.push({outcome:"cut",target:t,purpose:o})},logEventStopped:(e,t,o)=>{n.push({outcome:"stopped",target:t,purpose:o})},logNoParent:(e,t,o)=>{n.push({outcome:"no-parent",target:t,purpose:o})},logEventNoHandlers:(e,t)=>{n.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,o)=>{n.push({outcome:"response",purpose:o,target:t})},write:()=>{const r=(new Date).getTime();Q(["mousemove","mouseover","mouseout",ss()],e)||console.log(e,{event:e,time:r-o,target:t.dom,sequence:M(n,(e=>Q(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+zs(e.target)+")":e.outcome))})}}})(e,t),r=n(o);return o.write(),r}case sa.STOP:return!0}})(e,t,n),la=v({logEventCut:f,logEventStopped:f,logNoParent:f,logEventNoHandlers:f,logEventResponse:f,write:f}),ca=v([zo("menu"),zo("selectedMenu")]),ua=v([zo("item"),zo("selectedItem")]);v(wo(ua().concat(ca())));const da=v(wo(ua())),ma=Xo("initSize",[zo("numColumns"),zo("numRows")]),ha=()=>Xo("markers",[zo("backgroundMenu")].concat(ca()).concat(ua())),ga=e=>Xo("markers",M(e,zo)),pa=(e,t,n)=>((()=>{const e=new Error;if(void 0!==e.stack){const t=e.stack.split("\n");K(t,(e=>e.indexOf("alloy")>0&&!D(aa,(t=>e.indexOf(t)>-1)))).getOr("unknown")}})(),Po(t,t,n,No((e=>Gn.value(((...t)=>e.apply(void 0,t))))))),fa=e=>pa(0,e,ao(f)),ba=e=>pa(0,e,ao(_.none)),va=e=>pa(0,e,{tag:"required",process:{}}),wa=e=>pa(0,e,{tag:"required",process:{}}),ya=(e,t)=>Vo(e,v(t)),Ba=e=>Vo(e,w),Ca=v(ma),xa=(e,t,n,o,r,s,i,a=!1)=>({x:e,y:t,bubble:n,direction:o,placement:r,restriction:s,label:`${i}-${r}`,alwaysFit:a}),Sa=fr([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Fa=Sa.southeast,ka=Sa.southwest,Ea=Sa.northeast,_a=Sa.northwest,Oa=Sa.south,Ua=Sa.north,Ta=Sa.east,La=Sa.west,Na=(e,t,n,o)=>{const r=e+t;return r>o?n:r<n?o:r},Qa=(e,t,n)=>Math.min(Math.max(e,t),n),Da=(e,t)=>Y(["left","right","top","bottom"],(n=>fe(t,n).map((t=>((e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}})(e,t))))),Ia="layout",Ha=e=>e.x,Ma=(e,t)=>e.x+e.width/2-t.width/2,Ra=(e,t)=>e.x+e.width-t.width,Pa=(e,t)=>e.y-t.height,Va=e=>e.y+e.height,ja=(e,t)=>e.y+e.height/2-t.height/2,za=(e,t,n)=>xa(Ha(e),Va(e),n.southeast(),Fa(),"southeast",Da(e,{left:1,top:3}),Ia),Ka=(e,t,n)=>xa(Ra(e,t),Va(e),n.southwest(),ka(),"southwest",Da(e,{right:0,top:3}),Ia),Wa=(e,t,n)=>xa(Ha(e),Pa(e,t),n.northeast(),Ea(),"northeast",Da(e,{left:1,bottom:2}),Ia),Ga=(e,t,n)=>xa(Ra(e,t),Pa(e,t),n.northwest(),_a(),"northwest",Da(e,{right:0,bottom:2}),Ia),qa=(e,t,n)=>xa(Ma(e,t),Pa(e,t),n.north(),Ua(),"north",Da(e,{bottom:2}),Ia),Za=(e,t,n)=>xa(Ma(e,t),Va(e),n.south(),Oa(),"south",Da(e,{top:3}),Ia),Xa=(e,t,n)=>xa((e=>e.x+e.width)(e),ja(e,t),n.east(),Ta(),"east",Da(e,{left:0}),Ia),Ja=(e,t,n)=>xa(((e,t)=>e.x-t.width)(e,t),ja(e,t),n.west(),La(),"west",Da(e,{right:1}),Ia),Ya=()=>[za,Ka,Wa,Ga,Za,qa,Xa,Ja],$a=()=>[Ka,za,Ga,Wa,Za,qa,Xa,Ja],eA=()=>[Wa,Ga,za,Ka,qa,Za],tA=()=>[Ga,Wa,Ka,za,qa,Za],nA=()=>[za,Ka,Wa,Ga,Za,qa],oA=()=>[Ka,za,Ga,Wa,Za,qa];var rA=Object.freeze({__proto__:null,events:e=>Fs([_s(Yr(),((t,n)=>{const o=e.channels,r=ie(o),s=n,i=((e,t)=>t.universal?e:V(e,(e=>Q(t.channels,e))))(r,s);R(i,(e=>{const n=o[e],r=n.schema,i=Ho("channel["+e+"] data\nReceiver: "+zs(t.element),r,s.data);n.onReceive(t,i)}))}))])}),sA=[Ko("channels",Qo(Gn.value,vo([va("onReceive"),ar("schema",So())])))];const iA=(e,t,n)=>Ms(((o,r)=>{n(o,e,t)})),aA=e=>({key:e,value:void 0}),AA=(e,t,n,o,r,s,i)=>{const a=e=>ve(e,n)?e[n]():_.none(),A=le(r,((e,t)=>((e,t,n)=>((e,t,n)=>{const o=n.toString(),r=o.indexOf(")")+1,s=o.indexOf("("),i=o.substring(s+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:ii(i.slice(0,1).concat(i.slice(3)))}),e})(((o,...r)=>{const s=[o].concat(r);return o.config({name:v(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(e=>{const n=Array.prototype.slice.call(s,1);return t.apply(void 0,[o,e.config,e.state].concat(n))}))}),n,t))(n,e,t))),l={...le(s,((e,t)=>ai(e,t))),...A,revoke:B(aA,n),config:t=>{const o=Ho(n+"-config",e,t);return{key:n,value:{config:o,me:l,configAsRaw:Kt((()=>Ho(n+"-config",e,t))),initialConfig:t,state:i}}},schema:v(t),exhibit:(e,t)=>Be(a(e),fe(o,"exhibit"),((e,n)=>n(t,e.config,e.state))).getOrThunk((()=>gi({}))),name:v(n),handlers:e=>a(e).map((e=>fe(o,"events").getOr((()=>({})))(e.config,e.state))).getOr({})};return l},lA=e=>vr(e),cA=vo([zo("fields"),zo("name"),ar("active",{}),ar("apis",{}),ar("state",di),ar("extra",{})]),uA=e=>{const t=Ho("Creating behaviour: "+e.name,cA,e);return((e,t,n,o,r,s)=>{const i=vo(e),a=ir(t,[(A=e,er("config",vo(A)))]);var A;return AA(i,a,t,n,o,r,s)})(t.fields,t.name,t.active,t.apis,t.extra,t.state)},dA=vo([zo("branchKey"),zo("branches"),zo("name"),ar("active",{}),ar("apis",{}),ar("state",di),ar("extra",{})]),mA=e=>{const t=Ho("Creating behaviour: "+e.name,dA,e);return((e,t,n,o,r,s)=>{const i=e,a=ir(t,[er("config",e)]);return AA(i,a,t,n,o,r,s)})(Ro(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},hA=v(void 0),gA=uA({fields:sA,name:"receiving",active:rA});var pA=Object.freeze({__proto__:null,exhibit:(e,t)=>gi({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});const fA=e=>e.dom.focus(),bA=e=>{const t=at(e).dom;return e.dom===t.activeElement},vA=(e=In())=>_.from(e.dom.activeElement).map(Ne),wA=e=>vA(at(e)).filter((t=>e.dom.contains(t.dom))),yA=(e,t)=>{const n=at(t),o=vA(n).bind((e=>{const n=t=>Ke(e,t);return n(t)?_.some(t):((e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=Ne(e.childNodes[o]);if(t(r))return _.some(r);const s=n(e.childNodes[o]);if(s.isSome())return s}return _.none()};return n(e.dom)})(t,n)})),r=e(t);return o.each((e=>{vA(n).filter((t=>Ke(t,e))).fold((()=>{fA(e)}),f)})),r},BA=(e,t,n,o,r)=>{const s=e=>e+"px";return{position:e,left:t.map(s),top:n.map(s),right:o.map(s),bottom:r.map(s)}},CA=(e,t)=>{St(e,(e=>({...e,position:_.some(e.position)}))(t))},xA=fr([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),SA=(e,t,n,o,r,s)=>{const i=t.rect,a=i.x-n,A=i.y-o,l=r-(a+i.width),c=s-(A+i.height),u=_.some(a),d=_.some(A),m=_.some(l),h=_.some(c),g=_.none();return t.direction.fold((()=>BA(e,u,d,g,g)),(()=>BA(e,g,d,m,g)),(()=>BA(e,u,g,g,h)),(()=>BA(e,g,g,m,h)),(()=>BA(e,u,d,g,g)),(()=>BA(e,u,g,g,h)),(()=>BA(e,u,d,g,g)),(()=>BA(e,g,d,m,g)))},FA=(e,t)=>e.fold((()=>{const e=t.rect;return BA("absolute",_.some(e.x),_.some(e.y),_.none(),_.none())}),((e,n,o,r)=>SA("absolute",t,e,n,o,r)),((e,n,o,r)=>SA("fixed",t,e,n,o,r))),kA=(e,t)=>{const n=B(Rn,t),o=e.fold(n,n,(()=>{const e=Ln();return Rn(t).translate(-e.left,-e.top)})),r=zt(t),s=Dt(t);return Pn(o.left,o.top,r,s)},EA=(e,t)=>t.fold((()=>e.fold(zn,zn,Pn)),(t=>e.fold(t,t,(()=>{const n=t(),o=_A(e,n.x,n.y);return Pn(o.left,o.top,n.width,n.height)})))),_A=(e,t,n)=>{const o=Ht(t,n);return e.fold(v(o),v(o),(()=>{const e=Ln();return o.translate(-e.left,-e.top)}))};xA.none;const OA=xA.relative,UA=xA.fixed,TA="data-alloy-placement",LA=e=>bt(e,TA),NA=fr([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),QA=(e,t,n,o)=>{const r=e.bubble,s=r.offset,i=((e,t,n)=>{const o=(o,r)=>t[o].map((t=>{const s="top"===o||"bottom"===o,i=s?n.top:n.left,a=("left"===o||"top"===o?Math.max:Math.min)(t,r)+i;return s?Qa(a,e.y,e.bottom):Qa(a,e.x,e.right)})).getOr(r),r=o("left",e.x),s=o("top",e.y),i=o("right",e.right),a=o("bottom",e.bottom);return Pn(r,s,i-r,a-s)})(o,e.restriction,s),a=e.x+s.left,A=e.y+s.top,l=Pn(a,A,t,n),{originInBounds:c,sizeInBounds:u,visibleW:d,visibleH:m}=((e,t)=>{const{x:n,y:o,right:r,bottom:s}=t,{x:i,y:a,right:A,bottom:l,width:c,height:u}=e;return{originInBounds:i>=n&&i<=r&&a>=o&&a<=s,sizeInBounds:A<=r&&A>=n&&l<=s&&l>=o,visibleW:Math.min(c,i>=n?r-i:A-n),visibleH:Math.min(u,a>=o?s-a:l-o)}})(l,i),h=c&&u,g=h?l:((e,t)=>{const{x:n,y:o,right:r,bottom:s}=t,{x:i,y:a,width:A,height:l}=e,c=Math.max(n,r-A),u=Math.max(o,s-l),d=Qa(i,n,c),m=Qa(a,o,u),h=Math.min(d+A,r)-d,g=Math.min(m+l,s)-m;return Pn(d,m,h,g)})(l,i),p=g.width>0&&g.height>0,{maxWidth:f,maxHeight:b}=((e,t,n)=>{const o=v(t.bottom-n.y),r=v(n.bottom-t.y),s=((e,t,n,o)=>e.fold(t,t,o,o,t,o,n,n))(e,r,r,o),i=v(t.right-n.x),a=v(n.right-t.x),A=((e,t,n,o)=>e.fold(t,o,t,o,n,n,t,o))(e,a,a,i);return{maxWidth:A,maxHeight:s}})(e.direction,g,o),w={rect:g,maxHeight:b,maxWidth:f,direction:e.direction,placement:e.placement,classes:{on:r.classesOn,off:r.classesOff},layout:e.label,testY:A};return h||e.alwaysFit?NA.fit(w):NA.nofit(w,d,m,p)},DA=e=>{const t=pr(_.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(_.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(_.some(e))}}},IA=()=>DA((e=>e.unbind())),HA=()=>{const e=DA(f);return{...e,on:t=>e.get().each(t)}},MA=k,RA=(e,t,n)=>((e,t,n,o)=>xn(e,t,n,o,!1))(e,t,MA,n),PA=(e,t,n)=>((e,t,n,o)=>xn(e,t,n,o,!0))(e,t,MA,n),VA=Cn,jA=["top","bottom","right","left"],zA="data-alloy-transition-timer",KA=(e,t,n,o,r,i)=>{const a=((e,t,n)=>n.exists((n=>{const o=e.mode;return"all"===o||n[o]!==t[o]})))(o,r,i);if(a||((e,t)=>((e,t)=>Z(t,(t=>_i(e,t))))(e,t.classes))(e,o)){Ct(e,"position",n.position);const i=kA(t,e),A=FA(t,{...r,rect:i}),l=Y(jA,(e=>A[e]));((e,t)=>{const n=e=>parseFloat(e).toFixed(3);return ge(t,((t,o)=>!((e,t,n=y)=>Be(e,t,n).getOr(e.isNone()&&t.isNone()))(e[o].map(n),t.map(n)))).isSome()})(n,l)&&(St(e,l),a&&((e,t)=>{Oi(e,t.classes),bt(e,zA).each((t=>{clearTimeout(parseInt(t,10)),wt(e,zA)})),((e,t)=>{const n=IA(),o=IA();let r;const i=t=>{var n;const o=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return Ke(t.target,e)&&!Ee(o)&&Q(jA,t.raw.propertyName)},a=s=>{if(d(s)||i(s)){n.clear(),o.clear();const i=null==s?void 0:s.raw.type;(d(i)||i===zr())&&(clearTimeout(r),wt(e,zA),Ui(e,t.classes))}},A=RA(e,Kr(),(t=>{i(t)&&(A.unbind(),n.set(RA(e,zr(),a)),o.set(RA(e,jr(),a)))})),l=(e=>{const t=t=>{const n=Ft(e,t).split(/\s*,\s*/);return V(n,Ee)},n=e=>{if(s(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return Fe(e,"ms")?t:1e3*t}return 0},o=t("transition-delay"),r=t("transition-duration");return z(r,((e,t,r)=>{const s=n(o[r])+n(t);return Math.max(e,s)}),0)})(e);requestAnimationFrame((()=>{r=setTimeout(a,l+17),gt(e,zA,r)}))})(e,t)})(e,o),Tt(e))}else Ui(e,o.classes)},WA=(e,t)=>{((e,t)=>{const n=Nt.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Ct(e,"max-height",n+"px")})(e,Math.floor(t))},GA=v(((e,t)=>{WA(e,t),xt(e,{"overflow-x":"hidden","overflow-y":"auto"})})),qA=v(((e,t)=>{WA(e,t)})),ZA=(e,t,n)=>void 0===e[t]?n:e[t],XA=(e,t,n,o)=>{const r=((e,t,n,o)=>{Ut(t,"max-height"),Ut(t,"max-width");const r={width:zt(s=t),height:Dt(s)};var s;return((e,t,n,o,r,s)=>{const i=o.width,a=o.height,A=(t,A,l,c,u)=>{const d=t(n,o,r,e,s),m=QA(d,i,a,s);return m.fold(v(m),((e,t,n,o)=>(u===o?n>c||t>l:!u&&o)?m:NA.nofit(A,l,c,u)))};return z(t,((e,t)=>{const n=B(A,t);return e.fold(v(e),n)}),NA.nofit({rect:n,maxHeight:o.height,maxWidth:o.width,direction:Fa(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1)).fold(w,w)})(t,o.preference,e,r,n,o.bounds)})(e,t,n,o);return((e,t,n)=>{const o=FA(n.origin,t);n.transition.each((r=>{KA(e,n.origin,o,r,t,n.lastPlacement)})),CA(e,o)})(t,r,o),((e,t)=>{((e,t)=>{gt(e,TA,t)})(e,t.placement)})(t,r),((e,t)=>{const n=t.classes;Ui(e,n.off),Oi(e,n.on)})(t,r),((e,t,n)=>{(0,n.maxHeightFunction)(e,t.maxHeight)})(t,r,o),((e,t,n)=>{(0,n.maxWidthFunction)(e,t.maxWidth)})(t,r,o),{layout:r.layout,placement:r.placement}},JA=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],YA=(e,t,n,o=1)=>{const r=e*o,s=t*o,i=e=>fe(n,e).getOr([]),a=(e,t,n)=>{const o=J(JA,n);return{offset:Ht(e,t),classesOn:q(n,i),classesOff:q(o,i)}};return{southeast:()=>a(-e,t,["top","alignLeft"]),southwest:()=>a(e,t,["top","alignRight"]),south:()=>a(-e/2,t,["top","alignCentre"]),northeast:()=>a(-e,-t,["bottom","alignLeft"]),northwest:()=>a(e,-t,["bottom","alignRight"]),north:()=>a(-e/2,-t,["bottom","alignCentre"]),east:()=>a(e,-t/2,["valignCentre","left"]),west:()=>a(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>a(r,s,["top","alignLeft","inset"]),insetNorthwest:()=>a(-r,s,["top","alignRight","inset"]),insetNorth:()=>a(-r/2,s,["top","alignCentre","inset"]),insetSoutheast:()=>a(r,-s,["bottom","alignLeft","inset"]),insetSouthwest:()=>a(-r,-s,["bottom","alignRight","inset"]),insetSouth:()=>a(-r/2,-s,["bottom","alignCentre","inset"]),insetEast:()=>a(-r,-s/2,["valignCentre","right","inset"]),insetWest:()=>a(r,-s/2,["valignCentre","left","inset"])}},$A=()=>YA(0,0,{}),el=w,tl=(e,t)=>n=>"rtl"===nl(n)?t:e,nl=e=>"rtl"===Ft(e,"direction")?"rtl":"ltr";var ol;!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(ol||(ol={}));const rl="data-alloy-vertical-dir",sl=e=>Ji(e,(e=>He(e)&&ft(e,"data-alloy-vertical-dir")===ol.BottomToTop)),il=()=>ir("layouts",[zo("onLtr"),zo("onRtl"),$o("onBottomLtr"),$o("onBottomRtl")]),al=(e,t,n,o,r,s,i)=>{const a=i.map(sl).getOr(!1),A=t.layouts.map((t=>t.onLtr(e))),l=t.layouts.map((t=>t.onRtl(e))),c=a?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(A).getOr(r):A.getOr(n),u=a?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(l).getOr(s):l.getOr(o);return tl(c,u)(e)};var Al=[zo("hotspot"),$o("bubble"),ar("overrides",{}),il(),ya("placement",((e,t,n)=>{const o=t.hotspot,r=kA(n,o.element),s=al(e.element,t,nA(),oA(),eA(),tA(),_.some(t.hotspot.element));return _.some(el({anchorBox:r,bubble:t.bubble.getOr($A()),overrides:t.overrides,layouts:s,placer:_.none()}))}))],ll=[zo("x"),zo("y"),ar("height",0),ar("width",0),ar("bubble",$A()),ar("overrides",{}),il(),ya("placement",((e,t,n)=>{const o=_A(n,t.x,t.y),r=Pn(o.left,o.top,t.width,t.height),s=al(e.element,t,Ya(),$a(),Ya(),$a(),_.none());return _.some(el({anchorBox:r,bubble:t.bubble,overrides:t.overrides,layouts:s,placer:_.none()}))}))];const cl=fr([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),ul=e=>e.fold(w,((e,t,n)=>e.translate(-t,-n))),dl=e=>e.fold(w,w),ml=e=>z(e,((e,t)=>e.translate(t.left,t.top)),Ht(0,0)),hl=e=>{const t=M(e,dl);return ml(t)},gl=cl.screen,pl=cl.absolute,fl=(e,t,n)=>{const o=Ge(e.element),r=Ln(o),s=((e,t,n)=>{const o=Xe(n.root).dom;return _.from(o.frameElement).map(Ne).filter((t=>{const n=Ge(t),o=Ge(e.element);return Ke(n,o)})).map(Rt)})(e,0,n).getOr(r);return pl(s,r.left,r.top)},bl=(e,t,n,o)=>{const r=gl(Ht(e,t));return _.some(((e,t,n)=>({point:e,width:t,height:n}))(r,n,o))},vl=(e,t,n,o,r)=>e.map((e=>{const s=[t,e.point],i=(a=()=>hl(s),A=()=>hl(s),l=()=>(e=>{const t=M(e,ul);return ml(t)})(s),o.fold(a,A,l));var a,A,l;const c=(h=i.left,g=i.top,p=e.width,f=e.height,{x:h,y:g,width:p,height:f}),u=n.showAbove?eA():nA(),d=n.showAbove?tA():oA(),m=al(r,n,u,d,u,d,_.none());var h,g,p,f;return el({anchorBox:c,bubble:n.bubble.getOr($A()),overrides:n.overrides,layouts:m,placer:_.none()})}));var wl=[zo("node"),zo("root"),$o("bubble"),il(),ar("overrides",{}),ar("showAbove",!1),ya("placement",((e,t,n)=>{const o=fl(e,0,t);return t.node.filter(ut).bind((r=>{const s=r.dom.getBoundingClientRect(),i=bl(s.left,s.top,s.width,s.height),a=t.node.getOr(e.element);return vl(i,o,t,n,a)}))}))];const yl=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),Bl=fr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Cl=(Bl.before,Bl.on,Bl.after,e=>e.fold(w,w,w)),xl=fr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Sl={domRange:xl.domRange,relative:xl.relative,exact:xl.exact,exactFromRange:e=>xl.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>Ne(e.startContainer),relative:(e,t)=>Cl(e),exact:(e,t,n,o)=>e}))(e);return Xe(t)},range:yl},Fl=(e,t,n)=>{const o=e.document.createRange();var r;return r=o,t.fold((e=>{r.setStartBefore(e.dom)}),((e,t)=>{r.setStart(e.dom,t)}),(e=>{r.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(o,n),o},kl=(e,t,n,o,r)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(o.dom,r),s},El=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),_l=fr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ol=(e,t,n)=>t(Ne(n.startContainer),n.startOffset,Ne(n.endContainer),n.endOffset),Ul=(e,t)=>((e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:v(e),rtl:_.none}),relative:(t,n)=>({ltr:Kt((()=>Fl(e,t,n))),rtl:Kt((()=>_.some(Fl(e,n,t))))}),exact:(t,n,o,r)=>({ltr:Kt((()=>kl(e,t,n,o,r))),rtl:Kt((()=>_.some(kl(e,o,r,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>_l.rtl(Ne(e.endContainer),e.endOffset,Ne(e.startContainer),e.startOffset))).getOrThunk((()=>Ol(0,_l.ltr,n))):Ol(0,_l.ltr,n)})(0,n)})(e,t).match({ltr:(t,n,o,r)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(o.dom,r),s},rtl:(t,n,o,r)=>{const s=e.document.createRange();return s.setStart(o.dom,r),s.setEnd(t.dom,n),s}});_l.ltr,_l.rtl;const Tl=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return ze(n)?[]:M(n.querySelectorAll(e),Ne)})(t,e),Ll=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return _.some(yl(Ne(t.startContainer),t.startOffset,Ne(n.endContainer),n.endOffset))}return _.none()},Nl=e=>{if(null===e.anchorNode||null===e.focusNode)return Ll(e);{const t=Ne(e.anchorNode),n=Ne(e.focusNode);return((e,t,n,o)=>{const r=((e,t,n,o)=>{const r=Ge(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(n.dom,o),r})(e,t,n,o),s=Ke(e,n)&&t===o;return r.collapsed&&!s})(t,e.anchorOffset,n,e.focusOffset)?_.some(yl(t,e.anchorOffset,n,e.focusOffset)):Ll(e)}},Ql=(e,t)=>(e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?_.some(n).map(El):_.none()})(Ul(e,t)),Dl=((e,t)=>{const n=t=>e(t)?_.from(t.dom.nodeValue):_.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(Me),Il=(e,t)=>({element:e,offset:t}),Hl=(e,t)=>Me(e)?Il(e,t):((e,t)=>{const n=et(e);if(0===n.length)return Il(e,t);if(t<n.length)return Il(n[t],0);{const e=n[n.length-1],t=Me(e)?(e=>Dl.get(e))(e).length:et(e).length;return Il(e,t)}})(e,t),Ml=(e,t)=>t.getSelection.getOrThunk((()=>()=>(e=>(e=>_.from(e.getSelection()))(e).filter((e=>e.rangeCount>0)).bind(Nl))(e)))().map((e=>{const t=Hl(e.start,e.soffset),n=Hl(e.finish,e.foffset);return Sl.range(t.element,t.offset,n.element,n.offset)}));var Rl=[$o("getSelection"),zo("root"),$o("bubble"),il(),ar("overrides",{}),ar("showAbove",!1),ya("placement",((e,t,n)=>{const o=Xe(t.root).dom,r=fl(e,0,t),s=Ml(o,t).bind((e=>{const t=((e,t)=>(e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?_.some(t).map(El):_.none()})(Ul(e,t)))(o,Sl.exactFromRange(e)).orThunk((()=>{const t=Le("\ufeff");Fn(e.start,t);const n=Ql(o,Sl.exact(t,0,t,1));return Tn(t),n}));return t.bind((e=>bl(e.left,e.top,e.width,e.height)))})),i=Ml(o,t).bind((e=>He(e.start)?_.some(e.start):Ye(e.start))).getOr(e.element);return vl(s,r,t,n,i)}))];const Pl="link-layout",Vl=e=>e.x+e.width,jl=(e,t)=>e.x-t.width,zl=(e,t)=>e.y-t.height+e.height,Kl=e=>e.y,Wl=(e,t,n)=>xa(Vl(e),Kl(e),n.southeast(),Fa(),"southeast",Da(e,{left:0,top:2}),Pl),Gl=(e,t,n)=>xa(jl(e,t),Kl(e),n.southwest(),ka(),"southwest",Da(e,{right:1,top:2}),Pl),ql=(e,t,n)=>xa(Vl(e),zl(e,t),n.northeast(),Ea(),"northeast",Da(e,{left:0,bottom:3}),Pl),Zl=(e,t,n)=>xa(jl(e,t),zl(e,t),n.northwest(),_a(),"northwest",Da(e,{right:1,bottom:3}),Pl),Xl=()=>[Wl,Gl,ql,Zl],Jl=()=>[Gl,Wl,Zl,ql];var Yl=[zo("item"),il(),ar("overrides",{}),ya("placement",((e,t,n)=>{const o=kA(n,t.item.element),r=al(e.element,t,Xl(),Jl(),Xl(),Jl(),_.none());return _.some(el({anchorBox:o,bubble:$A(),overrides:t.overrides,layouts:r,placer:_.none()}))}))],$l=Ro("type",{selection:Rl,node:wl,hotspot:Al,submenu:Yl,makeshift:ll});const ec=[Yo("classes",Eo),ur("mode","all",["all","layout","placement"])],tc=[ar("useFixed",F),$o("getBounds")],nc=[Ko("anchor",$l),ir("transition",ec)],oc=(e,t,n,o,r,s,i)=>((e,t,n,o,r,s,i,a)=>{const A=ZA(i,"maxHeightFunction",GA()),l=ZA(i,"maxWidthFunction",f),c=e.anchorBox,u=e.origin,d={bounds:EA(u,s),origin:u,preference:o,maxHeightFunction:A,maxWidthFunction:l,lastPlacement:r,transition:a};return XA(c,t,n,d)})(((e,t)=>((e,t)=>({anchorBox:e,origin:t}))(e,t))(n.anchorBox,t),r.element,n.bubble,n.layouts,s,o,n.overrides,i),rc=(e,t,n,o,r,s)=>{const i=s.map(Vn);return sc(e,t,n,o,r,i)},sc=(e,t,n,o,r,s)=>{const i=Ho("placement.info",wo(nc),r),a=i.anchor,A=o.element,l=n.get(o.uid);yA((()=>{Ct(A,"position","fixed");const r=Et(A,"visibility");Ct(A,"visibility","hidden");const c=t.useFixed()?(()=>{const e=document.documentElement;return UA(0,0,e.clientWidth,e.clientHeight)})():(e=>{const t=Rt(e.element),n=e.element.dom.getBoundingClientRect();return OA(t.left,t.top,n.width,n.height)})(e),u=a.placement,d=s.map(v).or(t.getBounds);u(e,a,c).each((t=>{const r=t.placer.getOr(oc)(e,c,t,d,o,l,i.transition);n.set(o.uid,r)})),r.fold((()=>{Ut(A,"visibility")}),(e=>{Ct(A,"visibility",e)})),Et(A,"left").isNone()&&Et(A,"top").isNone()&&Et(A,"right").isNone()&&Et(A,"bottom").isNone()&&we(Et(A,"position"),"fixed")&&Ut(A,"position")}),A)};var ic=Object.freeze({__proto__:null,position:(e,t,n,o,r)=>{rc(e,t,n,o,r,_.none())},positionWithin:rc,positionWithinBounds:sc,getMode:(e,t,n)=>t.useFixed()?"fixed":"absolute",reset:(e,t,n,o)=>{const r=o.element;R(["position","left","right","top","bottom"],(e=>Ut(r,e))),(e=>{wt(e,TA)})(r),n.clear(o.uid)}});const ac=uA({fields:tc,name:"positioning",active:pA,apis:ic,state:Object.freeze({__proto__:null,init:()=>{let e={};return mi({readState:()=>e,clear:t=>{m(t)?delete e[t]:e={}},set:(t,n)=>{e[t]=n},get:t=>fe(e,t)})}})}),Ac=e=>e.getSystem().isConnected(),lc=e=>{ws(e,us());const t=e.components();R(t,lc)},cc=e=>{const t=e.components();R(t,cc),ws(e,cs())},uc=(e,t)=>{e.getSystem().addToWorld(t),ut(e.element)&&cc(t)},dc=e=>{lc(e),e.getSystem().removeFromWorld(e)},mc=(e,t)=>{_n(e.element,t.element)},hc=(e,t)=>{gc(e,t,_n)},gc=(e,t,n)=>{e.getSystem().addToWorld(t),n(e.element,t.element),ut(e.element)&&cc(t),e.syncComponents()},pc=e=>{lc(e),Tn(e.element),e.getSystem().removeFromWorld(e)},fc=e=>{const t=Je(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));pc(e),t.each((e=>{e.syncComponents()}))},bc=e=>{const t=e.components();R(t,pc),Un(e.element),e.syncComponents()},vc=(e,t)=>{wc(e,t,_n)},wc=(e,t,n)=>{n(e,t.element);const o=et(t.element);R(o,(e=>{t.getByDom(e).each(cc)}))},yc=e=>{const t=et(e.element);R(t,(t=>{e.getByDom(t).each(lc)})),Tn(e.element)},Bc=(e,t,n,o)=>{n.get().each((t=>{bc(e)}));const r=t.getAttachPoint(e);hc(r,e);const s=e.getSystem().build(o);return hc(e,s),n.set(s),s},Cc=(e,t,n,o)=>{const r=Bc(e,t,n,o);return t.onOpen(e,r),r},xc=(e,t,n)=>{n.get().each((o=>{bc(e),fc(e),t.onClose(e,o),n.clear()}))},Sc=(e,t,n)=>n.isOpen(),Fc=(e,t,n)=>{const o=t.getAttachPoint(e);Ct(e.element,"position",ac.getMode(o)),((e,t,n,o)=>{Et(e.element,t).fold((()=>{wt(e.element,n)}),(t=>{gt(e.element,n,t)})),Ct(e.element,t,"hidden")})(e,"visibility",t.cloakVisibilityAttr)},kc=(e,t,n)=>{(e=>D(["top","left","right","bottom"],(t=>Et(e,t).isSome())))(e.element)||Ut(e.element,"position"),((e,t,n)=>{bt(e.element,n).fold((()=>Ut(e.element,t)),(n=>Ct(e.element,t,n)))})(e,"visibility",t.cloakVisibilityAttr)};var Ec=Object.freeze({__proto__:null,cloak:Fc,decloak:kc,open:Cc,openWhileCloaked:(e,t,n,o,r)=>{Fc(e,t),Cc(e,t,n,o),r(),kc(e,t)},close:xc,isOpen:Sc,isPartOf:(e,t,n,o)=>Sc(0,0,n)&&n.get().exists((n=>t.isPartOf(e,n,o))),getState:(e,t,n)=>n.get(),setContent:(e,t,n,o)=>n.get().map((()=>Bc(e,t,n,o)))}),_c=Object.freeze({__proto__:null,events:(e,t)=>Fs([_s(os(),((n,o)=>{xc(n,e,t)}))])}),Oc=[fa("onOpen"),fa("onClose"),zo("isPartOf"),zo("getAttachPoint"),ar("cloakVisibilityAttr","data-precloak-visibility")],Uc=Object.freeze({__proto__:null,init:()=>{const e=HA(),t=v("not-implemented");return mi({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Tc=uA({fields:Oc,name:"sandboxing",active:_c,apis:Ec,state:Uc}),Lc=v("dismiss.popups"),Nc=v("reposition.popups"),Qc=v("mouse.released"),Dc=vo([ar("isExtraPart",F),ir("fireEventInstead",[ar("event",ds())])]),Ic=e=>{const t=Ho("Dismissal",Dc,e);return{[Lc()]:{schema:vo([zo("target")]),onReceive:(e,n)=>{Tc.isOpen(e)&&(Tc.isPartOf(e,n.target)||t.isExtraPart(e,n.target)||t.fireEventInstead.fold((()=>Tc.close(e)),(t=>ws(e,t.event))))}}}},Hc=vo([ir("fireEventInstead",[ar("event",ms())]),Zo("doReposition")]),Mc=e=>{const t=Ho("Reposition",Hc,e);return{[Nc()]:{onReceive:e=>{Tc.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>ws(e,t.event)))}}}},Rc=(e,t,n)=>{t.store.manager.onLoad(e,t,n)},Pc=(e,t,n)=>{t.store.manager.onUnload(e,t,n)};var Vc=Object.freeze({__proto__:null,onLoad:Rc,onUnload:Pc,setValue:(e,t,n,o)=>{t.store.manager.setValue(e,t,n,o)},getValue:(e,t,n)=>t.store.manager.getValue(e,t,n),getState:(e,t,n)=>n}),jc=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.resetOnDom?[Is(((n,o)=>{Rc(n,e,t)})),Hs(((n,o)=>{Pc(n,e,t)}))]:[iA(e,t,Rc)];return Fs(n)}});const zc=()=>{const e=pr(null);return mi({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},Kc=()=>{const e=pr({}),t=pr({});return mi({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),lookup:n=>fe(e.get(),n).orThunk((()=>fe(t.get(),n))),update:n=>{const o=e.get(),r=t.get(),s={},i={};R(n,(e=>{s[e.value]=e,fe(e,"meta").each((t=>{fe(t,"text").each((t=>{i[t]=e}))}))})),e.set({...o,...s}),t.set({...r,...i})},clear:()=>{e.set({}),t.set({})}})};var Wc=Object.freeze({__proto__:null,memory:zc,dataset:Kc,manual:()=>mi({readState:f}),init:e=>e.store.manager.state(e)});const Gc=(e,t,n,o)=>{const r=t.store;n.update([o]),r.setValue(e,o),t.onSetValue(e,o)};var qc=[$o("initialValue"),zo("getFallbackEntry"),zo("getDataKey"),zo("setValue"),ya("manager",{setValue:Gc,getValue:(e,t,n)=>{const o=t.store,r=o.getDataKey(e);return n.lookup(r).getOrThunk((()=>o.getFallbackEntry(r)))},onLoad:(e,t,n)=>{t.store.initialValue.each((o=>{Gc(e,t,n,o)}))},onUnload:(e,t,n)=>{n.clear()},state:Kc})],Zc=[zo("getValue"),ar("setValue",f),$o("initialValue"),ya("manager",{setValue:(e,t,n,o)=>{t.store.setValue(e,o),t.onSetValue(e,o)},getValue:(e,t,n)=>t.store.getValue(e),onLoad:(e,t,n)=>{t.store.initialValue.each((n=>{t.store.setValue(e,n)}))},onUnload:f,state:di.init})],Xc=[$o("initialValue"),ya("manager",{setValue:(e,t,n,o)=>{n.set(o),t.onSetValue(e,o)},getValue:(e,t,n)=>n.get(),onLoad:(e,t,n)=>{t.store.initialValue.each((e=>{n.isNotSet()&&n.set(e)}))},onUnload:(e,t,n)=>{n.clear()},state:zc})],Jc=[Ar("store",{mode:"memory"},Ro("mode",{memory:Xc,manual:Zc,dataset:qc})),fa("onSetValue"),ar("resetOnDom",!1)];const Yc=uA({fields:Jc,name:"representing",active:jc,apis:Vc,extra:{setValueFrom:(e,t)=>{const n=Yc.getValue(t);Yc.setValue(e,n)}},state:Wc}),$c=(e,t)=>gr(e,{},M(t,(t=>{return n=t.name(),o="Cannot configure "+t.name()+" for "+e,Po(n,n,{tag:"option",process:{}},mo((e=>$n("The field: "+n+" is forbidden. "+o))));var n,o})).concat([Vo("dump",w)])),eu=e=>e.dump,tu=(e,t)=>({...lA(t),...e.dump}),nu=$c,ou=tu,ru="placeholder",su=fr([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),iu=e=>be(e,"uiType"),au=(e,t,n,o)=>((e,t,n,o)=>iu(n)&&n.uiType===ru?((e,t,n,o)=>e.exists((e=>e!==n.owner))?su.single(!0,v(n)):fe(o,n.name).fold((()=>{throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+ie(o)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(e=>e.replace())))(e,0,n,o):su.single(!1,v(n)))(e,0,n,o).fold(((r,s)=>{const i=iu(n)?s(t,n.config,n.validated):s(t),a=fe(i,"components").getOr([]),A=q(a,(n=>au(e,t,n,o)));return[{...i,components:A}]}),((e,o)=>{if(iu(n)){const e=o(t,n.config,n.validated);return n.validated.preprocess.getOr(w)(e)}return o(t)})),Au=su.single,lu=su.multiple,cu=v(ru),uu=fr([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),du=ar("factory",{sketch:w}),mu=ar("schema",[]),hu=zo("name"),gu=Po("pname","pname",io((e=>"<alloy."+Zs(e.name)+">")),So()),pu=Vo("schema",(()=>[$o("preprocess")])),fu=ar("defaults",v({})),bu=ar("overrides",v({})),vu=wo([du,mu,hu,gu,fu,bu]),wu=wo([du,mu,hu,fu,bu]),yu=wo([du,mu,hu,gu,fu,bu]),Bu=wo([du,pu,hu,zo("unit"),gu,fu,bu]),Cu=e=>e.fold(_.some,_.none,_.some,_.some),xu=e=>{const t=e=>e.name;return e.fold(t,t,t,t)},Su=(e,t)=>n=>{const o=Ho("Converting part type",t,n);return e(o)},Fu=Su(uu.required,vu),ku=Su(uu.external,wu),Eu=Su(uu.optional,yu),_u=Su(uu.group,Bu),Ou=v("entirety");var Uu=Object.freeze({__proto__:null,required:Fu,external:ku,optional:Eu,group:_u,asNamedPart:Cu,name:xu,asCommon:e=>e.fold(w,w,w,w),original:Ou});const Tu=(e,t,n,o)=>ro(t.defaults(e,n,o),n,{uid:e.partUids[t.name]},t.overrides(e,n,o)),Lu=(e,t)=>{const n={};return R(t,(t=>{Cu(t).each((t=>{const o=Nu(e,t.pname);n[t.name]=n=>{const r=Ho("Part: "+t.name+" in "+e,wo(t.schema),n);return{...o,config:n,validated:r}}}))})),n},Nu=(e,t)=>({uiType:cu(),owner:e,name:t}),Qu=(e,t,n)=>({uiType:cu(),owner:e,name:t,config:n,validated:{}}),Du=e=>q(e,(e=>e.fold(_.none,_.some,_.none,_.none).map((e=>Xo(e.name,e.schema.concat([Ba(Ou())])))).toArray())),Iu=e=>M(e,xu),Hu=(e,t,n)=>((e,t,n)=>{const o={},r={};return R(n,(e=>{e.fold((e=>{o[e.pname]=Au(!0,((t,n,o)=>e.factory.sketch(Tu(t,e,n,o))))}),(e=>{const n=t.parts[e.name];r[e.name]=v(e.factory.sketch(Tu(t,e,n[Ou()]),n))}),(e=>{o[e.pname]=Au(!1,((t,n,o)=>e.factory.sketch(Tu(t,e,n,o))))}),(e=>{o[e.pname]=lu(!0,((t,n,o)=>{const r=t[e.name];return M(r,(n=>e.factory.sketch(ro(e.defaults(t,n,o),n,e.overrides(t,n)))))}))}))})),{internals:v(o),externals:v(r)}})(0,t,n),Mu=(e,t,n)=>((e,t,n,o)=>{const r=le(o,((e,t)=>((e,t)=>{let n=!1;return{name:v(e),required:()=>t.fold(((e,t)=>e),((e,t)=>e)),used:()=>n,replace:()=>{if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t}}})(t,e))),s=((e,t,n,o)=>q(n,(n=>au(e,t,n,o))))(e,t,n,r);return Ae(r,(n=>{if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),s})(_.some(e),t,t.components,n),Ru=(e,t,n)=>{const o=t.partUids[n];return e.getSystem().getByUid(o).toOptional()},Pu=(e,t,n)=>Ru(e,t,n).getOrDie("Could not find part: "+n),Vu=(e,t,n)=>{const o={},r=t.partUids,s=e.getSystem();return R(n,(e=>{o[e]=v(s.getByUid(r[e]))})),o},ju=(e,t)=>{const n=e.getSystem();return le(t.partUids,((e,t)=>v(n.getByUid(e))))},zu=e=>ie(e.partUids),Ku=(e,t,n)=>{const o={},r=t.partUids,s=e.getSystem();return R(n,(e=>{o[e]=v(s.getByUid(r[e]).getOrDie())})),o},Wu=(e,t)=>{const n=Iu(t);return vr(M(n,(t=>({key:t,value:e+"-"+t}))))},Gu=e=>Po("partUids","partUids",Ao((t=>Wu(t.uid,e))),So());var qu=Object.freeze({__proto__:null,generate:Lu,generateOne:Qu,schemas:Du,names:Iu,substitutes:Hu,components:Mu,defaultUids:Wu,defaultUidsSchema:Gu,getAllParts:ju,getAllPartNames:zu,getPart:Ru,getPartOrDie:Pu,getParts:Vu,getPartsOrDie:Ku});const Zu=(e,t,n,o,r)=>{const s=((e,t)=>(e.length>0?[Xo("parts",e)]:[]).concat([zo("uid"),ar("dom",{}),ar("components",[]),Ba("originalSpec"),ar("debug.sketcher",{})]).concat(t))(o,r);return Ho(e+" [SpecSchema]",vo(s.concat(t)),n)},Xu=(e,t,n,o,r)=>{const s=Ju(r),i=Du(n),a=Gu(n),A=Zu(e,t,s,i,[a]),l=Hu(0,A,n);return o(A,Mu(e,A,l.internals()),s,l.externals())},Ju=e=>(e=>be(e,"uid"))(e)?e:{...e,uid:ni("uid")},Yu=vo([zo("name"),zo("factory"),zo("configFields"),ar("apis",{}),ar("extraApis",{})]),$u=vo([zo("name"),zo("factory"),zo("configFields"),zo("partFields"),ar("apis",{}),ar("extraApis",{})]),ed=e=>{const t=Ho("Sketcher for "+e.name,Yu,e),n=le(t.apis,ui),o=le(t.extraApis,((e,t)=>ai(e,t)));return{name:t.name,configFields:t.configFields,sketch:e=>((e,t,n,o)=>{const r=Ju(o);return n(Zu(e,t,r,[],[]),r)})(t.name,t.configFields,t.factory,e),...n,...o}},td=e=>{const t=Ho("Sketcher for "+e.name,$u,e),n=Lu(t.name,t.partFields),o=le(t.apis,ui),r=le(t.extraApis,((e,t)=>ai(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>Xu(t.name,t.configFields,t.partFields,t.factory,e),parts:n,...o,...r}},nd=e=>Ve("input")(e)&&"radio"!==ft(e,"type")||Ve("textarea")(e);var od=Object.freeze({__proto__:null,getCurrent:(e,t,n)=>t.find(e)});const rd=[zo("find")],sd=uA({fields:rd,name:"composing",apis:od}),id=["input","button","textarea","select"],ad=(e,t,n)=>{(t.disabled()?md:hd)(e,t)},Ad=(e,t)=>!0===t.useNative&&Q(id,De(e.element)),ld=e=>{gt(e.element,"disabled","disabled")},cd=e=>{wt(e.element,"disabled")},ud=e=>{gt(e.element,"aria-disabled","true")},dd=e=>{gt(e.element,"aria-disabled","false")},md=(e,t,n)=>{t.disableClass.each((t=>{ki(e.element,t)})),(Ad(e,t)?ld:ud)(e),t.onDisabled(e)},hd=(e,t,n)=>{t.disableClass.each((t=>{Ei(e.element,t)})),(Ad(e,t)?cd:dd)(e),t.onEnabled(e)},gd=(e,t)=>Ad(e,t)?(e=>vt(e.element,"disabled"))(e):(e=>"true"===ft(e.element,"aria-disabled"))(e);var pd=Object.freeze({__proto__:null,enable:hd,disable:md,isDisabled:gd,onLoad:ad,set:(e,t,n,o)=>{(o?md:hd)(e,t)}}),fd=Object.freeze({__proto__:null,exhibit:(e,t)=>gi({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>Fs([ks($r(),((t,n)=>gd(t,e))),iA(e,t,ad)])}),bd=[mr("disabled",F),ar("useNative",!0),$o("disableClass"),fa("onDisabled"),fa("onEnabled")];const vd=uA({fields:bd,name:"disabling",active:fd,apis:pd}),wd=(e,t,n,o)=>{const r=Tl(e.element,"."+t.highlightClass);R(r,(n=>{D(o,(e=>e.element===n))||(Ei(n,t.highlightClass),e.getSystem().getByDom(n).each((n=>{t.onDehighlight(e,n),ws(n,vs())})))}))},yd=(e,t,n,o)=>{wd(e,t,0,[o]),Bd(e,t,n,o)||(ki(o.element,t.highlightClass),t.onHighlight(e,o),ws(o,bs()))},Bd=(e,t,n,o)=>_i(o.element,t.highlightClass),Cd=(e,t,n)=>ea(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),xd=(e,t,n)=>{const o=Tl(e.element,"."+t.itemClass);return(o.length>0?_.some(o[o.length-1]):_.none()).bind((t=>e.getSystem().getByDom(t).toOptional()))},Sd=(e,t,n,o)=>{const r=Tl(e.element,"."+t.itemClass);return W(r,(e=>_i(e,t.highlightClass))).bind((t=>{const n=Na(t,o,0,r.length-1);return e.getSystem().getByDom(r[n]).toOptional()}))},Fd=(e,t,n)=>{const o=Tl(e.element,"."+t.itemClass);return ye(M(o,(t=>e.getSystem().getByDom(t).toOptional())))};var kd=Object.freeze({__proto__:null,dehighlightAll:(e,t,n)=>wd(e,t,0,[]),dehighlight:(e,t,n,o)=>{Bd(e,t,n,o)&&(Ei(o.element,t.highlightClass),t.onDehighlight(e,o),ws(o,vs()))},highlight:yd,highlightFirst:(e,t,n)=>{Cd(e,t).each((o=>{yd(e,t,n,o)}))},highlightLast:(e,t,n)=>{xd(e,t).each((o=>{yd(e,t,n,o)}))},highlightAt:(e,t,n,o)=>{((e,t,n,o)=>{const r=Tl(e.element,"."+t.itemClass);return _.from(r[o]).fold((()=>Gn.error(new Error("No element found with index "+o))),e.getSystem().getByDom)})(e,t,0,o).fold((e=>{throw e}),(o=>{yd(e,t,n,o)}))},highlightBy:(e,t,n,o)=>{const r=Fd(e,t);K(r,o).each((o=>{yd(e,t,n,o)}))},isHighlighted:Bd,getHighlighted:(e,t,n)=>ea(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),getFirst:Cd,getLast:xd,getPrevious:(e,t,n)=>Sd(e,t,0,-1),getNext:(e,t,n)=>Sd(e,t,0,1),getCandidates:Fd}),Ed=[zo("highlightClass"),zo("itemClass"),fa("onHighlight"),fa("onDehighlight")];const _d=uA({fields:Ed,name:"highlighting",apis:kd}),Od=[8],Ud=[9],Td=[13],Ld=[27],Nd=[32],Qd=[37],Dd=[38],Id=[39],Hd=[40],Md=(e,t,n)=>{const o=X(e.slice(0,t)),r=X(e.slice(t+1));return K(o.concat(r),n)},Rd=(e,t,n)=>{const o=X(e.slice(0,t));return K(o,n)},Pd=(e,t,n)=>{const o=e.slice(0,t),r=e.slice(t+1);return K(r.concat(o),n)},Vd=(e,t,n)=>{const o=e.slice(t+1);return K(o,n)},jd=e=>t=>{const n=t.raw;return Q(e,n.which)},zd=e=>t=>Z(e,(e=>e(t))),Kd=e=>!0===e.raw.shiftKey,Wd=e=>!0===e.raw.ctrlKey,Gd=C(Kd),qd=(e,t)=>({matches:e,classification:t}),Zd=(e,t,n)=>{t.exists((e=>n.exists((t=>Ke(t,e)))))||ys(e,hs(),{prevFocus:t,newFocus:n})},Xd=()=>{const e=e=>wA(e.element);return{get:e,set:(t,n)=>{const o=e(t);t.getSystem().triggerFocus(n,t.element);const r=e(t);Zd(t,o,r)}}},Jd=()=>{const e=e=>_d.getHighlighted(e).map((e=>e.element));return{get:e,set:(t,n)=>{const o=e(t);t.getSystem().getByDom(n).fold(f,(e=>{_d.highlight(t,e)}));const r=e(t);Zd(t,o,r)}}};var Yd;!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(Yd||(Yd={}));const $d=(e,t,n,o,r)=>{const s=(e,t,n,o,r)=>{return(s=n(e,t,o,r),i=t.event,K(s,(e=>e.matches(i))).map((e=>e.classification))).bind((n=>n(e,t,o,r)));var s,i},i={schema:()=>e.concat([ar("focusManager",Xd()),Ar("focusInside","onFocus",No((e=>Q(["onFocus","onEnterOrSpace","onApi"],e)?Gn.value(e):Gn.error("Invalid value for focusInside")))),ya("handler",i),ya("state",t),ya("sendFocusIn",r)]),processKey:s,toEvents:(e,t)=>{const i=e.focusInside!==Yd.OnFocusMode?_.none():r(e).map((n=>_s(Zr(),((o,r)=>{n(o,e,t),r.stop()})))),a=[_s(Hr(),((o,i)=>{s(o,i,n,e,t).fold((()=>{((n,o)=>{const s=jd(Nd.concat(Td))(o.event);e.focusInside===Yd.OnEnterOrSpaceMode&&s&&Cr(n,o)&&r(e).each((r=>{r(n,e,t),o.stop()}))})(o,i)}),(e=>{i.stop()}))})),_s(Mr(),((n,r)=>{s(n,r,o,e,t).each((e=>{r.stop()}))}))];return Fs(i.toArray().concat(a))}};return i},em=e=>{const t=[$o("onEscape"),$o("onEnter"),ar("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ar("firstTabstop",0),ar("useTabstopAt",k),$o("visibilitySelector")].concat([e]),n=(e,t)=>{const n=e.visibilitySelector.bind((e=>ta(t,e))).getOr(t);return Qt(n)>0},o=(e,t,o)=>{((e,t)=>{const o=Tl(e.element,t.selector),r=V(o,(e=>n(t,e)));return _.from(r[t.firstTabstop])})(e,t).each((n=>{t.focusManager.set(e,n)}))},r=(e,t,o,r)=>{const s=Tl(e.element,o.selector);return((e,t)=>t.focusManager.get(e).bind((e=>ta(e,t.selector))))(e,o).bind((t=>W(s,B(Ke,t)).bind((t=>((e,t,o,r,s)=>s(t,o,(e=>((e,t)=>n(e,t)&&e.useTabstopAt(t))(r,e))).fold((()=>r.cyclic?_.some(!0):_.none()),(t=>(r.focusManager.set(e,t),_.some(!0)))))(e,s,t,o,r)))))},s=v([qd(zd([Kd,jd(Ud)]),((e,t,n)=>{const o=n.cyclic?Md:Rd;return r(e,0,n,o)})),qd(jd(Ud),((e,t,n)=>{const o=n.cyclic?Pd:Vd;return r(e,0,n,o)})),qd(zd([Gd,jd(Td)]),((e,t,n)=>n.onEnter.bind((n=>n(e,t)))))]),i=v([qd(jd(Ld),((e,t,n)=>n.onEscape.bind((n=>n(e,t)))))]);return $d(t,di.init,s,i,(()=>_.some(o)))};var tm=em(Vo("cyclic",F)),nm=em(Vo("cyclic",k));const om=(e,t,n)=>nd(n)&&jd(Nd)(t.event)?_.none():((e,t,n)=>(Cs(e,n,$r()),_.some(!0)))(e,0,n),rm=(e,t)=>_.some(!0),sm=[ar("execute",om),ar("useSpace",!1),ar("useEnter",!0),ar("useControlEnter",!1),ar("useDown",!1)],im=(e,t,n)=>n.execute(e,t,e.element);var am=$d(sm,di.init,((e,t,n,o)=>{const r=n.useSpace&&!nd(e.element)?Nd:[],s=n.useEnter?Td:[],i=n.useDown?Hd:[],a=r.concat(s).concat(i);return[qd(jd(a),im)].concat(n.useControlEnter?[qd(zd([Wd,jd(Td)]),im)]:[])}),((e,t,n,o)=>n.useSpace&&!nd(e.element)?[qd(jd(Nd),rm)]:[]),(()=>_.none()));const Am=()=>{const e=HA();return mi({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:(t,n)=>{e.set({numRows:t,numColumns:n})},getNumRows:()=>e.get().map((e=>e.numRows)),getNumColumns:()=>e.get().map((e=>e.numColumns))})};var lm=Object.freeze({__proto__:null,flatgrid:Am,init:e=>e.state(e)});const cm=e=>(t,n,o,r)=>{const s=e(t.element);return hm(s,t,n,o,r)},um=(e,t)=>{const n=tl(e,t);return cm(n)},dm=(e,t)=>{const n=tl(t,e);return cm(n)},mm=e=>(t,n,o,r)=>hm(e,t,n,o,r),hm=(e,t,n,o,r)=>o.focusManager.get(t).bind((n=>e(t.element,n,o,r))).map((e=>(o.focusManager.set(t,e),!0))),gm=mm,pm=mm,fm=mm,bm=e=>!(e=>e.offsetWidth<=0&&e.offsetHeight<=0)(e.dom),vm=(e,t,n)=>{const o=Tl(e,n);return((e,n)=>W(e,(e=>Ke(e,t))).map((t=>({index:t,candidates:e}))))(V(o,bm))},wm=(e,t)=>W(e,(e=>Ke(t,e))),ym=(e,t,n,o)=>o(Math.floor(t/n),t%n).bind((t=>{const o=t.row*n+t.column;return o>=0&&o<e.length?_.some(e[o]):_.none()})),Bm=(e,t,n,o,r)=>ym(e,t,o,((t,s)=>{const i=t===n-1?e.length-t*o:o,a=Na(s,r,0,i-1);return _.some({row:t,column:a})})),Cm=(e,t,n,o,r)=>ym(e,t,o,((t,s)=>{const i=Na(t,r,0,n-1),a=i===n-1?e.length-i*o:o,A=Qa(s,0,a-1);return _.some({row:i,column:A})})),xm=[zo("selector"),ar("execute",om),ba("onEscape"),ar("captureTab",!1),Ca()],Sm=(e,t,n)=>{ea(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},Fm=e=>(t,n,o,r)=>vm(t,n,o.selector).bind((t=>e(t.candidates,t.index,r.getNumRows().getOr(o.initSize.numRows),r.getNumColumns().getOr(o.initSize.numColumns)))),km=(e,t,n)=>n.captureTab?_.some(!0):_.none(),Em=Fm(((e,t,n,o)=>Bm(e,t,n,o,-1))),_m=Fm(((e,t,n,o)=>Bm(e,t,n,o,1))),Om=Fm(((e,t,n,o)=>Cm(e,t,n,o,-1))),Um=Fm(((e,t,n,o)=>Cm(e,t,n,o,1))),Tm=v([qd(jd(Qd),um(Em,_m)),qd(jd(Id),dm(Em,_m)),qd(jd(Dd),gm(Om)),qd(jd(Hd),pm(Um)),qd(zd([Kd,jd(Ud)]),km),qd(zd([Gd,jd(Ud)]),km),qd(jd(Nd.concat(Td)),((e,t,n,o)=>((e,t)=>t.focusManager.get(e).bind((e=>ta(e,t.selector))))(e,n).bind((o=>n.execute(e,t,o)))))]),Lm=v([qd(jd(Ld),((e,t,n)=>n.onEscape(e,t))),qd(jd(Nd),rm)]);var Nm=$d(xm,Am,Tm,Lm,(()=>_.some(Sm)));const Qm=(e,t,n,o)=>{const r=(e,t,n)=>{const s=Na(t,o,0,n.length-1);return s===e?_.none():(i=n[s],"button"===De(i)&&"disabled"===ft(i,"disabled")?r(e,s,n):_.from(n[s]));var i};return vm(e,n,t).bind((e=>{const t=e.index,n=e.candidates;return r(t,t,n)}))},Dm=[zo("selector"),ar("getInitial",_.none),ar("execute",om),ba("onEscape"),ar("executeOnMove",!1),ar("allowVertical",!0)],Im=(e,t,n)=>((e,t)=>t.focusManager.get(e).bind((e=>ta(e,t.selector))))(e,n).bind((o=>n.execute(e,t,o))),Hm=(e,t,n)=>{t.getInitial(e).orThunk((()=>ea(e.element,t.selector))).each((n=>{t.focusManager.set(e,n)}))},Mm=(e,t,n)=>Qm(e,n.selector,t,-1),Rm=(e,t,n)=>Qm(e,n.selector,t,1),Pm=e=>(t,n,o,r)=>e(t,n,o,r).bind((()=>o.executeOnMove?Im(t,n,o):_.some(!0))),Vm=v([qd(jd(Nd),rm),qd(jd(Ld),((e,t,n)=>n.onEscape(e,t)))]);var jm=$d(Dm,di.init,((e,t,n,o)=>{const r=Qd.concat(n.allowVertical?Dd:[]),s=Id.concat(n.allowVertical?Hd:[]);return[qd(jd(r),Pm(um(Mm,Rm))),qd(jd(s),Pm(dm(Mm,Rm))),qd(jd(Td),Im),qd(jd(Nd),Im)]}),Vm,(()=>_.some(Hm)));const zm=(e,t,n)=>_.from(e[t]).bind((e=>_.from(e[n]).map((e=>({rowIndex:t,columnIndex:n,cell:e}))))),Km=(e,t,n,o)=>{const r=e[t].length,s=Na(n,o,0,r-1);return zm(e,t,s)},Wm=(e,t,n,o)=>{const r=Na(n,o,0,e.length-1),s=e[r].length,i=Qa(t,0,s-1);return zm(e,r,i)},Gm=(e,t,n,o)=>{const r=e[t].length,s=Qa(n+o,0,r-1);return zm(e,t,s)},qm=(e,t,n,o)=>{const r=Qa(n+o,0,e.length-1),s=e[r].length,i=Qa(t,0,s-1);return zm(e,r,i)},Zm=[Xo("selectors",[zo("row"),zo("cell")]),ar("cycles",!0),ar("previousSelector",_.none),ar("execute",om)],Xm=(e,t,n)=>{t.previousSelector(e).orThunk((()=>{const n=t.selectors;return ea(e.element,n.cell)})).each((n=>{t.focusManager.set(e,n)}))},Jm=(e,t)=>(n,o,r)=>{const s=r.cycles?e:t;return ta(o,r.selectors.row).bind((e=>{const t=Tl(e,r.selectors.cell);return wm(t,o).bind((t=>{const o=Tl(n,r.selectors.row);return wm(o,e).bind((e=>{const n=((e,t)=>M(e,(e=>Tl(e,t.selectors.cell))))(o,r);return s(n,e,t).map((e=>e.cell))}))}))}))},Ym=Jm(((e,t,n)=>Km(e,t,n,-1)),((e,t,n)=>Gm(e,t,n,-1))),$m=Jm(((e,t,n)=>Km(e,t,n,1)),((e,t,n)=>Gm(e,t,n,1))),eh=Jm(((e,t,n)=>Wm(e,n,t,-1)),((e,t,n)=>qm(e,n,t,-1))),th=Jm(((e,t,n)=>Wm(e,n,t,1)),((e,t,n)=>qm(e,n,t,1))),nh=v([qd(jd(Qd),um(Ym,$m)),qd(jd(Id),dm(Ym,$m)),qd(jd(Dd),gm(eh)),qd(jd(Hd),pm(th)),qd(jd(Nd.concat(Td)),((e,t,n)=>wA(e.element).bind((o=>n.execute(e,t,o)))))]),oh=v([qd(jd(Nd),rm)]);var rh=$d(Zm,di.init,nh,oh,(()=>_.some(Xm)));const sh=[zo("selector"),ar("execute",om),ar("moveOnTab",!1)],ih=(e,t,n)=>n.focusManager.get(e).bind((o=>n.execute(e,t,o))),ah=(e,t,n)=>{ea(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},Ah=(e,t,n)=>Qm(e,n.selector,t,-1),lh=(e,t,n)=>Qm(e,n.selector,t,1),ch=v([qd(jd(Dd),fm(Ah)),qd(jd(Hd),fm(lh)),qd(zd([Kd,jd(Ud)]),((e,t,n,o)=>n.moveOnTab?fm(Ah)(e,t,n,o):_.none())),qd(zd([Gd,jd(Ud)]),((e,t,n,o)=>n.moveOnTab?fm(lh)(e,t,n,o):_.none())),qd(jd(Td),ih),qd(jd(Nd),ih)]),uh=v([qd(jd(Nd),rm)]);var dh=$d(sh,di.init,ch,uh,(()=>_.some(ah)));const mh=[ba("onSpace"),ba("onEnter"),ba("onShiftEnter"),ba("onLeft"),ba("onRight"),ba("onTab"),ba("onShiftTab"),ba("onUp"),ba("onDown"),ba("onEscape"),ar("stopSpaceKeyup",!1),$o("focusIn")];var hh=$d(mh,di.init,((e,t,n)=>[qd(jd(Nd),n.onSpace),qd(zd([Gd,jd(Td)]),n.onEnter),qd(zd([Kd,jd(Td)]),n.onShiftEnter),qd(zd([Kd,jd(Ud)]),n.onShiftTab),qd(zd([Gd,jd(Ud)]),n.onTab),qd(jd(Dd),n.onUp),qd(jd(Hd),n.onDown),qd(jd(Qd),n.onLeft),qd(jd(Id),n.onRight),qd(jd(Nd),n.onSpace)]),((e,t,n)=>[...n.stopSpaceKeyup?[qd(jd(Nd),rm)]:[],qd(jd(Ld),n.onEscape)]),(e=>e.focusIn));const gh=tm.schema(),ph=nm.schema(),fh=jm.schema(),bh=Nm.schema(),vh=rh.schema(),wh=am.schema(),yh=dh.schema(),Bh=hh.schema(),Ch=mA({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:gh,cyclic:ph,flow:fh,flatgrid:bh,matrix:vh,execution:wh,menu:yh,special:Bh}),name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,n)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(o=>{o(e,t,n)}))},setGridSize:(e,t,n,o,r)=>{(e=>ve(e,"setGridSize"))(n)?n.setGridSize(o,r):console.error("Layout does not support setGridSize")}},state:lm}),xh=(e,t)=>{yA((()=>{((e,t,n)=>{const o=e.components();(e=>{R(e.components(),(e=>Tn(e.element))),Un(e.element),e.syncComponents()})(e);const r=n(t),s=J(o,r);R(s,(t=>{lc(t),e.getSystem().removeFromWorld(t)})),R(r,(t=>{Ac(t)?mc(e,t):(e.getSystem().addToWorld(t),mc(e,t),ut(e.element)&&cc(t))})),e.syncComponents()})(e,t,(()=>M(t,e.getSystem().build)))}),e.element)},Sh=(e,t)=>{yA((()=>{((n,o,r)=>{const s=n.components(),i=q(o,(e=>ci(e).toArray()));R(s,(e=>{Q(i,e)||dc(e)}));const a=((e,t,n)=>Qi(e,t,((t,o)=>Di(e,o,t,n))))(e.element,t,e.getSystem().buildOrPatch),A=J(s,a);R(A,(e=>{Ac(e)&&dc(e)})),R(a,(e=>{Ac(e)||uc(n,e)})),n.syncComponents()})(e,t)}),e.element)},Fh=(e,t,n,o)=>{dc(t);const r=Di(e.element,n,o,e.getSystem().buildOrPatch);uc(e,r),e.syncComponents()},kh=(e,t,n)=>{const o=e.getSystem().build(n);gc(e,o,t)},Eh=(e,t,n,o)=>{fc(t),kh(e,((e,t)=>((e,t,n)=>{tt(e,n).fold((()=>{_n(e,t)}),(e=>{Fn(e,t)}))})(e,t,n)),o)},_h=(e,t)=>e.components(),Oh=(e,t,n,o,r)=>{const s=_h(e);return _.from(s[o]).map((n=>(r.fold((()=>fc(n)),(r=>{(t.reuseDom?Fh:Eh)(e,n,o,r)})),n)))};var Uh=Object.freeze({__proto__:null,append:(e,t,n,o)=>{kh(e,_n,o)},prepend:(e,t,n,o)=>{kh(e,En,o)},remove:(e,t,n,o)=>{const r=_h(e),s=K(r,(e=>Ke(o.element,e.element)));s.each(fc)},replaceAt:Oh,replaceBy:(e,t,n,o,r)=>{const s=_h(e);return W(s,o).bind((n=>Oh(e,t,0,n,r)))},set:(e,t,n,o)=>(t.reuseDom?Sh:xh)(e,o),contents:_h});const Th=uA({fields:[dr("reuseDom",!0)],name:"replacing",apis:Uh}),Lh=(e,t)=>{const n=((e,t)=>{const n=Fs(t);return uA({fields:[zo("enabled")],name:e,active:{events:v(n)}})})(e,t);return{key:e,value:{config:{},me:n,configAsRaw:v({}),initialConfig:{},state:di}}},Nh=(e,t)=>{t.ignore||(fA(e.element),t.onFocus(e))};var Qh=Object.freeze({__proto__:null,focus:Nh,blur:(e,t)=>{t.ignore||(e=>{e.dom.blur()})(e.element)},isFocused:e=>bA(e.element)}),Dh=Object.freeze({__proto__:null,exhibit:(e,t)=>{const n=t.ignore?{}:{attributes:{tabindex:"-1"}};return gi(n)},events:e=>Fs([_s(Zr(),((t,n)=>{Nh(t,e),n.stop()}))].concat(e.stopMousedown?[_s(Ur(),((e,t)=>{t.event.prevent()}))]:[]))}),Ih=[fa("onFocus"),ar("stopMousedown",!1),ar("ignore",!1)];const Hh=uA({fields:Ih,name:"focusing",active:Dh,apis:Qh}),Mh=(e,t,n,o)=>{const r=n.get();n.set(o),((e,t,n)=>{t.toggleClass.each((t=>{n.get()?ki(e.element,t):Ei(e.element,t)}))})(e,t,n),((e,t,n)=>{const o=t.aria;o.update(e,o,n.get())})(e,t,n),r!==o&&t.onToggled(e,o)},Rh=(e,t,n)=>{Mh(e,t,n,!n.get())},Ph=(e,t,n)=>{Mh(e,t,n,t.selected)};var Vh=Object.freeze({__proto__:null,onLoad:Ph,toggle:Rh,isOn:(e,t,n)=>n.get(),on:(e,t,n)=>{Mh(e,t,n,!0)},off:(e,t,n)=>{Mh(e,t,n,!1)},set:Mh}),jh=Object.freeze({__proto__:null,exhibit:()=>gi({}),events:(e,t)=>{const n=(o=e,r=t,s=Rh,Rs((e=>{s(e,o,r)})));var o,r,s;const i=iA(e,t,Ph);return Fs(G([e.toggleOnExecute?[n]:[],[i]]))}});const zh=(e,t,n)=>{gt(e.element,"aria-expanded",n)};var Kh=[ar("selected",!1),$o("toggleClass"),ar("toggleOnExecute",!0),fa("onToggled"),Ar("aria",{mode:"none"},Ro("mode",{pressed:[ar("syncWithExpanded",!1),ya("update",((e,t,n)=>{gt(e.element,"aria-pressed",n),t.syncWithExpanded&&zh(e,0,n)}))],checked:[ya("update",((e,t,n)=>{gt(e.element,"aria-checked",n)}))],expanded:[ya("update",zh)],selected:[ya("update",((e,t,n)=>{gt(e.element,"aria-selected",n)}))],none:[ya("update",f)]}))];const Wh=uA({fields:Kh,name:"toggling",active:jh,apis:Vh,state:{init:()=>{const e=pr(!1);return{get:()=>e.get(),set:t=>e.set(t),clear:()=>e.set(!1),readState:()=>e.get()}}}}),Gh=()=>{const e=(e,t)=>{t.stop(),Bs(e)};return[_s(Vr(),e),_s(ts(),e),Ns(kr()),Ns(Ur())]},qh=e=>Fs(G([e.map((e=>Rs(((t,n)=>{e(t),n.stop()})))).toArray(),Gh()])),Zh="alloy.item-hover",Xh="alloy.item-focus",Jh="alloy.item-toggled",Yh=e=>{(wA(e.element).isNone()||Hh.isFocused(e))&&(Hh.isFocused(e)||Hh.focus(e),ys(e,Zh,{item:e}))},$h=e=>{ys(e,Xh,{item:e})},eg=v(Zh),tg=v(Xh),ng=v(Jh),og=e=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem"),rg=[zo("data"),zo("components"),zo("dom"),ar("hasSubmenu",!1),$o("toggling"),nu("itemBehaviours",[Wh,Hh,Ch,Yc]),ar("ignoreFocus",!1),ar("domModification",{}),ya("builder",(e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:og(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:ou(e.itemBehaviours,[e.toggling.fold(Wh.revoke,(e=>Wh.config((e=>({aria:{mode:"checked"},...me(e,((e,t)=>"exclusive"!==t)),onToggled:(t,n)=>{h(e.onToggled)&&e.onToggled(t,n),((e,t)=>{ys(e,Jh,{item:e,state:t})})(t,n)}}))(e)))),Hh.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{$h(e)}}),Ch.config({mode:"execution"}),Yc.config({store:{mode:"memory",initialValue:e.data}}),Lh("item-type-events",[...Gh(),_s(Qr(),Yh),_s(es(),Hh.focus)])]),components:e.components,eventOrder:e.eventOrder}))),ar("eventOrder",{})],sg=[zo("dom"),zo("components"),ya("builder",(e=>({dom:e.dom,components:e.components,events:Fs([Qs(es())])})))],ig=v("item-widget"),ag=v([Fu({name:"widget",overrides:e=>({behaviours:lA([Yc.config({store:{mode:"manual",getValue:t=>e.data,setValue:f}})])})})]),Ag=[zo("uid"),zo("data"),zo("components"),zo("dom"),ar("autofocus",!1),ar("ignoreFocus",!1),nu("widgetBehaviours",[Yc,Hh,Ch]),ar("domModification",{}),Gu(ag()),ya("builder",(e=>{const t=Hu(ig(),e,ag()),n=Mu(ig(),e,t.internals()),o=t=>Ru(t,e,"widget").map((e=>(Ch.focusIn(e),e))),r=(t,n)=>nd(n.event.target)?_.none():e.autofocus?(n.setSource(t.element),_.none()):_.none();return{dom:e.dom,components:n,domModification:e.domModification,events:Fs([Rs(((e,t)=>{o(e).each((e=>{t.stop()}))})),_s(Qr(),Yh),_s(es(),((t,n)=>{e.autofocus?o(t):Hh.focus(t)}))]),behaviours:ou(e.widgetBehaviours,[Yc.config({store:{mode:"memory",initialValue:e.data}}),Hh.config({ignore:e.ignoreFocus,onFocus:e=>{$h(e)}}),Ch.config({mode:"special",focusIn:e.autofocus?e=>{o(e)}:hA(),onLeft:r,onRight:r,onEscape:(t,n)=>Hh.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),_.none()):_.none():(Hh.focus(t),_.some(!0))})])}}))],lg=Ro("type",{widget:Ag,item:rg,separator:sg}),cg=v([_u({factory:{sketch:e=>{const t=Ho("menu.spec item",lg,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>be(t,"uid")?t:{...t,uid:ni("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),ug=v([zo("value"),zo("items"),zo("dom"),zo("components"),ar("eventOrder",{}),$c("menuBehaviours",[_d,Yc,sd,Ch]),Ar("movement",{mode:"menu",moveOnTab:!0},Ro("mode",{grid:[Ca(),ya("config",((e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager})))],matrix:[ya("config",((e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}))),zo("rowSelector")],menu:[ar("moveOnTab",!0),ya("config",((e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager})))]})),Ko("markers",da()),ar("fakeFocus",!1),ar("focusManager",Xd()),fa("onHighlight")]),dg=v("alloy.menu-focus"),mg=td({name:"Menu",configFields:ug(),partFields:cg(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:tu(e.menuBehaviours,[_d.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),Yc.config({store:{mode:"memory",initialValue:e.value}}),sd.config({find:_.some}),Ch.config(e.movement.config(e,e.movement))]),events:Fs([_s(tg(),((e,t)=>{const n=t.event;e.getSystem().getByDom(n.target).each((n=>{_d.highlight(e,n),t.stop(),ys(e,dg(),{menu:e,item:n})}))})),_s(eg(),((e,t)=>{const n=t.event.item;_d.highlight(e,n)})),_s(ng(),((e,t)=>{const{item:n,state:o}=t.event;o&&"menuitemradio"===ft(n.element,"role")&&((e,t)=>{const n=Tl(e.element,'[role="menuitemradio"][aria-checked="true"]');R(n,(n=>{Ke(n,t.element)||e.getSystem().getByDom(n).each((e=>{Wh.off(e)}))}))})(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),hg=(e,t,n,o)=>fe(n,o).bind((o=>fe(e,o).bind((o=>{const r=hg(e,t,n,o);return _.some([o].concat(r))})))).getOr([]),gg=e=>"prepared"===e.type?_.some(e.menu):_.none(),pg=()=>{const e=pr({}),t=pr({}),n=pr({}),o=HA(),r=pr({}),s=e=>i(e).bind(gg),i=e=>fe(t.get(),e),a=t=>fe(e.get(),t);return{setMenuBuilt:(e,n)=>{t.set({...t.get(),[e]:{type:"prepared",menu:n}})},setContents:(s,i,a,A)=>{o.set(s),e.set(a),t.set(i),r.set(A);const l=((e,t)=>{const n={};Ae(e,((e,t)=>{R(e,(e=>{n[e]=t}))}));const o=t,r=ce(t,((e,t)=>({k:e,v:t}))),s=le(r,((e,t)=>[t].concat(hg(n,o,r,t))));return le(n,(e=>fe(s,e).getOr([e])))})(A,a);n.set(l)},expand:t=>fe(e.get(),t).map((e=>{const o=fe(n.get(),t).getOr([]);return[e].concat(o)})),refresh:e=>fe(n.get(),e),collapse:e=>fe(n.get(),e).bind((e=>e.length>1?_.some(e.slice(1)):_.none())),lookupMenu:i,lookupItem:a,otherMenus:e=>{const t=r.get();return J(ie(t),e)},getPrimary:()=>o.get().bind(s),getMenus:()=>t.get(),clear:()=>{e.set({}),t.set({}),n.set({}),o.clear()},isClear:()=>o.get().isNone(),getTriggeringPath:(t,r)=>{const i=V(a(t).toArray(),(e=>s(e).isSome()));return fe(n.get(),t).bind((t=>{const n=X(i.concat(t));return(e=>{const t=[];for(let n=0;n<e.length;n++){const o=e[n];if(!o.isSome())return _.none();t.push(o.getOrDie())}return _.some(t)})(q(n,((t,i)=>((t,n,o)=>s(t).bind((r=>(t=>ge(e.get(),((e,n)=>e===t)))(t).bind((e=>n(e).map((e=>({triggeredMenu:r,triggeringItem:e,triggeringPath:o}))))))))(t,r,n.slice(0,i+1)).fold((()=>we(o.get(),t)?[]:[_.none()]),(e=>[_.some(e)])))))}))}}},fg=gg,bg=v("collapse-item"),vg=ed({name:"TieredMenu",configFields:[wa("onExecute"),wa("onEscape"),va("onOpenMenu"),va("onOpenSubmenu"),fa("onRepositionMenu"),fa("onCollapseMenu"),ar("highlightImmediately",!0),Xo("data",[zo("primary"),zo("menus"),zo("expansions")]),ar("fakeFocus",!1),fa("onHighlight"),fa("onHover"),ha(),zo("dom"),ar("navigateOnHover",!0),ar("stayInDom",!1),$c("tmenuBehaviours",[Ch,_d,sd,Th]),ar("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(e,t)=>{const n=HA(),o=pg(),r=e=>Yc.getValue(e).value,s=t=>le(e.data.menus,((e,t)=>q(e.items,(e=>"separator"===e.type?[]:[e.data.value])))),i=(e,t)=>{_d.highlight(e,t),_d.getHighlighted(t).orThunk((()=>_d.getFirst(t))).each((t=>{Cs(e,t.element,es())}))},a=(e,t)=>ye(M(t,(t=>e.lookupMenu(t).bind((e=>"prepared"===e.type?_.some(e.menu):_.none()))))),A=(t,n,o)=>{const r=a(n,n.otherMenus(o));R(r,(n=>{Ui(n.element,[e.markers.backgroundMenu]),e.stayInDom||Th.remove(t,n)}))},l=(t,o)=>{const s=(t=>n.get().getOrThunk((()=>{const o={},s=Tl(t.element,`.${e.markers.item}`),i=V(s,(e=>"true"===ft(e,"aria-haspopup")));return R(i,(e=>{t.getSystem().getByDom(e).each((e=>{const t=r(e);o[t]=e}))})),n.set(o),o})))(t);Ae(s,((e,t)=>{const n=Q(o,t);gt(e.element,"aria-expanded",n)}))},c=(t,n,o)=>_.from(o[0]).bind((r=>n.lookupMenu(r).bind((r=>{if("notbuilt"===r.type)return _.none();{const s=r.menu,l=a(n,o.slice(1));return R(l,(t=>{ki(t.element,e.markers.backgroundMenu)})),ut(s.element)||Th.append(t,Wi(s)),Ui(s.element,[e.markers.backgroundMenu]),i(t,s),A(t,n,o),_.some(s)}}))));let u;!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(u||(u={}));const d=(t,n,s=u.HighlightSubmenu)=>{if(n.hasConfigured(vd)&&vd.isDisabled(n))return _.some(n);{const i=r(n);return o.expand(i).bind((r=>(l(t,r),_.from(r[0]).bind((i=>o.lookupMenu(i).bind((a=>{const A=((e,t,n)=>{if("notbuilt"===n.type){const r=e.getSystem().build(n.nbMenu());return o.setMenuBuilt(t,r),r}return n.menu})(t,i,a);return ut(A.element)||Th.append(t,Wi(A)),e.onOpenSubmenu(t,n,A,X(r)),s===u.HighlightSubmenu?(_d.highlightFirst(A),c(t,o,r)):(_d.dehighlightAll(A),_.some(n))})))))))}},m=(t,n)=>{const s=r(n);return o.collapse(s).bind((r=>(l(t,r),c(t,o,r).map((o=>(e.onCollapseMenu(t,n,o),o))))))},h=t=>(n,o)=>ta(o.getSource(),"."+e.markers.item).bind((e=>n.getSystem().getByDom(e).toOptional().bind((e=>t(n,e).map(k))))),g=Fs([_s(dg(),((e,t)=>{const n=t.event.item;o.lookupItem(r(n)).each((()=>{const n=t.event.menu;_d.highlight(e,n);const s=r(t.event.item);o.refresh(s).each((t=>A(e,o,t)))}))})),Rs(((t,n)=>{const o=n.event.target;t.getSystem().getByDom(o).each((n=>{0===r(n).indexOf("collapse-item")&&m(t,n),d(t,n,u.HighlightSubmenu).fold((()=>{e.onExecute(t,n)}),f)}))})),Is(((t,n)=>{(t=>{const n=((t,n,o)=>le(o,((o,r)=>{const s=()=>mg.sketch({...o,value:r,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?Jd():Xd()});return r===n?{type:"prepared",menu:t.getSystem().build(s())}:{type:"notbuilt",nbMenu:s}})))(t,e.data.primary,e.data.menus),r=s();return o.setContents(e.data.primary,n,e.data.expansions,r),o.getPrimary()})(t).each((n=>{Th.append(t,Wi(n)),e.onOpenMenu(t,n),e.highlightImmediately&&i(t,n)}))}))].concat(e.navigateOnHover?[_s(eg(),((t,n)=>{const s=n.event.item;((e,t)=>{const n=r(t);o.refresh(n).bind((t=>(l(e,t),c(e,o,t))))})(t,s),d(t,s,u.HighlightParent),e.onHover(t,s)}))]:[])),p=e=>_d.getHighlighted(e).bind(_d.getHighlighted),b={collapseMenu:e=>{p(e).each((t=>{m(e,t)}))},highlightPrimary:e=>{o.getPrimary().each((t=>{i(e,t)}))},repositionMenus:t=>{const n=o.getPrimary().bind((e=>p(t).bind((e=>{const t=r(e),n=pe(o.getMenus()),s=ye(M(n,fg));return o.getTriggeringPath(t,(e=>((e,t,n)=>se(t,(e=>{if(!e.getSystem().isConnected())return _.none();const t=_d.getCandidates(e);return K(t,(e=>r(e)===n))})))(0,s,e)))})).map((t=>({primary:e,triggeringPath:t})))));n.fold((()=>{(e=>_.from(e.components()[0]).filter((e=>"menu"===ft(e.element,"role"))))(t).each((n=>{e.onRepositionMenu(t,n,[])}))}),(({primary:n,triggeringPath:o})=>{e.onRepositionMenu(t,n,o)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:tu(e.tmenuBehaviours,[Ch.config({mode:"special",onRight:h(((e,t)=>nd(t.element)?_.none():d(e,t,u.HighlightSubmenu))),onLeft:h(((e,t)=>nd(t.element)?_.none():m(e,t))),onEscape:h(((t,n)=>m(t,n).orThunk((()=>e.onEscape(t,n).map((()=>t)))))),focusIn:(e,t)=>{o.getPrimary().each((t=>{Cs(e,t.element,es())}))}}),_d.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),sd.config({find:e=>_d.getHighlighted(e)}),Th.config({})]),eventOrder:e.eventOrder,apis:b,events:g}},extraApis:{tieredData:(e,t,n)=>({primary:e,menus:t,expansions:n}),singleData:(e,t)=>({primary:e,menus:br(e,t),expansions:{}}),collapseItem:e=>({value:Zs(bg()),meta:{text:e}})}}),wg=ed({name:"InlineView",configFields:[zo("lazySink"),fa("onShow"),fa("onHide"),rr("onEscape"),$c("inlineBehaviours",[Tc,Yc,gA]),ir("fireDismissalEventInstead",[ar("event",ds())]),ir("fireRepositionEventInstead",[ar("event",ms())]),ar("getRelated",_.none),ar("isExtraPart",F),ar("eventOrder",_.none)],factory:(e,t)=>{const n=(e,t,n,r)=>{o(e,t,n,(()=>r.map((e=>Vn(e)))))},o=(t,n,o,r)=>{const s=e.lazySink(t).getOrDie();Tc.openWhileCloaked(t,n,(()=>ac.positionWithinBounds(s,t,o,r()))),Yc.setValue(t,_.some({mode:"position",config:o,getBounds:r}))},r=(t,n,o,r)=>{const s=((e,t,n,o,r)=>{const s=()=>e.lazySink(t),i="horizontal"===o.type?{layouts:{onLtr:()=>nA(),onRtl:()=>oA()}}:{},a=e=>(e=>2===e.length)(e)?i:{};return vg.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightImmediately:o.menu.highlightImmediately,fakeFocus:o.menu.fakeFocus,onEscape:()=>(Tc.close(t),e.onEscape.map((e=>e(t))),_.some(!0)),onExecute:()=>_.some(!0),onOpenMenu:(e,t)=>{ac.positionWithinBounds(s().getOrDie(),t,n,r())},onOpenSubmenu:(e,t,n,o)=>{const r=s().getOrDie();ac.position(r,n,{anchor:{type:"submenu",item:t,...a(o)}})},onRepositionMenu:(e,t,o)=>{const i=s().getOrDie();ac.positionWithinBounds(i,t,n,r()),R(o,(e=>{const t=a(e.triggeringPath);ac.position(i,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})})(e,t,n,o,r);Tc.open(t,s),Yc.setValue(t,_.some({mode:"menu",menu:s}))},s=t=>{Tc.isOpen(t)&&Yc.getValue(t).each((n=>{switch(n.mode){case"menu":Tc.getState(t).each(vg.repositionMenus);break;case"position":const o=e.lazySink(t).getOrDie();ac.positionWithinBounds(o,t,n.config,n.getBounds())}}))},i={setContent:(e,t)=>{Tc.setContent(e,t)},showAt:(e,t,o)=>{n(e,t,o,_.none())},showWithin:n,showWithinBounds:o,showMenuAt:(e,t,n)=>{r(e,t,n,_.none)},showMenuWithinBounds:r,hide:e=>{Tc.isOpen(e)&&(Yc.setValue(e,_.none()),Tc.close(e))},getContent:e=>Tc.getState(e),reposition:s,isOpen:Tc.isOpen};return{uid:e.uid,dom:e.dom,behaviours:tu(e.inlineBehaviours,[Tc.config({isPartOf:(t,n,o)=>ra(n,o)||((t,n)=>e.getRelated(t).exists((e=>ra(e,n))))(t,o),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),Yc.config({store:{mode:"memory",initialValue:_.none()}}),gA.config({channels:{...Ic({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Mc({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:s})}})]),eventOrder:e.eventOrder,apis:i}},apis:{showAt:(e,t,n,o)=>{e.showAt(t,n,o)},showWithin:(e,t,n,o,r)=>{e.showWithin(t,n,o,r)},showWithinBounds:(e,t,n,o,r)=>{e.showWithinBounds(t,n,o,r)},showMenuAt:(e,t,n,o)=>{e.showMenuAt(t,n,o)},showMenuWithinBounds:(e,t,n,o,r)=>{e.showMenuWithinBounds(t,n,o,r)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,n)=>{e.setContent(t,n)},reposition:(e,t)=>{e.reposition(t)}}});var yg=tinymce.util.Tools.resolve("tinymce.util.Delay");const Bg=ed({name:"Button",factory:e=>{const t=qh(e.action),n=e.dom.tag,o=t=>fe(e.dom,"attributes").bind((e=>fe(e,t)));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:ou(e.buttonBehaviours,[Hh.config({}),Ch.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:"button"===n?{type:o("type").getOr("button"),...o("role").map((e=>({role:e}))).getOr({})}:{role:o("role").getOr("button")}},eventOrder:e.eventOrder}},configFields:[ar("uid",void 0),zo("dom"),ar("components",[]),nu("buttonBehaviours",[Hh,Ch]),$o("action"),$o("role"),ar("eventOrder",{})]}),Cg=e=>{const t=(e=>void 0!==e.uid)(e)&&ve(e,"uid")?e.uid:ni("memento");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}};var xg=tinymce.util.Tools.resolve("tinymce.util.I18n");const Sg={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Fg="temporary-placeholder",kg=e=>()=>fe(e,Fg).getOr("!not found!"),Eg=(e,t)=>{const n=e.toLowerCase();if(xg.isRtl()){const e=((e,t)=>Fe(e,t)?e:((e,t)=>e+"-rtl")(e))(n,"-rtl");return be(t,e)?e:n}return n},_g=(e,t)=>fe(t,Eg(e,t)),Og=(e,t)=>{const n=t();return _g(e,n).getOrThunk(kg(n))},Ug=()=>Lh("add-focusable",[Is((e=>{$i(e.element,"svg").each((e=>gt(e,"focusable","false")))}))]),Tg=(e,t,n,o)=>{var r,s;const i=(e=>!!xg.isRtl()&&be(Sg,e))(t)?["tox-icon--flip"]:[],a=fe(n,Eg(t,n)).or(o).getOrThunk(kg(n));return{dom:{tag:e.tag,attributes:null!==(r=e.attributes)&&void 0!==r?r:{},classes:e.classes.concat(i),innerHtml:a},behaviours:lA([...null!==(s=e.behaviours)&&void 0!==s?s:[],Ug()])}},Lg=(e,t,n,o=_.none())=>Tg(t,e,n(),o),Ng={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Qg=ed({name:"Notification",factory:e=>{const t=Cg({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:lA([Th.config({})])}),n=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}}),o=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}}),r=Cg({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},o(0)],behaviours:lA([Th.config({})])}),s={updateProgress:(e,t)=>{e.getSystem().isConnected()&&r.getOpt(e).each((e=>{Th.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},o(t)])}))},updateText:(e,n)=>{if(e.getSystem().isConnected()){const o=t.get(e);Th.set(o,[Pi(n)])}}},i=G([e.icon.toArray(),e.level.toArray(),e.level.bind((e=>_.from(Ng[e]))).toArray()]),a=Cg(Bg.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Lg("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}})),A=((e,t,n)=>{const o=n(),r=K(e,(e=>be(o,Eg(e,o))));return Tg({tag:"div",classes:["tox-notification__icon"]},r.getOr(Fg),o,_.none())})(i,0,e.iconProvider),l=[A,{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:lA([Th.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((e=>["tox-notification","tox-notification--in",`tox-notification--${e}`])).getOr(["tox-notification","tox-notification--in"])},behaviours:lA([Hh.config({}),Lh("notification-events",[_s(Dr(),(e=>{a.getOpt(e).each(Hh.focus)}))])]),components:l.concat(e.progress?[r.asSpec()]:[]).concat(e.closeButton?[a.asSpec()]:[]),apis:s}},configFields:[$o("level"),zo("progress"),zo("icon"),zo("onAction"),zo("text"),zo("iconProvider"),zo("translationProvider"),dr("closeButton",!0)],apis:{updateProgress:(e,t,n)=>{e.updateProgress(t,n)},updateText:(e,t,n)=>{e.updateText(t,n)}}});var Dg,Ig,Hg=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Mg=tinymce.util.Tools.resolve("tinymce.EditorManager"),Rg=tinymce.util.Tools.resolve("tinymce.Env");!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(Dg||(Dg={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(Ig||(Ig={}));const Pg=e=>t=>t.options.get(e),Vg=e=>t=>_.from(e(t)),jg=e=>{const t=Rg.deviceType.isPhone(),n=Rg.deviceType.isTablet()||t,o=e.options.register,r=e=>s(e)||!1===e,i=e=>s(e)||g(e);o("skin",{processor:e=>s(e)||!1===e,default:"oxide"}),o("skin_url",{processor:"string"}),o("height",{processor:i,default:Math.max(e.getElement().offsetHeight,400)}),o("width",{processor:i,default:Hg.DOM.getStyle(e.getElement(),"width")}),o("min_height",{processor:"number",default:100}),o("min_width",{processor:"number"}),o("max_height",{processor:"number"}),o("max_width",{processor:"number"}),o("style_formats",{processor:"object[]"}),o("style_formats_merge",{processor:"boolean",default:!1}),o("style_formats_autohide",{processor:"boolean",default:!1}),o("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),o("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),o("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),o("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),o("content_langs",{processor:"object[]"}),o("removed_menuitems",{processor:"string",default:""}),o("menubar",{processor:e=>s(e)||c(e),default:!t}),o("menu",{processor:"object",default:{}}),o("toolbar",{processor:e=>c(e)||s(e)||A(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),I(9,(e=>{o("toolbar"+(e+1),{processor:"string"})})),o("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),o("toolbar_groups",{processor:"object",default:{}}),o("toolbar_location",{processor:"string",default:Ig.auto}),o("toolbar_persist",{processor:"boolean",default:!1}),o("toolbar_sticky",{processor:"boolean",default:e.inline}),o("toolbar_sticky_offset",{processor:"number",default:0}),o("fixed_toolbar_container",{processor:"string",default:""}),o("fixed_toolbar_container_target",{processor:"object"}),o("file_picker_callback",{processor:"function"}),o("file_picker_validator_handler",{processor:"function"}),o("file_picker_types",{processor:"string"}),o("typeahead_urls",{processor:"boolean",default:!0}),o("anchor_top",{processor:r,default:"#top"}),o("anchor_bottom",{processor:r,default:"#bottom"}),o("draggable_modal",{processor:"boolean",default:!1}),o("statusbar",{processor:"boolean",default:!0}),o("elementpath",{processor:"boolean",default:!0}),o("branding",{processor:"boolean",default:!0}),o("resize",{processor:e=>"both"===e||c(e),default:!Rg.deviceType.isTouch()}),o("sidebar_show",{processor:"string"})},zg=Pg("readonly"),Kg=Pg("height"),Wg=Pg("width"),Gg=Vg(Pg("min_width")),qg=Vg(Pg("min_height")),Zg=Vg(Pg("max_width")),Xg=Vg(Pg("max_height")),Jg=Vg(Pg("style_formats")),Yg=Pg("style_formats_merge"),$g=Pg("style_formats_autohide"),ep=Pg("content_langs"),tp=Pg("removed_menuitems"),np=Pg("toolbar_mode"),op=Pg("toolbar_groups"),rp=Pg("toolbar_location"),sp=Pg("fixed_toolbar_container"),ip=Pg("fixed_toolbar_container_target"),ap=Pg("toolbar_persist"),Ap=Pg("toolbar_sticky_offset"),lp=Pg("menubar"),cp=Pg("toolbar"),up=Pg("file_picker_callback"),dp=Pg("file_picker_validator_handler"),mp=Pg("file_picker_types"),hp=Pg("typeahead_urls"),gp=Pg("anchor_top"),pp=Pg("anchor_bottom"),fp=Pg("draggable_modal"),bp=Pg("statusbar"),vp=Pg("elementpath"),wp=Pg("branding"),yp=Pg("resize"),Bp=Pg("paste_as_text"),Cp=Pg("sidebar_show"),xp=e=>!1===e.options.get("skin"),Sp=e=>!1!==e.options.get("menubar"),Fp=e=>{const t=e.options.get("skin_url");if(xp(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const t=e.options.get("skin");return Mg.baseURL+"/skins/ui/"+t}},kp=e=>e.options.get("line_height_formats").split(" "),Ep=e=>{const t=cp(e),n=s(t),o=A(t)&&t.length>0;return!Op(e)&&(o||n||!0===t)},_p=e=>{const t=I(9,(t=>e.options.get("toolbar"+(t+1)))),n=V(t,s);return Ce(n.length>0,n)},Op=e=>_p(e).fold((()=>{const t=cp(e);return p(t,s)&&t.length>0}),k),Up=e=>rp(e)===Ig.bottom,Tp=e=>{if(!e.inline)return _.none();const t=sp(e);if(t.length>0)return ea(dt(),t);const n=ip(e);return m(n)?_.some(Ne(n)):_.none()},Lp=e=>e.inline&&Tp(e).isSome(),Np=e=>Tp(e).getOrThunk((()=>At(at(Ne(e.getElement()))))),Qp=e=>e.inline&&!Sp(e)&&!Ep(e)&&!Op(e),Dp=e=>(e.options.get("toolbar_sticky")||e.inline)&&!Lp(e)&&!Qp(e),Ip=e=>{const t=e.options.get("menu");return le(t,(e=>({...e,items:e.items})))};var Hp=Object.freeze({__proto__:null,get ToolbarMode(){return Dg},get ToolbarLocation(){return Ig},register:jg,getSkinUrl:Fp,isReadOnly:zg,isSkinDisabled:xp,getHeightOption:Kg,getWidthOption:Wg,getMinWidthOption:Gg,getMinHeightOption:qg,getMaxWidthOption:Zg,getMaxHeightOption:Xg,getUserStyleFormats:Jg,shouldMergeStyleFormats:Yg,shouldAutoHideStyleFormats:$g,getLineHeightFormats:kp,getContentLanguages:ep,getRemovedMenuItems:tp,isMenubarEnabled:Sp,isMultipleToolbars:Op,isToolbarEnabled:Ep,isToolbarPersist:ap,getMultipleToolbarsOption:_p,getUiContainer:Np,useFixedContainer:Lp,getToolbarMode:np,isDraggableModal:fp,isDistractionFree:Qp,isStickyToolbar:Dp,getStickyToolbarOffset:Ap,getToolbarLocation:rp,isToolbarLocationBottom:Up,getToolbarGroups:op,getMenus:Ip,getMenubar:lp,getToolbar:cp,getFilePickerCallback:up,getFilePickerTypes:mp,useTypeaheadUrls:hp,getAnchorTop:gp,getAnchorBottom:pp,getFilePickerValidatorHandler:dp,useStatusBar:bp,useElementPath:vp,useBranding:wp,getResize:yp,getPasteAsText:Bp,getSidebarShow:Cp});const Mp="[data-mce-autocompleter]",Rp=e=>ta(e,Mp);var Pp;!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(Pp||(Pp={}));var Vp=Pp;const jp="tox-menu-nav__js",zp="tox-collection__item",Kp={normal:jp,color:"tox-swatch"},Wp="tox-collection__item--enabled",Gp="tox-collection__item-icon",qp="tox-collection__item-label",Zp="tox-collection__item-caret",Xp="tox-collection__item--active",Jp="tox-collection__item-container",Yp="tox-collection__item-container--row",$p=e=>fe(Kp,e).getOr(jp),ef=e=>"color"===e?"tox-swatches":"tox-menu",tf=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:ef(e),tieredMenu:"tox-tiered-menu"}),nf=e=>{const t=tf(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:$p(e)}},of=(e,t,n)=>{const o=tf(n);return{tag:"div",classes:G([[o.menu,`tox-menu-${t}-column`],e?[o.hasIcons]:[]])}},rf=[mg.parts.items({})],sf=(e,t,n)=>{const o=tf(n);return{dom:{tag:"div",classes:G([[o.tieredMenu]])},markers:nf(n)}},af=(e,t)=>n=>{const o=H(n,t);return M(o,(t=>({dom:e,components:t})))},Af=(e,t)=>{const n=[];let o=[];return R(e,((e,r)=>{t(e,r)?(o.length>0&&n.push(o),o=[],(be(e.dom,"innerHtml")||e.components.length>0)&&o.push(e)):o.push(e)})),o.length>0&&n.push(o),M(n,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))},lf=(e,t,n=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[mg.parts.items({preprocess:n=>"auto"!==e&&e>1?af({tag:"div",classes:["tox-collection__group"]},e)(n):Af(n,((e,n)=>"separator"===t[n].type))})]}),cf=e=>D(e,(e=>"icon"in e&&void 0!==e.icon)),uf=e=>(console.error(Mo(e)),console.log(e),_.none()),df=(e,t,n,o,r)=>{const s=(i=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[mg.parts.items({preprocess:e=>Af(e,((e,t)=>"separator"===i[t].type))})]});var i;return{value:e,dom:s.dom,components:s.components,items:n}},mf=(e,t,n,o,r)=>{if("color"===r){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[mg.parts.items({preprocess:"auto"!==e?af({tag:"div",classes:["tox-swatches__row"]},e):w})]}]}))(o);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===r&&"auto"===o){const t=lf(o,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===r&&1===o){const t=lf(1,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===r){const t=lf(o,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("listpreview"===r&&"auto"!==o){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[mg.parts.items({preprocess:af({tag:"div",classes:["tox-collection__group"]},e)})]}))(o);return{value:e,dom:t.dom,components:t.components,items:n}}return{value:e,dom:of(t,o,r),components:rf,items:n}},hf=Go("type"),gf=Go("name"),pf=Go("label"),ff=Go("text"),bf=Go("title"),vf=Go("icon"),wf=Go("value"),yf=Zo("fetch"),Bf=Zo("getSubmenuItems"),Cf=Zo("onAction"),xf=Zo("onItemAction"),Sf=mr("onSetup",(()=>f)),Ff=nr("name"),kf=nr("text"),Ef=nr("icon"),_f=nr("tooltip"),Of=nr("label"),Uf=nr("shortcut"),Tf=rr("select"),Lf=dr("active",!1),Nf=dr("borderless",!1),Qf=dr("enabled",!0),Df=dr("primary",!1),If=e=>ar("columns",e),Hf=ar("meta",{}),Mf=mr("onAction",f),Rf=e=>cr("type",e),Pf=e=>Po("name","name",io((()=>Zs(`${e}-name`))),Eo),Vf=wo([hf,kf]),jf=wo([Rf("autocompleteitem"),Lf,Qf,Hf,wf,kf,Ef]),zf=[Qf,_f,Ef,kf,Sf],Kf=wo([hf,Cf].concat(zf)),Wf=e=>Do("toolbarbutton",Kf,e),Gf=[Lf].concat(zf),qf=wo(Gf.concat([hf,Cf])),Zf=e=>Do("ToggleButton",qf,e),Xf=[mr("predicate",F),ur("scope","node",["node","editor"]),ur("position","selection",["node","selection","line"])],Jf=zf.concat([Rf("contextformbutton"),Df,Cf,Vo("original",w)]),Yf=Gf.concat([Rf("contextformbutton"),Df,Cf,Vo("original",w)]),$f=zf.concat([Rf("contextformbutton")]),eb=Gf.concat([Rf("contextformtogglebutton")]),tb=Ro("type",{contextformbutton:Jf,contextformtogglebutton:Yf}),nb=wo([Rf("contextform"),mr("initValue",v("")),Of,Yo("commands",tb),er("launch",Ro("type",{contextformbutton:$f,contextformtogglebutton:eb}))].concat(Xf)),ob=wo([Rf("contexttoolbar"),Go("items")].concat(Xf)),rb=[hf,Go("src"),nr("alt"),hr("classes",[],Eo)],sb=wo(rb),ib=[hf,ff,Ff,hr("classes",["tox-collection__item-label"],Eo)],ab=wo(ib),Ab=fo((()=>Lo("type",{cardimage:sb,cardtext:ab,cardcontainer:lb}))),lb=wo([hf,cr("direction","horizontal"),cr("align","left"),cr("valign","middle"),Yo("items",Ab)]),cb=[Qf,kf,Uf,Po("value","value",io((()=>Zs("menuitem-value"))),So()),Hf],ub=wo([hf,Of,Yo("items",Ab),Sf,Mf].concat(cb)),db=wo([hf,Lf,Ef].concat(cb)),mb=[hf,Go("fancytype"),Mf],hb=[ar("initData",{})].concat(mb),gb=[gr("initData",{},[dr("allowCustomColors",!0),sr("colors",So())])].concat(mb),pb=Ro("fancytype",{inserttable:hb,colorswatch:gb}),fb=wo([hf,Sf,Mf,Ef].concat(cb)),bb=wo([hf,Bf,Sf,Ef].concat(cb)),vb=wo([hf,Ef,Lf,Sf,Cf].concat(cb)),wb=(e,t,n)=>{const o=Tl(e.element,"."+n);if(o.length>0){const e=W(o,(e=>{const n=e.dom.getBoundingClientRect().top,r=o[0].dom.getBoundingClientRect().top;return Math.abs(n-r)>t})).getOr(o.length);return _.some({numColumns:e,numRows:Math.ceil(o.length/e)})}return _.none()},yb=e=>((e,t)=>lA([Lh(e,t)]))(Zs("unnamed-events"),e),Bb=Zs("tooltip.exclusive"),Cb=Zs("tooltip.show"),xb=Zs("tooltip.hide"),Sb=(e,t,n)=>{e.getSystem().broadcastOn([Bb],{})};var Fb=Object.freeze({__proto__:null,hideAllExclusive:Sb,setComponents:(e,t,n,o)=>{n.getTooltip().each((e=>{e.getSystem().isConnected()&&Th.set(e,o)}))}}),kb=Object.freeze({__proto__:null,events:(e,t)=>{const n=n=>{t.getTooltip().each((o=>{fc(o),e.onHide(n,o),t.clearTooltip()})),t.clearTimer()};return Fs(G([[_s(Cb,(n=>{t.resetTimer((()=>{(n=>{if(!t.isShowing()){Sb(n);const o=e.lazySink(n).getOrDie(),r=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Fs("normal"===e.mode?[_s(Qr(),(e=>{ws(n,Cb)})),_s(Lr(),(e=>{ws(n,xb)}))]:[]),behaviours:lA([Th.config({})])});t.setTooltip(r),hc(o,r),e.onShow(n,r),ac.position(o,r,{anchor:e.anchor(n)})}})(n)}),e.delay)})),_s(xb,(o=>{t.resetTimer((()=>{n(o)}),e.delay)})),_s(Yr(),((e,t)=>{const o=t;o.universal||Q(o.channels,Bb)&&n(e)})),Hs((e=>{n(e)}))],"normal"===e.mode?[_s(Dr(),(e=>{ws(e,Cb)})),_s(Xr(),(e=>{ws(e,xb)})),_s(Qr(),(e=>{ws(e,Cb)})),_s(Lr(),(e=>{ws(e,xb)}))]:[_s(bs(),((e,t)=>{ws(e,Cb)})),_s(vs(),(e=>{ws(e,xb)}))]]))}}),Eb=[zo("lazySink"),zo("tooltipDom"),ar("exclusive",!0),ar("tooltipComponents",[]),ar("delay",300),ur("mode","normal",["normal","follow-highlight"]),ar("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:v([Za,qa,za,Wa,Ka,Ga]),onRtl:v([Za,qa,za,Wa,Ka,Ga])}}))),fa("onHide"),fa("onShow")];const _b=uA({fields:Eb,name:"tooltipping",active:kb,state:Object.freeze({__proto__:null,init:()=>{const e=HA(),t=HA(),n=()=>{e.on(clearTimeout)},o=v("not-implemented");return mi({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:(t,o)=>{n(),e.set(setTimeout(t,o))},readState:o})}}),apis:Fb}),Ob="silver.readonly",Ub=wo([Ko("readonly",_o)]),Tb=(e,t)=>{const n=e.outerContainer.element;t&&(e.mothership.broadcastOn([Lc()],{target:n}),e.uiMothership.broadcastOn([Lc()],{target:n})),e.mothership.broadcastOn([Ob],{readonly:t}),e.uiMothership.broadcastOn([Ob],{readonly:t})},Lb=(e,t)=>{e.on("init",(()=>{e.mode.isReadOnly()&&Tb(t,!0)})),e.on("SwitchMode",(()=>Tb(t,e.mode.isReadOnly()))),zg(e)&&e.mode.set("readonly")},Nb=()=>gA.config({channels:{[Ob]:{schema:Ub,onReceive:(e,t)=>{vd.set(e,t.readonly)}}}}),Qb=e=>vd.config({disabled:e}),Db=e=>vd.config({disabled:e,disableClass:"tox-tbtn--disabled"}),Ib=e=>vd.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),Hb=(e,t)=>{const n=e.getApi(t);return e=>{e(n)}},Mb=(e,t)=>Is((n=>{Hb(e,n)((n=>{const o=e.onSetup(n);h(o)&&t.set(o)}))})),Rb=(e,t)=>Hs((n=>Hb(e,n)(t.get()))),Pb=(e,t)=>Rs(((n,o)=>{Hb(e,n)(e.onAction),e.triggersSubmenu||t!==Vp.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&ws(n,os()),o.stop())})),Vb={[$r()]:["disabling","alloy.base.behaviour","toggling","item-events"]},jb=ye,zb=(e,t,n,o)=>{const r=pr(f);return{type:"item",dom:t.dom,components:jb(t.optComponents),data:e.data,eventOrder:Vb,hasSubmenu:e.triggersSubmenu,itemBehaviours:lA([Lh("item-events",[Pb(e,n),Mb(e,r),Rb(e,r)]),(s=()=>!e.enabled||o.isDisabled(),vd.config({disabled:s,disableClass:"tox-collection__item--state-disabled"})),Nb(),Th.config({})].concat(e.itemBehaviours))};var s},Kb=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),Wb=e=>{const t=Rg.os.isMacOS()||Rg.os.isiOS(),n=t?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},o=e.split("+"),r=M(o,(e=>{const t=e.toLowerCase().trim();return be(n,t)?n[t]:e}));return t?r.join(""):r.join("+")},Gb=(e,t,n=[Gp])=>Lg(e,{tag:"div",classes:n},t),qb=e=>({dom:{tag:"div",classes:[qp]},components:[Pi(xg.translate(e))]}),Zb=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),Xb=(e,t)=>({dom:{tag:"div",classes:[qp]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Pi(xg.translate(t))]}]}),Jb=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Pi(Wb(e))]}),Yb=e=>Gb("checkmark",e,["tox-collection__item-checkmark"]),$b=e=>{const t=e.map((e=>({attributes:{title:xg.translate(e)}}))).getOr({});return{tag:"div",classes:[jp,zp],...t}},ev=(e,t,n,o=_.none())=>"color"===e.presets?((e,t,n)=>{const o=e.ariaLabel,r=e.value,s=e.iconContent.map((e=>((e,t,n)=>{const o=t();return _g(e,o).or(n).getOrThunk(kg(o))})(e,t.icons,n)));return{dom:(()=>{const e=s.getOr(""),n=o.map((e=>({title:t.translate(e)}))).getOr({}),i={tag:"div",attributes:n,classes:["tox-swatch"]};return"custom"===r?{...i,tag:"button",classes:[...i.classes,"tox-swatches__picker-btn"],innerHtml:e}:"remove"===r?{...i,classes:[...i.classes,"tox-swatch--remove"],innerHtml:e}:{...i,attributes:{...i.attributes,"data-mce-color":r},styles:{"background-color":r}}})(),optComponents:[]}})(e,t,o):((e,t,n,o)=>{const r={tag:"div",classes:[Gp]},s=n?e.iconContent.map((e=>Lg(e,r,t.icons,o))).orThunk((()=>_.some({dom:r}))):_.none(),i=e.checkMark,a=_.from(e.meta).fold((()=>qb),(e=>be(e,"style")?B(Xb,e.style):qb)),A=e.htmlContent.fold((()=>e.textContent.map(a)),(e=>_.some(Zb(e,[qp]))));return{dom:$b(e.ariaLabel),optComponents:[s,A,e.shortcutContent.map(Jb),i,e.caret]}})(e,t,n,o),tv=(e,t)=>fe(e,"tooltipWorker").map((e=>[_b.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:qA}}),mode:"follow-highlight",onShow:(t,n)=>{e((e=>{_b.setComponents(t,[Vi({element:Ne(e)})])}))}})])).getOr([]),nv=(e,t)=>{const n=(e=>Hg.DOM.encode(e))(xg.translate(e));if(t.length>0){const e=new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t),"gi");return n.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}return n},ov=(e,t)=>M(e,(e=>{switch(e.type){case"cardcontainer":return((e,t)=>{const n="vertical"===e.direction?"tox-collection__item-container--column":Yp,o="left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[Jp,n,o,(()=>{switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:t}})(e,ov(e.items,t));case"cardimage":return((e,t,n)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}))(e.src,e.classes,e.alt);case"cardtext":const n=e.name.exists((e=>Q(t.cardText.highlightOn,e))),o=n?_.from(t.cardText.matchText).getOr(""):"";return Zb(nv(e.text,o),e.classes)}})),rv=Lu(ig(),ag()),sv=e=>({value:e}),iv=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,av=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Av=e=>iv.test(e)||av.test(e),lv=e=>{return(t=e,((e,t)=>xe(e,t,0))(t,"#")?((e,t)=>e.substring(t))(t,1):t).toUpperCase();var t},cv=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},uv=e=>{const t=cv(e.red)+cv(e.green)+cv(e.blue);return sv(t)},dv=Math.min,mv=Math.max,hv=Math.round,gv=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,pv=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,fv=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),bv=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},vv=e=>{let t,n,o;const r=(e.hue||0)%360;let s=e.saturation/100,i=e.value/100;if(s=mv(0,dv(s,1)),i=mv(0,dv(i,1)),0===s)return t=n=o=hv(255*i),fv(t,n,o,1);const a=r/60,A=i*s,l=A*(1-Math.abs(a%2-1)),c=i-A;switch(Math.floor(a)){case 0:t=A,n=l,o=0;break;case 1:t=l,n=A,o=0;break;case 2:t=0,n=A,o=l;break;case 3:t=0,n=l,o=A;break;case 4:t=l,n=0,o=A;break;case 5:t=A,n=0,o=l;break;default:t=n=o=0}return t=hv(255*(t+c)),n=hv(255*(n+c)),o=hv(255*(o+c)),fv(t,n,o,1)},wv=e=>{const t=(e=>{const t=(e=>{const t=e.value.replace(iv,((e,t,n,o)=>t+t+n+n+o+o));return{value:t}})(e),n=av.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n})(e),n=parseInt(t[1],16),o=parseInt(t[2],16),r=parseInt(t[3],16);return fv(n,o,r,1)},yv=(e,t,n,o)=>{const r=parseInt(e,10),s=parseInt(t,10),i=parseInt(n,10),a=parseFloat(o);return fv(r,s,i,a)},Bv=e=>{if("transparent"===e)return _.some(fv(0,0,0,0));const t=gv.exec(e);if(null!==t)return _.some(yv(t[1],t[2],t[3],"1"));const n=pv.exec(e);return null!==n?_.some(yv(n[1],n[2],n[3],n[4])):_.none()},Cv=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,xv=fv(255,0,0,1),Sv=(e,t)=>e.dispatch("ResizeContent",t),Fv=(e,t,n)=>({hue:e,saturation:t,value:n}),kv=e=>{let t=0,n=0,o=0;const r=e.red/255,s=e.green/255,i=e.blue/255,a=Math.min(r,Math.min(s,i)),A=Math.max(r,Math.max(s,i));return a===A?(o=a,Fv(0,0,100*o)):(t=r===a?3:i===a?1:5,t=60*(t-(r===a?s-i:i===a?r-s:i-r)/(A-a)),n=(A-a)/A,o=A,Fv(Math.round(t),Math.round(100*n),Math.round(100*o)))},Ev=e=>uv(vv(e)),_v=e=>{return(t=e,Av(t)?_.some({value:lv(t)}):_.none()).orThunk((()=>Bv(e).map(uv))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,r=o[0],s=o[1],i=o[2],a=o[3];return uv(fv(r,s,i,a))}));var t};var Ov=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const Uv="tinymce-custom-colors",Tv=((e=10)=>{const t=Ov.getItem(Uv),n=s(t)?JSON.parse(t):[],o=e-(r=n).length<0?r.slice(0,e):r;var r;const i=e=>{o.splice(e,1)};return{add:t=>{N(o,t).each(i),o.unshift(t),o.length>e&&o.pop(),Ov.setItem(Uv,JSON.stringify(o))},state:()=>o.slice(0)}})(10),Lv=e=>{const t=[];for(let n=0;n<e.length;n+=2)t.push({text:e[n+1],value:"#"+_v(e[n]).value,type:"choiceitem"});return t},Nv=e=>t=>t.options.get(e),Qv=Nv("color_cols"),Dv=Nv("custom_colors"),Iv=Nv("color_map"),Hv=e=>{Tv.add(e)},Mv="#000000",Rv=e=>{const t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[n,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[n]},Pv=(e,t,n,o)=>{"custom"===n?Gv(e)((n=>{n.each((n=>{Hv(n),e.execCommand("mceApplyTextcolor",t,n),o(n)}))}),Mv):"remove"===n?(o(""),e.execCommand("mceRemoveTextcolor",t)):(o(n),e.execCommand("mceApplyTextcolor",t,n))},Vv=(e,t)=>e.concat(M(Tv.state(),(e=>({type:"choiceitem",text:e,value:e}))).concat(Rv(t))),jv=(e,t)=>n=>{n(Vv(e,t))},zv=(e,t,n)=>{const o="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(o,n)},Kv=(e,t,n,o,r)=>{e.ui.registry.addSplitButton(t,{tooltip:o,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:t=>{const o=((e,t)=>{let n;return e.dom.getParents(e.selection.getStart(),(e=>{let o;(o=e.style["forecolor"===t?"color":"background-color"])&&(n=n||o)})),_.from(n)})(e,n);return o.bind((e=>Bv(e).map((e=>{const n=uv(e).value;return Se(t.toLowerCase(),n)})))).getOr(!1)},columns:Qv(e),fetch:jv(Iv(e),Dv(e)),onAction:t=>{Pv(e,n,r.get(),f)},onItemAction:(o,s)=>{Pv(e,n,s,(n=>{r.set(n),((e,t)=>{e.dispatch("TextColorChange",t)})(e,{name:t,color:n})}))},onSetup:n=>{zv(n,t,r.get());const o=e=>{e.name===t&&zv(n,e.name,e.color)};return e.on("TextColorChange",o),()=>{e.off("TextColorChange",o)}}})},Wv=(e,t,n,o)=>{e.ui.registry.addNestedMenuItem(t,{text:o,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",onAction:t=>{Pv(e,n,t.value,f)}}]})},Gv=e=>(t,n)=>{let o=!1;const r={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onAction:(e,t)=>{"hex-valid"===t.name&&(o=t.value)},onSubmit:n=>{const r=n.getData().colorpicker;o?(t(_.from(r)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",r]))},onClose:f,onCancel:()=>{t(_.none())}})},qv=(e,t,n,o,r,s,i,a)=>{const A=cf(t),l=Zv(t,n,o,"color"!==r?"normal":"color",s,i,a);return mf(e,A,l,o,r)},Zv=(e,t,n,o,r,s,i)=>ye(M(e,(a=>{return"choiceitem"===a.type?(A=a,Do("choicemenuitem",db,A)).fold(uf,(A=>_.some(((e,t,n,o,r,s,i,a=!0)=>{const A=ev({presets:n,textContent:t?e.text:_.none(),htmlContent:_.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:_.none(),checkMark:t?_.some(Yb(i.icons)):_.none(),caret:_.none(),value:e.value},i,a);return ro(zb({data:Kb(e),enabled:e.enabled,getApi:e=>({setActive:t=>{Wh.set(e,t)},isActive:()=>Wh.isOn(e),isEnabled:()=>!vd.isDisabled(e),setEnabled:t=>vd.set(e,!t)}),onAction:t=>o(e.value),onSetup:e=>(e.setActive(r),f),triggersSubmenu:!1,itemBehaviours:[]},A,s,i),{toggling:{toggleClass:Wp,toggleOnExecute:!1,selected:e.active,exclusive:!0}})})(A,1===n,o,t,s(a.value),r,i,cf(e))))):_.none();var A}))),Xv=(e,t)=>{const n=nf(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}},Jv=Zs("cell-over"),Yv=Zs("cell-execute"),$v=(e,t,n)=>{const o=n=>ys(n,Yv,{row:e,col:t}),r=(e,t)=>{t.stop(),o(e)};return Ki({dom:{tag:"div",attributes:{role:"button","aria-labelledby":n}},behaviours:lA([Lh("insert-table-picker-cell",[_s(Qr(),Hh.focus),_s($r(),o),_s(Vr(),r),_s(ts(),r)]),Wh.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Hh.config({onFocus:n=>ys(n,Jv,{row:e,col:t})})])})},ew=e=>q(e,(e=>M(e,Wi))),tw=(e,t)=>Pi(`${t}x${e}`),nw={inserttable:e=>{const t=Zs("size-label"),n=((e,t,n)=>{const o=[];for(let r=0;r<10;r++){const t=[];for(let n=0;n<10;n++)t.push($v(r,n,e));o.push(t)}return o})(t),o=tw(0,0),r=Cg({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[o],behaviours:lA([Th.config({})])});return{type:"widget",data:{value:Zs("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[rv.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:ew(n).concat(r.asSpec()),behaviours:lA([Lh("insert-table-picker",[Is((e=>{Th.set(r.get(e),[o])})),Ls(Jv,((e,t,o)=>{const{row:s,col:i}=o.event;((e,t,n,o,r)=>{for(let s=0;s<10;s++)for(let o=0;o<10;o++)Wh.set(e[s][o],s<=t&&o<=n)})(n,s,i),Th.set(r.get(e),[tw(s+1,i+1)])})),Ls(Yv,((t,n,o)=>{const{row:r,col:s}=o.event;e.onAction({numRows:r+1,numColumns:s+1}),ws(t,os())}))]),Ch.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,t)=>{const n=((e,t)=>{const n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>Vv(t.colorinput.getColors(),n)),(e=>e.concat(Rv(n))))})(e,t),o=t.colorinput.getColorCols(),r="color",s={...qv(Zs("menu-value"),n,(t=>{e.onAction({value:t})}),o,r,Vp.CLOSE_ON_EXECUTE,F,t.shared.providers),markers:nf(r),movement:Xv(o,r)};return{type:"widget",data:{value:Zs("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[rv.widget(mg.sketch(s))]}}},ow=e=>({type:"separator",dom:{tag:"div",classes:[zp,"tox-collection__group-heading"]},components:e.text.map(Pi).toArray()});var rw;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(rw||(rw={}));const sw=(e,t,n,o,r)=>{const s=n.shared.providers,i=e=>r?{...e,shortcut:_.none(),icon:e.text.isSome()?_.none():e.icon}:e;switch(e.type){case"menuitem":return(a=e,Do("menuitem",fb,a)).fold(uf,(e=>_.some(((e,t,n,o=!0)=>{const r=ev({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:_.none(),ariaLabel:e.text,caret:_.none(),checkMark:_.none(),shortcutContent:e.shortcut},n,o);return zb({data:Kb(e),getApi:e=>({isEnabled:()=>!vd.isDisabled(e),setEnabled:t=>vd.set(e,!t)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n)})(i(e),t,s,o))));case"nestedmenuitem":return(e=>Do("nestedmenuitem",bb,e))(e).fold(uf,(e=>_.some(((e,t,n,o=!0,r=!1)=>{const s=r?(i=n.icons,Gb("chevron-down",i,[Zp])):(e=>Gb("chevron-right",e,[Zp]))(n.icons);var i;const a=ev({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:_.none(),ariaLabel:e.text,caret:_.some(s),checkMark:_.none(),shortcutContent:e.shortcut},n,o);return zb({data:Kb(e),getApi:e=>({isEnabled:()=>!vd.isDisabled(e),setEnabled:t=>vd.set(e,!t)}),enabled:e.enabled,onAction:f,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},a,t,n)})(i(e),t,s,o,r))));case"togglemenuitem":return(e=>Do("togglemenuitem",vb,e))(e).fold(uf,(e=>_.some(((e,t,n,o=!0)=>{const r=ev({iconContent:e.icon,textContent:e.text,htmlContent:_.none(),ariaLabel:e.text,checkMark:_.some(Yb(n.icons)),caret:_.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,o);return ro(zb({data:Kb(e),enabled:e.enabled,getApi:e=>({setActive:t=>{Wh.set(e,t)},isActive:()=>Wh.isOn(e),isEnabled:()=>!vd.isDisabled(e),setEnabled:t=>vd.set(e,!t)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n),{toggling:{toggleClass:Wp,toggleOnExecute:!1,selected:e.active}})})(i(e),t,s,o))));case"separator":return(e=>Do("separatormenuitem",Vf,e))(e).fold(uf,(e=>_.some(ow(e))));case"fancymenuitem":return(e=>Do("fancymenuitem",pb,e))(e).fold(uf,(e=>((e,t)=>fe(nw,e.fancytype).map((n=>n(e,t))))(i(e),n)));default:return console.error("Unknown item in general menu",e),_.none()}var a},iw=(e,t,n,o,r,s,i)=>{const a=1===o,A=!a||cf(e);return ye(M(e,(e=>{switch(e.type){case"separator":return(o=e,Do("Autocompleter.Separator",Vf,o)).fold(uf,(e=>_.some(ow(e))));case"cardmenuitem":return(e=>Do("cardmenuitem",ub,e))(e).fold(uf,(e=>_.some(((e,t,n,o)=>{const r={dom:$b(e.label),optComponents:[_.some({dom:{tag:"div",classes:[Jp,Yp]},components:ov(e.items,o)})]};return zb({data:Kb({text:_.none(),...e}),enabled:e.enabled,getApi:e=>({isEnabled:()=>!vd.isDisabled(e),setEnabled:t=>{vd.set(e,!t),R(Tl(e.element,"*"),(n=>{e.getSystem().getByDom(n).each((e=>{e.hasConfigured(vd)&&vd.set(e,!t)}))}))}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:_.from(o.itemBehaviours).getOr([])},r,t,n.providers)})({...e,onAction:t=>{e.onAction(t),n(e.value,e.meta)}},r,s,{itemBehaviours:tv(e.meta,s),cardText:{matchText:t,highlightOn:i}}))));default:return(e=>Do("Autocompleter.Item",jf,e))(e).fold(uf,(e=>_.some(((e,t,n,o,r,s,i,a=!0)=>{const A=ev({presets:o,textContent:_.none(),htmlContent:n?e.text.map((e=>nv(e,t))):_.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:_.none(),checkMark:_.none(),caret:_.none(),value:e.value},i.providers,a,e.icon);return zb({data:Kb(e),enabled:e.enabled,getApi:v({}),onAction:t=>r(e.value,e.meta),onSetup:v(f),triggersSubmenu:!1,itemBehaviours:tv(e.meta,i)},A,s,i.providers)})(e,t,a,"normal",n,r,s,A))))}var o})))},aw=(e,t,n,o,r)=>{const s=cf(t),i=ye(M(t,(e=>{const t=e=>sw(e,n,o,(e=>r?!be(e,"text"):s)(e),r);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t({...e,enabled:!1}):t(e)})));return(r?df:mf)(e,s,i,1,"normal")},Aw=e=>vg.singleData(e.value,e),lw=(e,t)=>{const n=pr(!1),o=pr(!1),r=Ki(wg.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:lA([Lh("dismissAutocompleter",[_s(ds(),(()=>l()))])]),lazySink:t.getSink})),s=()=>wg.isOpen(r),i=o.get,a=()=>{s()&&wg.hide(r)},A=()=>wg.getContent(r).bind((e=>te(e.components(),0))),l=()=>e.execCommand("mceAutocompleterClose"),c=o=>{const s=(o=>{const r=se(o,(e=>_.from(e.columns))).getOr(1);return q(o,(o=>{const s=o.items;return iw(s,o.matchText,((t,r)=>{const s=e.selection.getRng();((e,t)=>Rp(Ne(t.startContainer)).map((t=>{const n=e.createRng();return n.selectNode(t.dom),n})))(e.dom,s).each((s=>{const i={hide:()=>l(),reload:t=>{a(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}};n.set(!0),o.onAction(i,s,t,r),n.set(!1)}))}),r,Vp.BUBBLE_TO_SANDBOX,t,o.highlightOn)}))})(o);s.length>0?((t,n)=>{var o;(o=Ne(e.getBody()),ea(o,Mp)).each((o=>{const s=se(t,(e=>_.from(e.columns))).getOr(1);wg.showMenuAt(r,{anchor:{type:"node",root:Ne(e.getBody()),node:_.from(o)}},((e,t,n,o)=>{const r=Xv(t,o),s=nf(o);return{data:Aw({...e,movement:r,menuBehaviours:yb("auto"!==t?[]:[Is(((e,t)=>{wb(e,4,s.item).each((({numColumns:t,numRows:n})=>{Ch.setGridSize(e,n,t)}))}))])}),menu:{markers:nf(o),fakeFocus:n===rw.ContentFocus}}})(mf("autocompleter-value",!0,n,s,"normal"),s,rw.ContentFocus,"normal"))})),A().each(_d.highlightFirst)})(o,s):a()};e.on("AutocompleterStart",(({lookupData:e})=>{o.set(!0),n.set(!1),c(e)})),e.on("AutocompleterUpdate",(({lookupData:e})=>c(e))),e.on("AutocompleterEnd",(()=>{a(),o.set(!1),n.set(!1)})),((e,t)=>{const n=(e,t)=>{ys(e,Hr(),{raw:t})},o=()=>e.getMenu().bind(_d.getHighlighted);t.on("keydown",(t=>{const r=t.which;e.isActive()&&(e.isMenuOpen()?13===r?(o().each(Bs),t.preventDefault()):40===r?(o().fold((()=>{e.getMenu().each(_d.highlightFirst)}),(e=>{n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==r&&38!==r&&39!==r||o().each((e=>{n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==r&&38!==r&&40!==r||e.cancelIfNecessary())})),t.on("NodeChange",(t=>{e.isActive()&&!e.isProcessingAction()&&Rp(Ne(t.element)).isNone()&&e.cancelIfNecessary()}))})({cancelIfNecessary:l,isMenuOpen:s,isActive:i,isProcessingAction:n.get,getMenu:A},e)},cw=(e,t,n)=>ta(e,t,n).isSome(),uw=(e,t)=>{let n=null;return{cancel:()=>{null!==n&&(clearTimeout(n),n=null)},schedule:(...o)=>{n=setTimeout((()=>{e.apply(null,o),n=null}),t)}}},dw=e=>{const t=e.raw;return void 0===t.touches||1!==t.touches.length?_.none():_.some(t.touches[0])},mw=(e,t)=>{const n={stopBackspace:!0,...t},o=(e=>{const t=HA(),n=pr(!1),o=uw((t=>{e.triggerEvent(ns(),t),n.set(!0)}),400),r=vr([{key:kr(),value:e=>(dw(e).each((r=>{o.cancel();const s={x:r.clientX,y:r.clientY,target:e.target};o.schedule(e),n.set(!1),t.set(s)})),_.none())},{key:Er(),value:e=>(o.cancel(),dw(e).each((e=>{t.on((n=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(e,n)&&t.clear()}))})),_.none())},{key:_r(),value:r=>(o.cancel(),t.get().filter((e=>Ke(e.target,r.target))).map((t=>n.get()?(r.prevent(),!1):e.triggerEvent(ts(),r))))}]);return{fireIfReady:(e,t)=>fe(r,t).bind((t=>t(e)))}})(n),r=M(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>RA(e,t,(e=>{o.fireIfReady(e,t).each((t=>{t&&e.kill()})),n.triggerEvent(t,e)&&e.kill()})))),s=HA(),i=RA(e,"paste",(e=>{o.fireIfReady(e,"paste").each((t=>{t&&e.kill()})),n.triggerEvent("paste",e)&&e.kill(),s.set(setTimeout((()=>{n.triggerEvent(Jr(),e)}),0))})),a=RA(e,"keydown",(e=>{n.triggerEvent("keydown",e)?e.kill():n.stopBackspace&&(e=>e.raw.which===Od[0]&&!Q(["input","textarea"],De(e.target))&&!cw(e.target,'[contenteditable="true"]'))(e)&&e.prevent()})),A=RA(e,"focusin",(e=>{n.triggerEvent("focusin",e)&&e.kill()})),l=HA(),c=RA(e,"focusout",(e=>{n.triggerEvent("focusout",e)&&e.kill(),l.set(setTimeout((()=>{n.triggerEvent(Xr(),e)}),0))}));return{unbind:()=>{R(r,(e=>{e.unbind()})),a.unbind(),A.unbind(),c.unbind(),i.unbind(),s.on(clearTimeout),l.on(clearTimeout)}}},hw=(e,t)=>{const n=fe(e,"target").getOr(t);return pr(n)},gw=fr([{stopped:[]},{resume:["element"]},{complete:[]}]),pw=(e,t,n,o,r,s)=>{const i=e(t,o),a=((e,t)=>{const n=pr(!1),o=pr(!1);return{stop:()=>{n.set(!0)},cut:()=>{o.set(!0)},isStopped:n.get,isCut:o.get,event:e,setSource:t.set,getSource:t.get}})(n,r);return i.fold((()=>(s.logEventNoHandlers(t,o),gw.complete())),(e=>{const n=e.descHandler;return pi(n)(a),a.isStopped()?(s.logEventStopped(t,e.element,n.purpose),gw.stopped()):a.isCut()?(s.logEventCut(t,e.element,n.purpose),gw.complete()):Je(e.element).fold((()=>(s.logNoParent(t,e.element,n.purpose),gw.complete())),(o=>(s.logEventResponse(t,e.element,n.purpose),gw.resume(o))))}))},fw=(e,t,n,o,r,s)=>pw(e,t,n,o,r,s).fold(k,(o=>fw(e,t,n,o,r,s)),F),bw=(e,t,n,o,r)=>{const s=hw(n,o);return fw(e,t,n,o,s,r)},vw=()=>{const e=(()=>{const e={};return{registerId:(t,n,o)=>{Ae(o,((o,r)=>{const s=void 0!==e[r]?e[r]:{};s[n]=((e,t)=>({cHandler:B.apply(void 0,[e.handler].concat(t)),purpose:e.purpose}))(o,t),e[r]=s}))},unregisterId:t=>{Ae(e,((e,n)=>{be(e,t)&&delete e[t]}))},filterByType:t=>fe(e,t).map((e=>he(e,((e,t)=>((e,t)=>({id:e,descHandler:t}))(t,e))))).getOr([]),find:(t,n,o)=>fe(e,n).bind((e=>Br(o,(t=>((e,t)=>ti(t).bind((t=>fe(e,t))).map((e=>((e,t)=>({element:e,descHandler:t}))(t,e))))(e,t)),t)))}})(),t={},n=n=>{ti(n.element).each((n=>{delete t[n],e.unregisterId(n)}))};return{find:(t,n,o)=>e.find(t,n,o),filter:t=>e.filterByType(t),register:o=>{const r=(e=>{const t=e.element;return ti(t).getOrThunk((()=>((e,t)=>{const n=Zs(Ys+"uid-");return ei(t,n),n})(0,e.element)))})(o);ve(t,r)&&((e,o)=>{const r=t[o];if(r!==e)throw new Error('The tagId "'+o+'" is already used by: '+zs(r.element)+"\nCannot use it for: "+zs(e.element)+"\nThe conflicting element is"+(ut(r.element)?" ":" not ")+"already in the DOM");n(e)})(o,r);const s=[o];e.registerId(s,r,o.events),t[r]=o},unregister:n,getById:e=>fe(t,e)}},ww=ed({name:"Container",factory:e=>{const{attributes:t,...n}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...n},components:e.components,behaviours:eu(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[ar("components",[]),$c("containerBehaviours",[]),ar("events",{}),ar("domModification",{}),ar("eventOrder",{})]}),yw=e=>{const t=t=>Je(e.element).fold(k,(e=>Ke(t,e))),n=vw(),o=(e,o)=>n.find(t,e,o),r=mw(e.element,{triggerEvent:(e,t)=>Aa(e,t.target,(n=>((e,t,n,o)=>bw(e,t,n,n.target,o))(o,e,t,n)))}),s={debugInfo:v("real"),triggerEvent:(e,t,n)=>{Aa(e,t,(r=>bw(o,e,n,t,r)))},triggerFocus:(e,t)=>{ti(e).fold((()=>{fA(e)}),(n=>{Aa(Zr(),e,(n=>(((e,t,n,o,r)=>{const s=hw(n,o);pw(e,t,n,o,s,r)})(o,Zr(),{originator:t,kill:f,prevent:f,target:e},e,n),!1)))}))},triggerEscape:(e,t)=>{s.triggerEvent("keydown",e.element,t.event)},getByUid:e=>h(e),getByDom:e=>g(e),build:Ki,buildOrPatch:zi,addToGui:e=>{A(e)},removeFromGui:e=>{l(e)},addToWorld:e=>{i(e)},removeFromWorld:e=>{a(e)},broadcast:e=>{u(e)},broadcastOn:(e,t)=>{d(e,t)},broadcastEvent:(e,t)=>{m(e,t)},isConnected:k},i=e=>{e.connect(s),Me(e.element)||(n.register(e),R(e.components(),i),s.triggerEvent(ss(),e.element,{target:e.element}))},a=e=>{Me(e.element)||(R(e.components(),a),n.unregister(e)),e.disconnect()},A=t=>{hc(e,t)},l=e=>{fc(e)},c=e=>{const t=n.filter(Yr());R(t,(t=>{const n=t.descHandler;pi(n)(e)}))},u=e=>{c({universal:!0,data:e})},d=(e,t)=>{c({universal:!1,channels:e,data:t})},m=(e,t)=>((e,t,n)=>{const o=(e=>{const t=pr(!1);return{stop:()=>{t.set(!0)},cut:f,isStopped:t.get,isCut:F,event:e,setSource:x("Cannot set source of a broadcasted event"),getSource:x("Cannot get source of a broadcasted event")}})(t);return R(e,(e=>{const t=e.descHandler;pi(t)(o)})),o.isStopped()})(n.filter(e),t),h=e=>n.getById(e).fold((()=>Gn.error(new Error('Could not find component with uid: "'+e+'" in system.'))),Gn.value),g=e=>{const t=ti(e).getOr("not found");return h(t)};return i(e),{root:e,element:e.element,destroy:()=>{r.unbind(),Tn(e.element)},add:A,remove:l,getByUid:h,getByDom:g,addToWorld:i,removeFromWorld:a,broadcast:u,broadcastOn:d,broadcastEvent:m}},Bw=v([ar("prefix","form-field"),$c("fieldBehaviours",[sd,Yc])]),Cw=v([Eu({schema:[zo("dom")],name:"label"}),Eu({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[zo("text")],name:"aria-descriptor"}),Fu({factory:{sketch:e=>{const t=((e,t)=>{const n={};return Ae(e,((e,o)=>{Q(t,o)||(n[o]=e)})),n})(e,["factory"]);return e.factory.sketch(t)}},schema:[zo("factory")],name:"field"})]),xw=td({name:"FormField",configFields:Bw(),partFields:Cw(),factory:(e,t,n,o)=>{const r=tu(e.fieldBehaviours,[sd.config({find:t=>Ru(t,e,"field")}),Yc.config({store:{mode:"manual",getValue:e=>sd.getCurrent(e).bind(Yc.getValue),setValue:(e,t)=>{sd.getCurrent(e).each((e=>{Yc.setValue(e,t)}))}}})]),s=Fs([Is(((t,n)=>{const o=Vu(t,e,["label","field","aria-descriptor"]);o.field().each((t=>{const n=Zs(e.prefix);o.label().each((e=>{gt(e.element,"for",n),gt(t.element,"id",n)})),o["aria-descriptor"]().each((n=>{const o=Zs(e.prefix);gt(n.element,"id",o),gt(t.element,"aria-describedby",o)}))}))}))]),i={getField:t=>Ru(t,e,"field"),getLabel:t=>Ru(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:r,events:s,apis:i}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var Sw=Object.freeze({__proto__:null,exhibit:(e,t)=>gi({attributes:vr([{key:t.tabAttr,value:"true"}])})}),Fw=[ar("tabAttr","data-alloy-tabstop")];const kw=uA({fields:Fw,name:"tabstopping",active:Sw});var Ew=tinymce.util.Tools.resolve("tinymce.html.Entities");const _w=(e,t,n,o)=>{const r=Ow(e,t,n,o);return xw.sketch(r)},Ow=(e,t,n,o)=>({dom:Uw(n),components:e.toArray().concat([t]),fieldBehaviours:lA(o)}),Uw=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),Tw=(e,t)=>xw.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Pi(t.translate(e))]}),Lw=Zs("form-component-change"),Nw=Zs("form-close"),Qw=Zs("form-cancel"),Dw=Zs("form-action"),Iw=Zs("form-submit"),Hw=Zs("form-block"),Mw=Zs("form-unblock"),Rw=Zs("form-tabchange"),Pw=Zs("form-resize"),Vw=v([$o("data"),ar("inputAttributes",{}),ar("inputStyles",{}),ar("tag","input"),ar("inputClasses",[]),fa("onSetValue"),ar("styles",{}),ar("eventOrder",{}),$c("inputBehaviours",[Yc,Hh]),ar("selectOnFocus",!0)]),jw=e=>lA([Hh.config({onFocus:e.selectOnFocus?e=>{const t=e.element,n=Ti(t);t.dom.setSelectionRange(0,n.length)}:f})]),zw=e=>({...jw(e),...tu(e.inputBehaviours,[Yc.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:e=>Ti(e.element),setValue:(e,t)=>{Ti(e.element)!==t&&Li(e.element,t)}},onSetValue:e.onSetValue})])}),Kw=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),Ww=ed({name:"Input",configFields:Vw(),factory:(e,t)=>({uid:e.uid,dom:Kw(e),components:[],behaviours:zw(e),eventOrder:e.eventOrder})}),Gw=e=>{let t=_.none(),n=[];const o=e=>{r()?s(e):n.push(e)},r=()=>t.isSome(),s=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e((e=>{r()||(t=_.some(e),R(n,s),n=[])})),{get:o,map:e=>Gw((t=>{o((n=>{t(e(n))}))})),isReady:r}},qw={nu:Gw,pure:e=>Gw((t=>{t(e)}))},Zw=e=>{setTimeout((()=>{throw e}),0)},Xw=e=>{const t=t=>{e().then(t,Zw)};return{map:t=>Xw((()=>e().then(t))),bind:t=>Xw((()=>e().then((e=>t(e).toPromise())))),anonBind:t=>Xw((()=>e().then((()=>t.toPromise())))),toLazy:()=>qw.nu(t),toCached:()=>{let t=null;return Xw((()=>(null===t&&(t=e()),t)))},toPromise:e,get:t}},Jw=e=>Xw((()=>new Promise(e))),Yw=e=>Xw((()=>Promise.resolve(e))),$w=["input","textarea"],ey=e=>{const t=De(e);return Q($w,t)},ty=(e,t)=>{const n=t.getRoot(e).getOr(e.element);Ei(n,t.invalidClass),t.notify.each((t=>{ey(e.element)&&gt(e.element,"aria-invalid",!1),t.getContainer(e).each((e=>{Vs(e,t.validHtml)})),t.onValid(e)}))},ny=(e,t,n,o)=>{const r=t.getRoot(e).getOr(e.element);ki(r,t.invalidClass),t.notify.each((t=>{ey(e.element)&&gt(e.element,"aria-invalid",!0),t.getContainer(e).each((e=>{Vs(e,o)})),t.onInvalid(e,o)}))},oy=(e,t,n)=>t.validator.fold((()=>Yw(Gn.value(!0))),(t=>t.validate(e))),ry=(e,t,n)=>(t.notify.each((t=>{t.onValidate(e)})),oy(e,t).map((n=>e.getSystem().isConnected()?n.fold((n=>(ny(e,t,0,n),Gn.error(n))),(n=>(ty(e,t),Gn.value(n)))):Gn.error("No longer in system"))));var sy=Object.freeze({__proto__:null,markValid:ty,markInvalid:ny,query:oy,run:ry,isInvalid:(e,t)=>{const n=t.getRoot(e).getOr(e.element);return _i(n,t.invalidClass)}}),iy=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map((t=>Fs([_s(t.onEvent,(t=>{ry(t,e).get(w)}))].concat(t.validateOnLoad?[Is((t=>{ry(t,e).get(f)}))]:[])))).getOr({})}),ay=[zo("invalidClass"),ar("getRoot",_.none),ir("notify",[ar("aria","alert"),ar("getContainer",_.none),ar("validHtml",""),fa("onValid"),fa("onInvalid"),fa("onValidate")]),ir("validator",[zo("validate"),ar("onEvent","input"),ar("validateOnLoad",!0)])];const Ay=uA({fields:ay,name:"invalidating",active:iy,apis:sy,extra:{validation:e=>t=>{const n=Yc.getValue(t);return Yw(e(n))}}});var ly=Object.freeze({__proto__:null,getCoupled:(e,t,n,o)=>n.getOrCreate(e,t,o)}),cy=[Ko("others",Qo(Gn.value,So()))],uy=Object.freeze({__proto__:null,init:()=>{const e={},t=v({});return mi({readState:t,getOrCreate:(t,n,o)=>{const r=ie(n.others);if(r)return fe(e,o).getOrThunk((()=>{const r=fe(n.others,o).getOrDie("No information found for coupled component: "+o)(t),s=t.getSystem().build(r);return e[o]=s,s}));throw new Error("Cannot find coupled component: "+o+". Known coupled components: "+JSON.stringify(r,null,2))}})}});const dy=uA({fields:cy,name:"coupling",apis:ly,state:uy}),my=v("sink"),hy=v(Eu({name:my(),overrides:v({dom:{tag:"div"},behaviours:lA([ac.config({useFixed:k})]),events:Fs([Ns(Hr()),Ns(Ur()),Ns(Vr())])})}));var gy;!function(e){e[e.HighlightFirst=0]="HighlightFirst",e[e.HighlightNone=1]="HighlightNone"}(gy||(gy={}));const py=(e,t)=>{const n=e.getHotspot(t).getOr(t),o="hotspot",r=e.getAnchorOverrides();return e.layouts.fold((()=>({type:o,hotspot:n,overrides:r})),(e=>({type:o,hotspot:n,overrides:r,layouts:e})))},fy=(e,t,n,o,r,s,i)=>{const a=((e,t,n,o,r,s,i)=>{const a=((e,t,n)=>(0,e.fetch)(n).map(t))(e,t,o),A=wy(o,e);return a.map((e=>e.bind((e=>_.from(vg.sketch({...s.menu(),uid:ni(""),data:e,highlightImmediately:i===gy.HighlightFirst,onOpenMenu:(e,t)=>{const o=A().getOrDie();ac.position(o,t,{anchor:n}),Tc.decloak(r)},onOpenSubmenu:(e,t,n)=>{const o=A().getOrDie();ac.position(o,n,{anchor:{type:"submenu",item:t}}),Tc.decloak(r)},onRepositionMenu:(e,t,o)=>{const r=A().getOrDie();ac.position(r,t,{anchor:n}),R(o,(e=>{ac.position(r,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>(Hh.focus(o),Tc.close(r),_.some(!0))}))))))})(e,t,py(e,n),n,o,r,i);return a.map((e=>(e.fold((()=>{Tc.isOpen(o)&&Tc.close(o)}),(e=>{Tc.cloak(o),Tc.open(o,e),s(o)})),o)))},by=(e,t,n,o,r,s,i)=>(Tc.close(o),Yw(o)),vy=(e,t,n,o,r,s)=>{const i=dy.getCoupled(n,"sandbox");return(Tc.isOpen(i)?by:fy)(e,t,n,i,o,r,s)},wy=(e,t)=>e.getSystem().getByUid(t.uid+"-"+my()).map((e=>()=>Gn.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>Gn.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e))))),yy=e=>{Tc.getState(e).each((e=>{vg.repositionMenus(e)}))},By=(e,t,n)=>{const o=oa(),r=wy(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:o.id,role:"listbox"}},behaviours:ou(e.sandboxBehaviours,[Yc.config({store:{mode:"memory",initialValue:t}}),Tc.config({onOpen:(r,s)=>{const i=py(e,t);o.link(t.element),e.matchWidth&&((e,t,n)=>{const o=sd.getCurrent(t).getOr(t),r=jt(e.element);n?Ct(o.element,"min-width",r+"px"):((e,t)=>{Vt.set(e,t)})(o.element,r)})(i.hotspot,s,e.useMinWidth),e.onOpen(i,r,s),void 0!==n&&void 0!==n.onOpen&&n.onOpen(r,s)},onClose:(e,r)=>{o.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,r)},isPartOf:(e,n,o)=>ra(n,o)||ra(t,o),getAttachPoint:()=>r().getOrDie()}),sd.config({find:e=>Tc.getState(e).bind((e=>sd.getCurrent(e)))}),gA.config({channels:{...Ic({isExtraPart:F}),...Mc({doReposition:yy})}})])}},Cy=e=>{const t=dy.getCoupled(e,"sandbox");yy(t)},xy=()=>[ar("sandboxClasses",[]),nu("sandboxBehaviours",[sd,gA,Tc,Yc])],Sy=v([zo("dom"),zo("fetch"),fa("onOpen"),ba("onExecute"),ar("getHotspot",_.some),ar("getAnchorOverrides",v({})),il(),$c("dropdownBehaviours",[Wh,dy,Ch,Hh]),zo("toggleClass"),ar("eventOrder",{}),$o("lazySink"),ar("matchWidth",!1),ar("useMinWidth",!1),$o("role")].concat(xy())),Fy=v([ku({schema:[ha()],name:"menu",defaults:e=>({onExecute:e.onExecute})}),hy()]),ky=td({name:"Dropdown",configFields:Sy(),partFields:Fy(),factory:(e,t,n,o)=>{const r=e=>{Tc.getState(e).each((e=>{vg.highlightPrimary(e)}))},s={expand:t=>{Wh.isOn(t)||vy(e,w,t,o,f,gy.HighlightNone).get(f)},open:t=>{Wh.isOn(t)||vy(e,w,t,o,f,gy.HighlightFirst).get(f)},isOpen:Wh.isOn,close:t=>{Wh.isOn(t)&&vy(e,w,t,o,f,gy.HighlightFirst).get(f)},repositionMenus:e=>{Wh.isOn(e)&&Cy(e)}},i=(e,t)=>(Bs(e),_.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:tu(e.dropdownBehaviours,[Wh.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),dy.config({others:{sandbox:t=>By(e,t,{onOpen:()=>Wh.on(t),onClose:()=>Wh.off(t)})}}),Ch.config({mode:"special",onSpace:i,onEnter:i,onDown:(e,t)=>{if(ky.isOpen(e)){const t=dy.getCoupled(e,"sandbox");r(t)}else ky.open(e);return _.some(!0)},onEscape:(e,t)=>ky.isOpen(e)?(ky.close(e),_.some(!0)):_.none()}),Hh.config({})]),events:qh(_.some((t=>{vy(e,w,t,o,r,gy.HighlightFirst).get(f)}))),eventOrder:{...e.eventOrder,[$r()]:["disabling","toggling","alloy.base.behaviour"]},apis:s,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold((()=>({})),(e=>({role:e}))),..."button"===e.dom.tag?{type:fe(e.dom,"attributes").bind((e=>fe(e,"type"))).getOr("button")}:{}}}}},apis:{open:(e,t)=>e.open(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),Ey=uA({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Fs([ks(Wr(),k)]),exhibit:()=>gi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),_y=Zs("color-input-change"),Oy=Zs("color-swatch-change"),Uy=Zs("color-picker-cancel"),Ty=Eu({schema:[zo("dom")],name:"label"}),Ly=e=>Eu({name:e+"-edge",overrides:t=>t.model.manager.edgeActions[e].fold((()=>({})),(e=>({events:Fs([Os(kr(),((t,n,o)=>e(t,o)),[t]),Os(Ur(),((t,n,o)=>e(t,o)),[t]),Os(Tr(),((t,n,o)=>{o.mouseIsDown.get()&&e(t,o)}),[t])])})))}),Ny=Ly("top-left"),Qy=Ly("top"),Dy=Ly("top-right"),Iy=Ly("right"),Hy=Ly("bottom-right"),My=Ly("bottom"),Ry=Ly("bottom-left");var Py=[Ty,Ly("left"),Iy,Qy,My,Ny,Dy,Ry,Hy,Fu({name:"thumb",defaults:v({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Fs([Ts(kr(),e,"spectrum"),Ts(Er(),e,"spectrum"),Ts(_r(),e,"spectrum"),Ts(Ur(),e,"spectrum"),Ts(Tr(),e,"spectrum"),Ts(Nr(),e,"spectrum")])})}),Fu({schema:[Vo("mouseIsDown",(()=>pr(!1)))],name:"spectrum",overrides:e=>{const t=e.model.manager,n=(n,o)=>t.getValueFromEvent(o).map((o=>t.setValueFrom(n,e,o)));return{behaviours:lA([Ch.config({mode:"special",onLeft:n=>t.onLeft(n,e),onRight:n=>t.onRight(n,e),onUp:n=>t.onUp(n,e),onDown:n=>t.onDown(n,e)}),Hh.config({})]),events:Fs([_s(kr(),n),_s(Er(),n),_s(Ur(),n),_s(Tr(),((t,o)=>{e.mouseIsDown.get()&&n(t,o)}))])}}})];const Vy=v("slider.change.value"),jy=e=>{const t=e.event.raw;if((e=>-1!==e.type.indexOf("touch"))(t)){const e=t;return void 0!==e.touches&&1===e.touches.length?_.some(e.touches[0]).map((e=>Ht(e.clientX,e.clientY))):_.none()}{const e=t;return void 0!==e.clientX?_.some(e).map((e=>Ht(e.clientX,e.clientY))):_.none()}},zy=e=>e.model.minX,Ky=e=>e.model.minY,Wy=e=>e.model.minX-1,Gy=e=>e.model.minY-1,qy=e=>e.model.maxX,Zy=e=>e.model.maxY,Xy=e=>e.model.maxX+1,Jy=e=>e.model.maxY+1,Yy=(e,t,n)=>t(e)-n(e),$y=e=>Yy(e,qy,zy),eB=e=>Yy(e,Zy,Ky),tB=e=>$y(e)/2,nB=e=>eB(e)/2,oB=e=>e.stepSize,rB=e=>e.snapToGrid,sB=e=>e.snapStart,iB=e=>e.rounded,aB=(e,t)=>void 0!==e[t+"-edge"],AB=e=>aB(e,"left"),lB=e=>aB(e,"right"),cB=e=>aB(e,"top"),uB=e=>aB(e,"bottom"),dB=e=>e.model.value.get(),mB=(e,t)=>({x:e,y:t}),hB=(e,t)=>{ys(e,Vy(),{value:t})},gB=(e,t,n,o)=>e<t?e:e>n?n:e===t?t-1:Math.max(t,e-o),pB=(e,t,n,o)=>e>n?e:e<t?t:e===n?n+1:Math.min(n,e+o),fB=(e,t,n)=>Math.max(t,Math.min(n,e)),bB=e=>{const{min:t,max:n,range:o,value:r,step:s,snap:i,snapStart:a,rounded:A,hasMinEdge:l,hasMaxEdge:c,minBound:u,maxBound:d,screenRange:m}=e,h=l?t-1:t,g=c?n+1:n;if(r<u)return h;if(r>d)return g;{const e=((e,t,n)=>Math.min(n,Math.max(e,t))-t)(r,u,d),l=fB(e/m*o+t,h,g);return i&&l>=t&&l<=n?((e,t,n,o,r)=>r.fold((()=>{const r=e-t,s=Math.round(r/o)*o;return fB(t+s,t-1,n+1)}),(t=>{const r=(e-t)%o,s=Math.round(r/o),i=Math.floor((e-t)/o),a=Math.floor((n-t)/o),A=t+Math.min(a,i+s)*o;return Math.max(t,A)})))(l,t,n,s,a):A?Math.round(l):l}},vB=e=>{const{min:t,max:n,range:o,value:r,hasMinEdge:s,hasMaxEdge:i,maxBound:a,maxOffset:A,centerMinEdge:l,centerMaxEdge:c}=e;return r<t?s?0:l:r>n?i?a:c:(r-t)/o*A},wB="top",yB="right",BB="bottom",CB="left",xB=e=>e.element.dom.getBoundingClientRect(),SB=(e,t)=>e[t],FB=e=>{const t=xB(e);return SB(t,CB)},kB=e=>{const t=xB(e);return SB(t,yB)},EB=e=>{const t=xB(e);return SB(t,wB)},_B=e=>{const t=xB(e);return SB(t,BB)},OB=e=>{const t=xB(e);return SB(t,"width")},UB=e=>{const t=xB(e);return SB(t,"height")},TB=(e,t,n)=>(e+t)/2-n,LB=(e,t)=>{const n=xB(e),o=xB(t),r=SB(n,CB),s=SB(n,yB),i=SB(o,CB);return TB(r,s,i)},NB=(e,t)=>{const n=xB(e),o=xB(t),r=SB(n,wB),s=SB(n,BB),i=SB(o,wB);return TB(r,s,i)},QB=(e,t)=>{ys(e,Vy(),{value:t})},DB=(e,t,n)=>{const o={min:zy(t),max:qy(t),range:$y(t),value:n,step:oB(t),snap:rB(t),snapStart:sB(t),rounded:iB(t),hasMinEdge:AB(t),hasMaxEdge:lB(t),minBound:FB(e),maxBound:kB(e),screenRange:OB(e)};return bB(o)},IB=e=>(t,n)=>((e,t,n)=>{const o=(e>0?pB:gB)(dB(n),zy(n),qy(n),oB(n));return QB(t,o),_.some(o)})(e,t,n).map(k),HB=(e,t,n,o,r,s)=>{const i=((e,t,n,o,r)=>{const s=OB(e),i=o.bind((t=>_.some(LB(t,e)))).getOr(0),a=r.bind((t=>_.some(LB(t,e)))).getOr(s),A={min:zy(t),max:qy(t),range:$y(t),value:n,hasMinEdge:AB(t),hasMaxEdge:lB(t),minBound:FB(e),minOffset:0,maxBound:kB(e),maxOffset:s,centerMinEdge:i,centerMaxEdge:a};return vB(A)})(t,s,n,o,r);return FB(t)-FB(e)+i},MB=IB(-1),RB=IB(1),PB=_.none,VB=_.none,jB={"top-left":_.none(),top:_.none(),"top-right":_.none(),right:_.some(((e,t)=>{hB(e,Xy(t))})),"bottom-right":_.none(),bottom:_.none(),"bottom-left":_.none(),left:_.some(((e,t)=>{hB(e,Wy(t))}))};var zB=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const o=DB(e,t,n);return QB(e,o),o},setToMin:(e,t)=>{const n=zy(t);QB(e,n)},setToMax:(e,t)=>{const n=qy(t);QB(e,n)},findValueOfOffset:DB,getValueFromEvent:e=>jy(e).map((e=>e.left)),findPositionOfValue:HB,setPositionFromValue:(e,t,n,o)=>{const r=dB(n),s=HB(e,o.getSpectrum(e),r,o.getLeftEdge(e),o.getRightEdge(e),n),i=jt(t.element)/2;Ct(t.element,"left",s-i+"px")},onLeft:MB,onRight:RB,onUp:PB,onDown:VB,edgeActions:jB});const KB=(e,t)=>{ys(e,Vy(),{value:t})},WB=(e,t,n)=>{const o={min:Ky(t),max:Zy(t),range:eB(t),value:n,step:oB(t),snap:rB(t),snapStart:sB(t),rounded:iB(t),hasMinEdge:cB(t),hasMaxEdge:uB(t),minBound:EB(e),maxBound:_B(e),screenRange:UB(e)};return bB(o)},GB=e=>(t,n)=>((e,t,n)=>{const o=(e>0?pB:gB)(dB(n),Ky(n),Zy(n),oB(n));return KB(t,o),_.some(o)})(e,t,n).map(k),qB=(e,t,n,o,r,s)=>{const i=((e,t,n,o,r)=>{const s=UB(e),i=o.bind((t=>_.some(NB(t,e)))).getOr(0),a=r.bind((t=>_.some(NB(t,e)))).getOr(s),A={min:Ky(t),max:Zy(t),range:eB(t),value:n,hasMinEdge:cB(t),hasMaxEdge:uB(t),minBound:EB(e),minOffset:0,maxBound:_B(e),maxOffset:s,centerMinEdge:i,centerMaxEdge:a};return vB(A)})(t,s,n,o,r);return EB(t)-EB(e)+i},ZB=_.none,XB=_.none,JB=GB(-1),YB=GB(1),$B={"top-left":_.none(),top:_.some(((e,t)=>{hB(e,Gy(t))})),"top-right":_.none(),right:_.none(),"bottom-right":_.none(),bottom:_.some(((e,t)=>{hB(e,Jy(t))})),"bottom-left":_.none(),left:_.none()};var eC=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const o=WB(e,t,n);return KB(e,o),o},setToMin:(e,t)=>{const n=Ky(t);KB(e,n)},setToMax:(e,t)=>{const n=Zy(t);KB(e,n)},findValueOfOffset:WB,getValueFromEvent:e=>jy(e).map((e=>e.top)),findPositionOfValue:qB,setPositionFromValue:(e,t,n,o)=>{const r=dB(n),s=qB(e,o.getSpectrum(e),r,o.getTopEdge(e),o.getBottomEdge(e),n),i=Qt(t.element)/2;Ct(t.element,"top",s-i+"px")},onLeft:ZB,onRight:XB,onUp:JB,onDown:YB,edgeActions:$B});const tC=(e,t)=>{ys(e,Vy(),{value:t})},nC=(e,t)=>({x:e,y:t}),oC=(e,t)=>(n,o)=>((e,t,n,o)=>{const r=e>0?pB:gB,s=t?dB(o).x:r(dB(o).x,zy(o),qy(o),oB(o)),i=t?r(dB(o).y,Ky(o),Zy(o),oB(o)):dB(o).y;return tC(n,nC(s,i)),_.some(s)})(e,t,n,o).map(k),rC=oC(-1,!1),sC=oC(1,!1),iC=oC(-1,!0),aC=oC(1,!0),AC={"top-left":_.some(((e,t)=>{hB(e,mB(Wy(t),Gy(t)))})),top:_.some(((e,t)=>{hB(e,mB(tB(t),Gy(t)))})),"top-right":_.some(((e,t)=>{hB(e,mB(Xy(t),Gy(t)))})),right:_.some(((e,t)=>{hB(e,mB(Xy(t),nB(t)))})),"bottom-right":_.some(((e,t)=>{hB(e,mB(Xy(t),Jy(t)))})),bottom:_.some(((e,t)=>{hB(e,mB(tB(t),Jy(t)))})),"bottom-left":_.some(((e,t)=>{hB(e,mB(Wy(t),Jy(t)))})),left:_.some(((e,t)=>{hB(e,mB(Wy(t),nB(t)))}))};var lC=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const o=DB(e,t,n.left),r=WB(e,t,n.top),s=nC(o,r);return tC(e,s),s},setToMin:(e,t)=>{const n=zy(t),o=Ky(t);tC(e,nC(n,o))},setToMax:(e,t)=>{const n=qy(t),o=Zy(t);tC(e,nC(n,o))},getValueFromEvent:e=>jy(e),setPositionFromValue:(e,t,n,o)=>{const r=dB(n),s=HB(e,o.getSpectrum(e),r.x,o.getLeftEdge(e),o.getRightEdge(e),n),i=qB(e,o.getSpectrum(e),r.y,o.getTopEdge(e),o.getBottomEdge(e),n),a=jt(t.element)/2,A=Qt(t.element)/2;Ct(t.element,"left",s-a+"px"),Ct(t.element,"top",i-A+"px")},onLeft:rC,onRight:sC,onUp:iC,onDown:aC,edgeActions:AC});const cC=td({name:"Slider",configFields:[ar("stepSize",1),ar("onChange",f),ar("onChoose",f),ar("onInit",f),ar("onDragStart",f),ar("onDragEnd",f),ar("snapToGrid",!1),ar("rounded",!0),$o("snapStart"),Ko("model",Ro("mode",{x:[ar("minX",0),ar("maxX",100),Vo("value",(e=>pr(e.mode.minX))),zo("getInitialValue"),ya("manager",zB)],y:[ar("minY",0),ar("maxY",100),Vo("value",(e=>pr(e.mode.minY))),zo("getInitialValue"),ya("manager",eC)],xy:[ar("minX",0),ar("maxX",100),ar("minY",0),ar("maxY",100),Vo("value",(e=>pr({x:e.mode.minX,y:e.mode.minY}))),zo("getInitialValue"),ya("manager",lC)]})),$c("sliderBehaviours",[Ch,Yc]),Vo("mouseIsDown",(()=>pr(!1)))],partFields:Py,factory:(e,t,n,o)=>{const r=t=>Pu(t,e,"thumb"),s=t=>Pu(t,e,"spectrum"),i=t=>Ru(t,e,"left-edge"),a=t=>Ru(t,e,"right-edge"),A=t=>Ru(t,e,"top-edge"),l=t=>Ru(t,e,"bottom-edge"),c=e.model,u=c.manager,d=(t,n)=>{u.setPositionFromValue(t,n,e,{getLeftEdge:i,getRightEdge:a,getTopEdge:A,getBottomEdge:l,getSpectrum:s})},m=(e,t)=>{c.value.set(t);const n=r(e);d(e,n)},h=t=>{const n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&Ru(t,e,"thumb").each((n=>{const o=c.value.get();e.onChoose(t,n,o)}))},g=(t,n)=>{n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,r(t))},p=(t,n)=>{n.stop(),e.onDragEnd(t,r(t)),h(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:tu(e.sliderBehaviours,[Ch.config({mode:"special",focusIn:t=>Ru(t,e,"spectrum").map(Ch.focusIn).map(k)}),Yc.config({store:{mode:"manual",getValue:e=>c.value.get(),setValue:m}}),gA.config({channels:{[Qc()]:{onReceive:h}}})]),events:Fs([_s(Vy(),((t,n)=>{((t,n)=>{m(t,n);const o=r(t);e.onChange(t,o,n),_.some(!0)})(t,n.event.value)})),Is(((t,n)=>{const o=c.getInitialValue();c.value.set(o);const i=r(t);d(t,i);const a=s(t);e.onInit(t,i,a,c.value.get())})),_s(kr(),g),_s(_r(),p),_s(Ur(),g),_s(Nr(),p)]),apis:{resetToMin:t=>{u.setToMin(t,e)},resetToMax:t=>{u.setToMax(t,e)},setValue:m,refresh:d},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,n)=>{e.setValue(t,n)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),uC=Zs("rgb-hex-update"),dC=Zs("slider-update"),mC=Zs("palette-update"),hC="form",gC=[$c("formBehaviours",[Yc])],pC=e=>"<alloy.field."+e+">",fC=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:tu(e.formBehaviours,[Yc.config({store:{mode:"manual",getValue:t=>{const n=ju(t,e);return le(n,((e,t)=>e().bind((e=>{return n=sd.getCurrent(e),o=new Error(`Cannot find a current component to extract the value from for form part '${t}': `+zs(e.element)),n.fold((()=>Gn.error(o)),Gn.value);var n,o})).map(Yc.getValue)))},setValue:(t,n)=>{Ae(n,((n,o)=>{Ru(t,e,o).each((e=>{sd.getCurrent(e).each((e=>{Yc.setValue(e,n)}))}))}))}}})]),apis:{getField:(t,n)=>Ru(t,e,n).bind(sd.getCurrent)}}),bC={getField:ui(((e,t,n)=>e.getField(t,n))),sketch:e=>{const t=(()=>{const e=[];return{field:(t,n)=>(e.push(t),Qu(hC,pC(t),n)),record:v(e)}})(),n=e(t),o=t.record(),r=M(o,(e=>Fu({name:e,pname:pC(e)})));return Xu(hC,gC,r,fC,n)}},vC=Zs("valid-input"),wC=Zs("invalid-input"),yC=Zs("validating-input"),BC="colorcustom.rgb.",CC=(e,t,n,o)=>{const r=(n,o)=>Ay.config({invalidClass:t("invalid"),notify:{onValidate:e=>{ys(e,yC,{type:n})},onValid:e=>{ys(e,vC,{type:n,value:Yc.getValue(e)})},onInvalid:e=>{ys(e,wC,{type:n,value:Yc.getValue(e)})}},validator:{validate:t=>{const n=Yc.getValue(t),r=o(n)?Gn.value(!0):Gn.error(e("aria.input.invalid"));return Yw(r)},validateOnLoad:!1}}),s=(n,o,s,i,a)=>{const A=e("colorcustom.rgb.range"),l=xw.parts.label({dom:{tag:"label",attributes:{"aria-label":i}},components:[Pi(s)]}),c=xw.parts.field({data:a,factory:Ww,inputAttributes:{type:"text",..."hex"===o?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:lA([r(o,n),kw.config({})]),onSetValue:e=>{Ay.isInvalid(e)&&Ay.run(e).get(f)}}),u=[l,c],d="hex"!==o?[xw.parts["aria-descriptor"]({text:A})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:u.concat(d)}},i=(e,t)=>{const n=t.red,o=t.green,r=t.blue;Yc.setValue(e,{red:n,green:o,blue:r})},a=Cg({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),A=(e,t)=>{a.getOpt(e).each((e=>{Ct(e.element,"background-color","#"+t.value)}))},l=ed({factory:()=>{const r={red:pr(_.some(255)),green:pr(_.some(255)),blue:pr(_.some(255)),hex:pr(_.some("ffffff"))},l=e=>r[e].get(),c=(e,t)=>{r[e].set(t)},u=e=>{const t=e.red,n=e.green,o=e.blue;c("red",_.some(t)),c("green",_.some(n)),c("blue",_.some(o))},d=(e,t)=>{const n=t.event;"hex"!==n.type?c(n.type,_.none()):o(e)},m=(e,t)=>{const o=t.event;(e=>"hex"===e.type)(o)?((e,t)=>{n(e);const o=sv(t);c("hex",_.some(t));const r=wv(o);i(e,r),u(r),ys(e,uC,{hex:o}),A(e,o)})(e,o.value):((e,t,n)=>{const o=parseInt(n,10);c(t,_.some(o)),l("red").bind((e=>l("green").bind((t=>l("blue").map((n=>fv(e,t,n,1))))))).each((t=>{const n=((e,t)=>{const n=uv(t);return bC.getField(e,"hex").each((t=>{Hh.isFocused(t)||Yc.setValue(e,{hex:n.value})})),n})(e,t);ys(e,uC,{hex:n}),A(e,n)}))})(e,o.type,o.value)},h=t=>({label:e(BC+t+".label"),description:e(BC+t+".description")}),g=h("red"),p=h("green"),f=h("blue"),b=h("hex");return ro(bC.sketch((n=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",xw.sketch(s(bv,"red",g.label,g.description,255))),n.field("green",xw.sketch(s(bv,"green",p.label,p.description,255))),n.field("blue",xw.sketch(s(bv,"blue",f.label,f.description,255))),n.field("hex",xw.sketch(s(Av,"hex",b.label,b.description,"ffffff"))),a.asSpec()],formBehaviours:lA([Ay.config({invalidClass:t("form-invalid")}),Lh("rgb-form-events",[_s(vC,m),_s(wC,d),_s(yC,d)])])}))),{apis:{updateHex:(e,t)=>{Yc.setValue(e,{hex:t.value}),((e,t)=>{const n=wv(t);i(e,n),u(n)})(e,t),A(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(e,t,n)=>{e.updateHex(t,n)}},extraApis:{}});return l},xC=(e,t)=>{const n=ed({name:"ColourPicker",configFields:[zo("dom"),ar("onValidHex",f),ar("onInvalidHex",f)],factory:n=>{const o=CC(e,t,n.onValidHex,n.onInvalidHex),r=((e,t)=>{const n=cC.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),o=cC.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),r=(e,t)=>{const{width:n,height:o}=e,r=e.getContext("2d");if(null===r)return;r.fillStyle=t,r.fillRect(0,0,n,o);const s=r.createLinearGradient(0,0,n,0);s.addColorStop(0,"rgba(255,255,255,1)"),s.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=s,r.fillRect(0,0,n,o);const i=r.createLinearGradient(0,0,0,o);i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=i,r.fillRect(0,0,n,o)};return ed({factory:e=>{const s=v({x:0,y:0}),i=lA([sd.config({find:_.some}),Hh.config({})]);return cC.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:s},rounded:!1,components:[n,o],onChange:(e,t,n)=>{ys(e,mC,{value:n})},onInit:(e,t,n,o)=>{r(n.element.dom,Cv(xv))},sliderBehaviours:i})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,n)=>{((e,t)=>{const n=e.components()[0].element.dom,o=Fv(t,100,100),s=vv(o);r(n,Cv(s))})(t,n)},setThumb:(e,t,n)=>{((e,t)=>{const n=kv(wv(t));cC.setValue(e,{x:n.saturation,y:100-n.value})})(t,n)}},extraApis:{}})})(0,t),s={paletteRgba:pr(xv),paletteHue:pr(0)},i=Cg(((e,t)=>{const n=cC.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=cC.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return cC.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:v(0)},components:[n,o],sliderBehaviours:lA([Hh.config({})]),onChange:(e,t,n)=>{ys(e,dC,{value:n})}})})(0,t)),a=Cg(r.sketch({})),A=Cg(o.sketch({})),l=(e,t,n)=>{a.getOpt(e).each((e=>{r.setHue(e,n)}))},c=(e,t)=>{A.getOpt(e).each((e=>{o.updateHex(e,t)}))},u=(e,t,n)=>{i.getOpt(e).each((e=>{cC.setValue(e,(e=>100-e/360*100)(n))}))},d=(e,t)=>{a.getOpt(e).each((e=>{r.setThumb(e,t)}))},m=(e,t,n,o)=>{((e,t)=>{const n=wv(e);s.paletteRgba.set(n),s.paletteHue.set(t)})(t,n),R(o,(o=>{o(e,t,n)}))};return{uid:n.uid,dom:n.dom,components:[a.asSpec(),i.asSpec(),A.asSpec()],behaviours:lA([Lh("colour-picker-events",[_s(uC,(()=>{const e=[l,u,d];return(t,n)=>{const o=n.event.hex,r=(e=>kv(wv(e)))(o);m(t,o,r.hue,e)}})()),_s(mC,(()=>{const e=[c];return(t,n)=>{const o=n.event.value,r=s.paletteHue.get(),i=Fv(r,o.x,100-o.y),a=Ev(i);m(t,a,r,e)}})()),_s(dC,(()=>{const e=[l,c];return(t,n)=>{const o=(e=>(100-e)/100*360)(n.event.value),r=s.paletteRgba.get(),i=kv(r),a=Fv(o,i.saturation,i.value),A=Ev(a);m(t,A,o,e)}})())]),sd.config({find:e=>A.getOpt(e)}),Ch.config({mode:"acyclic"})])}}});return n},SC=()=>sd.config({find:_.some}),FC=e=>sd.config({find:t=>tt(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),kC=wo([ar("preprocess",w),ar("postprocess",w)]),EC=(e,t,n)=>Yc.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:n}}),_C=(e,t,n)=>EC(e,(e=>t(e.element)),((e,t)=>n(e.element,t))),OC=(e,t)=>{const n=Ho("RepresentingConfigs.memento processors",kC,t);return Yc.config({store:{mode:"manual",getValue:t=>{const o=e.get(t),r=Yc.getValue(o);return n.postprocess(r)},setValue:(t,o)=>{const r=n.preprocess(o),s=e.get(t);Yc.setValue(s,r)}}})},UC=_C,TC=EC,LC=e=>Yc.config({store:{mode:"memory",initialValue:e}}),NC={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var QC=tinymce.util.Tools.resolve("tinymce.Resource"),DC=tinymce.util.Tools.resolve("tinymce.util.Tools");const IC=Zs("alloy-fake-before-tabstop"),HC=Zs("alloy-fake-after-tabstop"),MC=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:lA([Hh.config({ignore:!0}),kw.config({})])}),RC=e=>({dom:{tag:"div",classes:["tox-navobj"]},components:[MC([IC]),e,MC([HC])],behaviours:lA([FC(1)])}),PC=(e,t)=>{ys(e,Hr(),{raw:{which:9,shiftKey:t}})},VC=(e,t)=>{const n=t.element;_i(n,IC)?PC(e,!0):_i(n,HC)&&PC(e,!1)},jC=e=>cw(e,["."+IC,"."+HC].join(","),F),zC=Zs("toolbar.button.execute"),KC={[$r()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},WC=(e,t,n)=>Lg(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t),GC=(e,t)=>WC(e,t,[]),qC=(e,t)=>WC(e,t,[Th.config({})]),ZC=(e,t,n)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[Pi(n.translate(e))],behaviours:lA([Th.config({})])}),XC=Zs("update-menu-text"),JC=Zs("update-menu-icon"),YC=(e,t,n)=>{const o=pr(f),r=e.text.map((e=>Cg(ZC(e,t,n.providers)))),s=e.icon.map((e=>Cg(qC(e,n.providers.icons)))),i=(e,t)=>{const n=Yc.getValue(e);return Hh.focus(n),ys(n,"keydown",{raw:t.event.raw}),ky.close(n),_.some(!0)},a=e.role.fold((()=>({})),(e=>({role:e}))),A=e.tooltip.fold((()=>({})),(e=>{const t=n.providers.translate(e);return{title:t,"aria-label":t}})),l=Lg("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},n.providers.icons);return Cg(ky.sketch({...e.uid?{uid:e.uid}:{},...a,dom:{tag:"button",classes:[t,`${t}--select`].concat(M(e.classes,(e=>`${t}--${e}`))),attributes:{...A}},components:jb([s.map((e=>e.asSpec())),r.map((e=>e.asSpec())),_.some(l)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:lA([...e.dropdownBehaviours,Qb((()=>e.disabled||n.providers.isDisabled())),Nb(),Ey.config({}),Th.config({}),Lh("dropdown-events",[Mb(e,o),Rb(e,o)]),Lh("menubutton-update-display-text",[_s(XC,((e,t)=>{r.bind((t=>t.getOpt(e))).each((e=>{Th.set(e,[Pi(n.providers.translate(t.event.text))])}))})),_s(JC,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{Th.set(e,[qC(t.event.icon,n.providers.icons)])}))}))])]),eventOrder:ro(KC,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:lA([Ch.config({mode:"special",onLeft:i,onRight:i})]),lazySink:n.getSink,toggleClass:`${t}--active`,parts:{menu:sf(0,e.columns,e.presets)},fetch:t=>Jw(B(e.fetch,t))})).asSpec()},$C=e=>"separator"===e.type,ex={type:"separator"},tx=(e,t)=>{const n=((e,t)=>{const n=z(e,((e,n)=>(e=>s(e))(n)?""===n?e:"|"===n?e.length>0&&!$C(e[e.length-1])?e.concat([ex]):e:be(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])),[]);return n.length>0&&$C(n[n.length-1])&&n.pop(),n})(s(e)?e.split(" "):e,t);return j(n,((e,n)=>{const o=(e=>{if($C(e))return e;{const t=fe(e,"value").getOrThunk((()=>Zs("generated-menu-item")));return ro({value:t},e)}})(n),r=((e,t)=>(e=>be(e,"getSubmenuItems"))(e)?((e,t)=>{const n=e.getSubmenuItems(),o=tx(n,t);return{item:e,menus:ro(o.menus,br(e.value,o.items)),expansions:ro(o.expansions,br(e.value,e.value))}})(e,t):{item:e,menus:{},expansions:{}})(o,t);return{menus:ro(e.menus,r.menus),items:[r.item].concat(e.items),expansions:ro(e.expansions,r.expansions)}}),{menus:{},expansions:{},items:[]})},nx=(e,t,n,o)=>{const r=Zs("primary-menu"),s=tx(e,n.shared.providers.menuItems());if(0===s.items.length)return _.none();const i=aw(r,s.items,t,n,o),a=le(s.menus,((e,o)=>aw(o,e,t,n,!1))),A=ro(a,br(r,i));return _.from(vg.tieredData(r,A,s.expansions))},ox=e=>!be(e,"items"),rx="data-value",sx=(e,t,n,o)=>M(n,(n=>ox(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===o,onAction:()=>{Yc.setValue(e,n.value),ys(e,Lw,{name:t}),Hh.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:()=>sx(e,t,n.items,o)})),ix=(e,t)=>se(e,(e=>ox(e)?Ce(e.value===t,e):ix(e.items,t))),ax=ed({name:"HtmlSelect",configFields:[zo("options"),$c("selectBehaviours",[Hh,Yc]),ar("selectClasses",[]),ar("selectAttributes",{}),$o("data")],factory:(e,t)=>{const n=M(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}}))),o=e.data.map((e=>br("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:tu(e.selectBehaviours,[Hh.config({}),Yc.config({store:{mode:"manual",getValue:e=>Ti(e.element),setValue:(t,n)=>{K(e.options,(e=>e.value===n)).isSome()&&Li(t.element,n)},...o}})])}}}),Ax=v([ar("field1Name","field1"),ar("field2Name","field2"),va("onLockedChange"),ga(["lockClass"]),ar("locked",!1),nu("coupledFieldBehaviours",[sd,Yc])]),lx=(e,t)=>Fu({factory:xw,name:e,overrides:e=>({fieldBehaviours:lA([Lh("coupled-input-behaviour",[_s(Rr(),(n=>{((e,t,n)=>Ru(e,t,n).bind(sd.getCurrent))(n,e,t).each((t=>{Ru(n,e,"lock").each((o=>{Wh.isOn(o)&&e.onLockedChange(n,t,o)}))}))}))])])})}),cx=v([lx("field1","field2"),lx("field2","field1"),Fu({factory:Bg,schema:[zo("dom")],name:"lock",overrides:e=>({buttonBehaviours:lA([Wh.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),ux=td({name:"FormCoupledInputs",configFields:Ax(),partFields:cx(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:ou(e.coupledFieldBehaviours,[sd.config({find:_.some}),Yc.config({store:{mode:"manual",getValue:t=>{const n=Ku(t,e,["field1","field2"]);return{[e.field1Name]:Yc.getValue(n.field1()),[e.field2Name]:Yc.getValue(n.field2())}},setValue:(t,n)=>{const o=Ku(t,e,["field1","field2"]);ve(n,e.field1Name)&&Yc.setValue(o.field1(),n[e.field1Name]),ve(n,e.field2Name)&&Yc.setValue(o.field2(),n[e.field2Name])}}})]),apis:{getField1:t=>Ru(t,e,"field1"),getField2:t=>Ru(t,e,"field2"),getLock:t=>Ru(t,e,"lock")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),dx=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){const e=parseFloat(t[1]),n=t[2];return Gn.value({value:e,unit:n})}return Gn.error(e)},mx=(e,t)=>{const n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=e=>be(n,e);return e.unit===t?_.some(e.value):o(e.unit)&&o(t)?n[e.unit]===n[t]?_.some(e.value):_.some(e.value/n[e.unit]*n[t]):_.none()},hx=e=>_.none(),gx=(e,t)=>{const n=e.label.map((e=>Tw(e,t))),o=[vd.config({disabled:()=>e.disabled||t.isDisabled()}),Nb(),Ch.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(ws(e,Iw),_.some(!0))}),Lh("textfield-change",[_s(Rr(),((t,n)=>{ys(t,Lw,{name:e.name})})),_s(Jr(),((t,n)=>{ys(t,Lw,{name:e.name})}))]),kw.config({})],r=e.validation.map((e=>Ay.config({getRoot:e=>Ye(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const n=Yc.getValue(t),o=e.validator(n);return Yw(!0===o?Gn.value(n):Gn.error(o))},validateOnLoad:e.validateOnLoad}}))).toArray(),s={...e.placeholder.fold(v({}),(e=>({placeholder:t.translate(e)}))),...e.inputMode.fold(v({}),(e=>({inputmode:e})))},i=xw.parts.field({tag:!0===e.multiline?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:s,inputClasses:[e.classname],inputBehaviours:lA(G([o,r])),selectOnFocus:!1,factory:Ww}),a=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),A=[vd.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{xw.getField(e).each(vd.disable)},onEnabled:e=>{xw.getField(e).each(vd.enable)}}),Nb()];return _w(n,i,a,A)};var px=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.stream.streams.setup(e,t);return Fs([_s(e.event,n),Hs((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[_s(e,(()=>t.cancel()))])).getOr([])))}});const fx=(e,t)=>{let n=null;const o=()=>{l(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)}}},bx=e=>{const t=pr(null);return mi({readState:()=>({timer:null!==t.get()?"set":"unset"}),setTimer:e=>{t.set(e)},cancel:()=>{const e=t.get();null!==e&&e.cancel()}})};var vx=Object.freeze({__proto__:null,throttle:bx,init:e=>e.stream.streams.state(e)}),wx=[Ko("stream",Ro("mode",{throttle:[zo("delay"),ar("stopEvent",!0),ya("streams",{setup:(e,t)=>{const n=e.stream,o=fx(e.onStream,n.delay);return t.setTimer(o),(e,t)=>{o.throttle(e,t),n.stopEvent&&t.stop()}},state:bx})]})),ar("event","input"),$o("cancelEvent"),va("onStream")];const yx=uA({fields:wx,name:"streaming",active:px,state:vx}),Bx=(e,t,n)=>{const o=Yc.getValue(n);Yc.setValue(t,o),xx(t)},Cx=(e,t)=>{const n=e.element,o=Ti(n),r=n.dom;"number"!==ft(n,"type")&&t(r,o)},xx=e=>{Cx(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},Sx=v("alloy.typeahead.itemexecute"),Fx=v([$o("lazySink"),zo("fetch"),ar("minChars",5),ar("responseTime",1e3),fa("onOpen"),ar("getHotspot",_.some),ar("getAnchorOverrides",v({})),ar("layouts",_.none()),ar("eventOrder",{}),gr("model",{},[ar("getDisplayText",(e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value)),ar("selectsOver",!0),ar("populateFromBrowse",!0)]),fa("onSetValue"),ba("onExecute"),fa("onItemExecute"),ar("inputClasses",[]),ar("inputAttributes",{}),ar("inputStyles",{}),ar("matchWidth",!0),ar("useMinWidth",!1),ar("dismissOnBlur",!0),ga(["openClass"]),$o("initialData"),$c("typeaheadBehaviours",[Hh,Yc,yx,Ch,Wh,dy]),Vo("previewing",(()=>pr(!0)))].concat(Vw()).concat(xy())),kx=v([ku({schema:[ha()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlight:(t,n)=>{e.previewing.get()?t.getSystem().getByUid(e.uid).each((o=>{((e,t,n)=>{if(e.selectsOver){const o=Yc.getValue(t),r=e.getDisplayText(o),s=Yc.getValue(n);return 0===e.getDisplayText(s).indexOf(r)?_.some((()=>{Bx(0,t,n),((e,t)=>{Cx(e,((e,n)=>e.setSelectionRange(t,n.length)))})(t,r.length)})):_.none()}return _.none()})(e.model,o,n).fold((()=>_d.dehighlight(t,n)),(e=>e()))})):t.getSystem().getByUid(e.uid).each((t=>{e.model.populateFromBrowse&&Bx(e.model,t,n)})),e.previewing.set(!1)},onExecute:(t,n)=>t.getSystem().getByUid(e.uid).toOptional().map((e=>(ys(e,Sx(),{item:n}),!0))),onHover:(t,n)=>{e.previewing.set(!1),t.getSystem().getByUid(e.uid).each((t=>{e.model.populateFromBrowse&&Bx(e.model,t,n)}))}})})]),Ex=td({name:"Typeahead",configFields:Fx(),partFields:kx(),factory:(e,t,n,o)=>{const r=(t,n,r)=>{e.previewing.set(!1);const s=dy.getCoupled(t,"sandbox");if(Tc.isOpen(s))sd.getCurrent(s).each((e=>{_d.getHighlighted(e).fold((()=>{r(e)}),(()=>{Ss(s,e.element,"keydown",n)}))}));else{const n=e=>{sd.getCurrent(e).each(r)};fy(e,i(t),t,s,o,n,gy.HighlightFirst).get(f)}},s=jw(e),i=e=>t=>t.map((t=>{const n=pe(t.menus),o=q(n,(e=>V(e.items,(e=>"item"===e.type))));return Yc.getState(e).update(M(o,(e=>e.data))),t})),a=[Hh.config({}),Yc.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>Ti(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,n)=>{Li(t.element,e.model.getDisplayText(n))},...e.initialData.map((e=>br("initialValue",e))).getOr({})}}),yx.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(t,n)=>{const r=dy.getCoupled(t,"sandbox");if(Hh.isFocused(t)&&Ti(t.element).length>=e.minChars){const n=sd.getCurrent(r).bind((e=>_d.getHighlighted(e).map(Yc.getValue)));e.previewing.set(!0);const s=t=>{sd.getCurrent(r).each((t=>{n.fold((()=>{e.model.selectsOver&&_d.highlightFirst(t)}),(e=>{_d.highlightBy(t,(t=>Yc.getValue(t).value===e.value)),_d.getHighlighted(t).orThunk((()=>(_d.highlightFirst(t),_.none())))}))}))};fy(e,i(t),t,r,o,s,gy.HighlightFirst).get(f)}},cancelEvent:rs()}),Ch.config({mode:"special",onDown:(e,t)=>(r(e,t,_d.highlightFirst),_.some(!0)),onEscape:e=>{const t=dy.getCoupled(e,"sandbox");return Tc.isOpen(t)?(Tc.close(t),_.some(!0)):_.none()},onUp:(e,t)=>(r(e,t,_d.highlightLast),_.some(!0)),onEnter:t=>{const n=dy.getCoupled(t,"sandbox"),o=Tc.isOpen(n);if(o&&!e.previewing.get())return sd.getCurrent(n).bind((e=>_d.getHighlighted(e))).map((e=>(ys(t,Sx(),{item:e}),!0)));{const r=Yc.getValue(t);return ws(t,rs()),e.onExecute(n,t,r),o&&Tc.close(n),_.some(!0)}}}),Wh.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),dy.config({others:{sandbox:t=>By(e,t,{onOpen:()=>Wh.on(t),onClose:()=>Wh.off(t)})}}),Lh("typeaheadevents",[Rs((t=>{const n=f;vy(e,i(t),t,o,n,gy.HighlightFirst).get(f)})),_s(Sx(),((t,n)=>{const o=dy.getCoupled(t,"sandbox");Bx(e.model,t,n.event.item),ws(t,rs()),e.onItemExecute(t,o,n.event.item,Yc.getValue(t)),Tc.close(o),xx(t)}))].concat(e.dismissOnBlur?[_s(Xr(),(e=>{const t=dy.getCoupled(e,"sandbox");wA(t.element).isNone()&&Tc.close(t)}))]:[]))];return{uid:e.uid,dom:Kw(ro(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...s,...tu(e.typeaheadBehaviours,a)},eventOrder:e.eventOrder}}}),_x=e=>({...e,toCached:()=>_x(e.toCached()),bindFuture:t=>_x(e.bind((e=>e.fold((e=>Yw(Gn.error(e))),(e=>t(e)))))),bindResult:t=>_x(e.map((e=>e.bind(t)))),mapResult:t=>_x(e.map((e=>e.map(t)))),mapError:t=>_x(e.map((e=>e.mapError(t)))),foldResult:(t,n)=>e.map((e=>e.fold(t,n))),withTimeout:(t,n)=>_x(Jw((o=>{let r=!1;const s=setTimeout((()=>{r=!0,o(Gn.error(n()))}),t);e.get((e=>{r||(clearTimeout(s),o(e))}))})))}),Ox=e=>_x(Jw(e)),Ux=e=>({isEnabled:()=>!vd.isDisabled(e),setEnabled:t=>vd.set(e,!t),setActive:t=>{const n=e.element;t?(ki(n,"tox-tbtn--enabled"),gt(n,"aria-pressed",!0)):(Ei(n,"tox-tbtn--enabled"),wt(n,"aria-pressed"))},isActive:()=>_i(e.element,"tox-tbtn--enabled")}),Tx=(e,t,n,o)=>YC({text:e.text,icon:e.icon,tooltip:e.tooltip,role:o,fetch:(t,o)=>{e.fetch((e=>{o(nx(e,Vp.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:e.onSetup,getApi:Ux,columns:1,presets:"normal",classes:[],dropdownBehaviours:[kw.config({})]},t,n.shared),Lx=(e,t,n)=>{const o=e=>o=>{const r=!o.isActive();o.setActive(r),e.storage.set(r),n.shared.getSink().each((n=>{t().getOpt(n).each((t=>{fA(t.element),ys(t,Dw,{name:e.name,value:e.storage.get()})}))}))},r=e=>t=>{t.setActive(e.storage.get())};return t=>{t(M(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,onAction:o(e),onSetup:r(e)}})))}},Nx=(e,t,n=[],o,r,s)=>{const i=t.fold((()=>({})),(e=>({action:e}))),a={buttonBehaviours:lA([Qb((()=>!e.enabled||s.isDisabled())),Nb(),kw.config({}),Lh("button press",[Es("click"),Es("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...i},A=ro(a,{dom:o});return ro(A,{components:r})},Qx=(e,t,n,o=[])=>{const r={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((e=>({"aria-label":n.translate(e),title:n.translate(e)}))).getOr({})},s=e.icon.map((e=>GC(e,n.icons))),i=jb([s]);return Nx(e,t,o,r,i,n)},Dx=(e,t,n,o=[],r=[])=>{const s=n.translate(e.text),i=e.icon.map((e=>GC(e,n.icons))),a=[i.getOrThunk((()=>Pi(s)))],A=[...(e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}})(e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary")),...i.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...r];return Nx(e,t,o,{tag:"button",classes:A,attributes:{title:s}},a,n)},Ix=(e,t,n,o=[],r=[])=>{const s=Dx(e,_.some(t),n,o,r);return Bg.sketch(s)},Hx=(e,t)=>n=>{"custom"===t?ys(n,Dw,{name:e,value:{}}):"submit"===t?ws(n,Iw):"cancel"===t?ws(n,Qw):console.error("Unknown button type: ",t)},Mx=(e,t,n)=>{if(((e,t)=>"menu"===t)(0,t)){const t=()=>s,o=e,r={...e,onSetup:t=>(t.setEnabled(e.enabled),f),fetch:Lx(o.items,t,n)},s=Cg(Tx(r,"tox-tbtn",n,_.none()));return s.asSpec()}if(((e,t)=>"custom"===t||"cancel"===t||"submit"===t)(0,t)){const o=Hx(e.name,t),r={...e,borderless:!1};return Ix(r,o,n.shared.providers,[])}console.error("Unknown footer button type: ",t)},Rx={type:"separator"},Px=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:f}),Vx=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:f}),jx=(e,t)=>(e=>M(e,Px))(((e,t)=>V(t,(t=>t.type===e)))(e,t)),zx=e=>jx("header",e.targets),Kx=e=>jx("anchor",e.targets),Wx=e=>_.from(e.anchorTop).map((e=>Vx("<top>",e))).toArray(),Gx=e=>_.from(e.anchorBottom).map((e=>Vx("<bottom>",e))).toArray(),qx=(e,t)=>{const n=e.toLowerCase();return V(t,(e=>{const t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return Se(t.toLowerCase(),n)||Se(e.value.toLowerCase(),n)}))},Zx=Zs("aria-invalid"),Xx=(e,t)=>{e.dom.checked=t},Jx=e=>e.dom.checked,Yx=e=>(t,n,o,r)=>fe(n,"name").fold((()=>e(n,r,_.none())),(s=>t.field(s,e(n,r,fe(o,s))))),$x={bar:Yx(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:M(e.items,t.interpreter)}))(e,t.shared))),collection:Yx(((e,t,n)=>((e,t,n)=>{const o=e.label.map((e=>Tw(e,t))),r=e=>(t,n)=>{ta(n.event.target,"[data-collection-item-value]").each((o=>{e(t,n,o,ft(o,"data-collection-item-value"))}))},s=r(((n,o,r,s)=>{o.stop(),t.isDisabled()||ys(n,Dw,{name:e.name,value:s})})),i=[_s(Qr(),r(((e,t,n)=>{fA(n)}))),_s(Vr(),s),_s(ts(),s),_s(Dr(),r(((e,t,n)=>{ea(e.element,"."+Xp).each((e=>{Ei(e,Xp)})),ki(n,Xp)}))),_s(Ir(),r((e=>{ea(e.element,"."+Xp).each((e=>{Ei(e,Xp)}))}))),Rs(r(((t,n,o,r)=>{ys(t,Dw,{name:e.name,value:r})})))],a=(e,t)=>M(Tl(e.element,".tox-collection__item"),t),A=xw.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:w},behaviours:lA([vd.config({disabled:t.isDisabled,onDisabled:e=>{a(e,(e=>{ki(e,"tox-collection__item--state-disabled"),gt(e,"aria-disabled",!0)}))},onEnabled:e=>{a(e,(e=>{Ei(e,"tox-collection__item--state-disabled"),wt(e,"aria-disabled")}))}}),Nb(),Th.config({}),Yc.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:(n,o)=>{((n,o)=>{const r=M(o,(n=>{const o=xg.translate(n.text),r=1===e.columns?`<div class="tox-collection__item-label">${o}</div>`:"",s=`<div class="tox-collection__item-icon">${n.icon}</div>`,i={_:" "," - ":" ","-":" "},a=o.replace(/\_| \- |\-/g,(e=>i[e]));return`<div class="tox-collection__item${t.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${Ew.encodeAllRaw(n.value)}" title="${a}" aria-label="${a}">${s}${r}</div>`})),s="auto"!==e.columns&&e.columns>1?H(r,e.columns):[r],i=M(s,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));Vs(n.element,i.join(""))})(n,o),"auto"===e.columns&&wb(n,5,"tox-collection__item").each((({numRows:e,numColumns:t})=>{Ch.setGridSize(n,e,t)})),ws(n,Pw)}}),kw.config({}),Ch.config((l=e.columns,1===l?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===l?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${zp}`}})),Lh("collection-events",i)]),eventOrder:{[$r()]:["disabling","alloy.base.behaviour","collection-events"]}});var l;return _w(o,A,["tox-form__group--collection"],[])})(e,t.shared.providers,n))),alertbanner:Yx(((e,t)=>((e,t)=>ww.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Bg.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Og(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:t=>{ys(t,Dw,{name:"alert-banner",value:e.url})},buttonBehaviours:lA([Ug()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]}))(e,t.shared.providers))),input:Yx(((e,t,n)=>((e,t,n)=>gx({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:_.none(),maximized:e.maximized,data:n},t))(e,t.shared.providers,n))),textarea:Yx(((e,t,n)=>((e,t,n)=>gx({name:e.name,multiline:!0,label:e.label,inputMode:_.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:_.none(),maximized:e.maximized,data:n},t))(e,t.shared.providers,n))),label:Yx(((e,t)=>((e,t)=>{return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:["tox-label"]},components:[Pi(t.providers.translate(e.label))]},...M(e.items,t.interpreter)],behaviours:lA([SC(),Th.config({}),(n=_.none(),_C(n,Ps,Vs)),Ch.config({mode:"acyclic"})])};var n})(e,t.shared))),iframe:(xF=(e,t,n)=>((e,t,n)=>{const o=e.sandboxed,r=e.transparent,s="tox-dialog__iframe",i={...e.label.map((e=>({title:e}))).getOr({}),...n.map((e=>({srcdoc:e}))).getOr({}),...o?{sandbox:"allow-scripts allow-same-origin"}:{}},a=(e=>{const t=pr(e.getOr(""));return{getValue:e=>t.get(),setValue:(e,n)=>{t.get()!==n&&gt(e.element,"srcdoc",n),t.set(n)}}})(n),A=e.label.map((e=>Tw(e,t))),l=xw.parts.field({factory:{sketch:e=>RC({uid:e.uid,dom:{tag:"iframe",attributes:i,classes:r?[s]:[s,`${s}--opaque`]},behaviours:lA([kw.config({}),Hh.config({}),TC(n,a.getValue,a.setValue)])})}});return _w(A,l,["tox-form__group--stretched"],[])})(e,t.shared.providers,n),(e,t,n,o)=>{const r=ro(t,{source:"dynamic"});return Yx(xF)(e,r,n,o)}),button:Yx(((e,t)=>((e,t)=>{const n=Hx(e.name,"custom");return o=_.none(),r=xw.parts.field({factory:Bg,...Dx(e,_.some(n),t,[LC(""),SC()])}),_w(o,r,[],[]);var o,r})(e,t.shared.providers))),checkbox:Yx(((e,t,n)=>((e,t,n)=>{const o=e=>(e.element.dom.click(),_.some(!0)),r=xw.parts.field({factory:{sketch:w},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:lA([SC(),vd.config({disabled:()=>!e.enabled||t.isDisabled()}),kw.config({}),Hh.config({}),UC(n,Jx,Xx),Ch.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),Lh("checkbox-events",[_s(Pr(),((t,n)=>{ys(t,Lw,{name:e.name})}))])])}),s=xw.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Pi(t.translate(e.label))],behaviours:lA([Ey.config({})])}),i=e=>Lg("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons),a=Cg({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[i("checked"),i("unchecked")]});return xw.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[r,a.asSpec(),s],fieldBehaviours:lA([vd.config({disabled:()=>!e.enabled||t.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:e=>{xw.getField(e).each(vd.disable)},onEnabled:e=>{xw.getField(e).each(vd.enable)}}),Nb()])})})(e,t.shared.providers,n))),colorinput:Yx(((e,t,n)=>((e,t,n,o)=>{const r=xw.parts.field({factory:Ww,inputClasses:["tox-textfield"],data:o,onSetValue:e=>Ay.run(e).get(f),inputBehaviours:lA([vd.config({disabled:t.providers.isDisabled}),Nb(),kw.config({}),Ay.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>Ye(e.element),notify:{onValid:e=>{const t=Yc.getValue(e);ys(e,_y,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=Yc.getValue(e);if(0===t.length)return Yw(Gn.value(!0));{const e=Te("span");Ct(e,"background-color",t);const n=Et(e,"background-color").fold((()=>Gn.error("blah")),(e=>Gn.value(t)));return Yw(n)}}}})]),selectOnFocus:!1}),s=e.label.map((e=>Tw(e,t.providers))),i=(e,t)=>{ys(e,Oy,{value:t})},a=Cg(((e,t)=>ky.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:lA([Qb(t.providers.isDisabled),Nb(),Ey.config({}),kw.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:n=>Jw((t=>e.fetch(t))).map((o=>_.from(Aw(ro(qv(Zs("menu-value"),o,(t=>{e.onItemAction(n,t)}),e.columns,e.presets,Vp.CLOSE_ON_EXECUTE,F,t.providers),{movement:Xv(e.columns,e.presets)}))))),parts:{menu:sf(0,0,e.presets)}}))({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ka,za,Za],onLtr:()=>[za,Ka,Za]},components:[],fetch:jv(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:(e,t)=>{a.getOpt(e).each((e=>{"custom"===t?n.colorPicker((t=>{t.fold((()=>ws(e,Uy)),(t=>{i(e,t),Hv(t)}))}),"#ffffff"):i(e,"remove"===t?"":t)}))}},t));return xw.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:s.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,a.asSpec()]}]),fieldBehaviours:lA([Lh("form-field-events",[_s(_y,((t,n)=>{a.getOpt(t).each((e=>{Ct(e.element,"background-color",n.event.color)})),ys(t,Lw,{name:e.name})})),_s(Oy,((e,t)=>{xw.getField(e).each((n=>{Yc.setValue(n,t.event.value),sd.getCurrent(e).each(Hh.focus)}))})),_s(Uy,((e,t)=>{xw.getField(e).each((t=>{sd.getCurrent(e).each(Hh.focus)}))}))])])})})(e,t.shared,t.colorinput,n))),colorpicker:Yx(((e,t,n)=>((e,t,n)=>{const o=e=>"tox-"+e,r=xC((e=>t=>e.translate(NC[t]))(t),o),s=Cg(r.sketch({dom:{tag:"div",classes:[o("color-picker-container")],attributes:{role:"presentation"}},onValidHex:e=>{ys(e,Dw,{name:"hex-valid",value:!0})},onInvalidHex:e=>{ys(e,Dw,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[s.asSpec()],behaviours:lA([TC(n,(e=>{const t=s.get(e);return sd.getCurrent(t).bind((e=>Yc.getValue(e).hex)).map((e=>"#"+e)).getOr("")}),((e,t)=>{const n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t),o=s.get(e);sd.getCurrent(o).fold((()=>{console.log("Can not find form")}),(e=>{Yc.setValue(e,{hex:_.from(n[1]).getOr("")}),bC.getField(e,"hex").each((e=>{ws(e,Rr())}))}))})),SC()])}})(0,t.shared.providers,n))),dropzone:Yx(((e,t,n)=>((e,t,n)=>{const o=(e,t)=>{t.stop()},r=e=>(t,n)=>{R(e,(e=>{e(t,n)}))},s=(e,t)=>{if(!vd.isDisabled(e)){const n=t.event.raw;a(e,n.dataTransfer.files)}},i=(e,t)=>{const n=t.event.raw.target;a(e,n.files)},a=(n,o)=>{Yc.setValue(n,((e,t)=>{const n=DC.explode(t.getOption("images_file_types"));return V(re(e),(e=>D(n,(t=>Fe(e.name.toLowerCase(),`.${t.toLowerCase()}`)))))})(o,t)),ys(n,Lw,{name:e.name})},A=Cg({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:lA([Lh("input-file-events",[Ns(Vr()),Ns(ts())])])}),l=e.label.map((e=>Tw(e,t))),c=xw.parts.field({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:lA([LC(n.getOr([])),SC(),vd.config({}),Wh.config({toggleClass:"dragenter",toggleOnExecute:!1}),Lh("dropzone-events",[_s("dragenter",r([o,Wh.toggle])),_s("dragleave",r([o,Wh.toggle])),_s("dragover",o),_s("drop",r([o,s])),_s(Pr(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Pi(t.translate("Drop an image here"))]},Bg.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Pi(t.translate("Browse for an image")),A.asSpec()],action:e=>{A.get(e).element.dom.click()},buttonBehaviours:lA([kw.config({}),Qb(t.isDisabled),Nb()])})]}]})}});return _w(l,c,["tox-form__group--stretched"],[])})(e,t.shared.providers,n))),grid:Yx(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:M(e.items,t.interpreter)}))(e,t.shared))),listbox:Yx(((e,t,n)=>((e,t,n)=>{const o=t.shared.providers,r=n.bind((t=>ix(e.items,t))).orThunk((()=>ne(e.items).filter(ox))),s=e.label.map((e=>Tw(e,o))),i=xw.parts.field({dom:{},factory:{sketch:n=>YC({uid:n.uid,text:r.map((e=>e.text)),icon:_.none(),tooltip:e.label,role:_.none(),fetch:(n,o)=>{const r=sx(n,e.name,e.items,Yc.getValue(n));o(nx(r,Vp.CLOSE_ON_EXECUTE,t,!1))},onSetup:v(f),getApi:v({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[kw.config({}),TC(r.map((e=>e.value)),(e=>ft(e.element,rx)),((t,n)=>{ix(e.items,n).each((e=>{gt(t.element,rx,e.value),ys(t,XC,{text:e.text})}))}))]},"tox-listbox",t.shared)}}),a={dom:{tag:"div",classes:["tox-listboxfield"]},components:[i]};return xw.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:G([s.toArray(),[a]]),fieldBehaviours:lA([vd.config({disabled:v(!e.enabled),onDisabled:e=>{xw.getField(e).each(vd.disable)},onEnabled:e=>{xw.getField(e).each(vd.enable)}})])})})(e,t,n))),selectbox:Yx(((e,t,n)=>((e,t,n)=>{const o=M(e.items,(e=>({text:t.translate(e.text),value:e.value}))),r=e.label.map((e=>Tw(e,t))),s=xw.parts.field({dom:{},...n.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:o,factory:ax,selectBehaviours:lA([vd.config({disabled:()=>!e.enabled||t.isDisabled()}),kw.config({}),Lh("selectbox-change",[_s(Pr(),((t,n)=>{ys(t,Lw,{name:e.name})}))])])}),i=e.size>1?_.none():_.some(Lg("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),a={dom:{tag:"div",classes:["tox-selectfield"]},components:G([[s],i.toArray()])};return xw.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:G([r.toArray(),[a]]),fieldBehaviours:lA([vd.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{xw.getField(e).each(vd.disable)},onEnabled:e=>{xw.getField(e).each(vd.enable)}}),Nb()])})})(e,t.shared.providers,n))),sizeinput:Yx(((e,t)=>((e,t)=>{let n=hx;const o=Zs("ratio-event"),r=e=>Lg(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),s=ux.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[r("lock"),r("unlock")],buttonBehaviours:lA([vd.config({disabled:()=>!e.enabled||t.isDisabled()}),Nb(),kw.config({})])}),i=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),a=n=>xw.parts.field({factory:Ww,inputClasses:["tox-textfield"],inputBehaviours:lA([vd.config({disabled:()=>!e.enabled||t.isDisabled()}),Nb(),kw.config({}),Lh("size-input-events",[_s(Dr(),((e,t)=>{ys(e,o,{isField1:n})})),_s(Pr(),((t,n)=>{ys(t,Lw,{name:e.name})}))])]),selectOnFocus:!1}),A=e=>({dom:{tag:"label",classes:["tox-label"]},components:[Pi(t.translate(e))]}),l=ux.parts.field1(i([xw.parts.label(A("Width")),a(!0)])),c=ux.parts.field2(i([xw.parts.label(A("Height")),a(!1)]));return ux.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[l,c,i([A(" "),s])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,o)=>{dx(Yc.getValue(e)).each((e=>{n(e).each((e=>{Yc.setValue(t,(e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let n=e.value.toFixed((o=e.unit)in t?t[o]:1);var o;return-1!==n.indexOf(".")&&(n=n.replace(/\.?0*$/,"")),n+e.unit})(e))}))}))},coupledFieldBehaviours:lA([vd.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{ux.getField1(e).bind(xw.getField).each(vd.disable),ux.getField2(e).bind(xw.getField).each(vd.disable),ux.getLock(e).each(vd.disable)},onEnabled:e=>{ux.getField1(e).bind(xw.getField).each(vd.enable),ux.getField2(e).bind(xw.getField).each(vd.enable),ux.getLock(e).each(vd.enable)}}),Nb(),Lh("size-input-events2",[_s(o,((e,t)=>{const o=t.event.isField1,r=o?ux.getField1(e):ux.getField2(e),s=o?ux.getField2(e):ux.getField1(e),i=r.map(Yc.getValue).getOr(""),a=s.map(Yc.getValue).getOr("");n=((e,t)=>{const n=dx(e).toOptional(),o=dx(t).toOptional();return Be(n,o,((e,t)=>mx(e,t.unit).map((e=>t.value/e)).map((e=>{return n=e,o=t.unit,e=>mx(e,o).map((e=>({value:e*n,unit:o})));var n,o})).getOr(hx))).getOr(hx)})(i,a)}))])])})})(e,t.shared.providers))),slider:Yx(((e,t,n)=>((e,t,n)=>{const o=cC.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Pi(t.translate(e.label))]}),r=cC.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),s=cC.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return cC.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:v(n.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[o,r,s],sliderBehaviours:lA([SC(),Hh.config({})]),onChoose:(t,n,o)=>{ys(t,Lw,{name:e.name,value:o})}})})(e,t.shared.providers,n))),urlinput:Yx(((e,t,n)=>((e,t,n,o)=>{const r=t.shared.providers,s=t=>{const o=Yc.getValue(t);n.addToHistory(o.value,e.filetype)},i=xw.parts.field({factory:Ex,...o.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Zx,type:"url"},minChars:0,responseTime:0,fetch:o=>{const r=((e,t,n)=>{const o=Yc.getValue(t),r=void 0!==o.meta.text?o.meta.text:o.value;return n.getLinkInformation().fold((()=>[]),(t=>{const o=qx(r,(e=>M(e,(e=>Vx(e,e))))(n.getHistory(e)));return"file"===e?(s=[o,qx(r,zx(t)),qx(r,G([Wx(t),Kx(t),Gx(t)]))],z(s,((e,t)=>0===e.length||0===t.length?e.concat(t):e.concat(Rx,t)),[])):o;var s}))})(e.filetype,o,n),s=nx(r,Vp.BUBBLE_TO_SANDBOX,t,!1);return Yw(s)},getHotspot:e=>d.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(Ay)&&Ay.run(e).get(f)},typeaheadBehaviours:lA(G([n.getValidationHandler().map((t=>Ay.config({getRoot:e=>Ye(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{A.getOpt(e).each((e=>{gt(e.element,"title",r.translate(t))}))}},validator:{validate:n=>{const o=Yc.getValue(n);return Ox((n=>{t({type:e.filetype,url:o.value},(e=>{if("invalid"===e.status){const t=Gn.error(e.message);n(t)}else{const t=Gn.value(e.message);n(t)}}))}))},validateOnLoad:!1}}))).toArray(),[vd.config({disabled:()=>!e.enabled||r.isDisabled()}),kw.config({}),Lh("urlinput-events",G(["file"===e.filetype?[_s(Rr(),(t=>{ys(t,Lw,{name:e.name})}))]:[],[_s(Pr(),(t=>{ys(t,Lw,{name:e.name}),s(t)})),_s(Jr(),(t=>{ys(t,Lw,{name:e.name}),s(t)}))]]))]])),eventOrder:{[Rr()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:sf(0,0,"normal")},onExecute:(e,t,n)=>{ys(t,Iw,{})},onItemExecute:(t,n,o,r)=>{s(t),ys(t,Lw,{name:e.name})}}),a=e.label.map((e=>Tw(e,r))),A=Cg(((e,t,n=e,o=e)=>Lg(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:r.translate(o),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},r.icons))("invalid",_.some(Zx),"warning")),l=Cg({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[A.asSpec()]}),c=n.getUrlPicker(e.filetype),u=Zs("browser.url.event"),d=Cg({dom:{tag:"div",classes:["tox-control-wrap"]},components:[i,l.asSpec()],behaviours:lA([vd.config({disabled:()=>!e.enabled||r.isDisabled()})])}),m=Cg(Ix({name:e.name,icon:_.some("browse"),text:e.label.getOr(""),enabled:e.enabled,primary:!1,buttonType:_.none(),borderless:!0},(e=>ws(e,u)),r,[],["tox-browse-url"]));return xw.sketch({dom:Uw([]),components:a.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:G([[d.asSpec()],c.map((()=>m.asSpec())).toArray()])}]),fieldBehaviours:lA([vd.config({disabled:()=>!e.enabled||r.isDisabled(),onDisabled:e=>{xw.getField(e).each(vd.disable),m.getOpt(e).each(vd.disable)},onEnabled:e=>{xw.getField(e).each(vd.enable),m.getOpt(e).each(vd.enable)}}),Nb(),Lh("url-input-events",[_s(u,(t=>{sd.getCurrent(t).each((n=>{const o=Yc.getValue(n),r={fieldname:e.name,...o};c.each((o=>{o(r).get((o=>{Yc.setValue(n,o),ys(t,Lw,{name:e.name})}))}))}))}))])])})})(e,t,t.urlinput,n))),customeditor:Yx((e=>{const t=HA(),n=Cg({dom:{tag:e.tag}}),o=HA();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:lA([Lh("custom-editor-events",[Is((r=>{n.getOpt(r).each((n=>{((e=>be(e,"init"))(e)?e.init(n.element.dom):QC.load(e.scriptId,e.scriptUrl).then((t=>t(n.element.dom,e.settings)))).then((e=>{o.on((t=>{e.setValue(t)})),o.clear(),t.set(e)}))}))}))]),TC(_.none(),(()=>t.get().fold((()=>o.get().getOr("")),(e=>e.getValue()))),((e,n)=>{t.get().fold((()=>o.set(n)),(e=>e.setValue(n)))})),SC()]),components:[n.asSpec()]}})),htmlpanel:Yx((e=>"presentation"===e.presets?ww.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):ww.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:lA([kw.config({}),Hh.config({})])}))),imagepreview:Yx(((e,t,n)=>((e,t)=>{const n=pr(t.getOr({url:""})),o=Cg({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}}),r=Cg({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[o.asSpec()]}),s={};e.height.each((e=>s.height=e));const i=t.map((e=>({url:e.url,zoom:_.from(e.zoom),cachedWidth:_.from(e.cachedWidth),cachedHeight:_.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:s,attributes:{role:"presentation"}},components:[r.asSpec()],behaviours:lA([SC(),TC(i,(()=>n.get()),((e,t)=>{const s={url:t.url};t.zoom.each((e=>s.zoom=e)),t.cachedWidth.each((e=>s.cachedWidth=e)),t.cachedHeight.each((e=>s.cachedHeight=e)),n.set(s);const i=()=>{const t=s.cachedWidth,n=s.cachedHeight;if(u(s.zoom)){const o=((e,t,n)=>{const o=jt(e),r=Qt(e);return Math.min(o/t,r/n,1)})(e.element,t,n);s.zoom=o}const o=((e,t,n,o,r)=>{const s=n*r,i=o*r,a=Math.max(0,e/2-s/2),A=Math.max(0,t/2-i/2);return{left:a.toString()+"px",top:A.toString()+"px",width:s.toString()+"px",height:i.toString()+"px"}})(jt(e.element),Qt(e.element),t,n,s.zoom);r.getOpt(e).each((e=>{xt(e.element,o)}))};o.getOpt(e).each((n=>{const o=n.element;var r;t.url!==ft(o,"src")&&(gt(o,"src",t.url),Ei(e.element,"tox-imagepreview__loaded")),u(s.cachedWidth)||u(s.cachedHeight)||i(),(r=o,new Promise(((e,t)=>{const n=()=>{s(),e(r)},o=[RA(r,"load",n),RA(r,"error",(()=>{s(),t("Unable to load data from image: "+r.dom.src)}))],s=()=>R(o,(e=>e.unbind()));r.dom.complete&&n()}))).then((t=>{e.getSystem().isConnected()&&(ki(e.element,"tox-imagepreview__loaded"),s.cachedWidth=t.dom.naturalWidth,s.cachedHeight=t.dom.naturalHeight,i())}))}))}))])}})(e,n))),table:Yx(((e,t)=>((e,t)=>{const n=e=>({dom:{tag:"td",innerHtml:t.translate(e)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(r=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:M(r,(e=>({dom:{tag:"th",innerHtml:t.translate(e)}})))}]}),(o=e.cells,{dom:{tag:"tbody"},components:M(o,(e=>({dom:{tag:"tr"},components:M(e,n)})))})],behaviours:lA([kw.config({}),Hh.config({})])};var o,r})(e,t.shared.providers))),panel:Yx(((e,t)=>((e,t)=>({dom:{tag:"div",classes:e.classes},components:M(e.items,t.shared.interpreter)}))(e,t)))},eS={field:(e,t)=>t,record:v([])},tS=(e,t,n,o)=>{const r=ro(o,{shared:{interpreter:t=>nS(e,t,n,r)}});return nS(e,t,n,r)},nS=(e,t,n,o)=>fe($x,t.type).fold((()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t)),(r=>r(e,t,n,o))),oS="layout-inset",rS=e=>e.x,sS=(e,t)=>e.x+e.width/2-t.width/2,iS=(e,t)=>e.x+e.width-t.width,aS=e=>e.y,AS=(e,t)=>e.y+e.height-t.height,lS=(e,t)=>e.y+e.height/2-t.height/2,cS=(e,t,n)=>xa(iS(e,t),AS(e,t),n.insetSouthwest(),_a(),"southwest",Da(e,{right:0,bottom:3}),oS),uS=(e,t,n)=>xa(rS(e),AS(e,t),n.insetSoutheast(),Ea(),"southeast",Da(e,{left:1,bottom:3}),oS),dS=(e,t,n)=>xa(iS(e,t),aS(e),n.insetNorthwest(),ka(),"northwest",Da(e,{right:0,top:2}),oS),mS=(e,t,n)=>xa(rS(e),aS(e),n.insetNortheast(),Fa(),"northeast",Da(e,{left:1,top:2}),oS),hS=(e,t,n)=>xa(sS(e,t),aS(e),n.insetNorth(),Oa(),"north",Da(e,{top:2}),oS),gS=(e,t,n)=>xa(sS(e,t),AS(e,t),n.insetSouth(),Ua(),"south",Da(e,{bottom:3}),oS),pS=(e,t,n)=>xa(iS(e,t),lS(e,t),n.insetEast(),La(),"east",Da(e,{right:0}),oS),fS=(e,t,n)=>xa(rS(e),lS(e,t),n.insetWest(),Ta(),"west",Da(e,{left:1}),oS),bS=e=>{switch(e){case"north":return hS;case"northeast":return mS;case"northwest":return dS;case"south":return gS;case"southeast":return uS;case"southwest":return cS;case"east":return pS;case"west":return fS}},vS=(e,t,n,o,r)=>LA(o).map(bS).getOr(hS)(e,t,n,o,r),wS=e=>{switch(e){case"north":return gS;case"northeast":return uS;case"northwest":return cS;case"south":return hS;case"southeast":return mS;case"southwest":return dS;case"east":return fS;case"west":return pS}},yS=(e,t,n,o,r)=>LA(o).map(wS).getOr(hS)(e,t,n,o,r),BS={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},CS=(e,t,n)=>{const o={maxHeightFunction:qA()};return()=>n()?{type:"node",root:At(e()),node:_.from(e()),bubble:YA(12,12,BS),layouts:{onRtl:()=>[mS],onLtr:()=>[dS]},overrides:o}:{type:"hotspot",hotspot:t(),bubble:YA(-12,12,BS),layouts:{onRtl:()=>[za],onLtr:()=>[Ka]},overrides:o}},xS=(e,t,n)=>()=>n()?{type:"node",root:At(e()),node:_.from(e()),layouts:{onRtl:()=>[hS],onLtr:()=>[hS]}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[Za],onLtr:()=>[Za]}},SS=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng();return _.some(Sl.range(Ne(t.startContainer),t.startOffset,Ne(t.endContainer),t.endOffset))}}),FS=e=>t=>({type:"node",root:e(),node:t}),kS=(e,t,n)=>{const o=Lp(e),r=()=>Ne(e.getBody()),s=()=>Ne(e.getContentAreaContainer()),i=()=>o||!n();return{inlineDialog:CS(s,t,i),banner:xS(s,t,i),cursor:SS(e,r),node:FS(r)}},ES=e=>(t,n)=>{Gv(e)(t,n)},_S=e=>()=>Dv(e),OS=e=>()=>Iv(e),US=e=>()=>Qv(e),TS=e=>({colorPicker:ES(e),hasCustomColors:_S(e),getColors:OS(e),getColorCols:US(e)}),LS=e=>()=>fp(e),NS=e=>({isDraggableModal:LS(e)}),QS=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],DS=e=>z(e,((e,t)=>{if(be(t,"items")){const n=DS(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(be(t,"inline")||(e=>be(e,"block"))(t)||(e=>be(e,"selector"))(t)){const n=`custom-${s(t.name)?t.name:t.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),IS=e=>Jg(e).map((t=>{const n=((e,t)=>{const n=DS(t),o=t=>{R(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?o(n.customFormats):e.on("init",(()=>{o(n.customFormats)})),n.formats})(e,t);return Yg(e)?QS.concat(n):n})).getOr(QS),HS=(e,t,n)=>{const o={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return ro(e,o)},MS=(e,t,n,o)=>{const r=t=>M(t,(t=>{const i=ie(t);if(ve(t,"items")){const e=r(t.items);return ro((e=>ro(e,{type:"submenu"}))(t),{getStyleItems:v(e)})}return ve(t,"format")?(e=>HS(e,n,o))(t):1===i.length&&Q(i,"title")?ro(t,{type:"separator"}):(t=>{const r=s(t.name)?t.name:Zs(t.title),i=`custom-${r}`,a={type:"formatter",format:i,isSelected:n(i),getStylePreview:o(i)},A=ro(t,a);return e.formatter.register(r,A),A})(t)}));return r(t)},RS=e=>{const t=t=>()=>e.formatter.match(t),n=t=>()=>{const n=e.formatter.get(t);return void 0!==n?_.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):_.none()},o=e=>{const t=e.items;return void 0!==t&&t.length>0?q(t,o):[e.format]},r=pr([]),s=pr([]),i=pr([]),a=pr([]),A=pr(!1);return e.on("PreInit",(i=>{const a=IS(e),A=MS(e,a,t,n);r.set(A),s.set(q(A,o))})),e.on("addStyleModifications",(r=>{const s=MS(e,r.items,t,n);i.set(s),A.set(r.replace),a.set(q(s,o))})),{getData:()=>{const e=A.get()?[]:r.get(),t=i.get();return e.concat(t)},getFlattenedKeys:()=>{const e=A.get()?[]:s.get(),t=a.get();return e.concat(t)}}},PS=DC.trim,VS=e=>t=>{if((e=>m(e)&&1===e.nodeType)(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},jS=VS("true"),zS=VS("false"),KS=(e,t,n,o,r)=>({type:e,title:t,url:n,level:o,attach:r}),WS=e=>e.innerText||e.textContent,GS=e=>(e=>e&&"A"===e.nodeName&&void 0!==(e.id||e.name))(e)&&ZS(e),qS=e=>e&&/^(H[1-6])$/.test(e.nodeName),ZS=e=>(e=>{for(;e=e.parentNode;){const t=e.contentEditable;if(t&&"inherit"!==t)return jS(e)}return!1})(e)&&!zS(e),XS=e=>qS(e)&&ZS(e),JS=e=>{const t=(e=>e.id?e.id:Zs("h"))(e);return KS("header",WS(e),"#"+t,(e=>qS(e)?parseInt(e.nodeName.substr(1),10):0)(e),(()=>{e.id=t}))},YS=e=>{const t=e.id||e.name,n=WS(e);return KS("anchor",n||"#"+t,"#"+t,0,f)},$S=e=>PS(e.title).length>0,eF=e=>{const t=(e=>{const t=M(Tl(Ne(e),"h1,h2,h3,h4,h5,h6,a:not([href])"),(e=>e.dom));return t})(e);return V((e=>M(V(e,XS),JS))(t).concat((e=>M(V(e,GS),YS))(t)),$S)},tF="tinymce-url-history",nF=e=>s(e)&&/^https?/.test(e),oF=e=>i(e)&&ge(e,(e=>{return!(A(t=e)&&t.length<=5&&Z(t,nF));var t})).isNone(),rF=()=>{const e=Ov.getItem(tF);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+tF+" was not valid JSON",e),{};throw e}return oF(t)?t:(console.log("Local storage "+tF+" was not valid format",t),{})},sF=e=>{const t=rF();return fe(t,e).getOr([])},iF=(e,t)=>{if(!nF(e))return;const n=rF(),o=fe(n,t).getOr([]),r=V(o,(t=>t!==e));n[t]=[e].concat(r).slice(0,5),(e=>{if(!oF(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));Ov.setItem(tF,JSON.stringify(e))})(n)},aF=e=>!!e,AF=e=>le(DC.makeMap(e,/[, ]/),aF),lF=e=>_.from(up(e)),cF=e=>_.from(e).filter(s).getOrUndefined(),uF=e=>({getHistory:sF,addToHistory:iF,getLinkInformation:()=>(e=>hp(e)?_.some({targets:eF(e.getBody()),anchorTop:cF(gp(e)),anchorBottom:cF(pp(e))}):_.none())(e),getValidationHandler:()=>(e=>_.from(dp(e)))(e),getUrlPicker:t=>((e,t)=>((e,t)=>{const n=(e=>{const t=_.from(mp(e)).filter(aF).map(AF);return lF(e).fold(F,(e=>t.fold(k,(e=>ie(e).length>0&&e))))})(e);return c(n)?n?lF(e):_.none():n[t]?lF(e):_.none()})(e,t).map((n=>o=>Jw((r=>{const a={filetype:t,fieldname:o.fieldname,..._.from(o.meta).getOr({})};n.call(e,((e,t)=>{if(!s(e))throw new Error("Expected value to be string");if(void 0!==t&&!i(t))throw new Error("Expected meta to be a object");r({value:e,meta:t})}),o.value,a)})))))(e,t)}),dF=qu,mF=Uu,hF=v([ar("shell",!1),zo("makeItem"),ar("setupItem",f),nu("listBehaviours",[Th])]),gF=Eu({name:"items",overrides:()=>({behaviours:lA([Th.config({})])})}),pF=v([gF]),fF=td({name:v("CustomList")(),configFields:hF(),partFields:pF(),factory:(e,t,n,o)=>{const r=e.shell?{behaviours:[Th.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:r.components,behaviours:tu(e.listBehaviours,r.behaviours),apis:{setItems:(t,n)=>{var o;(o=t,e.shell?_.some(o):Ru(o,e,"items")).fold((()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(o=>{const r=Th.contents(o),s=n.length,i=s-r.length,a=i>0?I(i,(()=>e.makeItem())):[],A=r.slice(s);R(A,(e=>Th.remove(o,e))),R(a,(e=>Th.append(o,e)));const l=Th.contents(o);R(l,((o,r)=>{e.setupItem(t,o,n[r],r)}))}))}}}},apis:{setItems:(e,t,n)=>{e.setItems(t,n)}}}),bF=v([zo("dom"),ar("shell",!0),$c("toolbarBehaviours",[Th])]),vF=v([Eu({name:"groups",overrides:()=>({behaviours:lA([Th.config({})])})})]),wF=td({name:"Toolbar",configFields:bF(),partFields:vF(),factory:(e,t,n,o)=>{const r=e.shell?{behaviours:[Th.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:r.components,behaviours:tu(e.toolbarBehaviours,r.behaviours),apis:{setGroups:(t,n)=>{var o;(o=t,e.shell?_.some(o):Ru(o,e,"groups")).fold((()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{Th.set(e,n)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)}}}),yF=f,BF=F,CF=v([]);var xF,SF=Object.freeze({__proto__:null,setup:yF,isDocked:BF,getBehaviours:CF});const FF=e=>(we(Et(e,"position"),"fixed")?_.none():$e(e)).orThunk((()=>{const t=Te("span");return Je(e).bind((e=>{_n(e,t);const n=$e(t);return Tn(t),n}))})),kF=e=>FF(e).map(Rt).getOrThunk((()=>Ht(0,0))),EF=fr([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),_F=(e,t)=>{const n=e.element;ki(n,t.transitionClass),Ei(n,t.fadeOutClass),ki(n,t.fadeInClass),t.onShow(e)},OF=(e,t)=>{const n=e.element;ki(n,t.transitionClass),Ei(n,t.fadeInClass),ki(n,t.fadeOutClass),t.onHide(e)},UF=(e,t,n)=>Z(e,(e=>{switch(e){case"bottom":return((e,t)=>e.bottom<=t.bottom)(t,n);case"top":return((e,t)=>e.y>=t.y)(t,n)}})),TF=(e,t)=>t.getInitialPos().map((t=>Pn(t.bounds.x,t.bounds.y,jt(e),Qt(e)))),LF=(e,t,n)=>n.getInitialPos().bind((o=>{switch(n.clearInitialPos(),o.position){case"static":return _.some(EF.static());case"absolute":const n=FF(e).map(Vn).getOrThunk((()=>Vn(dt())));return _.some(EF.absolute(BA("absolute",fe(o.style,"left").map((e=>t.x-n.x)),fe(o.style,"top").map((e=>t.y-n.y)),fe(o.style,"right").map((e=>n.right-t.right)),fe(o.style,"bottom").map((e=>n.bottom-t.bottom)))));default:return _.none()}})),NF=(e,t,n)=>{const o=e.element;return we(Et(o,"position"),"fixed")?((e,t,n)=>TF(e,n).filter((e=>UF(n.getModes(),e,t))).bind((t=>LF(e,t,n))))(o,t,n):((e,t,n)=>{const o=Vn(e);if(UF(n.getModes(),o,t))return _.none();{((e,t,n)=>{n.setInitialPos({style:_t(e),position:Ft(e,"position")||"static",bounds:t})})(e,o,n);const r=zn(),s=o.x-r.x,i=t.y-r.y,a=r.bottom-t.bottom,A=o.y<=t.y;return _.some(EF.fixed(BA("fixed",_.some(s),A?_.some(i):_.none(),_.none(),A?_.none():_.some(a))))}})(o,t,n)},QF=(e,t,n)=>{n.setDocked(!1),R(["left","right","top","bottom","position"],(t=>Ut(e.element,t))),t.onUndocked(e)},DF=(e,t,n,o)=>{const r="fixed"===o.position;n.setDocked(r),CA(e.element,o),(r?t.onDocked:t.onUndocked)(e)},IF=(e,t,n,o,r=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((s=>{const i=((e,t)=>e.y<t.bottom&&e.bottom>t.y)(s,o);i!==n.isVisible()&&(n.setVisible(i),r&&!i?(Oi(e.element,[t.fadeOutClass]),t.onHide(e)):(i?_F:OF)(e,t))}))}))},HF=(e,t,n)=>{e.getSystem().isConnected()&&((e,t,n)=>{const o=t.lazyViewport(e);n.isDocked()&&IF(e,t,n,o),NF(e,o,n).each((r=>{r.fold((()=>QF(e,t,n)),(o=>DF(e,t,n,o)),(r=>{IF(e,t,n,o,!0),DF(e,t,n,r)}))}))})(e,t,n)},MF=(e,t,n)=>{n.isDocked()&&((e,t,n)=>{const o=e.element;n.setDocked(!1),((e,t)=>{const n=e.element;return TF(n,t).bind((e=>LF(n,e,t)))})(e,n).each((o=>{o.fold((()=>QF(e,t,n)),(o=>DF(e,t,n,o)),f)})),n.setVisible(!0),t.contextual.each((t=>{Ui(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),HF(e,t,n)})(e,t,n)};var RF=Object.freeze({__proto__:null,refresh:HF,reset:MF,isDocked:(e,t,n)=>n.isDocked(),getModes:(e,t,n)=>n.getModes(),setModes:(e,t,n,o)=>n.setModes(o)}),PF=Object.freeze({__proto__:null,events:(e,t)=>Fs([Ds(zr(),((n,o)=>{e.contextual.each((e=>{_i(n.element,e.transitionClass)&&(Ui(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n)),o.stop()}))})),_s(As(),((n,o)=>{HF(n,e,t)})),_s(ls(),((n,o)=>{MF(n,e,t)}))])}),VF=[ir("contextual",[Go("fadeInClass"),Go("fadeOutClass"),Go("transitionClass"),Zo("lazyContext"),fa("onShow"),fa("onShown"),fa("onHide"),fa("onHidden")]),mr("lazyViewport",zn),hr("modes",["top","bottom"],Eo),fa("onDocked"),fa("onUndocked")];const jF=uA({fields:VF,name:"docking",active:PF,apis:RF,state:Object.freeze({__proto__:null,init:e=>{const t=pr(!1),n=pr(!0),o=HA(),r=pr(e.modes);return mi({isDocked:t.get,setDocked:t.set,getInitialPos:o.get,setInitialPos:o.set,clearInitialPos:o.clear,isVisible:n.get,setVisible:n.set,getModes:r.get,setModes:r.set,readState:()=>`docked:  ${t.get()}, visible: ${n.get()}, modes: ${r.get().join(",")}`})}})}),zF=v(Zs("toolbar-height-change")),KF={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},WF="tox-tinymce--toolbar-sticky-on",GF="tox-tinymce--toolbar-sticky-off",qF=(e,t)=>Q(jF.getModes(e),t),ZF=e=>{const t=e.element;Je(t).each((n=>{const o="padding-"+jF.getModes(e)[0];if(jF.isDocked(e)){const e=jt(n);Ct(t,"width",e+"px"),Ct(n,o,(e=>Dt(e)+(parseInt(Ft(e,"margin-top"),10)||0)+(parseInt(Ft(e,"margin-bottom"),10)||0))(t)+"px")}else Ut(t,"width"),Ut(n,o)}))},XF=(e,t)=>{t?(Ei(e,KF.fadeOutClass),Oi(e,[KF.transitionClass,KF.fadeInClass])):(Ei(e,KF.fadeInClass),Oi(e,[KF.fadeOutClass,KF.transitionClass]))},JF=(e,t)=>{const n=Ne(e.getContainer());t?(ki(n,WF),Ei(n,GF)):(ki(n,GF),Ei(n,WF))},YF=(e,t)=>{const n=HA(),o=t.getSink,r=e=>{o().each((t=>e(t.element)))},s=t=>{e.inline||ZF(t),JF(e,jF.isDocked(t)),t.getSystem().broadcastOn([Nc()],{}),o().each((e=>e.getSystem().broadcastOn([Nc()],{})))},i=e.inline?[]:[gA.config({channels:{[zF()]:{onReceive:ZF}}})];return[Hh.config({}),jF.config({contextual:{lazyContext:t=>{const n=Dt(t.element),o=e.inline?e.getContentAreaContainer():e.getContainer(),r=Vn(Ne(o)),s=r.height-n,i=r.y+(qF(t,"top")?0:n);return _.some(Pn(r.x,i,r.width,s))},onShow:()=>{r((e=>XF(e,!0)))},onShown:e=>{r((e=>Ui(e,[KF.transitionClass,KF.fadeInClass]))),n.get().each((t=>{((e,t)=>{const n=Ge(t);vA(n).filter((e=>!Ke(t,e))).filter((t=>Ke(t,Ne(n.dom.body))||We(e,t))).each((()=>fA(t)))})(e.element,t),n.clear()}))},onHide:e=>{((e,t)=>wA(e).orThunk((()=>t().toOptional().bind((e=>wA(e.element))))))(e.element,o).fold(n.clear,n.set),r((e=>XF(e,!1)))},onHidden:()=>{r((e=>Ui(e,[KF.transitionClass])))},...KF},lazyViewport:t=>{const n=zn(),o=Ap(e),r=n.y+(qF(t,"top")?o:0),s=n.height-(qF(t,"bottom")?o:0);return Pn(n.x,r,n.width,s)},modes:[t.header.getDockingMode()],onDocked:s,onUndocked:s}),...i]};var $F=Object.freeze({__proto__:null,setup:(e,t,n)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(()=>{n().each(jF.reset)})),e.on("ResizeWindow ResizeEditor",(()=>{n().each(ZF)})),e.on("SkinLoaded",(()=>{n().each((e=>{jF.isDocked(e)?jF.reset(e):jF.refresh(e)}))})),e.on("FullscreenStateChanged",(()=>{n().each(jF.reset)}))),e.on("AfterScrollIntoView",(e=>{n().each((t=>{jF.refresh(t);const n=t.element;bm(n)&&((e,t)=>{const n=Ge(t),o=n.dom.defaultView.innerHeight,r=Ln(n),s=Ne(e.elm),i=jn(s),a=Qt(s),A=i.y,l=A+a,c=Rt(t),u=Qt(t),d=c.top,m=d+u,h=Math.abs(d-r.top)<2,g=Math.abs(m-(r.top+o))<2;if(h&&A<m)Nn(r.left,A-u,n);else if(g&&l>d){const e=A-o+a+u;Nn(r.left,e,n)}})(e,n)}))})),e.on("PostRender",(()=>{JF(e,!1)}))},isDocked:e=>e().map(jF.isDocked).getOr(!1),getBehaviours:YF});const ek=wo([hf,Ko("items",Bo([xo([gf,Yo("items",Eo)]),Eo]))].concat(zf)),tk=[nr("text"),nr("tooltip"),nr("icon"),Zo("fetch"),mr("onSetup",(()=>f))],nk=wo([hf,...tk]),ok=e=>Do("menubutton",nk,e),rk=wo([hf,_f,Ef,kf,Tf,yf,Sf,ur("presets","normal",["normal","color","listpreview"]),If(1),Cf,xf]);var sk=ed({factory:(e,t)=>{const n={focus:Ch.focusIn,setMenus:(e,n)=>{const o=M(n,(e=>{const n={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}},o=ok(n).mapError((e=>Mo(e))).getOrDie();return Tx(o,"tox-mbtn",t.backstage,_.some("menuitem"))}));Th.set(e,o)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:lA([Th.config({}),Lh("menubar-events",[Is((t=>{e.onSetup(t)})),_s(Qr(),((e,t)=>{ea(e.element,".tox-mbtn--active").each((n=>{ta(t.event.target,".tox-mbtn").each((t=>{Ke(n,t)||e.getSystem().getByDom(n).each((n=>{e.getSystem().getByDom(t).each((e=>{ky.expand(e),ky.close(n),Hh.focus(e)}))}))}))}))})),_s(hs(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((n=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{ky.isOpen(n)&&(ky.expand(e),ky.close(n))}))}))}))]),Ch.config({mode:"flow",selector:".tox-mbtn",onEscape:t=>(e.onEscape(t),_.some(!0))}),kw.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[zo("dom"),zo("uid"),zo("onEscape"),zo("backstage"),ar("onSetup",f)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,n)=>{e.setMenus(t,n)}}});const ik=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),ak=e=>e.dimension.property,Ak=(e,t)=>e.dimension.getDimension(t),lk=(e,t)=>{const n=ik(e,t);Ui(n,[t.shrinkingClass,t.growingClass])},ck=(e,t)=>{Ei(e.element,t.openClass),ki(e.element,t.closedClass),Ct(e.element,ak(t),"0px"),Tt(e.element)},uk=(e,t)=>{Ei(e.element,t.closedClass),ki(e.element,t.openClass),Ut(e.element,ak(t))},dk=(e,t,n,o)=>{n.setCollapsed(),Ct(e.element,ak(t),Ak(t,e.element)),lk(e,t),ck(e,t),t.onStartShrink(e),t.onShrunk(e)},mk=(e,t,n,o)=>{const r=o.getOrThunk((()=>Ak(t,e.element)));n.setCollapsed(),Ct(e.element,ak(t),r),Tt(e.element);const s=ik(e,t);Ei(s,t.growingClass),ki(s,t.shrinkingClass),ck(e,t),t.onStartShrink(e)},hk=(e,t,n)=>{const o=Ak(t,e.element);("0px"===o?dk:mk)(e,t,n,_.some(o))},gk=(e,t,n)=>{const o=ik(e,t),r=_i(o,t.shrinkingClass),s=Ak(t,e.element);uk(e,t);const i=Ak(t,e.element);(r?()=>{Ct(e.element,ak(t),s),Tt(e.element)}:()=>{ck(e,t)})(),Ei(o,t.shrinkingClass),ki(o,t.growingClass),uk(e,t),Ct(e.element,ak(t),i),n.setExpanded(),t.onStartGrow(e)},pk=(e,t,n)=>{const o=ik(e,t);return!0===_i(o,t.growingClass)},fk=(e,t,n)=>{const o=ik(e,t);return!0===_i(o,t.shrinkingClass)};var bk=Object.freeze({__proto__:null,refresh:(e,t,n)=>{if(n.isExpanded()){Ut(e.element,ak(t));const n=Ak(t,e.element);Ct(e.element,ak(t),n)}},grow:(e,t,n)=>{n.isExpanded()||gk(e,t,n)},shrink:(e,t,n)=>{n.isExpanded()&&hk(e,t,n)},immediateShrink:(e,t,n)=>{n.isExpanded()&&dk(e,t,n)},hasGrown:(e,t,n)=>n.isExpanded(),hasShrunk:(e,t,n)=>n.isCollapsed(),isGrowing:pk,isShrinking:fk,isTransitioning:(e,t,n)=>pk(e,t)||fk(e,t),toggleGrow:(e,t,n)=>{(n.isExpanded()?hk:gk)(e,t,n)},disableTransitions:lk,immediateGrow:(e,t,n)=>{n.isExpanded()||(uk(e,t),Ct(e.element,ak(t),Ak(t,e.element)),lk(e,t),n.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),vk=Object.freeze({__proto__:null,exhibit:(e,t,n)=>{const o=t.expanded;return gi(o?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:br(t.dimension.property,"0px")})},events:(e,t)=>Fs([Ds(zr(),((n,o)=>{o.event.raw.propertyName===e.dimension.property&&(lk(n,e),t.isExpanded()&&Ut(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}),wk=[zo("closedClass"),zo("openClass"),zo("shrinkingClass"),zo("growingClass"),$o("getAnimationRoot"),fa("onShrunk"),fa("onStartShrink"),fa("onGrown"),fa("onStartGrow"),ar("expanded",!1),Ko("dimension",Ro("property",{width:[ya("property","width"),ya("getDimension",(e=>jt(e)+"px"))],height:[ya("property","height"),ya("getDimension",(e=>Qt(e)+"px"))]}))];const yk=uA({fields:wk,name:"sliding",active:vk,apis:bk,state:Object.freeze({__proto__:null,init:e=>{const t=pr(e.expanded);return mi({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:B(t.set,!1),setExpanded:B(t.set,!0),readState:()=>"expanded: "+t.get()})}})}),Bk="container",Ck=[$c("slotBehaviours",[])],xk=e=>"<alloy.field."+e+">",Sk=(e,t)=>{const n=t=>zu(e),o=(t,n)=>(o,r)=>Ru(o,e,r).map((e=>t(e,r))).getOr(n),r=(e,t)=>"true"!==ft(e.element,"aria-hidden"),s=o(r,!1),i=o(((e,t)=>{if(r(e)){const n=e.element;Ct(n,"display","none"),gt(n,"aria-hidden","true"),ys(e,gs(),{name:t,visible:!1})}})),a=(A=i,(e,t)=>{R(t,(t=>A(e,t)))});var A;const l=o(((e,t)=>{if(!r(e)){const n=e.element;Ut(n,"display"),wt(n,"aria-hidden"),ys(e,gs(),{name:t,visible:!0})}})),c={getSlotNames:n,getSlot:(t,n)=>Ru(t,e,n),isShowing:s,hideSlot:i,hideAllSlots:e=>a(e,n()),showSlot:l};return{uid:e.uid,dom:e.dom,components:t,behaviours:eu(e.slotBehaviours),apis:c}},Fk=le({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,n)=>e.getSlot(t,n),isShowing:(e,t,n)=>e.isShowing(t,n),hideSlot:(e,t,n)=>e.hideSlot(t,n),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,n)=>e.showSlot(t,n)},(e=>ui(e))),kk={...Fk,sketch:e=>{const t=(()=>{const e=[];return{slot:(t,n)=>(e.push(t),Qu(Bk,xk(t),n)),record:v(e)}})(),n=e(t),o=t.record(),r=M(o,(e=>Fu({name:e,pname:xk(e)})));return Xu(Bk,Ck,r,Sk,n)}},Ek=wo([Ef,_f,mr("onShow",f),mr("onHide",f),Sf]),_k=e=>({element:()=>e.element.dom}),Ok=(e,t)=>{const n=M(ie(t),(e=>{const n=t[e],o=Io((e=>Do("sidebar",Ek,e))(n));return{name:e,getApi:_k,onSetup:o.onSetup,onShow:o.onShow,onHide:o.onHide}}));return M(n,(t=>{const o=pr(f);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:yb([Mb(t,o),Rb(t,o),_s(gs(),((e,t)=>{const o=t.event,r=K(n,(e=>e.name===o.name));r.each((t=>{(o.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},Uk=e=>kk.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:Ok(t,e),slotBehaviours:yb([Is((e=>kk.hideAllSlots(e)))])}))),Tk=e=>sd.getCurrent(e).bind((e=>yk.isGrowing(e)||yk.hasGrown(e)?sd.getCurrent(e).bind((e=>K(kk.getSlotNames(e),(t=>kk.isShowing(e,t))))):_.none())),Lk=Zs("FixSizeEvent"),Nk=Zs("AutoSizeEvent");var Qk=Object.freeze({__proto__:null,block:(e,t,n,o)=>{gt(e.element,"aria-busy",!0);const r=t.getRoot(e).getOr(e),s=lA([Ch.config({mode:"special",onTab:()=>_.some(!0),onShiftTab:()=>_.some(!0)}),Hh.config({})]),i=o(r,s),a=r.getSystem().build(i);Th.append(r,Wi(a)),a.hasConfigured(Ch)&&t.focus&&Ch.focusIn(a),n.isBlocked()||t.onBlock(e),n.blockWith((()=>Th.remove(r,a)))},unblock:(e,t,n)=>{wt(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()}}),Dk=[mr("getRoot",_.none),dr("focus",!0),fa("onBlock"),fa("onUnblock")];const Ik=uA({fields:Dk,name:"blocking",apis:Qk,state:Object.freeze({__proto__:null,init:()=>{const e=DA((e=>e.destroy()));return mi({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),Hk=e=>{const t=Ue(e),n=et(t),o=(e=>{const t=void 0!==e.dom.attributes?e.dom.attributes:[];return z(t,((e,t)=>"class"===t.name?e:{...e,[t.name]:t.value}),{})})(t),r=(e=>Array.prototype.slice.call(e.dom.classList,0))(t),s=0===n.length?{}:{innerHtml:Ps(t)};return{tag:De(t),classes:r,attributes:o,...s}},Mk=e=>sd.getCurrent(e).each((e=>fA(e.element))),Rk=(e,t,n)=>{const o=pr(!1),r=HA(),s=n=>{var r;o.get()&&(!(e=>"focusin"===e.type)(r=n)||!(r.composed?ne(r.composedPath()):_.from(r.target)).map(Ne).filter(He).exists((e=>_i(e,"mce-pastebin"))))&&(n.preventDefault(),Mk(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",s),e.on("BeforeExecCommand",(e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&s(e)}))}));const i=r=>{r!==o.get()&&(o.set(r),((e,t,n,o)=>{const r=t.element;if(((e,t)=>{const n="tabindex",o="data-mce-tabindex";_.from(e.iframeElement).map(Ne).each((e=>{t?(bt(e,n).each((t=>gt(e,o,t))),gt(e,n,-1)):(wt(e,n),bt(e,o).each((t=>{gt(e,n,t),wt(e,o)})))}))})(e,n),n)Ik.block(t,(e=>(t,n)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Hk('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(o)),Ut(r,"display"),wt(r,"aria-hidden"),e.hasFocus()&&Mk(t);else{const n=sd.getCurrent(t).exists((e=>bA(e.element)));Ik.unblock(t),Ct(r,"display","none"),gt(r,"aria-hidden","true"),n&&e.focus()}})(e,t(),r,n.providers),e.dispatch("AfterProgressState",{state:r}))};e.on("ProgressState",(t=>{if(r.on(clearTimeout),g(t.time)){const n=yg.setEditorTimeout(e,(()=>i(t.state)),t.time);r.set(n)}else i(t.state),r.clear()}))},Pk=(e,t,n)=>({within:e,extra:t,withinWidth:n}),Vk=(e,t,n)=>{const o=z(e,((e,t)=>((e,t)=>{const o=n(e);return _.some({element:e,start:t,finish:t+o,width:o})})(t,e.len).fold(v(e),(t=>({len:t.finish,list:e.list.concat([t])})))),{len:0,list:[]}).list,r=V(o,(e=>e.finish<=t)),s=j(r,((e,t)=>e+t.width),0);return{within:r,extra:o.slice(r.length),withinWidth:s}},jk=e=>M(e,(e=>e.element)),zk=(e,t)=>{const n=M(t,(e=>Wi(e)));wF.setGroups(e,n)},Kk=(e,t,n)=>{const o=t.builtGroups.get();if(0===o.length)return;const r=Pu(e,t,"primary"),s=dy.getCoupled(e,"overflowGroup");Ct(r.element,"visibility","hidden");const i=o.concat([s]),a=se(i,(e=>wA(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));n([]),zk(r,i);const A=((e,t,n,o)=>{const r=((e,t,n)=>{const o=Vk(t,e,n);return 0===o.extra.length?_.some(o):_.none()})(e,t,n).getOrThunk((()=>Vk(t,e-n(o),n))),s=r.within,i=r.extra,a=r.withinWidth;return 1===i.length&&i[0].width<=n(o)?((e,t,n)=>{const o=jk(e.concat(t));return Pk(o,[],n)})(s,i,a):i.length>=1?((e,t,n,o)=>{const r=jk(e).concat([n]);return Pk(r,jk(t),o)})(s,i,o,a):((e,t,n)=>Pk(jk(e),[],n))(s,0,a)})(jt(r.element),t.builtGroups.get(),(e=>jt(e.element)),s);0===A.extra.length?(Th.remove(r,s),n([])):(zk(r,A.within),n(A.extra)),Ut(r.element,"visibility"),Tt(r.element),a.each(Hh.focus)},Wk=v([$c("splitToolbarBehaviours",[dy]),Vo("builtGroups",(()=>pr([])))]),Gk=v([ga(["overflowToggledClass"]),rr("getOverflowBounds"),zo("lazySink"),Vo("overflowGroups",(()=>pr([])))].concat(Wk())),qk=v([Fu({factory:wF,schema:bF(),name:"primary"}),ku({schema:bF(),name:"overflow"}),ku({name:"overflow-button"}),ku({name:"overflow-group"})]),Zk=v(((e,t)=>{((e,t)=>{const n=Vt.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Ct(e,"max-width",n+"px")})(e,Math.floor(t))})),Xk=v([ga(["toggledClass"]),zo("lazySink"),Zo("fetch"),rr("getBounds"),ir("fireDismissalEventInstead",[ar("event",ds())]),il()]),Jk=v([ku({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:lA([Wh.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),ku({factory:wF,schema:bF(),name:"toolbar",overrides:e=>({toolbarBehaviours:lA([Ch.config({mode:"cyclic",onEscape:t=>(Ru(t,e,"button").each(Hh.focus),_.none())})])})})]),Yk=(e,t)=>{const n=dy.getCoupled(e,"toolbarSandbox");Tc.isOpen(n)?Tc.close(n):Tc.open(n,t.toolbar())},$k=(e,t,n,o)=>{const r=n.getBounds.map((e=>e())),s=n.lazySink(e).getOrDie();ac.positionWithinBounds(s,t,{anchor:{type:"hotspot",hotspot:e,layouts:o,overrides:{maxWidthFunction:Zk()}}},r)},eE=(e,t,n,o,r)=>{wF.setGroups(t,r),$k(e,t,n,o),Wh.on(e)},tE=td({name:"FloatingToolbarButton",factory:(e,t,n,o)=>({...Bg.sketch({...o.button(),action:e=>{Yk(e,o)},buttonBehaviours:ou({dump:o.button().buttonBehaviours},[dy.config({others:{toolbarSandbox:t=>((e,t,n)=>{const o=oa();return{dom:{tag:"div",attributes:{id:o.id}},behaviours:lA([Ch.config({mode:"special",onEscape:e=>(Tc.close(e),_.some(!0))}),Tc.config({onOpen:(r,s)=>{n.fetch().get((r=>{eE(e,s,n,t.layouts,r),o.link(e.element),Ch.focusIn(s)}))},onClose:()=>{Wh.off(e),Hh.focus(e),o.unlink(e.element)},isPartOf:(t,n,o)=>ra(n,o)||ra(e,o),getAttachPoint:()=>n.lazySink(e).getOrDie()}),gA.config({channels:{...Ic({isExtraPart:F,...n.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Mc({doReposition:()=>{Tc.getState(dy.getCoupled(e,"toolbarSandbox")).each((o=>{$k(e,o,n,t.layouts)}))}})}})])}})(t,n,e)}})])}),apis:{setGroups:(t,o)=>{Tc.getState(dy.getCoupled(t,"toolbarSandbox")).each((r=>{eE(t,r,e,n.layouts,o)}))},reposition:t=>{Tc.getState(dy.getCoupled(t,"toolbarSandbox")).each((o=>{$k(t,o,e,n.layouts)}))},toggle:e=>{Yk(e,o)},getToolbar:e=>Tc.getState(dy.getCoupled(e,"toolbarSandbox")),isOpen:e=>Tc.isOpen(dy.getCoupled(e,"toolbarSandbox"))}}),configFields:Xk(),partFields:Jk(),apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),nE=v([zo("items"),ga(["itemSelector"]),$c("tgroupBehaviours",[Ch])]),oE=v([_u({name:"items",unit:"item"})]),rE=td({name:"ToolbarGroup",configFields:nE(),partFields:oE(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:tu(e.tgroupBehaviours,[Ch.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),sE=e=>M(e,(e=>Wi(e))),iE=(e,t,n)=>{Kk(e,n,(o=>{n.overflowGroups.set(o),t.getOpt(e).each((e=>{tE.setGroups(e,sE(o))}))}))},aE=td({name:"SplitFloatingToolbar",configFields:Gk(),partFields:qk(),factory:(e,t,n,o)=>{const r=Cg(tE.sketch({fetch:()=>Jw((t=>{t(sE(e.overflowGroups.get()))})),layouts:{onLtr:()=>[Ka,za],onRtl:()=>[za,Ka],onBottomLtr:()=>[Ga,Wa],onBottomRtl:()=>[Wa,Ga]},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:tu(e.splitToolbarBehaviours,[dy.config({others:{overflowGroup:()=>rE.sketch({...o["overflow-group"](),items:[r.asSpec()]})}})]),apis:{setGroups:(t,n)=>{e.builtGroups.set(M(n,t.getSystem().build)),iE(t,r,e)},refresh:t=>iE(t,r,e),toggle:e=>{r.getOpt(e).each((e=>{tE.toggle(e)}))},isOpen:e=>r.getOpt(e).map(tE.isOpen).getOr(!1),reposition:e=>{r.getOpt(e).each((e=>{tE.reposition(e)}))},getOverflow:e=>r.getOpt(e).bind(tE.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),AE=v([ga(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),fa("onOpened"),fa("onClosed")].concat(Wk())),lE=v([Fu({factory:wF,schema:bF(),name:"primary"}),Fu({factory:wF,schema:bF(),name:"overflow",overrides:e=>({toolbarBehaviours:lA([yk.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{Ru(t,e,"overflow-button").each((e=>{Wh.off(e),Hh.focus(e)})),e.onClosed(t)},onGrown:t=>{Ch.focusIn(t),e.onOpened(t)},onStartGrow:t=>{Ru(t,e,"overflow-button").each(Wh.on)}}),Ch.config({mode:"acyclic",onEscape:t=>(Ru(t,e,"overflow-button").each(Hh.focus),_.some(!0))})])})}),ku({name:"overflow-button",overrides:e=>({buttonBehaviours:lA([Wh.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),ku({name:"overflow-group"})]),cE=(e,t)=>{Ru(e,t,"overflow-button").bind((()=>Ru(e,t,"overflow"))).each((n=>{uE(e,t),yk.toggleGrow(n)}))},uE=(e,t)=>{Ru(e,t,"overflow").each((n=>{Kk(e,t,(e=>{const t=M(e,(e=>Wi(e)));wF.setGroups(n,t)})),Ru(e,t,"overflow-button").each((e=>{yk.hasGrown(n)&&Wh.on(e)})),yk.refresh(n)}))},dE=td({name:"SplitSlidingToolbar",configFields:AE(),partFields:lE(),factory:(e,t,n,o)=>{const r="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:tu(e.splitToolbarBehaviours,[dy.config({others:{overflowGroup:e=>rE.sketch({...o["overflow-group"](),items:[Bg.sketch({...o["overflow-button"](),action:t=>{ws(e,r)}})]})}}),Lh("toolbar-toggle-events",[_s(r,(t=>{cE(t,e)}))])]),apis:{setGroups:(t,n)=>{((t,n)=>{const o=M(n,t.getSystem().build);e.builtGroups.set(o)})(t,n),uE(t,e)},refresh:t=>uE(t,e),toggle:t=>cE(t,e),isOpen:t=>((e,t)=>Ru(e,t,"overflow").map(yk.hasGrown).getOr(!1))(t,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),mE=e=>{const t=e.title.fold((()=>({})),(e=>({attributes:{title:e}})));return{dom:{tag:"div",classes:["tox-toolbar__group"],...t},components:[rE.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:lA([kw.config({}),Hh.config({})])}},hE=e=>rE.sketch(mE(e)),gE=(e,t)=>{const n=Is((t=>{const n=M(e.initGroups,hE);wF.setGroups(t,n)}));return lA([Ib(e.providers.isDisabled),Nb(),Ch.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Lh("toolbar-events",[n])])},pE=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":mE({title:_.none(),items:[]}),"overflow-button":Qx({name:"more",icon:_.some("more-drawer"),enabled:!0,tooltip:_.some("More..."),primary:!1,buttonType:_.none(),borderless:!1},_.none(),e.providers)},splitToolbarBehaviours:gE(e,t)}},fE=e=>{const t=pE(e),n=aE.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return aE.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element,n=jn(t),o=Ze(t),r=jn(o),s=Math.max(o.dom.scrollHeight,r.height);return Pn(n.x+4,r.y,n.width-8,s)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}})},bE=e=>{const t=dE.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=dE.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=pE(e);return dE.sketch({...o,components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:e=>{e.getSystem().broadcastOn([zF()],{type:"opened"})},onClosed:e=>{e.getSystem().broadcastOn([zF()],{type:"closed"})}})},vE=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return wF.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Dg.scrolling?["tox-toolbar--scrolling"]:[])},components:[wF.parts.groups({})],toolbarBehaviours:gE(e,t)})},wE=mF.optional({factory:sk,name:"menubar",schema:[zo("backstage")]}),yE=mF.optional({factory:{sketch:e=>fF.sketch({uid:e.uid,dom:e.dom,listBehaviours:lA([Ch.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>vE({type:e.type,uid:Zs("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),_.some(!0))}),setupItem:(e,t,n,o)=>{wF.setGroups(t,n)},shell:!0})},name:"multiple-toolbar",schema:[zo("dom"),zo("onEscape")]}),BE=mF.optional({factory:{sketch:e=>{const t=(e=>e.type===Dg.sliding?bE:e.type===Dg.floating?fE:vE)(e);return t({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),_.some(!0)),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[zo("dom"),zo("onEscape"),zo("getSink")]}),CE=mF.optional({factory:{sketch:e=>{const t=e.editor,n=e.sticky?YF:CF;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:lA(n(t,e.sharedBackstage))}}},name:"header",schema:[zo("dom")]}),xE=mF.optional({name:"socket",schema:[zo("dom")]}),SE=mF.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:lA([kw.config({}),Hh.config({}),yk.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{sd.getCurrent(e).each(kk.hideAllSlots),ws(e,Nk)},onGrown:e=>{ws(e,Nk)},onStartGrow:e=>{ys(e,Lk,{width:Et(e.element,"width").getOr("")})},onStartShrink:e=>{ys(e,Lk,{width:jt(e.element)+"px"})}}),Th.config({}),sd.config({find:e=>{const t=Th.contents(e);return ne(t)}})])}],behaviours:lA([FC(0),Lh("sidebar-sliding-events",[_s(Lk,((e,t)=>{Ct(e.element,"width",t.event.width)})),_s(Nk,((e,t)=>{Ut(e.element,"width")}))])])})},name:"sidebar",schema:[zo("dom")]}),FE=mF.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:lA([Th.config({}),Ik.config({focus:!1}),sd.config({find:e=>ne(e.components())})]),components:[]})},name:"throbber",schema:[zo("dom")]});var kE=td({name:"OuterContainer",factory:(e,t,n)=>{const o={getSocket:t=>dF.getPart(t,e,"socket"),setSidebar:(t,n,o)=>{dF.getPart(t,e,"sidebar").each((e=>((e,t,n)=>{sd.getCurrent(e).each((e=>{Th.set(e,[Uk(t)]);const o=null==n?void 0:n.toLowerCase();s(n)&&be(t,o)&&sd.getCurrent(e).each((t=>{kk.showSlot(t,o),yk.immediateGrow(e),Ut(e.element,"width")}))}))})(e,n,o)))},toggleSidebar:(t,n)=>{dF.getPart(t,e,"sidebar").each((e=>((e,t)=>{sd.getCurrent(e).each((e=>{sd.getCurrent(e).each((n=>{yk.hasGrown(e)?kk.isShowing(n,t)?yk.shrink(e):(kk.hideAllSlots(n),kk.showSlot(n,t)):(kk.hideAllSlots(n),kk.showSlot(n,t),yk.grow(e))}))}))})(e,n)))},whichSidebar:t=>dF.getPart(t,e,"sidebar").bind(Tk).getOrNull(),getHeader:t=>dF.getPart(t,e,"header"),getToolbar:t=>dF.getPart(t,e,"toolbar"),setToolbar:(t,n)=>{dF.getPart(t,e,"toolbar").each((e=>{e.getApis().setGroups(e,n)}))},setToolbars:(t,n)=>{dF.getPart(t,e,"multiple-toolbar").each((e=>{fF.setItems(e,n)}))},refreshToolbar:t=>{dF.getPart(t,e,"toolbar").each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{dF.getPart(t,e,"toolbar").each((e=>{var t,n;n=t=>t(e),null!=(t=e.getApis().toggle)?_.some(n(t)):_.none()}))},isToolbarDrawerToggled:t=>dF.getPart(t,e,"toolbar").bind((e=>_.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>dF.getPart(t,e,"throbber"),focusToolbar:t=>{dF.getPart(t,e,"toolbar").orThunk((()=>dF.getPart(t,e,"multiple-toolbar"))).each((e=>{Ch.focusIn(e)}))},setMenubar:(t,n)=>{dF.getPart(t,e,"menubar").each((e=>{sk.setMenus(e,n)}))},focusMenubar:t=>{dF.getPart(t,e,"menubar").each((e=>{sk.focus(e)}))}};return{uid:e.uid,dom:e.dom,components:t,apis:o,behaviours:e.behaviours}},configFields:[zo("dom"),zo("behaviours")],partFields:[CE,wE,BE,yE,xE,SE,FE],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,n,o)=>{e.setSidebar(t,n,o)},toggleSidebar:(e,t,n)=>{e.toggleSidebar(t,n)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,n)=>{const o=M(n,(e=>hE(e)));e.setToolbar(t,o)},setToolbars:(e,t,n)=>{const o=M(n,(e=>M(e,hE)));e.setToolbars(t,o)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,n)=>{e.setMenubar(t,n)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)}}});const EE={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},_E=e=>"string"==typeof e?e.split(" "):e,OE=(e,t)=>{const n={...EE,...t.menus},o=ie(t.menus).length>0,r=void 0===t.menubar||!0===t.menubar?_E("file edit view insert format tools table help"):_E(!1===t.menubar?"":t.menubar),s=V(r,(e=>{const n=be(EE,e);return o?n||fe(t.menus,e).exists((e=>be(e,"items"))):n})),i=M(s,(o=>{const r=n[o];return((e,t,n)=>{const o=tp(n).split(/[ ,]/);return{text:e.title,getItems:()=>q(e.items,(e=>{const n=e.toLowerCase();return 0===n.trim().length||D(o,(e=>e===n))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}})({title:r.title,items:_E(r.items)},t,e)}));return V(i,(e=>e.getItems().length>0&&D(e.getItems(),(e=>"separator"!==e.type))))},UE=e=>{const t=()=>{e._skinLoaded=!0,(e=>{e.dispatch("SkinLoaded")})(e)};return()=>{e.initialized?t():e.on("init",t)}},TE=(e,t,n)=>(e.on("remove",(()=>n.unload(t))),n.load(t)),LE=(e,t)=>TE(e,t+"/skin.min.css",e.ui.styleSheetLoader),NE=(e,t)=>{var n;return n=Ne(e.getElement()),lt(n).isSome()?TE(e,t+"/skin.shadowdom.min.css",Hg.DOM.styleSheetLoader):Promise.resolve()},QE=(e,t)=>{const n=Fp(t);n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!xp(t)&&s(n)?Promise.all([LE(t,n),NE(t,n)]).then(UE(t),((e,t)=>()=>((e,t)=>e.dispatch("SkinLoadError",t))(e,{message:"Skin could not be loaded"}))(t)):UE(t)()},DE=B(QE,!1),IE=B(QE,!0),HE=(e,t)=>n=>{const o=IA(),r=()=>{n.setActive(e.formatter.match(t));const r=e.formatter.formatChanged(t,n.setActive);o.set(r)};return e.initialized?r():e.once("init",r),()=>{e.off("init",r),o.clear()}},ME=(e,t,n)=>o=>{const r=()=>n(o),s=()=>{n(o),e.on(t,r)};return e.initialized?s():e.once("init",s),()=>{e.off("init",s),e.off(t,r)}},RE=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))},PE=(e,t)=>()=>e.execCommand(t),VE=(e,t,n)=>{const o=(e,o,s,i)=>{const a=t.shared.providers.translate(e.title);if("separator"===e.type)return _.some({type:"separator",text:a});if("submenu"===e.type){const t=q(e.getStyleItems(),(e=>r(e,o,i)));return 0===o&&t.length<=0?_.none():_.some({type:"nestedmenuitem",text:a,enabled:t.length>0,getSubmenuItems:()=>q(e.getStyleItems(),(e=>r(e,o,i)))})}return _.some({type:"togglemenuitem",text:a,icon:e.icon,active:e.isSelected(i),enabled:!s,onAction:n.onAction(e),...e.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},r=(e,t,r)=>{const s="formatter"===e.type&&n.isInvalid(e);return 0===t?s?[]:o(e,t,!1,r).toArray():o(e,t,s,r).toArray()},s=e=>{const t=n.getCurrentValue(),o=n.shouldHide?0:1;return q(e,(e=>r(e,o,t)))};return{validateItems:s,getFetch:(e,t)=>(n,o)=>{const r=t(),i=s(r);o(nx(i,Vp.CLOSE_ON_EXECUTE,e,!1))}}},jE=(e,t,n)=>{const o=n.dataset,r="basic"===o.type?()=>M(o.data,(e=>HS(e,n.isSelectedFor,n.getPreviewFor))):o.getData;return{items:VE(0,t,n),getStyleItems:r}},zE=(e,t,n)=>{const{items:o,getStyleItems:r}=jE(0,t,n),s=ME(e,"NodeChange",(e=>{const t=e.getComponent();n.updateText(t)}));return YC({text:n.icon.isSome()?_.none():n.text,icon:n.icon,tooltip:_.from(n.tooltip),role:_.none(),fetch:o.getFetch(t,r),onSetup:s,getApi:e=>({getComponent:v(e)}),columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};var KE;!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(KE||(KE={}));const WE=(e,t,n)=>{const o=(r=((e,t)=>t===KE.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "))(e.options.get(t),n),M(r,(e=>{let t=e,n=e;const o=e.split("=");return o.length>1&&(t=o[0],n=o[1]),{title:t,format:n}})));var r;return{type:"basic",data:o}},GE=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],qE=e=>{const t={type:"basic",data:GE};return{tooltip:"Align",text:_.none(),icon:_.some("align-left"),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:_.none,getPreviewFor:e=>_.none,onAction:t=>()=>K(GE,(e=>e.format===t.format)).each((t=>e.execCommand(t.command))),updateText:t=>{const n=K(GE,(t=>e.formatter.match(t.format))).fold(v("left"),(e=>e.title.toLowerCase()));ys(t,JC,{icon:`align-${n}`})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},ZE=(e,t)=>{const n=t(),o=M(n,(e=>e.format));return _.from(e.formatter.closest(o)).bind((e=>K(n,(t=>t.format===e)))).orThunk((()=>Ce(e.formatter.match("p"),{title:"Paragraph",format:"p"})))},XE=e=>{const t="Paragraph",n=WE(e,"block_formats",KE.SemiColon);return{tooltip:"Blocks",text:_.some(t),icon:_.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:_.none,getPreviewFor:t=>()=>{const n=e.formatter.get(t);return _.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})},onAction:RE(e),updateText:o=>{const r=ZE(e,(()=>n.data)).fold(v(t),(e=>e.title));ys(o,XC,{text:r})},dataset:n,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},JE=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],YE=e=>{const t=e.split(/\s*,\s*/);return M(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))},$E=e=>{const t="System Font",n=()=>{const n=e=>e?YE(e)[0]:"",r=e.queryCommandValue("FontName"),s=o.data,i=r?r.toLowerCase():"",a=K(s,(e=>{const t=e.format;return t.toLowerCase()===i||n(t).toLowerCase()===n(i).toLowerCase()})).orThunk((()=>Ce((e=>0===e.indexOf("-apple-system")&&(()=>{const t=YE(e.toLowerCase());return Z(JE,(e=>t.indexOf(e.toLowerCase())>-1))})())(i),{title:t,format:i})));return{matchOpt:a,font:r}},o=WE(e,"font_family_formats",KE.SemiColon);return{tooltip:"Fonts",text:_.some(t),icon:_.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getCurrentValue:()=>{const{matchOpt:e}=n();return e},getPreviewFor:e=>()=>_.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontName",!1,t.format)}))},updateText:e=>{const{matchOpt:t,font:o}=n(),r=t.fold(v(o),(e=>e.title));ys(e,XC,{text:r})},dataset:o,shouldHide:!1,isInvalid:F}},e_={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},t_={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},n_=(e,t)=>/[0-9.]+px$/.test(e)?((e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n})(72*parseInt(e,10)/96,t||0)+"pt":fe(t_,e).getOr(e),o_=e=>fe(e_,e).getOr(""),r_=e=>{const t=()=>{let t=_.none();const n=o.data,r=e.queryCommandValue("FontSize");if(r)for(let e=3;t.isNone()&&e>=0;e--){const o=n_(r,e),s=o_(o);t=K(n,(e=>e.format===r||e.format===o||e.format===s))}return{matchOpt:t,size:r}},n=v(_.none),o=WE(e,"font_size_formats",KE.Space);return{tooltip:"Font sizes",text:_.some("12pt"),icon:_.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getPreviewFor:n,getCurrentValue:()=>{const{matchOpt:e}=t();return e},onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontSize",!1,t.format)}))},updateText:e=>{const{matchOpt:n,size:o}=t(),r=n.fold(v(o),(e=>e.title));ys(e,XC,{text:r})},dataset:o,shouldHide:!1,isInvalid:F}},s_=(e,t)=>{const n="Paragraph";return{tooltip:"Formats",text:_.some(n),icon:_.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:_.none,getPreviewFor:t=>()=>{const n=e.formatter.get(t);return void 0!==n?_.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):_.none()},onAction:RE(e),updateText:t=>{const o=e=>{const t=e.items;return void 0!==t&&t.length>0?q(t,o):[{title:e.title,format:e.format}]},r=q(IS(e),o),s=ZE(e,v(r)).fold(v(n),(e=>e.title));ys(t,XC,{text:s})},shouldHide:$g(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}};var i_=Object.freeze({__proto__:null,events:(e,t)=>{const n=(n,o)=>{e.updateState.each((e=>{const r=e(n,o);t.set(r)})),e.renderComponents.each((r=>{const s=r(o,t.get());(e.reuseDom?Sh:xh)(n,s)}))};return Fs([_s(Yr(),((t,o)=>{const r=o;if(!r.universal){const o=e.channel;Q(r.channels,o)&&n(t,r.data)}})),Is(((t,o)=>{e.initialData.each((e=>{n(t,e)}))}))])}}),a_=Object.freeze({__proto__:null,getState:(e,t,n)=>n}),A_=[zo("channel"),$o("renderComponents"),$o("updateState"),$o("initialData"),dr("reuseDom",!0)];const l_=uA({fields:A_,name:"reflecting",active:i_,apis:a_,state:Object.freeze({__proto__:null,init:()=>{const e=pr(_.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(_.none())}}})}),c_=v([zo("toggleClass"),zo("fetch"),va("onExecute"),ar("getHotspot",_.some),ar("getAnchorOverrides",v({})),il(),va("onItemExecute"),$o("lazySink"),zo("dom"),fa("onOpen"),$c("splitDropdownBehaviours",[dy,Ch,Hh]),ar("matchWidth",!1),ar("useMinWidth",!1),ar("eventOrder",{}),$o("role")].concat(xy())),u_=Fu({factory:Bg,schema:[zo("dom")],name:"arrow",defaults:()=>({buttonBehaviours:lA([Hh.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(Bs)},buttonBehaviours:lA([Wh.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),d_=Fu({factory:Bg,schema:[zo("dom")],name:"button",defaults:()=>({buttonBehaviours:lA([Hh.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((n=>{e.onExecute(n,t)}))}})}),m_=v([u_,d_,Eu({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[zo("text")],name:"aria-descriptor"}),ku({schema:[ha()],name:"menu",defaults:e=>({onExecute:(t,n)=>{t.getSystem().getByUid(e.uid).each((o=>{e.onItemExecute(o,t,n)}))}})}),hy()]),h_=td({name:"SplitDropdown",configFields:c_(),partFields:m_(),factory:(e,t,n,o)=>{const r=e=>{sd.getCurrent(e).each((e=>{_d.highlightFirst(e),Ch.focusIn(e)}))},s=t=>{vy(e,w,t,o,r,gy.HighlightFirst).get(f)},i=t=>{const n=Pu(t,e,"button");return Bs(n),_.some(!0)},a={...Fs([Is(((t,n)=>{Ru(t,e,"aria-descriptor").each((e=>{const n=Zs("aria");gt(e.element,"id",n),gt(t.element,"aria-describedby",n)}))}))]),...qh(_.some(s))},A={repositionMenus:e=>{Wh.isOn(e)&&Cy(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:A,eventOrder:{...e.eventOrder,[$r()]:["disabling","toggling","alloy.base.behaviour"]},events:a,behaviours:tu(e.splitDropdownBehaviours,[dy.config({others:{sandbox:t=>{const n=Pu(t,e,"arrow");return By(e,t,{onOpen:()=>{Wh.on(n),Wh.on(t)},onClose:()=>{Wh.off(n),Wh.off(t)}})}}}),Ch.config({mode:"special",onSpace:i,onEnter:i,onDown:e=>(s(e),_.some(!0))}),Hh.config({}),Wh.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),g_=e=>({isEnabled:()=>!vd.isDisabled(e),setEnabled:t=>vd.set(e,!t)}),p_=e=>({setActive:t=>{Wh.set(e,t)},isActive:()=>Wh.isOn(e),isEnabled:()=>!vd.isDisabled(e),setEnabled:t=>vd.set(e,!t)}),f_=(e,t)=>e.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),b_=Zs("focus-button"),v_=(e,t,n,o,r,s)=>({dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:f_(n,s)},components:jb([e.map((e=>GC(e,s.icons))),t.map((e=>ZC(e,"tox-tbtn",s)))]),eventOrder:{[Ur()]:["focusing","alloy.base.behaviour","common-button-display-events"]},buttonBehaviours:lA([Ib(s.isDisabled),Nb(),Lh("common-button-display-events",[_s(Ur(),((e,t)=>{t.event.prevent(),ws(e,b_)}))])].concat(o.map((n=>l_.config({channel:n,initialData:{icon:e,text:t},renderComponents:(e,t)=>jb([e.icon.map((e=>GC(e,s.icons))),e.text.map((e=>ZC(e,"tox-tbtn",s)))])}))).toArray()).concat(r.getOr([])))}),w_=(e,t,n)=>{const o=pr(f),r=v_(e.icon,e.text,e.tooltip,_.none(),_.none(),n);return Bg.sketch({dom:r.dom,components:r.components,eventOrder:KC,buttonBehaviours:lA([Lh("toolbar-button-events",[(s={onAction:e.onAction,getApi:t.getApi},Rs(((e,t)=>{Hb(s,e)((t=>{ys(e,zC,{buttonApi:t}),s.onAction(t)}))}))),Mb(t,o),Rb(t,o)]),Ib((()=>!e.enabled||n.isDisabled())),Nb()].concat(t.toolbarButtonBehaviours))});var s},y_=(e,t,n)=>w_(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Lh("toolbarButtonWith",n)]:[]),getApi:g_,onSetup:e.onSetup},t),B_=(e,t,n)=>ro(w_(e,{toolbarButtonBehaviours:[Th.config({}),Wh.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Lh("toolbarToggleButtonWith",n)]:[]),getApi:p_,onSetup:e.onSetup},t)),C_=(e,t,n)=>o=>Jw((e=>t.fetch(e))).map((r=>_.from(Aw(ro(qv(Zs("menu-value"),r,(n=>{t.onItemAction(e(o),n)}),t.columns,t.presets,Vp.CLOSE_ON_EXECUTE,t.select.getOr(F),n),{movement:Xv(t.columns,t.presets),menuBehaviours:yb("auto"!==t.columns?[]:[Is(((e,n)=>{wb(e,4,$p(t.presets)).each((({numRows:t,numColumns:n})=>{Ch.setGridSize(e,t,n)}))}))])}))))),x_=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],S_=(e,t)=>(n,o,r)=>{const s=e(n).mapError((e=>Mo(e))).getOrDie();return t(s,o,r)},F_={button:S_(Wf,((e,t)=>{return n=e,o=t.backstage.shared.providers,y_(n,o,[]);var n,o})),togglebutton:S_(Zf,((e,t)=>{return n=e,o=t.backstage.shared.providers,B_(n,o,[]);var n,o})),menubutton:S_(ok,((e,t)=>Tx(e,"tox-tbtn",t.backstage,_.none()))),splitbutton:S_((e=>Do("SplitButton",rk,e)),((e,t)=>((e,t)=>{const n=Zs("channel-update-split-dropdown-display"),o=e=>({isEnabled:()=>!vd.isDisabled(e),setEnabled:t=>vd.set(e,!t),setIconFill:(t,n)=>{ea(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((e=>{gt(e,"fill",n)}))},setActive:t=>{gt(e.element,"aria-pressed",t),ea(e.element,"span").each((n=>{e.getSystem().getByDom(n).each((e=>Wh.set(e,t)))}))},isActive:()=>ea(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists(Wh.isOn)))}),r=pr(f),s={getApi:o,onSetup:e.onSetup};return h_.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...f_(e.tooltip,t.providers)}},onExecute:t=>{e.onAction(o(t))},onItemExecute:(e,t,n)=>{},splitDropdownBehaviours:lA([Db(t.providers.isDisabled),Nb(),Lh("split-dropdown-events",[_s(b_,Hh.focus),Mb(s,r),Rb(s,r)]),Ey.config({})]),eventOrder:{[cs()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:C_(o,e,t.providers),parts:{menu:sf(0,e.columns,e.presets)},components:[h_.parts.button(v_(e.icon,e.text,_.none(),_.some(n),_.some([Wh.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),h_.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Og("chevron-down",t.providers.icons)},buttonBehaviours:lA([Db(t.providers.isDisabled),Nb(),Ug()])}),h_.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})})(e,t.backstage.shared))),grouptoolbarbutton:S_((e=>Do("GroupToolbarButton",ek,e)),((e,t,n)=>{const o=n.ui.registry.getAll().buttons,r={[rl]:t.backstage.shared.header.isPositionedAtTop()?ol.TopToBottom:ol.BottomToTop};if(np(n)===Dg.floating)return((e,t,n,o)=>{const r=t.shared;return tE.sketch({lazySink:r.getSink,fetch:()=>Jw((t=>{t(M(n(e.items),hE))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:v_(e.icon,e.text,e.tooltip,_.none(),_.none(),r.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})})(e,t.backstage,(e=>E_(n,{buttons:o,toolbar:e,allowToolbarGroups:!1},t,_.none())),r);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})),styleSelectButton:(e,t)=>((e,t)=>{const n={type:"advanced",...t.styles};return zE(e,t,s_(e,n))})(e,t.backstage),fontsizeSelectButton:(e,t)=>((e,t)=>zE(e,t,r_(e)))(e,t.backstage),fontSelectButton:(e,t)=>((e,t)=>zE(e,t,$E(e)))(e,t.backstage),formatButton:(e,t)=>((e,t)=>zE(e,t,XE(e)))(e,t.backstage),alignMenuButton:(e,t)=>((e,t)=>zE(e,t,qE(e)))(e,t.backstage)},k_={styles:F_.styleSelectButton,fontsize:F_.fontsizeSelectButton,fontfamily:F_.fontSelectButton,blocks:F_.formatButton,align:F_.alignMenuButton},E_=(e,t,n,o)=>{const r=(e=>{const t=e.toolbar,n=e.buttons;return!1===t?[]:void 0===t||!0===t?(e=>{const t=M(x_,(t=>{const n=V(t.items,(t=>be(e,t)||be(k_,t)));return{name:t.name,items:n}}));return V(t,(e=>e.items.length>0))})(n):s(t)?(e=>{const t=e.split("|");return M(t,(e=>({items:e.trim().split(" ")})))})(t):(e=>p(e,(e=>be(e,"name")&&be(e,"items"))))(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(t),i=M(r,(r=>{const s=q(r.items,(r=>0===r.trim().length?[]:((e,t,n,o,r,s)=>fe(t,n.toLowerCase()).orThunk((()=>s.bind((e=>se(e,(e=>fe(t,e+n.toLowerCase()))))))).fold((()=>fe(k_,n.toLowerCase()).map((t=>t(e,r))).orThunk((()=>_.none()))),(t=>"grouptoolbarbutton"!==t.type||o?((e,t,n)=>fe(F_,e.type).fold((()=>(console.error("skipping button defined by",e),_.none())),(o=>_.some(o(e,t,n)))))(t,r,e):(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),_.none()))))(e,t.buttons,r,t.allowToolbarGroups,n,o).toArray()));return{title:_.from(e.translate(r.name)),items:s}}));return V(i,(e=>e.items.length>0))},__=(e,t,n,o)=>{const r=t.outerContainer,i=n.toolbar,a=n.buttons;if(p(i,s)){const t=i.map((t=>{const r={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return E_(e,r,{backstage:o},_.none())}));kE.setToolbars(r,t)}else kE.setToolbar(r,E_(e,n,{backstage:o},_.none()))},O_=Bn(),U_=O_.os.isiOS()&&O_.os.version.major<=12;var T_=Object.freeze({__proto__:null,render:(e,t,n,o,r)=>{const s=pr(0),i=t.outerContainer;DE(e);const a=Ne(r.targetNode),A=At(at(a));((e,t)=>{wc(e,t,kn)})(a,t.mothership),vc(A,t.uiMothership),e.on("PostRender",(()=>{kE.setSidebar(i,n.sidebar,Cp(e)),__(e,t,n,o),s.set(e.getWin().innerWidth),kE.setMenubar(i,OE(e,n)),((e,t)=>{const n=e.dom;let o=e.getWin();const r=e.getDoc().documentElement,s=pr(Ht(o.innerWidth,o.innerHeight)),i=pr(Ht(r.offsetWidth,r.offsetHeight)),a=()=>{const t=s.get();t.left===o.innerWidth&&t.top===o.innerHeight||(s.set(Ht(o.innerWidth,o.innerHeight)),Sv(e))},A=()=>{const t=e.getDoc().documentElement,n=i.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(i.set(Ht(t.offsetWidth,t.offsetHeight)),Sv(e))},l=t=>((e,t)=>e.dispatch("ScrollContent",t))(e,t);n.bind(o,"resize",a),n.bind(o,"scroll",l);const c=PA(Ne(e.getBody()),"load",A),u=t.uiMothership.element;e.on("hide",(()=>{Ct(u,"display","none")})),e.on("show",(()=>{Ut(u,"display")})),e.on("NodeChange",A),e.on("remove",(()=>{c.unbind(),n.unbind(o,"resize",a),n.unbind(o,"scroll",l),o=null}))})(e,t)}));const c=kE.getSocket(i).getOrDie("Could not find expected socket element");if(U_){xt(c.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=((e,t)=>{let n=null;return{cancel:()=>{l(n)||(clearTimeout(n),n=null)},throttle:(...t)=>{l(n)&&(n=setTimeout((()=>{n=null,e.apply(null,t)}),20))}}})((()=>{e.dispatch("ScrollContent")})),n=RA(c.element,"scroll",t.throttle);e.on("remove",n.unbind)}Lb(e,t),e.addCommand("ToggleSidebar",((t,n)=>{kE.toggleSidebar(i,n),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(()=>kE.whichSidebar(i)));const u=np(e);u!==Dg.sliding&&u!==Dg.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const n=e.getWin().innerWidth;n!==s.get()&&(kE.refreshToolbar(t.outerContainer),s.set(n))}));const d={setEnabled:e=>{Tb(t,!e)},isEnabled:()=>!vd.isDisabled(i)};return{iframeContainer:c.element.dom,editorContainer:i.element.dom,api:d}}});const L_=e=>/^[0-9\.]+(|px)$/i.test(""+e)?_.some(parseInt(""+e,10)):_.none(),N_=e=>g(e)?e+"px":e,Q_=(e,t,n)=>{const o=t.filter((t=>e<t)),r=n.filter((t=>e>t));return o.or(r).getOr(e)},D_=e=>{const t=Wg(e),n=Gg(e),o=Zg(e);return L_(t).map((e=>Q_(e,n,o)))},{ToolbarLocation:I_,ToolbarMode:H_}=Hp,M_=(e,t)=>{const n=Vn(e);return{pos:t?n.y:n.bottom,bounds:n}};var R_=Object.freeze({__proto__:null,render:(e,t,n,o,r)=>{const{mothership:s,uiMothership:i,outerContainer:a}=t,A=pr(null),l=Ne(r.targetNode),c=((e,t,n,o,r)=>{const{uiMothership:s,outerContainer:i}=n,a=Hg.DOM,A=Lp(e),l=Dp(e),c=Zg(e).or(D_(e)),u=o.shared.header,d=u.isPositionedAtTop,m=np(e),h=m===H_.sliding||m===H_.floating,g=pr(!1),p=()=>g.get()&&!e.removed,f=e=>h?e.fold(v(0),(e=>e.components().length>1?Qt(e.components()[1].element):0)):0,b=()=>{s.broadcastOn([Nc()],{})},w=(e=!1)=>{if(p()){if(A||(()=>{const e=c.getOrThunk((()=>{const e=L_(Ft(dt(),"margin-left")).getOr(0);return jt(dt())-Rt(t).left+e}));Ct(r.get().element,"max-width",e+"px")})(),h&&kE.refreshToolbar(i),A||(()=>{const e=kE.getToolbar(i),n=f(e),o=Vn(t),s=d()?Math.max(o.y-Qt(r.get().element)+n,0):o.bottom;xt(i.element,{position:"absolute",top:Math.round(s)+"px",left:Math.round(o.x)+"px"})})(),l){const t=r.get();e?jF.reset(t):jF.refresh(t)}b()}},y=(n=!0)=>{if(A||!l||!p())return;const o=u.getDockingMode(),s=(n=>{switch(rp(e)){case I_.auto:const e=kE.getToolbar(i),o=f(e),r=Qt(n.element)-o,s=Vn(t);if(s.y>r)return"top";{const e=Ze(t),n=Math.max(e.dom.scrollHeight,Qt(e));return s.bottom<n-r||zn().bottom<s.bottom-r?"bottom":"top"}case I_.bottom:return"bottom";case I_.top:default:return"top"}})(r.get());s!==o&&((e=>{const t=r.get();jF.setModes(t,[e]),u.setDockingMode(e);const n=d()?ol.TopToBottom:ol.BottomToTop;gt(t.element,rl,n)})(s),n&&w(!0))};return{isVisible:p,isPositionedAtTop:d,show:()=>{g.set(!0),Ct(i.element,"display","flex"),a.addClass(e.getBody(),"mce-edit-focus"),Ut(s.element,"display"),y(!1),w()},hide:()=>{g.set(!1),n.outerContainer&&(Ct(i.element,"display","none"),a.removeClass(e.getBody(),"mce-edit-focus")),Ct(s.element,"display","none")},update:w,updateMode:y,repositionPopups:b}})(e,l,t,o,A),u=ap(e);IE(e);const d=()=>{if(A.get())return void c.show();A.set(kE.getHeader(a).getOrDie());const r=Np(e);vc(r,s),vc(r,i),__(e,t,n,o),kE.setMenubar(a,OE(e,n)),c.show(),((e,t,n,o)=>{const r=pr(M_(t,n.isPositionedAtTop())),s=o=>{const{pos:s,bounds:i}=M_(t,n.isPositionedAtTop()),{pos:a,bounds:A}=r.get(),l=i.height!==A.height||i.width!==A.width;r.set({pos:s,bounds:i}),l&&Sv(e,o),n.isVisible()&&(a!==s?n.update(!0):l&&(n.updateMode(),n.repositionPopups()))};o||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(()=>n.update(!0))),e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>s(e)))})),e.on("ScrollWindow",(()=>n.updateMode()));const i=IA();i.set(PA(Ne(e.getBody()),"load",s)),e.on("remove",(()=>{i.clear()}))})(e,l,c,u),e.nodeChanged()};e.on("show",d),e.on("hide",c.hide),u||(e.on("focus",d),e.on("blur",c.hide)),e.on("init",(()=>{(e.hasFocus()||u)&&d()})),Lb(e,t);const m={show:()=>{d()},hide:()=>{c.hide()},setEnabled:e=>{Tb(t,!e)},isEnabled:()=>!vd.isDisabled(a)};return{editorContainer:a.element.dom,api:m}}});const P_="contexttoolbar-hide",V_=(e,t)=>_s(zC,((n,o)=>{const r=(e=>({hide:()=>ws(e,os()),getValue:()=>Yc.getValue(e)}))(e.get(n));t.onAction(r,o.event.buttonApi)})),j_=(e,t)=>{const n=e.label.fold((()=>({})),(e=>({"aria-label":e}))),o=Cg(Ww.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:lA([Ch.config({mode:"special",onEnter:e=>r.findPrimary(e).map((e=>(Bs(e),!0))),onLeft:(e,t)=>(t.cut(),_.none()),onRight:(e,t)=>(t.cut(),_.none())})])})),r=((e,t,n)=>{const o=M(t,(t=>Cg(((e,t,n)=>{const o={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?((e,t,n)=>{const{primary:o,...r}=t.original,s=Io(Zf({...r,type:"togglebutton",onAction:f}));return B_(s,n.backstage.shared.providers,[V_(e,t)])})(e,t,o):((e,t,n)=>{const{primary:o,...r}=t.original,s=Io(Wf({...r,type:"button",onAction:f}));return y_(s,n.backstage.shared.providers,[V_(e,t)])})(e,t,o)})(e,t,n))));return{asSpecs:()=>M(o,(e=>e.asSpec())),findPrimary:e=>se(t,((t,n)=>t.primary?_.from(o[n]).bind((t=>t.getOpt(e))).filter(C(vd.isDisabled)):_.none()))}})(o,e.commands,t);return[{title:_.none(),items:[o.asSpec()]},{title:_.none(),items:r.asSpecs()}]},z_=(e,t,n=.01)=>t.bottom-e.y>=n&&e.bottom-t.y>=n,K_=e=>{const t=(e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const n=ot(Ne(e.startContainer),e.startOffset).element;return(Me(n)?Je(n):_.some(n)).filter(He).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t})(e.selection.getRng());if(e.inline){const e=Ln();return Pn(e.left+t.left,e.top+t.top,t.width,t.height)}{const n=jn(Ne(e.getBody()));return Pn(n.x+t.left,n.y+t.top,t.width,t.height)}},W_=(e,t,n,o=0)=>{const r=Dn(window),s=Vn(Ne(e.getContentAreaContainer())),i=Sp(e)||Ep(e)||Op(e),{x:a,width:A}=((e,t,n)=>{const o=Math.max(e.x+n,t.x);return{x:o,width:Math.min(e.right-n,t.right)-o}})(s,r,o);if(e.inline&&!i)return Pn(a,r.y,A,r.height);{const i=t.header.isPositionedAtTop(),{y:l,bottom:c}=((e,t,n,o,r,s)=>{const i=Ne(e.getContainer()),a=ea(i,".tox-editor-header").getOr(i),A=Vn(a),l=A.y>=t.bottom,c=o&&!l;if(e.inline&&c)return{y:Math.max(A.bottom+s,n.y),bottom:n.bottom};if(e.inline&&!c)return{y:n.y,bottom:Math.min(A.y-s,n.bottom)};const u="line"===r?Vn(i):t;return c?{y:Math.max(A.bottom+s,n.y),bottom:Math.min(u.bottom-s,n.bottom)}:{y:Math.max(u.y+s,n.y),bottom:Math.min(A.y-s,n.bottom)}})(e,s,r,i,n,o);return Pn(a,l,A,c-l)}},G_={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},q_={maxHeightFunction:qA(),maxWidthFunction:Zk()},Z_=e=>"node"===e,X_=(e,t,n,o,r)=>{const s=K_(e),i=o.lastElement().exists((e=>Ke(n,e)));return((e,t)=>{const n=e.selection.getRng(),o=ot(Ne(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&Ke(o.element,t)})(e,n)?i?vS:hS:i?((e,n,r)=>{const i=Et(e,"position");Ct(e,"position",n);const a=z_(s,Vn(t))&&!o.isReposition()?yS:vS;return i.each((t=>Ct(e,"position",t))),a})(t,o.getMode()):("fixed"===o.getMode()?r.y+Ln().top:r.y)+(Qt(t)+12)<=s.y?hS:gS},J_=(e,t,n,o)=>{const r=t=>(o,r,s,i,a)=>({...X_(e,i,t,n,a)({...o,y:a.y,height:a.height},r,s,i,a),alwaysFit:!0}),s=e=>Z_(o)?[r(e)]:[];return t?{onLtr:e=>[Za,za,Ka,Wa,Ga,qa].concat(s(e)),onRtl:e=>[Za,Ka,za,Ga,Wa,qa].concat(s(e))}:{onLtr:e=>[qa,Za,Wa,za,Ga,Ka].concat(s(e)),onRtl:e=>[qa,Za,Ga,Ka,Wa,za].concat(s(e))}},Y_=(e,t)=>{const n=V(t,(t=>t.predicate(e.dom))),{pass:o,fail:r}=P(n,(e=>"contexttoolbar"===e.type));return{contextToolbars:o,contextForms:r}},$_=(e,t)=>{const n={},o=[],r=[],s={},i={},a=ie(e);return R(a,(a=>{const A=e[a];"contextform"===A.type?((e,a)=>{const A=Io(Do("ContextForm",nb,a));n[e]=A,A.launch.map((n=>{s["form:"+e]={...a.launch,type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:()=>{t(A)}}})),"editor"===A.scope?r.push(A):o.push(A),i[e]=A})(a,A):"contexttoolbar"===A.type&&((e,t)=>{var n;(n=t,Do("ContextToolbar",ob,n)).each((n=>{"editor"===t.scope?r.push(n):o.push(n),i[e]=n}))})(a,A)})),{forms:n,inNodeScope:o,inEditorScope:r,lookupTable:i,formNavigators:s}},eO=Zs("forward-slide"),tO=Zs("backward-slide"),nO=Zs("change-slide-event"),oO="tox-pop--resizing",rO="tox-pop--transition",sO=(e,t,n,o)=>{const r=o.backstage,s=r.shared,i=Bn().deviceType.isTouch,a=HA(),A=HA(),l=HA(),c=Ki((e=>{const t=pr([]);return wg.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]),wg.getContent(e).each((e=>{Ut(e.element,"visibility")})),Ei(e.element,oO),Ut(e.element,"width")},inlineBehaviours:lA([Lh("context-toolbar-events",[Ds(zr(),((e,t)=>{"width"===t.event.raw.propertyName&&(Ei(e.element,oO),Ut(e.element,"width"))})),_s(nO,((e,t)=>{const n=e.element;Ut(n,"width");const o=jt(n);wg.setContent(e,t.event.contents),ki(n,oO);const r=jt(n);Ct(n,"width",o+"px"),wg.getContent(e).each((e=>{t.event.focus.bind((e=>(fA(e),wA(n)))).orThunk((()=>(Ch.focusIn(e),vA(at(n)))))})),setTimeout((()=>{Ct(e.element,"width",r+"px")}),0)})),_s(eO,((e,n)=>{wg.getContent(e).each((n=>{t.set(t.get().concat([{bar:n,focus:vA(at(e.element))}]))})),ys(e,nO,{contents:n.event.forwardContents,focus:_.none()})})),_s(tO,((e,n)=>{oe(t.get()).each((n=>{t.set(t.get().slice(0,t.get().length-1)),ys(e,nO,{contents:Wi(n.bar),focus:n.focus})}))}))]),Ch.config({mode:"special",onEscape:n=>oe(t.get()).fold((()=>e.onEscape()),(e=>(ws(n,tO),_.some(!0))))})]),lazySink:()=>Gn.value(e.sink)})})({sink:n,onEscape:()=>(e.focus(),_.some(!0))})),u=()=>{const t=l.get().getOr("node"),n=Z_(t)?1:0;return W_(e,s,t,n)},d=()=>!(e.removed||i()&&r.isContextMenuOpen()),m=()=>{if(d()){const t=u(),n=we(l.get(),"node")?((e,t)=>t.filter(ut).map(jn).getOrThunk((()=>K_(e))))(e,a.get()):K_(e);return t.height<=0||!z_(n,t)}return!0},h=()=>{a.clear(),A.clear(),l.clear(),wg.hide(c)},g=()=>{if(wg.isOpen(c)){const e=c.element;Ut(e,"display"),m()?Ct(e,"display","none"):(A.set(0),wg.reposition(c))}},p=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:lA([Ch.config({mode:"acyclic"}),Lh("pop-dialog-wrap-events",[Is((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>Ch.focusIn(t)))})),Hs((t=>{e.shortcuts.remove("ctrl+F9")}))])])}),b=Kt((()=>$_(t,(e=>{const t=v([e]);ys(c,eO,{forwardContents:p(t)})})))),v=t=>{const{buttons:n}=e.ui.registry.getAll(),r={...n,...b().formNavigators},i=np(e)===Dg.scrolling?Dg.scrolling:Dg.default,a=G(M(t,(t=>"contexttoolbar"===t.type?((t,n)=>E_(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},o,_.some(["form:"])))(r,t):((e,t)=>j_(e,t))(t,s.providers))));return vE({type:i,uid:Zs("context-toolbar"),initGroups:a,onEscape:_.none,cyclicKeying:!0,providers:s.providers})},w=(t,o)=>{if(y.cancel(),!d())return;const r=v(t),h=t[0].position,g=((t,o)=>{const r="node"===t?s.anchors.node(o):s.anchors.cursor(),l=((e,t,n,o)=>"line"===t?{bubble:YA(12,0,G_),layouts:{onLtr:()=>[Xa],onRtl:()=>[Ja]},overrides:q_}:{bubble:YA(0,12,G_,1/12),layouts:J_(e,n,o,t),overrides:q_})(e,t,i(),{lastElement:a.get,isReposition:()=>we(A.get(),0),getMode:()=>ac.getMode(n)});return ro(r,l)})(h,o);l.set(h),A.set(1);const f=c.element;Ut(f,"display"),(e=>we(Be(e,a.get(),Ke),!0))(o)||(Ei(f,rO),ac.reset(n,c)),wg.showWithinBounds(c,p(r),{anchor:g,transition:{classes:[rO],mode:"placement"}},(()=>_.some(u()))),o.fold(a.clear,a.set),m()&&Ct(f,"display","none")},y=fx((()=>{e.hasFocus()&&!e.removed&&(_i(c.element,rO)?y.throttle():((e,t)=>{const n=Ne(t.getBody()),o=e=>Ke(e,n),r=Ne(t.selection.getNode());return(e=>!o(e)&&!We(n,e))(r)?_.none():((e,t,n)=>{const o=Y_(e,t);if(o.contextForms.length>0)return _.some({elem:e,toolbars:[o.contextForms[0]]});{const t=Y_(e,n);if(t.contextForms.length>0)return _.some({elem:e,toolbars:[t.contextForms[0]]});if(o.contextToolbars.length>0||t.contextToolbars.length>0){const n=(e=>{if(e.length<=1)return e;{const t=t=>D(e,(e=>e.position===t)),n=t=>V(e,(e=>e.position===t)),o=t("selection"),r=t("node");if(o||r){if(r&&o){const e=n("node"),t=M(n("selection"),(e=>({...e,position:"node"})));return e.concat(t)}return n(o?"selection":"node")}return n("line")}})(o.contextToolbars.concat(t.contextToolbars));return _.some({elem:e,toolbars:n})}return _.none()}})(r,e.inNodeScope,e.inEditorScope).orThunk((()=>((e,t,n)=>e(t)?_.none():yr(t,(e=>{if(He(e)){const{contextToolbars:t,contextForms:o}=Y_(e,n.inNodeScope),r=o.length>0?o:(e=>{if(e.length<=1)return e;{const t=t=>K(e,(e=>e.position===t));return t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position)).fold((()=>[]),(t=>V(e,(e=>e.position===t))))}})(t);return r.length>0?_.some({elem:e,toolbars:r}):_.none()}return _.none()}),e))(o,r,e)))})(b(),e).fold(h,(e=>{w(e.toolbars,_.some(e.elem))})))}),17);e.on("init",(()=>{e.on("remove",h),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",g),e.on("click keyup focus SetContent",y.throttle),e.on(P_,h),e.on("contexttoolbar-show",(t=>{const n=b();fe(n.lookupTable,t.toolbarKey).each((n=>{w([n],Ce(t.target!==e,t.target)),wg.getContent(c).each(Ch.focusIn)}))})),e.on("focusout",(t=>{yg.setEditorTimeout(e,(()=>{wA(n.element).isNone()&&wA(c.element).isNone()&&h()}),0)})),e.on("SwitchMode",(()=>{e.mode.isReadOnly()&&h()})),e.on("AfterProgressState",(t=>{t.state?h():e.hasFocus()&&y.throttle()})),e.on("NodeChange",(e=>{wA(c.element).fold(y.throttle,f)}))}))},iO={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},aO=(()=>{const e="[0-9]+",t="[eE][+-]?[0-9]+",n=e=>`(?:${e})?`,o=["Infinity","[0-9]+\\."+n(e)+n(t),"\\.[0-9]+"+n(t),e+n(t)].join("|");return new RegExp(`^([+-]?(?:${o}))(.*)$`)})(),AO=(e,t)=>{const n=()=>{const n=t.getOptions(e),o=t.getCurrent(e).map(t.hash),r=HA();return M(n,(n=>({type:"togglemenuitem",text:t.display(n),onSetup:s=>{const i=e=>{e&&(r.on((e=>e.setActive(!1))),r.set(s)),s.setActive(e)};i(we(o,t.hash(n)));const a=t.watcher(e,n,i);return()=>{r.clear(),a()}},onAction:()=>t.setCurrent(e,n)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(n()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},lO={name:"lineheight",text:"Line height",icon:"line-height",getOptions:kp,hash:e=>((e,t)=>((e,t)=>_.from(aO.exec(e)).bind((e=>{const n=Number(e[1]),o=e[2];return((e,t)=>D(t,(t=>D(iO[t],(t=>e===t)))))(o,t)?_.some({value:n,unit:o}):_.none()})))(e,["fixed","relative","empty"]).map((({value:e,unit:t})=>e+t)))(e).getOr(e),display:w,watcher:(e,t,n)=>e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind,getCurrent:e=>_.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t)},cO=e=>ME(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent"))})),uO=(e,t)=>n=>{n.setActive(t.get());const o=e=>{t.set(e.state),n.setActive(e.state)};return e.on("PastePlainTextToggle",o),()=>e.off("PastePlainTextToggle",o)},dO=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},mO=e=>{(e=>{(e=>{DC.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,n)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:HE(e,t.name),onAction:dO(e,t.name)})}));for(let t=1;t<=6;t++){const n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:HE(e,n),onAction:dO(e,n)})}})(e),(e=>{DC.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:PE(e,t.action)})}))})(e),(e=>{DC.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:PE(e,t.action),onSetup:HE(e,t.name)})}))})(e)})(e),(e=>{DC.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:PE(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:dO(e,"code")})})(e)},hO=(e,t)=>ME(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(n=>{n.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),gO=e=>ME(e,"VisualAid",(t=>{t.setActive(e.hasVisual)})),pO=(e,t)=>{(e=>{R([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:PE(e,t.cmd),onSetup:HE(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:PE(e,"JustifyNone")})})(e),mO(e),((e,t)=>{((e,t)=>{const n=jE(0,t,qE(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n=jE(0,t,$E(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n={type:"advanced",...t.styles},o=jE(0,t,s_(e,n));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})})(e,t),((e,t)=>{const n=jE(0,t,XE(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n=jE(0,t,r_(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t)})(e,t),(e=>{(e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:hO(e,"hasUndo"),onAction:PE(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:hO(e,"hasRedo"),onAction:PE(e,"redo")})})(e),(e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:hO(e,"hasUndo"),onAction:PE(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:hO(e,"hasRedo"),onAction:PE(e,"redo")})})(e)})(e),(e=>{(e=>{e.addCommand("mceApplyTextcolor",((t,n)=>{((e,t,n)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))})(e,t,n)})),e.addCommand("mceRemoveTextcolor",(t=>{((e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()}))})(e,t)}))})(e);const t=pr(Mv),n=pr(Mv);Kv(e,"forecolor","forecolor","Text color",t),Kv(e,"backcolor","hilitecolor","Background color",n),Wv(e,"forecolor","forecolor","Text color"),Wv(e,"backcolor","hilitecolor","Background color")})(e),(e=>{(e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:PE(e,"mceToggleVisualAid")})})(e),(e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:gO(e),onAction:PE(e,"mceToggleVisualAid")})})(e)})(e),(e=>{(e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:cO(e),onAction:PE(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:PE(e,"indent")})})(e)})(e),(e=>{AO(e,lO),(e=>_.from(ep(e)).map((t=>({name:"language",text:"Language",icon:"language",getOptions:v(t),hash:e=>u(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,n)=>e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:t.customCode}).unbind,getCurrent:e=>{const t=Ne(e.selection.getNode());return Br(t,(e=>_.some(e).filter(He).bind((e=>bt(e,"lang").map((t=>({code:t,customCode:bt(e,"data-mce-lang").getOrUndefined(),title:""})))))))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:t=>{const n=IA();return t.setActive(e.formatter.match("lang",{},void 0,!0)),n.set(e.formatter.formatChanged("lang",t.setActive,!0)),n.clear}}))))(e).each((t=>AO(e,t)))})(e),(e=>{const t=pr(Bp(e)),n=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:uO(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:uO(e,t)})})(e)},fO=e=>s(e)?e.split(/[ ,]/):e,bO=e=>t=>t.options.get(e),vO=bO("contextmenu_never_use_native"),wO=bO("contextmenu_avoid_overlap"),yO=e=>{const t=e.ui.registry.getAll().contextMenus,n=e.options.get("contextmenu");return e.options.isSet("contextmenu")?n:V(n,(e=>be(t,e)))},BO=(e,t)=>({type:"makeshift",x:e,y:t}),CO=e=>"longpress"===e.type||0===e.type.indexOf("touch"),xO=(e,t)=>"contextmenu"===t.type||"longpress"===t.type?e.inline?(e=>{if(CO(e)){const t=e.touches[0];return BO(t.pageX,t.pageY)}return BO(e.pageX,e.pageY)})(t):((e,t)=>{const n=Hg.DOM.getPos(e);return((e,t,n)=>BO(e.x+t,e.y+n))(t,n.x,n.y)})(e.getContentAreaContainer(),(e=>{if(CO(e)){const t=e.touches[0];return BO(t.clientX,t.clientY)}return BO(e.clientX,e.clientY)})(t)):SO(e),SO=e=>({type:"selection",root:Ne(e.selection.getNode())}),FO=(e,t,n)=>{switch(n){case"node":return(e=>({type:"node",node:_.some(Ne(e.selection.getNode())),root:Ne(e.getBody())}))(e);case"point":return xO(e,t);case"selection":return SO(e)}},kO=(e,t,n,o,r,s)=>{const i=n(),a=FO(e,t,s);nx(i,Vp.CLOSE_ON_EXECUTE,o,!1).map((e=>{t.preventDefault(),wg.showMenuAt(r,{anchor:a},{menu:{markers:nf("normal")},data:e})}))},EO={onLtr:()=>[Za,za,Ka,Wa,Ga,qa,hS,gS,mS,uS,dS,cS],onRtl:()=>[Za,Ka,za,Ga,Wa,qa,hS,gS,dS,cS,mS,uS]},_O={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},OO=(e,t,n,o,r,s)=>{const i=Bn(),a=i.os.isiOS(),A=i.os.isMacOS(),l=i.os.isAndroid(),c=i.deviceType.isTouch(),u=()=>{const i=n();((e,t,n,o,r,s,i)=>{const a=((e,t,n)=>{const o=FO(e,t,n);return{bubble:YA(0,"point"===n?12:0,_O),layouts:EO,overrides:{maxWidthFunction:Zk(),maxHeightFunction:qA()},...o}})(e,t,s);nx(n,Vp.CLOSE_ON_EXECUTE,o,!0).map((n=>{t.preventDefault(),wg.showMenuWithinBounds(r,{anchor:a},{menu:{markers:nf("normal"),highlightImmediately:i},data:n,type:"horizontal"},(()=>_.some(W_(e,o.shared,"node"===s?"node":"selection")))),e.dispatch(P_)}))})(e,t,i,o,r,s,!(l||a||A&&c))};if((A||a)&&"node"!==s){const n=()=>{(e=>{const t=e.selection.getRng(),n=()=>{yg.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),s()};e.once("touchend",n);const o=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",o,!0);const r=()=>s();e.once("longpresscancel",r);const s=()=>{e.off("touchend",n),e.off("longpresscancel",r),e.off("mousedown",o)}})(e),u()};((e,t)=>{const n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;{const o=t.touches[0],r=n.getRng();return Ql(e.getWin(),Sl.domRange(r)).exists((e=>e.left<=o.clientX&&e.right>=o.clientX&&e.top<=o.clientY&&e.bottom>=o.clientY))}})(e,t)?n():(e.once("selectionchange",n),e.once("touchend",(()=>e.off("selectionchange",n))))}else u()},UO=e=>s(e)?"|"===e:"separator"===e.type,TO={type:"separator"},LO=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(s(e))return e;switch(e.type){case"separator":return TO;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();return s(t)?t:M(t,LO)}};default:return{type:"menuitem",...t(e),onAction:(n=e.onAction,()=>n())}}var n},NO=(e,t)=>{if(0===t.length)return e;const n=oe(e).filter((e=>!UO(e))).fold((()=>[]),(e=>[TO]));return e.concat(n).concat(t).concat([TO])},QO=(e,t)=>"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType),DO=(e,t)=>QO(e,t)?e.selection.getStart(!0):t.target,IO=(e,t,n)=>{const o=Bn().deviceType.isTouch,r=Ki(wg.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:lA([Lh("dismissContextMenu",[_s(ds(),((t,n)=>{Tc.close(t),e.focus()}))])])})),i=e=>wg.hide(r),a=t=>{if(vO(e)&&t.preventDefault(),((e,t)=>t.ctrlKey&&!vO(e))(e,t)||(e=>0===yO(e).length)(e))return;const i=((e,t)=>{const n=wO(e),o=QO(e,t)?"selection":"point";if(Ee(n)){const r=DO(e,t);return cw(Ne(r),n)?"node":o}return o})(e,t);(o()?OO:kO)(e,t,(()=>{const n=DO(e,t),o=e.ui.registry.getAll(),r=yO(e);return((e,t,n)=>{const o=z(t,((t,o)=>fe(e,o.toLowerCase()).map((e=>{const o=e.update(n);if(s(o))return NO(t,o.split(" "));if(o.length>0){const e=M(o,LO);return NO(t,e)}return t})).getOrThunk((()=>t.concat([o])))),[]);return o.length>0&&UO(o[o.length-1])&&o.pop(),o})(o.contextMenus,r,n)}),n,r,i)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,i),e.on("longpress contextmenu",a)}))},HO=fr([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),MO=e=>t=>t.translate(-e.left,-e.top),RO=e=>t=>t.translate(e.left,e.top),PO=e=>(t,n)=>z(e,((e,t)=>t(e)),Ht(t,n)),VO=(e,t,n)=>e.fold(PO([RO(n),MO(t)]),PO([MO(t)]),PO([])),jO=(e,t,n)=>e.fold(PO([RO(n)]),PO([]),PO([RO(t)])),zO=(e,t,n)=>e.fold(PO([]),PO([MO(n)]),PO([RO(t),MO(n)])),KO=(e,t,n)=>{const o=e.fold(((e,t)=>({position:_.some("absolute"),left:_.some(e+"px"),top:_.some(t+"px")})),((e,t)=>({position:_.some("absolute"),left:_.some(e-n.left+"px"),top:_.some(t-n.top+"px")})),((e,t)=>({position:_.some("fixed"),left:_.some(e+"px"),top:_.some(t+"px")})));return{right:_.none(),bottom:_.none(),...o}},WO=(e,t,n,o)=>{const r=(e,r)=>(s,i)=>{const a=e(t,n,o);return r(s.getOr(a.left),i.getOr(a.top))};return e.fold(r(zO,GO),r(jO,qO),r(VO,ZO))},GO=HO.offset,qO=HO.absolute,ZO=HO.fixed,XO=(e,t)=>{const n=ft(e,t);return u(n)?NaN:parseInt(n,10)},JO=(e,t,n,o,r,s)=>{const i=((e,t,n,o)=>((e,t)=>{const n=e.element,o=XO(n,t.leftAttr),r=XO(n,t.topAttr);return isNaN(o)||isNaN(r)?_.none():_.some(Ht(o,r))})(e,t).fold((()=>n),(e=>ZO(e.left+o.left,e.top+o.top))))(e,t,n,o),a=t.mustSnap?$O(e,t,i,r,s):eU(e,t,i,r,s),A=VO(i,r,s);return((e,t,n)=>{const o=e.element;gt(o,t.leftAttr,n.left+"px"),gt(o,t.topAttr,n.top+"px")})(e,t,A),a.fold((()=>({coord:ZO(A.left,A.top),extra:_.none()})),(e=>({coord:e.output,extra:e.extra})))},YO=(e,t,n,o)=>se(e,(e=>{const r=e.sensor,s=((e,t,n,o,r,s)=>{const i=jO(e,r,s),a=jO(t,r,s);return Math.abs(i.left-a.left)<=n&&Math.abs(i.top-a.top)<=o})(t,r,e.range.left,e.range.top,n,o);return s?_.some({output:WO(e.output,t,n,o),extra:e.extra}):_.none()})),$O=(e,t,n,o,r)=>{const s=t.getSnapPoints(e);return YO(s,n,o,r).orThunk((()=>{const e=z(s,((e,t)=>{const s=t.sensor,i=((e,t,n,o,r,s)=>{const i=jO(e,r,s),a=jO(t,r,s),A=Math.abs(i.left-a.left),l=Math.abs(i.top-a.top);return Ht(A,l)})(n,s,t.range.left,t.range.top,o,r);return e.deltas.fold((()=>({deltas:_.some(i),snap:_.some(t)})),(n=>(i.left+i.top)/2<=(n.left+n.top)/2?{deltas:_.some(i),snap:_.some(t)}:e))}),{deltas:_.none(),snap:_.none()});return e.snap.map((e=>({output:WO(e.output,n,o,r),extra:e.extra})))}))},eU=(e,t,n,o,r)=>{const s=t.getSnapPoints(e);return YO(s,n,o,r)};var tU=Object.freeze({__proto__:null,snapTo:(e,t,n,o)=>{const r=t.getTarget(e.element);if(t.repositionTarget){const t=Ge(e.element),n=Ln(t),s=kF(r),i=((e,t,n)=>({coord:WO(e.output,e.output,t,n),extra:e.extra}))(o,n,s),a=KO(i.coord,0,s);St(r,a)}}});const nU="data-initial-z-index",oU=(e,t)=>{e.getSystem().addToGui(t),(e=>{Je(e.element).filter(He).each((t=>{Et(t,"z-index").each((e=>{gt(t,nU,e)})),Ct(t,"z-index",Ft(e.element,"z-index"))}))})(t)},rU=e=>{(e=>{Je(e.element).filter(He).each((e=>{bt(e,nU).fold((()=>Ut(e,"z-index")),(t=>Ct(e,"z-index",t))),wt(e,nU)}))})(e),e.getSystem().removeFromGui(e)},sU=(e,t,n)=>e.getSystem().build(ww.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}));var iU=ir("snaps",[zo("getSnapPoints"),fa("onSensor"),zo("leftAttr"),zo("topAttr"),ar("lazyViewport",zn),ar("mustSnap",!1)]);const aU=[ar("useFixed",F),zo("blockerClass"),ar("getTarget",w),ar("onDrag",f),ar("repositionTarget",!0),ar("onDrop",f),mr("getBounds",zn),iU],AU=(e,t)=>({bounds:e.getBounds(),height:Dt(t.element),width:zt(t.element)}),lU=(e,t,n,o,r)=>{const s=n.update(o,r),i=n.getStartData().getOrThunk((()=>AU(t,e)));s.each((n=>{((e,t,n,o)=>{const r=t.getTarget(e.element);if(t.repositionTarget){const s=Ge(e.element),i=Ln(s),a=kF(r),A=(e=>{return(t=Et(e,"left"),n=Et(e,"top"),o=Et(e,"position"),r=(e,t,n)=>("fixed"===n?ZO:GO)(parseInt(e,10),parseInt(t,10)),t.isSome()&&n.isSome()&&o.isSome()?_.some(r(t.getOrDie(),n.getOrDie(),o.getOrDie())):_.none()).getOrThunk((()=>{const t=Rt(e);return qO(t.left,t.top)}));var t,n,o,r})(r),l=((e,t,n,o,r,s,i)=>((e,t,n,o,r)=>{const s=r.bounds,i=jO(t,n,o),a=Qa(i.left,s.x,s.x+s.width-r.width),A=Qa(i.top,s.y,s.y+s.height-r.height),l=qO(a,A);return t.fold((()=>{const e=zO(l,n,o);return GO(e.left,e.top)}),v(l),(()=>{const e=VO(l,n,o);return ZO(e.left,e.top)}))})(0,t.fold((()=>{const e=(t=n,i=s.left,a=s.top,t.fold(((e,t)=>GO(e+i,t+a)),((e,t)=>qO(e+i,t+a)),((e,t)=>ZO(e+i,t+a))));var t,i,a;const A=VO(e,o,r);return ZO(A.left,A.top)}),(t=>{const i=JO(e,t,n,s,o,r);return i.extra.each((n=>{t.onSensor(e,n)})),i.coord})),o,r,i))(e,t.snaps,A,i,a,o,n),c=KO(l,0,a);St(r,c)}t.onDrag(e,r,o)})(e,t,i,n)}))},cU=(e,t,n,o)=>{t.each(rU),n.snaps.each((t=>{((e,t)=>{((e,t)=>{const n=e.element;wt(n,t.leftAttr),wt(n,t.topAttr)})(e,t)})(e,t)}));const r=n.getTarget(e.element);o.reset(),n.onDrop(e,r)},uU=e=>(t,n)=>{const o=e=>{n.setStartData(AU(t,e))};return Fs([_s(As(),(e=>{n.getStartData().each((()=>o(e)))})),...e(t,n,o)])};var dU=Object.freeze({__proto__:null,getData:e=>_.from(Ht(e.x,e.y)),getDelta:(e,t)=>Ht(t.left-e.left,t.top-e.top)});const mU=(e,t,n)=>[_s(Ur(),((o,r)=>{if(0!==r.event.raw.button)return;r.stop();const s=()=>cU(o,_.some(A),e,t),i=uw(s,200),a={drop:s,delayDrop:i.schedule,forceDrop:s,move:n=>{i.cancel(),lU(o,e,t,dU,n)}},A=sU(o,e.blockerClass,(e=>Fs([_s(Ur(),e.forceDrop),_s(Nr(),e.drop),_s(Tr(),((t,n)=>{e.move(n.event)})),_s(Lr(),e.delayDrop)]))(a));n(o),oU(o,A)}))],hU=[...aU,ya("dragger",{handlers:uU(mU)})];var gU=Object.freeze({__proto__:null,getData:e=>{const t=e.raw.touches;return 1===t.length?(e=>{const t=e[0];return _.some(Ht(t.clientX,t.clientY))})(t):_.none()},getDelta:(e,t)=>Ht(t.left-e.left,t.top-e.top)});const pU=(e,t,n)=>{const o=HA(),r=n=>{cU(n,o.get(),e,t),o.clear()};return[_s(kr(),((s,i)=>{i.stop();const a=()=>r(s),A={drop:a,delayDrop:f,forceDrop:a,move:n=>{lU(s,e,t,gU,n)}},l=sU(s,e.blockerClass,(e=>Fs([_s(kr(),e.forceDrop),_s(_r(),e.drop),_s(Or(),e.drop),_s(Er(),((t,n)=>{e.move(n.event)}))]))(A));o.set(l),n(s),oU(s,l)})),_s(Er(),((n,o)=>{o.stop(),lU(n,e,t,gU,o.event)})),_s(_r(),((e,t)=>{t.stop(),r(e)})),_s(Or(),r)]},fU=hU,bU=[...aU,ya("dragger",{handlers:uU(pU)})],vU=[...aU,ya("dragger",{handlers:uU(((e,t,n)=>[...mU(e,t,n),...pU(e,t,n)]))})];var wU=Object.freeze({__proto__:null,mouse:fU,touch:bU,mouseOrTouch:vU}),yU=Object.freeze({__proto__:null,init:()=>{let e=_.none(),t=_.none();const n=v({});return mi({readState:n,reset:()=>{e=_.none(),t=_.none()},update:(t,n)=>t.getData(n).bind((n=>((t,n)=>{const o=e.map((e=>t.getDelta(e,n)));return e=_.some(n),o})(t,n))),getStartData:()=>t,setStartData:e=>{t=_.some(e)}})}});const BU=mA({branchKey:"mode",branches:wU,name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:_.from(e.extra)})},state:yU,apis:tU}),CU=(e,t,n,o,r,s)=>e.fold((()=>BU.snap({sensor:qO(n-20,o-20),range:Ht(r,s),output:qO(_.some(n),_.some(o)),extra:{td:t}})),(e=>{const r=n-20,s=o-20,i=e.element.dom.getBoundingClientRect();return BU.snap({sensor:qO(r,s),range:Ht(40,40),output:qO(_.some(n-i.width/2),_.some(o-i.height/2)),extra:{td:t}})})),xU=(e,t,n)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,o)=>{const r=o.td;((e,t)=>e.exists((e=>Ke(e,t))))(t.get(),r)||(t.set(r),n(r))},mustSnap:!0}),SU=e=>Cg(Bg.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:lA([BU.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Ey.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),FU=(e,t)=>{const n=pr([]),o=pr([]),r=pr(!1),s=HA(),i=HA(),a=e=>{const n=jn(e);return CU(u.getOpt(t),e,n.x,n.y,n.width,n.height)},A=e=>{const n=jn(e);return CU(d.getOpt(t),e,n.right,n.bottom,n.width,n.height)},l=xU((()=>M(n.get(),(e=>a(e)))),s,(t=>{i.get().each((n=>{e.dispatch("TableSelectorChange",{start:t,finish:n})}))})),c=xU((()=>M(o.get(),(e=>A(e)))),i,(t=>{s.get().each((n=>{e.dispatch("TableSelectorChange",{start:n,finish:t})}))})),u=SU(l),d=SU(c),m=Ki(u.asSpec()),h=Ki(d.asSpec()),g=(t,n,o,r)=>{const s=o(n);BU.snapTo(t,s),((t,n,o,s)=>{const i=n.dom.getBoundingClientRect();Ut(t.element,"display");const a=Xe(Ne(e.getBody())).dom.innerHeight,A=i[r]<0,l=((e,t)=>e[r]>t)(i,a);(A||l)&&Ct(t.element,"display","none")})(t,n)},p=e=>g(m,e,a,"top"),f=e=>g(h,e,A,"bottom");Bn().deviceType.isTouch()&&(e.on("TableSelectionChange",(e=>{r.get()||(hc(t,m),hc(t,h),r.set(!0)),s.set(e.start),i.set(e.finish),e.otherCells.each((t=>{n.set(t.upOrLeftCells),o.set(t.downOrRightCells),p(e.start),f(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{s.get().each(p),i.get().each(f)})),e.on("TableSelectionClear",(()=>{r.get()&&(fc(m),fc(h),r.set(!1)),s.clear(),i.clear()})))},kU=(e,t,n)=>{var o;const r=null!==(o=t.delimiter)&&void 0!==o?o:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:lA([Ch.config({mode:"flow",selector:"div[role=button]"}),vd.config({disabled:n.isDisabled}),Nb(),kw.config({}),Th.config({}),Lh("elementPathEvents",[Is(((t,o)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>Ch.focusIn(t))),e.on("NodeChange",(o=>{const s=(t=>{const n=[];let o=t.length;for(;o-- >0;){const s=t[o];if(1===s.nodeType&&"BR"!==(r=s).nodeName&&!r.getAttribute("data-mce-bogus")&&"bookmark"!==r.getAttribute("data-mce-type")){const t=e.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s});if(t.isDefaultPrevented()||n.push({name:t.name,element:s}),t.isPropagationStopped())break}}var r;return n})(o.parents),i=s.length>0?z(s,((t,o,s)=>{const i=((t,o,r)=>Bg.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":r,"aria-level":r+1}},components:[Pi(t)],action:t=>{e.focus(),e.selection.select(o),e.nodeChanged()},buttonBehaviours:lA([Qb(n.isDisabled),Nb()])}))(o.name,o.element,s);return 0===s?t.concat([i]):t.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Pi(` ${r} `)]},i])}),[]):[];Th.set(t,i)}))}))])]),components:[]}};var EU;!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(EU||(EU={}));const _U=(e,t,n)=>{const o=Ne(e.getContainer()),r=((e,t,n,o,r)=>{const s={};return s.height=Q_(o+t.top,qg(e),Xg(e)),n===EU.Both&&(s.width=Q_(r+t.left,Gg(e),Zg(e))),s})(e,t,n,Qt(o),jt(o));Ae(r,((e,t)=>Ct(o,t,N_(e)))),(e=>{e.dispatch("ResizeEditor")})(e)},OU=(e,t,n,o)=>{const r=Ht(20*n,20*o);return _U(e,r,t),_.some(!0)},UU=(e,t)=>({dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const n=(()=>{const n=[];return vp(e)&&n.push(kU(e,{},t)),e.hasPlugin("wordcount")&&n.push(((e,t)=>{const n=(e,n,o)=>Th.set(e,[Pi(t.translate(["{0} "+o,n[o]]))]);return Bg.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:lA([Qb(t.isDisabled),Nb(),kw.config({}),Th.config({}),Yc.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Lh("wordcount-events",[Rs((e=>{const t=Yc.getValue(e),o="words"===t.mode?"characters":"words";Yc.setValue(e,{mode:o,count:t.count}),n(e,t.count,o)})),Is((t=>{e.on("wordCountUpdate",(e=>{const{mode:o}=Yc.getValue(t);Yc.setValue(t,{mode:o,count:e.wordCount}),n(t,e.wordCount,o)}))}))])]),eventOrder:{[$r()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,t)),wp(e)&&n.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":xg.translate(["Powered by {0}","Tiny"])},innerHtml:'<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n'.trim()},behaviours:lA([Hh.config({})])}]}),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]})(),o=((e,t)=>{const n=(e=>{const t=yp(e);return!1===t?EU.None:"both"===t?EU.Both:EU.Vertical})(e);return n===EU.None?_.none():_.some(Lg("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[BU.config({mode:"mouse",repositionTarget:!1,onDrag:(t,o,r)=>_U(e,r,n),blockerClass:"tox-blocker"}),Ch.config({mode:"special",onLeft:()=>OU(e,n,-1,0),onRight:()=>OU(e,n,1,0),onUp:()=>OU(e,n,0,-1),onDown:()=>OU(e,n,0,1)}),kw.config({}),Hh.config({})]},t.icons))})(e,t);return n.concat(o.toArray())})()}),TU=e=>e.get().getOrDie("UI has not been rendered"),LU=e=>{const t=e.inline,n=t?R_:T_,o=Dp(e)?$F:SF,r=HA(),s=HA(),i=HA(),a=HA(),A=Bn().deviceType.isTouch()?["tox-platform-touch"]:[],l=Up(e),c=np(e),u=Cg({dom:{tag:"div",classes:["tox-anchorbar"]}}),d=()=>s.get().bind(kE.getHeader),m=()=>Gn.fromOption(r.get(),"UI has not been rendered"),h=()=>s.get().bind((e=>kE.getToolbar(e))).getOrDie("Could not find more toolbar element"),g=()=>s.get().bind((e=>kE.getThrobber(e))).getOrDie("Could not find throbber element"),p=((e,t,n)=>{const o=pr(!1),r=(e=>{const t=pr(Up(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}})(t),s={shared:{providers:{icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:xg.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},interpreter:e=>((e,t,n)=>nS(eS,e,{},n))(e,0,s),anchors:kS(t,n,r.isPositionedAtTop),header:r,getSink:e},urlinput:uF(t),styles:RS(t),colorinput:TS(t),dialog:NS(t),isContextMenuOpen:()=>o.get(),setContextMenuState:e=>o.set(e)};return s})(m,e,(()=>s.get().bind((e=>u.getOpt(e))).getOrDie("Could not find a anchor bar element"))),f=t=>{const n=N_((e=>{const t=(e=>{const t=Kg(e),n=qg(e),o=Xg(e);return L_(t).map((e=>Q_(e,n,o)))})(e);return t.getOr(Kg(e))})(e)),o=N_((e=>D_(e).getOr(Wg(e)))(e));return e.inline||(Ot("div","width",o)&&Ct(t.element,"width",o),Ot("div","height",n)?Ct(t.element,"height",n):Ct(t.element,"height","400px")),n};return{getMothership:()=>TU(i),getUiMothership:()=>TU(a),backstage:p,renderUI:()=>{const{mothership:b,outerContainer:v}=(()=>{const n=(()=>{const t={attributes:{[rl]:l?ol.BottomToTop:ol.TopToBottom}},n=kE.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:p,onEscape:()=>{e.focus()}}),o=kE.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:m,providers:p.shared.providers,onEscape:()=>{e.focus()},type:c,lazyToolbar:h,lazyHeader:()=>d().getOrDie("Could not find header element"),...t}),r=kE.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:p.shared.providers,onEscape:()=>{e.focus()},type:c}),s=Op(e),i=Ep(e),a=Sp(e);return kE.parts.header({dom:{tag:"div",classes:["tox-editor-header"],...t},components:G([a?[n]:[],s?[r]:i?[o]:[],Lp(e)?[]:[u.asSpec()]]),sticky:Dp(e),editor:e,sharedBackstage:p.shared})})(),o={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[kE.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),kE.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},r=kE.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:p}),a=bp(e)&&!t?_.some(UU(e,p.shared.providers)):_.none(),g=G([l?[]:[n],t?[]:[o],l?[n]:[]]),f=G([[{dom:{tag:"div",classes:["tox-editor-container"]},components:g}],t?[]:a.toArray(),[r]]),b=Qp(e),v={role:"application",...xg.isRtl()?{dir:"rtl"}:{},...b?{"aria-hidden":"true"}:{}},w=Ki(kE.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(t?["tox-tinymce-inline"]:[]).concat(l?["tox-tinymce--toolbar-bottom"]:[]).concat(A),styles:{visibility:"hidden",...b?{opacity:"0",border:"0"}:{}},attributes:v},components:f,behaviours:lA([Nb(),vd.config({disableClass:"tox-tinymce--disabled"}),Ch.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),y=yw(w);return s.set(w),i.set(y),{mothership:y,outerContainer:w}})(),{uiMothership:w,sink:y}=(()=>{const t=Np(e),n=Ke(dt(),t)&&"grid"===Ft(t,"display"),s={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(A),attributes:{...xg.isRtl()?{dir:"rtl"}:{}}},behaviours:lA([ac.config({useFixed:()=>o.isDocked(d)})])},i={dom:{styles:{width:document.body.clientWidth+"px"}},events:Fs([_s(ls(),(e=>{Ct(e.element,"width",document.body.clientWidth+"px")}))])},l=Ki(ro(s,n?i:{})),c=yw(l);return r.set(l),a.set(c),{sink:l,uiMothership:c}})();le(op(e),((t,n)=>{e.ui.registry.addGroupToolbarButton(n,t)}));const{buttons:B,menuItems:C,contextToolbars:x,sidebars:S}=e.ui.registry.getAll(),F=_p(e),k={menuItems:C,menus:Ip(e),menubar:lp(e),toolbar:F.getOrThunk((()=>cp(e))),allowToolbarGroups:c===Dg.floating,buttons:B,sidebar:S};(t=>{e.addShortcut("alt+F9","focus menubar",(()=>{kE.focusMenubar(t)})),e.addShortcut("alt+F10","focus toolbar",(()=>{kE.focusToolbar(t)})),e.addCommand("ToggleToolbarDrawer",(()=>{kE.toggleToolbarDrawer(t)})),e.addQueryStateHandler("ToggleToolbarDrawer",(()=>kE.isToolbarDrawerToggled(t)))})(v),((e,t,n)=>{const o=(e,o)=>{R([t,n],(t=>{t.broadcastEvent(e,o)}))},r=(e,o)=>{R([t,n],(t=>{t.broadcastOn([e],o)}))},s=e=>r(Lc(),{target:e.target}),i=In(),a=RA(i,"touchstart",s),A=RA(i,"touchmove",(e=>o(is(),e))),l=RA(i,"touchend",(e=>o(as(),e))),c=RA(i,"mousedown",s),u=RA(i,"mouseup",(e=>{0===e.raw.button&&r(Qc(),{target:e.target})})),d=e=>r(Lc(),{target:Ne(e.target)}),m=e=>{0===e.button&&r(Qc(),{target:Ne(e.target)})},h=()=>{R(e.editorManager.get(),(t=>{e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})}))},g=e=>o(As(),VA(e)),p=e=>{r(Nc(),{}),o(ls(),VA(e))},f=()=>r(Nc(),{}),b=t=>{t.state&&r(Lc(),{target:Ne(e.getContainer())})},v=e=>{r(Lc(),{target:Ne(e.relatedTarget.getContainer())})};e.on("PostRender",(()=>{e.on("click",d),e.on("tap",d),e.on("mouseup",m),e.on("mousedown",h),e.on("ScrollWindow",g),e.on("ResizeWindow",p),e.on("ResizeEditor",f),e.on("AfterProgressState",b),e.on("DismissPopups",v)})),e.on("remove",(()=>{e.off("click",d),e.off("tap",d),e.off("mouseup",m),e.off("mousedown",h),e.off("ScrollWindow",g),e.off("ResizeWindow",p),e.off("ResizeEditor",f),e.off("AfterProgressState",b),e.off("DismissPopups",v),c.unbind(),a.unbind(),A.unbind(),l.unbind(),u.unbind()})),e.on("detach",(()=>{yc(t),yc(n),t.destroy(),n.destroy()}))})(e,b,w),o.setup(e,p.shared,d),pO(e,p),IO(e,m,p),(e=>{const{sidebars:t}=e.ui.registry.getAll();R(ie(t),(n=>{const o=t[n],r=()=>we(_.from(e.queryCommandValue("ToggleSidebar")),n);e.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",!1,n),t.setActive(r())},onSetup:t=>{t.setActive(r());const n=()=>t.setActive(r());return e.on("ToggleSidebar",n),()=>{e.off("ToggleSidebar",n)}}})}))})(e),Rk(e,g,p.shared),sO(e,x,y,{backstage:p}),FU(e,y);const E={mothership:b,uiMothership:w,outerContainer:v,sink:y},O={targetNode:e.getElement(),height:f(v)};return n.render(e,E,k,p,O)}}},NU=v([zo("lazySink"),$o("dragBlockClass"),mr("getBounds",zn),ar("useTabstopAt",k),ar("eventOrder",{}),$c("modalBehaviours",[Ch]),ba("onExecute"),wa("onEscape")]),QU={sketch:w},DU=v([Eu({name:"draghandle",overrides:(e,t)=>({behaviours:lA([BU.config({mode:"mouse",getTarget:e=>Yi(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),Fu({schema:[zo("dom")],name:"title"}),Fu({factory:QU,schema:[zo("dom")],name:"close"}),Fu({factory:QU,schema:[zo("dom")],name:"body"}),Eu({factory:QU,schema:[zo("dom")],name:"footer"}),ku({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[ar("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ar("components",[])],name:"blocker"})]),IU=td({name:"ModalDialog",configFields:NU(),partFields:DU(),factory:(e,t,n,o)=>{const r=HA(),s=Zs("modal-events"),i={...e.eventOrder,[cs()]:[s].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:t=>{r.set(t);const n=e.lazySink(t).getOrDie(),s=o.blocker(),i=n.getSystem().build({...s,components:s.components.concat([Wi(t)]),behaviours:lA([Hh.config({}),Lh("dialog-blocker-events",[Ds(Dr(),(()=>{Ch.focusIn(t)}))])])});hc(n,i),Ch.focusIn(t)},hide:e=>{r.clear(),Je(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{fc(e)}))}))},getBody:t=>Pu(t,e,"body"),getFooter:t=>Pu(t,e,"footer"),setIdle:e=>{Ik.unblock(e)},setBusy:(e,t)=>{Ik.block(e,t)}},eventOrder:i,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:tu(e.modalBehaviours,[Th.config({}),Ch.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),Ik.config({getRoot:r.get}),Lh(s,[Is((t=>{((e,t)=>{const n=bt(e,"id").fold((()=>{const e=Zs("dialog-label");return gt(t,"id",e),e}),w);gt(e,"aria-labelledby",n)})(t.element,Pu(t,e,"title").element),((e,t)=>{const n=_.from(ft(e,"id")).fold((()=>{const e=Zs("dialog-describe");return gt(t,"id",e),e}),w);gt(e,"aria-describedby",n)})(t.element,Pu(t,e,"body").element)}))])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,n)=>{e.setBusy(t,n)},setIdle:(e,t)=>{e.setIdle(t)}}}),HU=wo([hf,gf].concat(cb)),MU=_o,RU=[Pf("button"),Ef,ur("align","end",["start","end"]),Df,Qf,or("buttonType",["primary","secondary"])],PU=[...RU,ff],VU=[qo("type",["submit","cancel","custom"]),...PU],jU=[qo("type",["menu"]),kf,_f,Ef,Yo("items",HU),...RU],zU=Ro("type",{submit:VU,cancel:VU,custom:VU,menu:jU}),KU=[hf,ff,qo("level",["info","warn","error","success"]),vf,ar("url","")],WU=wo(KU),GU=[hf,ff,Qf,Pf("button"),Ef,Nf,or("buttonType",["primary","secondary","toolbar"]),Df],qU=wo(GU),ZU=[hf,gf],XU=ZU.concat([Of]),JU=ZU.concat([pf,Qf]),YU=wo(JU),$U=_o,eT=XU.concat([If("auto")]),tT=wo(eT),nT=xo([wf,ff,vf]),oT=wo(XU),rT=Eo,sT=wo(XU),iT=Eo,aT=ZU.concat([cr("tag","textarea"),Go("scriptId"),Go("scriptUrl"),Ar("settings",void 0,To)]),AT=ZU.concat([cr("tag","textarea"),Zo("init")]),lT=No((e=>Do("customeditor.old",vo(AT),e).orThunk((()=>Do("customeditor.new",vo(aT),e))))),cT=Eo,uT=wo(XU),dT=yo(ho),mT=e=>[hf,Wo("columns"),e],hT=[hf,Go("html"),ur("presets","presentation",["presentation","document"])],gT=wo(hT),pT=XU.concat([dr("sandboxed",!0),dr("transparent",!0)]),fT=wo(pT),bT=Eo,vT=wo(ZU.concat([nr("height")])),wT=wo([Go("url"),tr("zoom"),tr("cachedWidth"),tr("cachedHeight")]),yT=XU.concat([nr("inputMode"),nr("placeholder"),dr("maximized",!1),Qf]),BT=wo(yT),CT=Eo,xT=e=>[hf,pf,e],ST=[ff,wf],FT=[ff,Yo("items",((e,t)=>{const n=Kt(t);return{extract:(e,t)=>n().extract(e,t),toString:()=>n().toString()}})(0,(()=>kT)))],kT=Bo([wo(ST),wo(FT)]),ET=XU.concat([Yo("items",kT),Qf]),_T=wo(ET),OT=Eo,UT=XU.concat([Jo("items",[ff,wf]),lr("size",1),Qf]),TT=wo(UT),LT=Eo,NT=XU.concat([dr("constrain",!0),Qf]),QT=wo(NT),DT=wo([Go("width"),Go("height")]),IT=ZU.concat([pf,lr("min",0),lr("max",0)]),HT=wo(IT),MT=ko,RT=[hf,Yo("header",Eo),Yo("cells",yo(Eo))],PT=wo(RT),VT=XU.concat([nr("placeholder"),dr("maximized",!1),Qf]),jT=wo(VT),zT=Eo,KT=XU.concat([ur("filetype","file",["image","media","file"]),Qf]),WT=wo(KT),GT=wo([wf,Hf]),qT=e=>Po("items","items",{tag:"required",process:{}},yo(No((t=>Do(`Checking item of ${e}`,ZT,t).fold((e=>Gn.error(Mo(e))),(e=>Gn.value(e))))))),ZT=fo((()=>{return Lo("type",{alertbanner:WU,bar:wo((e=qT("bar"),[hf,e])),button:qU,checkbox:YU,colorinput:oT,colorpicker:sT,dropzone:uT,grid:wo(mT(qT("grid"))),iframe:fT,input:BT,listbox:_T,selectbox:TT,sizeinput:QT,slider:HT,textarea:jT,urlinput:WT,customeditor:lT,htmlpanel:gT,imagepreview:vT,collection:tT,label:wo(xT(qT("label"))),table:PT,panel:JT});var e})),XT=[hf,ar("classes",[]),Yo("items",ZT)],JT=wo(XT),YT=[Pf("tab"),bf,Yo("items",ZT)],$T=[hf,Jo("tabs",YT)],eL=wo($T),tL=PU,nL=zU,oL=wo([Go("title"),Ko("body",Lo("type",{panel:JT,tabpanel:eL})),cr("size","normal"),Yo("buttons",nL),ar("initialData",{}),mr("onAction",f),mr("onChange",f),mr("onSubmit",f),mr("onClose",f),mr("onCancel",f),mr("onTabChange",f)]),rL=wo([qo("type",["cancel","custom"]),...tL]),sL=wo([Go("title"),Go("url"),tr("height"),tr("width"),sr("buttons",rL),mr("onAction",f),mr("onCancel",f),mr("onClose",f),mr("onMessage",f)]),iL=e=>i(e)?[e].concat(q(pe(e),iL)):A(e)?q(e,iL):[],aL=e=>s(e.type)&&s(e.name),AL={checkbox:$U,colorinput:rT,colorpicker:iT,dropzone:dT,input:CT,iframe:bT,imagepreview:wT,selectbox:LT,sizeinput:DT,slider:MT,listbox:OT,size:DT,textarea:zT,urlinput:GT,customeditor:cT,collection:nT,togglemenuitem:MU},lL=e=>{const t=(e=>V(iL(e),aL))(e),n=q(t,(e=>(e=>_.from(AL[e.type]))(e).fold((()=>[]),(t=>[Ko(e.name,t)]))));return wo(n)},cL=e=>({internalDialog:Io(Do("dialog",oL,e)),dataValidator:lL(e),initialData:e.initialData}),uL={open:(e,t)=>{const n=cL(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:(e,t)=>e(Io(Do("dialog",sL,t))),redial:e=>cL(e)},dL=e=>{const t=[],n={};return Ae(e,((e,o)=>{e.fold((()=>{t.push(o)}),(e=>{n[o]=e}))})),t.length>0?Gn.error(t):Gn.value(n)},mL=(e,t,n)=>{const o=Cg(bC.sketch((o=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:M(e.items,(e=>tS(o,e,t,n)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:lA([Ch.config({mode:"acyclic",useTabstopAt:C(jC)}),(r=o,sd.config({find:r.getOpt})),OC(o,{postprocess:e=>dL(e).fold((e=>(console.error(e),{})),w)})])};var r},hL=ed({name:"TabButton",configFields:[ar("uid",void 0),zo("value"),Po("dom","dom",Ao((()=>({attributes:{role:"tab",id:Zs("aria"),"aria-selected":"false"}}))),So()),$o("action"),ar("domModification",{}),$c("tabButtonBehaviours",[Hh,Ch,Yc]),zo("view")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:qh(e.action),behaviours:tu(e.tabButtonBehaviours,[Hh.config({}),Ch.config({mode:"execution",useSpace:!0,useEnter:!0}),Yc.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),gL=v([zo("tabs"),zo("dom"),ar("clickToDismiss",!1),$c("tabbarBehaviours",[_d,Ch]),ga(["tabClass","selectedClass"])]),pL=_u({factory:hL,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{_d.dehighlight(e,t),ys(e,fs(),{tabbar:e,button:t})},n=(e,t)=>{_d.highlight(e,t),ys(e,ps(),{tabbar:e,button:t})};return{action:o=>{const r=o.getSystem().getByUid(e.uid).getOrDie(),s=_d.isHighlighted(r,o);(s&&e.clickToDismiss?t:s?f:n)(r,o)},domModification:{classes:[e.markers.tabClass]}}}}),fL=v([pL]),bL=td({name:"Tabbar",configFields:gL(),partFields:fL(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:tu(e.tabbarBehaviours,[_d.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{gt(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{gt(t.element,"aria-selected","false")}}),Ch.config({mode:"flow",getInitial:e=>_d.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),vL=ed({name:"Tabview",configFields:[$c("tabviewBehaviours",[Th])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:tu(e.tabviewBehaviours,[Th.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),wL=v([ar("selectFirst",!0),fa("onChangeTab"),fa("onDismissTab"),ar("tabs",[]),$c("tabSectionBehaviours",[])]),yL=Fu({factory:bL,schema:[zo("dom"),Xo("markers",[zo("tabClass"),zo("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),BL=Fu({factory:vL,name:"tabview"}),CL=v([yL,BL]),xL=td({name:"TabSection",configFields:wL(),partFields:CL(),factory:(e,t,n,o)=>{const r=(t,n)=>{Ru(t,e,"tabbar").each((e=>{n(e).each(Bs)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:eu(e.tabSectionBehaviours),events:Fs(G([e.selectFirst?[Is(((e,t)=>{r(e,_d.getFirst)}))]:[],[_s(ps(),((t,n)=>{(t=>{const n=Yc.getValue(t);Ru(t,e,"tabview").each((o=>{K(e.tabs,(e=>e.value===n)).each((n=>{const r=n.view();bt(t.element,"id").each((e=>{gt(o.element,"aria-labelledby",e)})),Th.set(o,r),e.onChangeTab(o,t,r)}))}))})(n.event.button)})),_s(fs(),((t,n)=>{const o=n.event.button;e.onDismissTab(t,o)}))]])),apis:{getViewItems:t=>Ru(t,e,"tabview").map((e=>Th.contents(e))).getOr([]),showTab:(e,t)=>{r(e,(e=>{const n=_d.getCandidates(e);return K(n,(e=>Yc.getValue(e)===t)).filter((t=>!_d.isHighlighted(e,t)))}))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,n)=>{e.showTab(t,n)}}}),SL=(e,t)=>{Ct(e,"height",t+"px"),Ct(e,"flex-basis",t+"px")},FL=(e,t,n)=>{Yi(e,'[role="dialog"]').each((e=>{ea(e,'[role="tablist"]').each((o=>{n.get().map((n=>(Ct(t,"height","0"),Ct(t,"flex-basis","0"),Math.min(n,((e,t,n)=>{const o=Ze(e).dom,r=Yi(e,".tox-dialog-wrap").getOr(e);let s;s="fixed"===Ft(r,"position")?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);const i=Qt(t),a=t.dom.offsetLeft>=n.dom.offsetLeft+jt(n)?Math.max(Qt(n),i):i,A=parseInt(Ft(e,"margin-top"),10)||0,l=parseInt(Ft(e,"margin-bottom"),10)||0;return s-(Qt(e)+A+l-a)})(e,t,o))))).each((e=>{SL(t,e)}))}))}))},kL=e=>ea(e,'[role="tabpanel"]'),EL="send-data-to-section",_L="send-data-to-view",OL=(e,t,n)=>{const o=pr({}),r=e=>{const t=Yc.getValue(e),n=dL(t).getOr({}),r=o.get(),s=ro(r,n);o.set(s)},s=e=>{const t=o.get();Yc.setValue(e,t)},i=pr(null),a=M(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Pi(n.shared.providers.translate(e.title))],view:()=>[bC.sketch((o=>({dom:{tag:"div",classes:["tox-form"]},components:M(e.items,(e=>tS(o,e,t,n))),formBehaviours:lA([Ch.config({mode:"acyclic",useTabstopAt:C(jC)}),Lh("TabView.form.events",[Is(s),Hs(r)]),gA.config({channels:vr([{key:EL,value:{onReceive:r}},{key:_L,value:{onReceive:s}}])})])})))]}))),A=(e=>{const t=(()=>{const t=HA(),n=[Is((n=>{const o=n.element;kL(o).each((r=>{Ct(r,"visibility","hidden"),n.getSystem().getByDom(r).toOptional().each((n=>{const o=((e,t,n)=>M(e,((o,r)=>{Th.set(n,e[r].view());const s=t.dom.getBoundingClientRect();return Th.set(n,[]),s.height})))(e,r,n),s=(e=>ne(ee(e,((e,t)=>e>t?-1:e<t?1:0))))(o);s.fold(t.clear,t.set)})),FL(o,r,t),Ut(r,"visibility"),((e,t)=>{ne(e).each((e=>xL.showTab(t,e.value)))})(e,n),requestAnimationFrame((()=>{FL(o,r,t)}))}))})),_s(ls(),(e=>{const n=e.element;kL(n).each((e=>{FL(n,e,t)}))})),_s(Pw,((e,n)=>{const o=e.element;kL(o).each((e=>{const n=vA(at(e));Ct(e,"visibility","hidden");const r=Et(e,"height").map((e=>parseInt(e,10)));Ut(e,"height"),Ut(e,"flex-basis");const s=e.dom.getBoundingClientRect().height;r.forall((e=>s>e))?(t.set(s),FL(o,e,t)):r.each((t=>{SL(e,t)})),Ut(e,"visibility"),n.each(fA)}))}))];return{extraEvents:n,selectFirst:!1}})();return{smartTabHeight:t,naiveTabHeight:{extraEvents:[],selectFirst:!0}}})(a).smartTabHeight;return xL.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,n)=>{const o=Yc.getValue(t);ys(e,Rw,{name:o,oldName:i.get()}),i.set(o)},tabs:a,components:[xL.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[bL.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:lA([kw.config({})])}),xL.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:A.selectFirst,tabSectionBehaviours:lA([Lh("tabpanel",A.extraEvents),Ch.config({mode:"acyclic"}),sd.config({find:e=>ne(xL.getViewItems(e))}),TC(_.none(),(e=>(e.getSystem().broadcastOn([EL],{}),o.get())),((e,t)=>{o.set(t),e.getSystem().broadcastOn([_L],{})}))])})},UL=Zs("update-dialog"),TL=Zs("update-title"),LL=Zs("update-body"),NL=Zs("update-footer"),QL=Zs("body-send-message"),DL=(e,t,n,o,r)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...n.map((e=>({id:e}))).getOr({}),...r?{"aria-live":"polite"}:{}}},components:[],behaviours:lA([FC(0),l_.config({channel:`${LL}-${t}`,updateState:(e,t)=>_.some({isTabPanel:()=>"tabpanel"===t.body.type}),renderComponents:e=>{const t=e.body;return"tabpanel"===t.type?[OL(t,e.initialData,o)]:[mL(t,e.initialData,o)]},initialData:e})])}),IL=Rg.deviceType.isTouch(),HL=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),ML=(e,t)=>IU.parts.close(Bg.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:lA([kw.config({})])})),RL=()=>IU.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),PL=(e,t)=>IU.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Hk(`<p>${t.translate(e)}</p>`)}]}]}),VL=e=>IU.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),jL=(e,t)=>[ww.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),ww.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],zL=e=>{const t="tox-dialog",n=t+"-wrap",o=n+"__backdrop",r=t+"__disable-scroll";return IU.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),_.some(!0)),useTabstopAt:e=>!jC(e),dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:Hk(`<div class="${n}"></div>`),components:[{dom:{tag:"div",classes:IL?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:n,modalBehaviours:lA([Hh.config({}),Lh("dialog-events",e.dialogEvents.concat([Ds(Dr(),((e,t)=>{Ch.focusIn(e)}))])),Lh("scroll-lock",[Is((()=>{ki(dt(),r)})),Hs((()=>{Ei(dt(),r)}))]),...e.extraBehaviours]),eventOrder:{[$r()]:["dialog-events"],[cs()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[us()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},KL=e=>Bg.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[Lg("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:e=>{ws(e,Qw)}}),WL=(e,t,n,o)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...n.map((e=>({id:e}))).getOr({})}},components:[],behaviours:lA([l_.config({channel:`${TL}-${t}`,initialData:e,renderComponents:e=>[Pi(o.translate(e.title))]})])}),GL=()=>({dom:Hk('<div class="tox-dialog__draghandle"></div>')}),qL=(e,t,n)=>((e,t,n)=>{const o=IU.parts.title(WL(e,t,_.none(),n)),r=IU.parts.draghandle(GL()),s=IU.parts.close(KL(n)),i=[o].concat(e.draggable?[r]:[]).concat([s]);return ww.sketch({dom:Hk('<div class="tox-dialog__header"></div>'),components:i})})({title:n.shared.providers.translate(e),draggable:n.dialog.isDraggableModal()},t,n.shared.providers),ZL=(e,t,n)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:Hk('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),XL=(e,t,n)=>({onClose:()=>n.closeWindow(),onBlock:n=>{IU.setBusy(e(),((e,o)=>ZL(n.message,o,t)))},onUnblock:()=>{IU.setIdle(e())}}),JL=(e,t,n,o)=>Ki(zL({...e,lazySink:o.shared.getSink,extraBehaviours:[l_.config({channel:`${UL}-${e.id}`,updateState:(e,t)=>_.some(t),initialData:t}),LC({}),...e.extraBehaviours],onEscape:e=>{ws(e,Qw)},dialogEvents:n,eventOrder:{[Yr()]:[l_.name(),gA.name()],[cs()]:["scroll-lock",l_.name(),"messages","dialog-events","alloy.base.behaviour"],[us()]:["alloy.base.behaviour","dialog-events","messages",l_.name(),"scroll-lock"]}})),YL=e=>M(e,(e=>"menu"===e.type?(e=>{const t=M(e.items,(e=>({...e,storage:pr(!1)})));return{...e,items:t}})(e):e)),$L=e=>z(e,((e,t)=>"menu"===t.type?z(t.items,((e,t)=>(e[t.name]=t.storage,e)),e):e),{}),eN=(e,t)=>[Ls(Dr(),VC),e(Nw,((e,n)=>{t.onClose(),n.onClose()})),e(Qw,((e,t,n,o)=>{t.onCancel(e),ws(o,Nw)})),_s(Mw,((e,n)=>t.onUnblock())),_s(Hw,((e,n)=>t.onBlock(n.event)))],tN=(e,t,n)=>{const o=(t,n)=>_s(t,((t,o)=>{r(t,((r,s)=>{n(e(),r,o.event,t)}))})),r=(e,t)=>{l_.getState(e).get().each((n=>{t(n.internalDialog,e)}))};return[...eN(o,t),o(Iw,((e,t)=>t.onSubmit(e))),o(Lw,((e,t,n)=>{t.onChange(e,{name:n.name})})),o(Dw,((e,t,o,r)=>{const s=()=>Ch.focusIn(r),i=e=>vt(e,"disabled")||bt(e,"aria-disabled").exists((e=>"true"===e)),a=at(r.element),A=vA(a);t.onAction(e,{name:o.name,value:o.value}),vA(a).fold(s,(e=>{i(e)||A.exists((t=>We(e,t)&&i(t)))?s():n().toOptional().filter((t=>!We(t.element,e))).each(s)}))})),o(Rw,((e,t,n)=>{t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Hs((t=>{const n=e();Yc.setValue(t,n.getData())}))]},nN=(e,t)=>{const n=t.map((e=>e.footerButtons)).getOr([]),o=P(n,(e=>"start"===e.align)),r=(e,t)=>ww.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:M(t,(e=>e.memento.asSpec()))});return[r("start",o.pass),r("end",o.fail)]},oN=(e,t,n)=>({dom:Hk('<div class="tox-dialog__footer"></div>'),components:[],behaviours:lA([l_.config({channel:`${NL}-${t}`,initialData:e,updateState:(e,t)=>{const o=M(t.buttons,(e=>{const t=Cg(((e,t)=>Mx(e,e.type,t))(e,n));return{name:e.name,align:e.align,memento:t}}));return _.some({lookupByName:t=>((e,t,n)=>K(t,(e=>e.name===n)).bind((t=>t.memento.getOpt(e))))(e,o,t),footerButtons:o})},renderComponents:nN})])}),rN=(e,t,n)=>IU.parts.footer(oN(e,t,n)),sN=(e,t)=>{if(e.getRoot().getSystem().isConnected()){const n=sd.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return bC.getField(n,t).orThunk((()=>{const n=e.getFooter();return l_.getState(n).get().bind((e=>e.lookupByName(t)))}))}return _.none()},iN=(e,t,n)=>{const o=t=>{const n=e.getRoot();n.getSystem().isConnected()&&t(n)},r={getData:()=>{const t=e.getRoot(),o=t.getSystem().isConnected()?e.getFormWrapper():t;return{...Yc.getValue(o),...le(n,(e=>e.get()))}},setData:t=>{o((o=>{const s=r.getData(),i=ro(s,t),a=((e,t)=>{const n=e.getRoot();return l_.getState(n).get().map((e=>Io(Do("data",e.dataValidator,t)))).getOr(t)})(e,i),A=e.getFormWrapper();Yc.setValue(A,a),Ae(n,((e,t)=>{be(i,t)&&e.set(i[t])}))}))},setEnabled:(t,n)=>{sN(e,t).each(n?vd.enable:vd.disable)},focus:t=>{sN(e,t).each(Hh.focus)},block:e=>{if(!s(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o((t=>{ys(t,Hw,{message:e})}))},unblock:()=>{o((e=>{ws(e,Mw)}))},showTab:t=>{o((n=>{const o=e.getBody();l_.getState(o).get().exists((e=>e.isTabPanel()))&&sd.getCurrent(o).each((e=>{xL.showTab(e,t)}))}))},redial:n=>{o((o=>{const s=e.getId(),i=t(n);o.getSystem().broadcastOn([`${UL}-${s}`],i),o.getSystem().broadcastOn([`${TL}-${s}`],i.internalDialog),o.getSystem().broadcastOn([`${LL}-${s}`],i.internalDialog),o.getSystem().broadcastOn([`${NL}-${s}`],i.internalDialog),r.setData(i.initialData)}))},close:()=>{o((e=>{ws(e,Nw)}))}};return r};var aN=tinymce.util.Tools.resolve("tinymce.util.URI");const AN=["insertContent","setContent","execCommand","close","block","unblock"],lN=e=>i(e)&&-1!==AN.indexOf(e.mceAction),cN=(e,t,n,o)=>{const r=Zs("dialog"),a=qL(e.title,r,o),A=(e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[RC({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:lA([kw.config({}),Hh.config({})])})]}],behaviours:lA([Ch.config({mode:"acyclic",useTabstopAt:C(jC)})])};return IU.parts.body(t)})(e),l=e.buttons.bind((e=>0===e.length?_.none():_.some(rN({buttons:e},r,o)))),u=((e,t)=>{const n=(t,n)=>_s(t,((t,r)=>{o(t,((o,s)=>{n(e(),o,r.event,t)}))})),o=(e,t)=>{l_.getState(e).get().each((n=>{t(n,e)}))};return[...eN(n,t),n(Dw,((e,t,n)=>{t.onAction(e,{name:n.name})}))]})((()=>v),XL((()=>b),o.shared.providers,t)),d={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))},m=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],h=new aN(e.url,{base_uri:new aN(window.location.href)}),g=`${h.protocol}://${h.host}${h.port?":"+h.port:""}`,p=IA(),f=[Lh("messages",[Is((()=>{const t=RA(Ne(window),"message",(t=>{if(h.isSameOrigin(new aN(t.raw.origin))){const o=t.raw.data;lN(o)?((e,t,n)=>{switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":const o=!!c(n.ui)&&n.ui;e.execCommand(n.cmd,o,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}})(n,v,o):(e=>!lN(e)&&i(e)&&be(e,"mceAction"))(o)&&e.onMessage(v,o)}}));p.set(t)})),Hs(p.clear)]),gA.config({channels:{[QL]:{onReceive:(e,t)=>{ea(e.element,"iframe").each((e=>{e.dom.contentWindow.postMessage(t,g)}))}}}})],b=JL({id:r,header:a,body:A,footer:l,extraClasses:m,extraBehaviours:f,extraStyles:d},e,u,o),v=(e=>{const t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!s(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((t=>{ys(t,Hw,{message:e})}))},unblock:()=>{t((e=>{ws(e,Mw)}))},close:()=>{t((e=>{ws(e,Nw)}))},sendMessage:e=>{t((t=>{t.getSystem().broadcastOn([QL],e)}))}}})(b);return{dialog:b,instanceApi:v}},uN=(e,t,n)=>t&&n?[]:[jF.config({contextual:{lazyContext:()=>_.some(Vn(Ne(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})],dN=e=>{const t=e.backstage,n=e.editor,o=Dp(n),r=(e=>{const t=e.backstage.shared;return{open:(n,o)=>{const r=()=>{IU.hide(A),o()},s=Cg(Mx({name:"close-alert",text:"OK",primary:!0,buttonType:_.some("primary"),align:"end",enabled:!0,icon:_.none()},"cancel",e.backstage)),i=RL(),a=ML(r,t.providers),A=Ki(zL({lazySink:()=>t.getSink(),header:HL(i,a),body:PL(n,t.providers),footer:_.some(VL(jL([],[s.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[_s(Qw,r)],eventOrder:{}}));IU.show(A);const l=s.get(A);Hh.focus(l)}}})(e),s=(e=>{const t=e.backstage.shared;return{open:(n,o)=>{const r=e=>{IU.hide(l),o(e)},s=Cg(Mx({name:"yes",text:"Yes",primary:!0,buttonType:_.some("primary"),align:"end",enabled:!0,icon:_.none()},"submit",e.backstage)),i=Mx({name:"no",text:"No",primary:!1,buttonType:_.some("secondary"),align:"end",enabled:!0,icon:_.none()},"cancel",e.backstage),a=RL(),A=ML((()=>r(!1)),t.providers),l=Ki(zL({lazySink:()=>t.getSink(),header:HL(a,A),body:PL(n,t.providers),footer:_.some(VL(jL([],[i,s.asSpec()]))),onEscape:()=>r(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[_s(Qw,(()=>r(!1))),_s(Iw,(()=>r(!0)))],eventOrder:{}}));IU.show(l);const c=s.get(l);Hh.focus(c)}}})(e),i=(e,n)=>uL.open(((e,o,r)=>{const s=o,i=((e,t,n)=>{const o=Zs("dialog"),r=e.internalDialog,s=qL(r.title,o,n),i=((e,t,n)=>{const o=DL(e,t,_.none(),n,!1);return IU.parts.body(o)})({body:r.body,initialData:r.initialData},o,n),a=YL(r.buttons),A=$L(a),l=rN({buttons:a},o,n),c=tN((()=>g),XL((()=>m),n.shared.providers,t),n.shared.getSink),u=(e=>{switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}})(r.size),d={id:o,header:s,body:i,footer:_.some(l),extraClasses:u,extraBehaviours:[],extraStyles:{}},m=JL(d,e,c,n),h={getId:v(o),getRoot:v(m),getBody:()=>IU.getBody(m),getFooter:()=>IU.getFooter(m),getFormWrapper:()=>{const e=IU.getBody(m);return sd.getCurrent(e).getOr(e)}},g=iN(h,t.redial,A);return{dialog:m,instanceApi:g}})({dataValidator:r,initialData:s,internalDialog:e},{redial:uL.redial,closeWindow:()=>{IU.hide(i.dialog),n(i.instanceApi)}},t);return IU.show(i.dialog),i.instanceApi.setData(s),i.instanceApi}),e),a=(e,r,s,i)=>uL.open(((e,a,A)=>{const l=Io(Do("data",A,a)),c=HA(),u=t.shared.header.isPositionedAtTop(),d=()=>c.on((e=>{wg.reposition(e),jF.refresh(e)})),m=((e,t,n,o)=>{const r=Zs("dialog"),s=Zs("dialog-label"),i=Zs("dialog-content"),a=e.internalDialog,A=Cg(((e,t,n,o)=>ww.sketch({dom:Hk('<div class="tox-dialog__header"></div>'),components:[WL(e,t,_.some(n),o),GL(),KL(o)],containerBehaviours:lA([BU.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>ta(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:a.title,draggable:!0},r,s,n.shared.providers)),l=Cg(((e,t,n,o,r)=>DL(e,t,_.some(n),o,r))({body:a.body,initialData:a.initialData},r,i,n,o)),c=YL(a.buttons),u=$L(c),d=Cg(((e,t,n)=>oN(e,t,n))({buttons:c},r,n)),m=tN((()=>g),{onBlock:e=>{Ik.block(h,((t,o)=>ZL(e.message,o,n.shared.providers)))},onUnblock:()=>{Ik.unblock(h)},onClose:()=>t.closeWindow()},n.shared.getSink),h=Ki({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:{role:"dialog","aria-labelledby":s,"aria-describedby":i}},eventOrder:{[Yr()]:[l_.name(),gA.name()],[$r()]:["execute-on-form"],[cs()]:["reflecting","execute-on-form"]},behaviours:lA([Ch.config({mode:"cyclic",onEscape:e=>(ws(e,Nw),_.some(!0)),useTabstopAt:e=>!jC(e)&&("button"!==De(e)||"disabled"!==ft(e,"disabled"))}),l_.config({channel:`${UL}-${r}`,updateState:(e,t)=>_.some(t),initialData:e}),Hh.config({}),Lh("execute-on-form",m.concat([Ds(Dr(),((e,t)=>{Ch.focusIn(e)}))])),Ik.config({getRoot:()=>_.some(h)}),Th.config({}),LC({})]),components:[A.asSpec(),l.asSpec(),d.asSpec()]}),g=iN({getId:v(r),getRoot:v(h),getFooter:()=>d.get(h),getBody:()=>l.get(h),getFormWrapper:()=>{const e=l.get(h);return sd.getCurrent(e).getOr(e)}},t.redial,u);return{dialog:h,instanceApi:g}})({dataValidator:A,initialData:l,internalDialog:e},{redial:uL.redial,closeWindow:()=>{c.on(wg.hide),n.off("ResizeEditor",d),c.clear(),s(m.instanceApi)}},t,i),h=Ki(wg.sketch({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...u?{}:{fireRepositionEventInstead:{}},inlineBehaviours:lA([Lh("window-manager-inline-events",[_s(ds(),((e,t)=>{ws(m.dialog,Qw)}))]),...uN(n,o,u)]),isExtraPart:(e,t)=>(e=>cw(e,".tox-alert-dialog")||cw(e,".tox-confirm-dialog"))(t)}));return c.set(h),wg.showWithin(h,Wi(m.dialog),{anchor:r},_.some(dt())),o&&u||(jF.refresh(h),n.on("ResizeEditor",d)),m.instanceApi.setData(l),Ch.focusIn(m.dialog),m.instanceApi}),e);return{open:(e,n,o)=>void 0!==n&&"toolbar"===n.inline?a(e,t.shared.anchors.inlineDialog(),o,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?a(e,t.shared.anchors.cursor(),o,n.ariaAttrs):i(e,o),openUrl:(e,o)=>((e,o)=>uL.openUrl((e=>{const r=cN(e,{closeWindow:()=>{IU.hide(r.dialog),o(r.instanceApi)}},n,t);return IU.show(r.dialog),r.instanceApi}),e))(e,o),alert:(e,t)=>{r.open(e,(()=>{t()}))},close:e=>{e.close()},confirm:(e,t)=>{s.open(e,(e=>{t(e)}))}}};E.add("silver",(e=>{(e=>{jg(e),(e=>{const t=e.options.register;var n;t("color_map",{processor:e=>p(e,s)?{value:Lv(e),valid:!0}:{valid:!1,message:"Must be an array of strings."},default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_cols",{processor:"number",default:(n=Iv(e).length,Math.max(5,Math.ceil(Math.sqrt(n))))}),t("custom_colors",{processor:"boolean",default:!0})})(e),(e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:s(e)||p(e,s)?{value:fO(e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(e)})(e);const{getUiMothership:t,backstage:n,renderUI:o}=LU(e);lw(e,n.shared);const r=dN({editor:e,backstage:n});return{renderUI:o,getWindowManagerImpl:v(r),getNotificationManagerImpl:()=>((e,t,n)=>{const o=t.backstage.shared,r=()=>{const t=Vn(Ne(e.getContentAreaContainer())),n=zn(),o=Qa(n.x,t.x,t.right),r=Qa(n.y,t.y,t.bottom),s=Math.max(t.right,n.right),i=Math.max(t.bottom,n.bottom);return _.some(Pn(o,r,s-o,i-r))};return{open:(t,s)=>{const i=()=>{s(),wg.hide(A)},a=Ki(Qg.sketch({text:t.text,level:Q(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:_.from(t.icon),closeButton:t.closeButton,onAction:i,iconProvider:o.providers.icons,translationProvider:o.providers.translate})),A=Ki(wg.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:o.getSink,fireDismissalEventInstead:{},...o.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));n.add(A),t.timeout>0&&yg.setEditorTimeout(e,(()=>{i()}),t.timeout);const l={close:i,reposition:()=>{const t=Wi(a),n={maxHeightFunction:qA()},s=e.notificationManager.getNotifications();if(s[0]===l){const e={...o.anchors.banner(),overrides:n};wg.showWithinBounds(A,t,{anchor:e},r)}else N(s,l).each((e=>{const o=s[e-1].getEl(),i={type:"node",root:dt(),node:_.some(Ne(o)),overrides:n,layouts:{onRtl:()=>[Za],onLtr:()=>[Za]}};wg.showWithinBounds(A,t,{anchor:i},r)}))},text:e=>{Qg.updateText(a,e)},settings:t,getEl:()=>a.element.dom,progressBar:{value:e=>{Qg.updateProgress(a,e)}}};return l},close:e=>{e.close()},getArgs:e=>e.settings}})(e,{backstage:n},t())}}))}()},5199:function(e){(function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)},o=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},r=function(e,t){return s((function(n,o){return e.eq(t(n),t(o))}))},s=function(e){return{eq:e}},i=s((function(e,t){return e===t})),a=i,A=function(e){return s((function(t,n){if(t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e.eq(t[r],n[r]))return!1;return!0}))},l=function(e,t){return r(A(e),(function(e){return o(e,t)}))},c=function(e){return s((function(t,n){var o=Object.keys(t),r=Object.keys(n);if(!l(a).eq(o,r))return!1;for(var s=o.length,i=0;i<s;i++){var A=o[i];if(!e.eq(t[A],n[A]))return!1}return!0}))},u=s((function(e,o){if(e===o)return!0;var r=t(e),s=t(o);return r===s&&(n(r)?e===o:"array"===r?A(u).eq(e,o):"object"===r&&c(u).eq(e,o))}));const d=Object.getPrototypeOf,m=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},h=e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&m(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t},g=e=>t=>h(t)===e,p=e=>t=>typeof t===e,f=e=>t=>e===t,b=(e,t)=>w(e)&&m(e,t,((e,t)=>d(e)===t)),v=g("string"),w=g("object"),y=e=>b(e,Object),B=g("array"),C=f(null),x=p("boolean"),S=f(void 0),F=e=>null===e||void 0===e,k=e=>!F(e),E=p("function"),_=p("number"),O=(e,t)=>{if(B(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},U=()=>{},T=(e,t)=>(...n)=>e(t.apply(null,n)),L=(e,t)=>n=>e(t(n)),N=e=>()=>e,Q=e=>e,D=(e,t)=>e===t;function I(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const H=e=>t=>!e(t),M=e=>()=>{throw new Error(e)},R=e=>e(),P=e=>{e()},V=N(!1),j=N(!0);class z{constructor(e,t){this.tag=e,this.value=t}static some(e){return new z(!0,e)}static none(){return z.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?z.some(e(this.value)):z.none()}bind(e){return this.tag?e(this.value):z.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:z.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return k(e)?z.some(e):z.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}z.singletonNone=new z(!1);const K=Array.prototype.slice,W=Array.prototype.indexOf,G=Array.prototype.push,q=(e,t)=>W.call(e,t),Z=(e,t)=>{const n=q(e,t);return-1===n?z.none():z.some(n)},X=(e,t)=>q(e,t)>-1,J=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return!0}return!1},Y=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},$=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},ee=(e,t)=>{for(let n=e.length-1;n>=0;n--){const o=e[n];t(o,n)}},te=(e,t)=>{const n=[],o=[];for(let r=0,s=e.length;r<s;r++){const s=e[r],i=t(s,r)?n:o;i.push(s)}return{pass:n,fail:o}},ne=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},oe=(e,t,n)=>(ee(e,((e,o)=>{n=t(n,e,o)})),n),re=(e,t,n)=>($(e,((e,o)=>{n=t(n,e,o)})),n),se=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return z.some(r);if(n(r,o))break}return z.none()},ie=(e,t)=>se(e,t,V),ae=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return z.some(n)}return z.none()},Ae=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!B(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);G.apply(t,e[n])}return t},le=(e,t)=>Ae(Y(e,t)),ce=(e,t)=>{for(let n=0,o=e.length;n<o;++n){const o=e[n];if(!0!==t(o,n))return!1}return!0},ue=e=>{const t=K.call(e,0);return t.reverse(),t},de=(e,t)=>ne(e,(e=>!X(t,e))),me=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},he=(e,t)=>{const n=K.call(e,0);return n.sort(t),n},ge=(e,t)=>t>=0&&t<e.length?z.some(e[t]):z.none(),pe=e=>ge(e,0),fe=e=>ge(e,e.length-1),be=E(Array.from)?Array.from:e=>K.call(e),ve=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return z.none()},we=(e,t)=>{const n=[],o=E(t)?e=>J(n,(n=>t(n,e))):e=>X(n,e);for(let r=0,s=e.length;r<s;r++){const t=e[r];o(t)||n.push(t)}return n},ye=Object.keys,Be=Object.hasOwnProperty,Ce=(e,t)=>{const n=ye(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],s=e[r];t(s,r)}},xe=(e,t)=>Se(e,((e,n)=>({k:n,v:t(e,n)}))),Se=(e,t)=>{const n={};return Ce(e,((e,o)=>{const r=t(e,o);n[r.k]=r.v})),n},Fe=e=>(t,n)=>{e[n]=t},ke=(e,t,n,o)=>{const r={};return Ce(e,((e,r)=>{(t(e,r)?n:o)(e,r)})),r},Ee=(e,t)=>{const n={},o={};return ke(e,t,Fe(n),Fe(o)),{t:n,f:o}},_e=(e,t)=>{const n={};return ke(e,t,Fe(n),U),n},Oe=(e,t)=>{const n=[];return Ce(e,((e,o)=>{n.push(t(e,o))})),n},Ue=e=>Oe(e,Q),Te=(e,t)=>Le(e,t)?z.from(e[t]):z.none(),Le=(e,t)=>Be.call(e,t),Ne=(e,t)=>Le(e,t)&&void 0!==e[t]&&null!==e[t],Qe=(e,t,n=u)=>c(n).eq(e,t),De=e=>{const t={};return $(e,(e=>{t[e]={}})),ye(t)},Ie=Array.isArray,He=e=>{if(Ie(e))return e;{const t=[];for(let n=0,o=e.length;n<o;n++)t[n]=e[n];return t}},Me=(e,t,n)=>{let o,r;if(!e)return!1;if(n=n||e,void 0!==e.length){for(o=0,r=e.length;o<r;o++)if(!1===t.call(n,e[o],o,e))return!1}else for(o in e)if(Le(e,o)&&!1===t.call(n,e[o],o,e))return!1;return!0},Re=(e,t)=>{const n=[];return Me(e,((o,r)=>{n.push(t(o,r,e))})),n},Pe=(e,t)=>{const n=[];return Me(e,((o,r)=>{t&&!t(o,r,e)||n.push(o)})),n},Ve=(e,t)=>{if(e)for(let n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},je=(e,t,n,o)=>{let r=S(n)?e[0]:n;for(let s=0;s<e.length;s++)r=t.call(o,r,e[s],s);return r},ze=(e,t,n)=>{let o,r;for(o=0,r=e.length;o<r;o++)if(t.call(n,e[o],o,e))return o;return-1},Ke=e=>e[e.length-1],We=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Ge=(e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!r,i=e.isiOS()||e.isAndroid(),a=i||o("(pointer:coarse)"),A=r||!s&&i&&o("(min-device-width:768px)"),l=s||i&&!A,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!l&&!A&&!c;return{isiPad:N(r),isiPhone:N(s),isTablet:N(A),isPhone:N(l),isTouch:N(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:N(c),isDesktop:N(u)}},qe=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}},Ze=(e,t)=>{const n=qe(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Ye(o(1),o(2))},Xe=(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Je():Ze(e,n)},Je=()=>Ye(0,0),Ye=(e,t)=>({major:e,minor:t}),$e={nu:Ye,detect:Xe,unknown:Je},et=(e,t)=>ve(t.brands,(t=>{const n=t.brand.toLowerCase();return ie(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:$e.nu(parseInt(t.version,10),0)})))})),tt=(e,t)=>{const n=String(t).toLowerCase();return ie(e,(e=>e.search(n)))},nt=(e,t)=>tt(e,t).map((e=>{const n=$e.detect(e.versionRegexes,t);return{current:e.name,version:n}})),ot=(e,t)=>tt(e,t).map((e=>{const n=$e.detect(e.versionRegexes,t);return{current:e.name,version:n}})),rt=(e,t)=>e.substring(t),st=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,it=(e,t)=>At(e,t)?rt(e,t.length):e,at=(e,t)=>-1!==e.indexOf(t),At=(e,t)=>st(e,t,0),lt=(e,t)=>st(e,t,e.length-t.length),ct=e=>t=>t.replace(e,""),ut=ct(/^\s+|\s+$/g),dt=ct(/^\s+/g),mt=ct(/\s+$/g),ht=e=>e.length>0,gt=e=>!ht(e),pt=(e,t)=>t<=0?"":new Array(t+1).join(e),ft=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?z.none():z.some(n)},bt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,vt=e=>t=>at(t,e),wt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>at(e,"edge/")&&at(e,"chrome")&&at(e,"safari")&&at(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,bt],search:e=>at(e,"chrome")&&!at(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>at(e,"msie")||at(e,"trident")},{name:"Opera",versionRegexes:[bt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:vt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:vt("firefox")},{name:"Safari",versionRegexes:[bt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(at(e,"safari")||at(e,"mobile/"))&&at(e,"applewebkit")}],yt=[{name:"Windows",search:vt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>at(e,"iphone")||at(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:vt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:vt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:vt("linux"),versionRegexes:[]},{name:"Solaris",search:vt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:vt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:vt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Bt={browsers:N(wt),oses:N(yt)},Ct="Edge",xt="Chromium",St="IE",Ft="Opera",kt="Firefox",Et="Safari",_t=()=>Ot({current:void 0,version:$e.unknown()}),Ot=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(Ct),isChromium:o(xt),isIE:o(St),isOpera:o(Ft),isFirefox:o(kt),isSafari:o(Et)}},Ut={unknown:_t,nu:Ot,edge:N(Ct),chromium:N(xt),ie:N(St),opera:N(Ft),firefox:N(kt),safari:N(Et)},Tt="Windows",Lt="iOS",Nt="Android",Qt="Linux",Dt="macOS",It="Solaris",Ht="FreeBSD",Mt="ChromeOS",Rt=()=>Pt({current:void 0,version:$e.unknown()}),Pt=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(Tt),isiOS:o(Lt),isAndroid:o(Nt),isMacOS:o(Dt),isLinux:o(Qt),isSolaris:o(It),isFreeBSD:o(Ht),isChromeOS:o(Mt)}},Vt={unknown:Rt,nu:Pt,windows:N(Tt),ios:N(Lt),android:N(Nt),linux:N(Qt),macos:N(Dt),solaris:N(It),freebsd:N(Ht),chromeos:N(Mt)},jt=(e,t,n)=>{const o=Bt.browsers(),r=Bt.oses(),s=t.bind((e=>et(o,e))).orThunk((()=>nt(o,e))).fold(Ut.unknown,Ut.nu),i=ot(r,e).fold(Vt.unknown,Vt.nu),a=Ge(i,s,e,n);return{browser:s,os:i,deviceType:a}},zt={detect:jt},Kt=e=>window.matchMedia(e).matches;let Wt=We((()=>zt.detect(navigator.userAgent,z.from(navigator.userAgentData),Kt)));const Gt=()=>Wt(),qt=navigator.userAgent,Zt=Gt(),Xt=Zt.browser,Jt=Zt.os,Yt=Zt.deviceType,$t=-1!==qt.indexOf("Windows Phone"),en={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Xt.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Xt.isIE(),windowsPhone:$t,browser:{current:Xt.current,version:Xt.version,isChromium:Xt.isChromium,isEdge:Xt.isEdge,isFirefox:Xt.isFirefox,isIE:Xt.isIE,isOpera:Xt.isOpera,isSafari:Xt.isSafari},os:{current:Jt.current,version:Jt.version,isAndroid:Jt.isAndroid,isChromeOS:Jt.isChromeOS,isFreeBSD:Jt.isFreeBSD,isiOS:Jt.isiOS,isLinux:Jt.isLinux,isMacOS:Jt.isMacOS,isSolaris:Jt.isSolaris,isWindows:Jt.isWindows},deviceType:{isDesktop:Yt.isDesktop,isiPad:Yt.isiPad,isiPhone:Yt.isiPhone,isPhone:Yt.isPhone,isTablet:Yt.isTablet,isTouch:Yt.isTouch,isWebView:Yt.isWebView}},tn=/^\s*|\s*$/g,nn=e=>null===e||void 0===e?"":(""+e).replace(tn,""),on=(e,t)=>t?!("array"!==t||!Ie(e))||typeof e===t:void 0!==e,rn=(e,t,n)=>{let o;e=e||[],t=t||",","string"===typeof e&&(e=e.split(t)),n=n||{},o=e.length;while(o--)n[e[o]]={};return n},sn=Le,an=(e,...t)=>{for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)if(Le(o,t)){const n=o[t];void 0!==n&&(e[t]=n)}}return e},An=function(e,t,n,o){o=o||this,e&&(n&&(e=e[n]),Me(e,((e,r)=>{if(!1===t.call(o,e,r,n))return!1;An(e,t,n,o)})))},ln=(e,t)=>{let n,o;for(t=t||window,e=e.split("."),n=0,o=e.length;n<o;n++)if(t=t[e[n]],!t)break;return t},cn=(e,t)=>!e||on(e,"array")?e:Re(e.split(t||","),nn),un=e=>{const t=en.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e},dn={trim:nn,isArray:Ie,is:on,toArray:He,makeMap:rn,each:Me,map:Re,grep:Pe,inArray:Ve,hasOwn:sn,extend:an,walk:An,resolve:ln,explode:cn,_addCacheSuffix:un},mn=(e,t,n=D)=>e.exists((e=>n(e,t))),hn=e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t},gn=(e,t,n)=>e.isSome()&&t.isSome()?z.some(n(e.getOrDie(),t.getOrDie())):z.none(),pn=(e,t,n,o)=>e.isSome()&&t.isSome()&&n.isSome()?z.some(o(e.getOrDie(),t.getOrDie(),n.getOrDie())):z.none(),fn=(e,t)=>e?z.some(t):z.none();"undefined"!==typeof window?window:Function("return this;")();const bn=8,vn=9,wn=11,yn=1,Bn=3,Cn=e=>{const t=e.dom.nodeName;return t.toLowerCase()},xn=e=>e.dom.nodeType,Sn=e=>t=>xn(t)===e,Fn=e=>xn(e)===bn||"#comment"===Cn(e),kn=Sn(yn),En=Sn(Bn),_n=Sn(vn),On=Sn(wn),Un=e=>t=>kn(t)&&Cn(t)===e,Tn=(e,t,n)=>{if(!(v(n)||x(n)||_(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Ln=(e,t,n)=>{Tn(e.dom,t,n)},Nn=(e,t)=>{const n=e.dom;Ce(t,((e,t)=>{Tn(n,t,e)}))},Qn=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Dn=(e,t)=>z.from(Qn(e,t)),In=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Hn=(e,t)=>{e.dom.removeAttribute(t)},Mn=e=>{const t=e.dom.attributes;return void 0===t||null===t||0===t.length},Rn=e=>re(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Pn=(e,t)=>{const n=Qn(e,t);return void 0===n||""===n?[]:n.split(" ")},Vn=(e,t,n)=>{const o=Pn(e,t),r=o.concat([n]);return Ln(e,t,r.join(" ")),!0},jn=(e,t,n)=>{const o=ne(Pn(e,t),(e=>e!==n));return o.length>0?Ln(e,t,o.join(" ")):Hn(e,t),!1},zn=e=>void 0!==e.dom.classList,Kn=e=>Pn(e,"class"),Wn=(e,t)=>Vn(e,"class",t),Gn=(e,t)=>jn(e,"class",t),qn=(e,t)=>X(Kn(e),t)?Gn(e,t):Wn(e,t),Zn=(e,t)=>{zn(e)?e.dom.classList.add(t):Wn(e,t)},Xn=e=>{const t=zn(e)?e.dom.classList:Kn(e);0===t.length&&Hn(e,"class")},Jn=(e,t)=>{if(zn(e)){const n=e.dom.classList;n.remove(t)}else Gn(e,t);Xn(e)},Yn=(e,t)=>{const n=zn(e)?e.dom.classList.toggle(t):qn(e,t);return Xn(e),n},$n=(e,t)=>zn(e)&&e.dom.classList.contains(t),eo=e=>void 0!==e.style&&E(e.style.getPropertyValue),to=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return ro(o.childNodes[0])},no=(e,t)=>{const n=t||document,o=n.createElement(e);return ro(o)},oo=(e,t)=>{const n=t||document,o=n.createTextNode(e);return ro(o)},ro=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},so=(e,t,n)=>z.from(e.dom.elementFromPoint(t,n)).map(ro),io={fromHtml:to,fromTag:no,fromText:oo,fromDom:ro,fromPoint:so},ao=(e,t)=>{const n=[],o=e=>(n.push(e),t(e));let r=t(e);do{r=r.bind(o)}while(r.isSome());return n},Ao=(e,t)=>{const n=e.dom;if(n.nodeType!==yn)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},lo=e=>e.nodeType!==yn&&e.nodeType!==vn&&e.nodeType!==wn||0===e.childElementCount,co=(e,t)=>{const n=void 0===t?document:t.dom;return lo(n)?[]:Y(n.querySelectorAll(e),io.fromDom)},uo=(e,t)=>{const n=void 0===t?document:t.dom;return lo(n)?z.none():z.from(n.querySelector(e)).map(io.fromDom)},mo=(e,t)=>e.dom===t.dom,ho=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},go=e=>io.fromDom(e.dom.ownerDocument),po=e=>_n(e)?e:go(e),fo=e=>io.fromDom(po(e).dom.documentElement),bo=e=>io.fromDom(po(e).dom.defaultView),vo=e=>z.from(e.dom.parentNode).map(io.fromDom),wo=e=>z.from(e.dom.parentElement).map(io.fromDom),yo=(e,t)=>{const n=E(t)?t:V;let o=e.dom;const r=[];while(null!==o.parentNode&&void 0!==o.parentNode){const e=o.parentNode,t=io.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},Bo=e=>{const t=t=>ne(t,(t=>!mo(e,t)));return vo(e).map(ko).map(t).getOr([])},Co=e=>z.from(e.dom.previousSibling).map(io.fromDom),xo=e=>z.from(e.dom.nextSibling).map(io.fromDom),So=e=>ue(ao(e,Co)),Fo=e=>ao(e,xo),ko=e=>Y(e.dom.childNodes,io.fromDom),Eo=(e,t)=>{const n=e.dom.childNodes;return z.from(n[t]).map(io.fromDom)},_o=e=>Eo(e,0),Oo=e=>Eo(e,e.dom.childNodes.length-1),Uo=e=>e.dom.childNodes.length,To=e=>{const t=e.dom.head;if(null===t||void 0===t)throw new Error("Head is not available yet");return io.fromDom(t)},Lo=e=>On(e)&&k(e.dom.host),No=E(Element.prototype.attachShadow)&&E(Node.prototype.getRootNode),Qo=N(No),Do=No?e=>io.fromDom(e.dom.getRootNode()):po,Io=e=>Lo(e)?e:To(po(e)),Ho=e=>{const t=Do(e);return Lo(t)?z.some(t):z.none()},Mo=e=>io.fromDom(e.dom.host),Ro=e=>{if(Qo()&&k(e.target)){const t=io.fromDom(e.target);if(kn(t)&&Po(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return pe(t)}}return z.from(e.target)},Po=e=>k(e.dom.shadowRoot),Vo=e=>{const t=En(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return Ho(io.fromDom(t)).fold((()=>n.body.contains(t)),L(Vo,Mo))},jo=(e,t,n)=>{if(!v(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);eo(e)&&e.style.setProperty(t,n)},zo=(e,t)=>{eo(e)&&e.style.removeProperty(t)},Ko=(e,t,n)=>{const o=e.dom;jo(o,t,n)},Wo=(e,t)=>{const n=e.dom;Ce(t,((e,t)=>{jo(n,t,e)}))},Go=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n),r=o.getPropertyValue(t);return""!==r||Vo(e)?r:qo(n,t)},qo=(e,t)=>eo(e)?e.style.getPropertyValue(t):"",Zo=(e,t)=>{const n=e.dom,o=qo(n,t);return z.from(o).filter((e=>e.length>0))},Xo=e=>{const t={},n=e.dom;if(eo(n))for(let o=0;o<n.style.length;o++){const e=n.style.item(o);t[e]=n.style[e]}return t},Jo=(e,t)=>{const n=e.dom;zo(n,t),mn(Dn(e,"style").map(ut),"")&&Hn(e,"style")},Yo=e=>e.dom.offsetWidth,$o=(e,t)=>{const n=vo(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},er=(e,t)=>{const n=xo(e);n.fold((()=>{const n=vo(e);n.each((e=>{nr(e,t)}))}),(e=>{$o(e,t)}))},tr=(e,t)=>{const n=_o(e);n.fold((()=>{nr(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},nr=(e,t)=>{e.dom.appendChild(t.dom)},or=(e,t)=>{$o(e,t),nr(t,e)},rr=(e,t)=>{$(t,((n,o)=>{const r=0===o?e:t[o-1];er(r,n)}))},sr=(e,t)=>{$(t,(t=>{nr(e,t)}))},ir=e=>{e.dom.textContent="",$(ko(e),(e=>{ar(e)}))},ar=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Ar=e=>{const t=ko(e);t.length>0&&rr(e,t),ar(e)},lr=(e,t)=>{const n=t||document,o=n.createElement("div");return o.innerHTML=e,ko(io.fromDom(o))},cr=e=>Y(e,io.fromDom),ur=e=>e.dom.innerHTML,dr=(e,t)=>{const n=go(e),o=n.dom,r=io.fromDom(o.createDocumentFragment()),s=lr(t,o);sr(r,s),ir(e),nr(e,r)},mr=e=>{const t=io.fromTag("div"),n=io.fromDom(e.dom.cloneNode(!0));return nr(t,n),ur(t)},hr=(e,t,n,o,r,s,i)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:s,raw:i}),gr=e=>{const t=io.fromDom(Ro(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=T(o,n);return hr(t,e.clientX,e.clientY,n,o,r,e)},pr=(e,t)=>n=>{e(n)&&t(gr(n))},fr=(e,t,n,o,r)=>{const s=pr(n,o);return e.dom.addEventListener(t,s,r),{unbind:I(vr,e,t,s,r)}},br=(e,t,n,o)=>fr(e,t,n,o,!1),vr=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},wr=(e,t)=>{const n=(n,o)=>wr(e+n,t+o);return{left:e,top:t,translate:n}},yr=wr,Br=e=>{const t=e.getBoundingClientRect();return yr(t.left,t.top)},Cr=(e,t)=>void 0!==e?e:void 0!==t?t:0,xr=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return yr(n.offsetLeft,n.offsetTop);const s=Cr(null===o||void 0===o?void 0:o.pageYOffset,r.scrollTop),i=Cr(null===o||void 0===o?void 0:o.pageXOffset,r.scrollLeft),a=Cr(r.clientTop,n.clientTop),A=Cr(r.clientLeft,n.clientLeft);return Sr(e).translate(i-A,s-a)},Sr=e=>{const t=e.dom,n=t.ownerDocument,o=n.body;return o===t?yr(o.offsetLeft,o.offsetTop):Vo(e)?Br(t):yr(0,0)},Fr=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return yr(n,o)},kr=(e,t,n)=>{const o=void 0!==n?n.dom:document,r=o.defaultView;r&&r.scrollTo(e,t)},Er=(e,t)=>{const n=Gt().browser.isSafari();n&&E(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},_r=e=>{const t=void 0===e?window:e;return Gt().browser.isFirefox()?z.none():z.from(t.visualViewport)},Or=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Ur=e=>{const t=void 0===e?window:e,n=t.document,o=Fr(io.fromDom(n));return _r(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Or(o.left,o.top,n,r)}),(e=>Or(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},Tr=e=>t=>!!t&&t.nodeType===e,Lr=e=>!!e&&!Object.getPrototypeOf(e),Nr=Tr(1),Qr=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return X(t,n)}return!1}},Dr=(e,t)=>{const n=t.toLowerCase().split(" ");return t=>{if(Nr(t))for(let o=0;o<n.length;o++){const r=t.ownerDocument.defaultView.getComputedStyle(t,null),s=r?r.getPropertyValue(e):null;if(s===n[o])return!0}return!1}},Ir=e=>t=>Nr(t)&&t.hasAttribute(e),Hr=(e,t)=>n=>Nr(n)&&n.getAttribute(e)===t,Mr=e=>Nr(e)&&e.hasAttribute("data-mce-bogus"),Rr=e=>Nr(e)&&"all"===e.getAttribute("data-mce-bogus"),Pr=e=>Nr(e)&&"TABLE"===e.tagName,Vr=e=>t=>{if(Nr(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},jr=Qr(["textarea","input"]),zr=Tr(3),Kr=Tr(4),Wr=Tr(7),Gr=Tr(8),qr=Tr(9),Zr=Tr(11),Xr=Qr(["br"]),Jr=Qr(["img"]),Yr=Vr("true"),$r=Vr("false"),es=Qr(["td","th"]),ts=Qr(["video","audio","object","embed"]),ns=Gt().browser,os=e=>ie(e,kn),rs=e=>ns.isFirefox()&&"table"===Cn(e)?os(ko(e)).filter((e=>"caption"===Cn(e))).bind((e=>os(Fo(e)).map((t=>{const n=t.dom.offsetTop,o=e.dom.offsetTop,r=e.dom.offsetHeight;return n<=o?-r:0})))).getOr(0):0,ss=(e,t)=>e.children&&X(e.children,t),is=(e,t,n)=>{let o=0,r=0;const s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Go(io.fromDom(e),"position")){const n=t.getBoundingClientRect();return o=n.left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,r=n.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop,{x:o,y:r}}let i=t;while(i&&i!==n&&i.nodeType&&!ss(i,n)){const e=i;o+=e.offsetLeft||0,r+=e.offsetTop||0,i=e.offsetParent}i=t.parentNode;while(i&&i!==n&&i.nodeType&&!ss(i,n))o-=i.scrollLeft||0,r-=i.scrollTop||0,i=i.parentNode;r+=rs(io.fromDom(t))}return{x:o,y:r}};var as=(e,t,n,o,r)=>e(n,o)?z.some(n):E(r)&&r(n)?z.none():t(n,o,r);const As=(e,t,n)=>{let o=e.dom;const r=E(n)?n:V;while(o.parentNode){o=o.parentNode;const e=io.fromDom(o);if(t(e))return z.some(e);if(r(e))break}return z.none()},ls=(e,t,n)=>{const o=(e,t)=>t(e);return as(o,As,e,t,n)},cs=(e,t)=>{const n=e.dom;return n.parentNode?us(io.fromDom(n.parentNode),(n=>!mo(e,n)&&t(n))):z.none()},us=(e,t)=>{const n=e=>t(io.fromDom(e)),o=ie(e.dom.childNodes,n);return o.map(io.fromDom)},ds=(e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=io.fromDom(e.childNodes[o]);if(t(r))return z.some(r);const s=n(e.childNodes[o]);if(s.isSome())return s}return z.none()};return n(e.dom)},ms=(e,t,n)=>As(e,(e=>Ao(e,t)),n),hs=(e,t)=>uo(t,e),gs=(e,t,n)=>{const o=(e,t)=>Ao(e,t);return as(o,ms,e,t,n)},ps=(e,t={})=>{let n=0;const o={},r=io.fromDom(e),s=po(r),i=t.maxLoadTime||5e3,a=e=>{t.referrerPolicy=e},A=e=>{nr(Io(r),e)},l=e=>{const t=Io(r);hs(t,"#"+e).each(ar)},c=e=>Te(o,e).getOrThunk((()=>({id:"mce-u"+n++,passed:[],failed:[],count:0}))),u=n=>new Promise(((r,a)=>{let l;const u=dn._addCacheSuffix(n),d=c(u);o[u]=d,d.count++;const m=(e,t)=>{$(e,P),d.status=t,d.passed=[],d.failed=[],l&&(l.onload=null,l.onerror=null,l=null)},h=()=>m(d.passed,2),g=()=>m(d.failed,3),p=(e,t)=>{e()||(Date.now()-v<i?setTimeout(t):g())},f=()=>{p((()=>{const t=e.styleSheets;let n=t.length;while(n--){const e=t[n],o=e.ownerNode;if(o&&o.id===l.id)return h(),!0}return!1}),f)};if(r&&d.passed.push(r),a&&d.failed.push(a),1===d.status)return;if(2===d.status)return void h();if(3===d.status)return void g();d.status=1;const b=io.fromTag("link",s.dom);Nn(b,{rel:"stylesheet",type:"text/css",id:d.id});const v=Date.now();t.contentCssCors&&Ln(b,"crossOrigin","anonymous"),t.referrerPolicy&&Ln(b,"referrerpolicy",t.referrerPolicy),l=b.dom,l.onload=f,l.onerror=g,A(b),Ln(b,"href",u)})),d=e=>{const t=Promise.allSettled(Y(e,(e=>u(e).then(N(e)))));return t.then((e=>{const t=te(e,(e=>"fulfilled"===e.status));return t.fail.length>0?Promise.reject(Y(t.fail,(e=>e.reason))):Y(t.pass,(e=>e.value))}))},m=e=>{const t=dn._addCacheSuffix(e);Te(o,t).each((e=>{const n=--e.count;0===n&&(delete o[t],l(e.id))}))},h=e=>{$(e,(e=>{m(e)}))};return{load:u,loadAll:d,unload:m,unloadAll:h,_setReferrerPolicy:a}},fs=()=>{const e=new WeakMap,t=(t,n)=>{const o=Do(t),r=o.dom;return z.from(e.get(r)).getOrThunk((()=>{const t=ps(r,n);return e.set(r,t),t}))};return{forElement:t}},bs=fs();class vs{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,o){let r,s;if(e){if(!o&&e[t])return e[t];if(e!==this.rootNode){if(r=e[n],r)return r;for(s=e.parentNode;s&&s!==this.rootNode;s=s.parentNode)if(r=s[n],r)return r}}}findPreviousNode(e,t){let n,o,r;if(e){if(n=e.previousSibling,this.rootNode&&n===this.rootNode)return;if(n){if(!t)for(r=n.lastChild;r;r=r.lastChild)if(!r.lastChild)return r;return n}if(o=e.parentNode,o&&o!==this.rootNode)return o}}}const ws=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],ys=["td","th"],Bs=["thead","tbody","tfoot"],Cs=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],xs=["h1","h2","h3","h4","h5","h6"],Ss=["li","dd","dt"],Fs=["ul","ol","dl"],ks=["pre","script","textarea","style"],Es=["pre"].concat(xs),_s=e=>{let t;return n=>(t=t||me(e,j),Le(t,Cn(n)))},Os=_s(ws),Us=e=>"table"===Cn(e),Ts=e=>kn(e)&&!Os(e),Ls=e=>kn(e)&&"br"===Cn(e),Ns=_s(Cs),Qs=_s(Fs),Ds=_s(Ss),Is=_s(Bs),Hs=_s(ys),Ms=_s(ks),Rs=_s(Es),Ps=e=>Rs(e)||Ts(e),Vs=(e,t,n)=>ms(e,t,n).isSome(),js="\ufeff",zs=" ",Ks=e=>e===js,Ws=e=>e.replace(/\uFEFF/g,""),Gs=(e,t)=>{let n=[];return $(ko(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(Gs(e,t))})),n},qs=(e,t)=>co(t,e),Zs=(e,t)=>{const n=n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return o(n).getOr("")},o=t=>e(t)?z.from(t.dom.nodeValue):z.none(),r=(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o};return{get:n,getOption:o,set:r}},Xs=Zs(En,"text"),Js=e=>Xs.get(e),Ys=e=>Xs.getOption(e),$s=e=>{const t=[];let n=e.dom;while(n)t.push(io.fromDom(n)),n=n.lastChild;return t},ei=e=>{const t=qs(e,"br"),n=ne($s(e).slice(-1),Ls);t.length===n.length&&$(n,ar)},ti=()=>{const e=io.fromTag("br");return Ln(e,"data-mce-bogus","1"),e},ni=e=>{ir(e),nr(e,ti())},oi=e=>{Oo(e).each((t=>{Co(t).each((n=>{Os(e)&&Ls(t)&&Os(n)&&ar(t)}))}))},ri=js,si=Ks,ii=Ws,ai=Nr,Ai=zr,li=e=>(Ai(e)&&(e=e.parentNode),ai(e)&&e.hasAttribute("data-mce-caret")),ci=e=>Ai(e)&&si(e.data),ui=e=>li(e)||ci(e),di=e=>e.firstChild!==e.lastChild||!Xr(e.firstChild),mi=(e,t)=>{const n=e.ownerDocument,o=n.createTextNode(ri),r=e.parentNode;if(t){const t=e.previousSibling;if(Ai(t)){if(ui(t))return t;if(bi(t))return t.splitText(t.data.length-1)}r.insertBefore(o,e)}else{const t=e.nextSibling;if(Ai(t)){if(ui(t))return t;if(fi(t))return t.splitText(1),t}e.nextSibling?r.insertBefore(o,e.nextSibling):r.appendChild(o)}return o},hi=e=>{const t=e.container();return!!zr(t)&&(t.data.charAt(e.offset())===ri||e.isAtStart()&&ci(t.previousSibling))},gi=e=>{const t=e.container();return!!zr(t)&&(t.data.charAt(e.offset()-1)===ri||e.isAtEnd()&&ci(t.nextSibling))},pi=(e,t,n)=>{const o=t.ownerDocument,r=o.createElement(e);r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(ti().dom);const s=t.parentNode;return n?s.insertBefore(r,t):t.nextSibling?s.insertBefore(r,t.nextSibling):s.appendChild(r),r},fi=e=>Ai(e)&&e.data[0]===ri,bi=e=>Ai(e)&&e.data[e.data.length-1]===ri,vi=e=>{const t=e.getElementsByTagName("br"),n=t[t.length-1];Mr(n)&&n.parentNode.removeChild(n)},wi=e=>e&&e.hasAttribute("data-mce-caret")?(vi(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,yi=e=>li(e.startContainer),Bi=Yr,Ci=$r,xi=Xr,Si=zr,Fi=Qr(["script","style","textarea"]),ki=Qr(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ei=Qr(["table"]),_i=ui,Oi=e=>!_i(e)&&(Si(e)?!Fi(e.parentNode):ki(e)||xi(e)||Ei(e)||Ti(e)),Ui=e=>Nr(e)&&"true"===e.getAttribute("unselectable"),Ti=e=>!1===Ui(e)&&Ci(e),Li=(e,t)=>{for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Ti(e))return!1;if(Bi(e))return!0}return!0},Ni=e=>!!Ti(e)&&!0!==re(be(e.getElementsByTagName("*")),((e,t)=>e||Bi(t)),!1),Qi=e=>ki(e)||Ni(e),Di=(e,t)=>Oi(e)&&Li(e,t),Ii=/^[ \t\r\n]*$/,Hi=e=>Ii.test(e),Mi=e=>-1!==" \f\t\v".indexOf(e),Ri=e=>"\n"===e||"\r"===e,Pi=(e,t)=>t<e.length&&t>=0&&Ri(e[t]),Vi=(e,t=4,n=!0,o=!0)=>{const r=pt(" ",t),s=e.replace(/\t/g,r),i=re(s,((e,t)=>Mi(t)||t===zs?e.pcIsSpace||""===e.str&&n||e.str.length===s.length-1&&o||Pi(s,e.str.length+1)?{pcIsSpace:!1,str:e.str+zs}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:Ri(t),str:e.str+t}),{pcIsSpace:!1,str:""});return i.str},ji=(e,t)=>{const n=io.fromDom(t),o=io.fromDom(e);return Vs(o,"pre,code",I(mo,n))},zi=(e,t)=>zr(e)&&Hi(e.data)&&!1===ji(e,t),Ki=e=>Nr(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Wi=(e,t)=>Oi(e)&&!1===zi(e,t)||Ki(e)||Gi(e),Gi=Ir("data-mce-bookmark"),qi=Ir("data-mce-bogus"),Zi=Hr("data-mce-bogus","all"),Xi=(e,t)=>{let n=0;if(Wi(e,e))return!1;{let o=e.firstChild;if(!o)return!0;const r=new vs(o,e);do{if(t){if(Zi(o)){o=r.next(!0);continue}if(qi(o)){o=r.next();continue}}if(Xr(o))n++,o=r.next();else{if(Wi(o,e))return!1;o=r.next()}}while(o);return n<=1}},Ji=(e,t=!0)=>Xi(e.dom,t),Yi=e=>"span"===e.nodeName.toLowerCase(),$i=(e,t)=>k(e)&&(Wi(e,t)||Ts(io.fromDom(e))),ea=(e,t)=>{const n=new vs(e,t).prev(!1),o=new vs(e,t).next(!1),r=S(n)||$i(n,t),s=S(o)||$i(o,t);return r&&s},ta=e=>Yi(e)&&"bookmark"===e.getAttribute("data-mce-type"),na=(e,t)=>zr(e)&&e.data.length>0&&ea(e,t),oa=e=>!!Nr(e)&&e.childNodes.length>0,ra=e=>Zr(e)||qr(e),sa=(e,t,n)=>{const o=n||t;if(Nr(t)&&ta(t))return t;const r=t.childNodes;for(let s=r.length-1;s>=0;s--)sa(e,r[s],o);if(Nr(t)){const e=t.childNodes;1===e.length&&ta(e[0])&&t.parentNode.insertBefore(e[0],t)}return ra(t)||Wi(t,o)||oa(t)||na(t,o)||e.remove(t),t},ia=dn.makeMap,aa=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Aa=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,la=/[<>&\"\']/g,ca=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ua={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},da={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ma={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ha=e=>{const t=io.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},ga=(e,t)=>{let n,o,r;const s={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)o=String.fromCharCode(parseInt(e[n],t)),da[o]||(r="&"+e[n+1]+";",s[o]=r,s[r]=o);return s}},pa=ga("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),fa=(e,t)=>e.replace(t?aa:Aa,(e=>da[e]||e)),ba=e=>(""+e).replace(la,(e=>da[e]||e)),va=(e,t)=>e.replace(t?aa:Aa,(e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":da[e]||"&#"+e.charCodeAt(0)+";")),wa=(e,t,n)=>(n=n||pa,e.replace(t?aa:Aa,(e=>da[e]||n[e]||e))),ya=(e,t)=>{const n=ga(t)||pa,o=(e,t)=>e.replace(t?aa:Aa,(e=>void 0!==da[e]?da[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";")),r=(e,t)=>wa(e,t,n),s=ia(e.replace(/\+/g,","));return s.named&&s.numeric?o:s.named?t?r:wa:s.numeric?va:fa},Ba=e=>e.replace(ca,((e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):ua[t]||String.fromCharCode(t)):ma[e]||pa[e]||ha(e))),Ca={encodeRaw:fa,encodeAllRaw:ba,encodeNumeric:va,encodeNamed:wa,getEncodeFunc:ya,decode:Ba},xa={},Sa={},Fa=dn.makeMap,ka=dn.each,Ea=dn.extend,_a=dn.explode,Oa=dn.inArray,Ua=(e,t)=>(e=dn.trim(e),e?e.split(t||" "):[]),Ta=(e,t)=>{const n=Fa(e," ",Fa(e.toUpperCase()," "));return Ea(n,t)},La=e=>Ta("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Na=e=>{const t={};let n,o,r,s,i,a;const A=(e,o="",r="")=>{const s=Ua(r),i=Ua(e);let a=i.length;while(a--){const e=Ua([n,o].join(" "));t[i[a]]={attributes:me(e,(()=>({}))),attributesOrder:e,children:me(s,N(Sa))}}},l=(e,n)=>{const o=Ua(e),r=Ua(n);let s=o.length;while(s--){const e=t[o[s]];for(let t=0,n=r.length;t<n;t++)e.attributes[r[t]]={},e.attributesOrder.push(r[t])}};return xa[e]?xa[e]:(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(n+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),ka(Ua(a),(e=>{A(e,"",r)})),i="center dir isindex noframes",o=[o,i].join(" "),s=[o,r].join(" "),ka(Ua(i),(e=>{A(e,"",s)}))),s=s||[o,r].join(" "),A("html","manifest","head body"),A("head","","base command link meta noscript script style title"),A("title hr noscript br"),A("base","href target"),A("link","href rel media hreflang type sizes hreflang"),A("meta","name http-equiv content charset"),A("style","media type scoped"),A("script","src async defer type charset"),A("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),A("address dt dd div caption","",s),A("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),A("blockquote","cite",s),A("ol","reversed start type","li"),A("ul","","li"),A("li","value",s),A("dl","","dt dd"),A("a","href target rel media hreflang type",r),A("q","cite",r),A("ins del","cite datetime",s),A("img","src sizes srcset alt usemap ismap width height"),A("iframe","src name width height",s),A("embed","src type width height"),A("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),A("param","name value"),A("map","name",[s,"area"].join(" ")),A("area","alt coords shape href target rel media hreflang type"),A("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),A("colgroup","span","col"),A("col","span"),A("tbody thead tfoot","","tr"),A("tr","","td th"),A("td","colspan rowspan headers",s),A("th","colspan rowspan headers scope abbr",s),A("form","accept-charset action autocomplete enctype method name novalidate target",s),A("fieldset","disabled form name",[s,"legend"].join(" ")),A("label","form for",r),A("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),A("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?s:r),A("select","disabled form multiple name required size","option optgroup"),A("optgroup","disabled label","option"),A("option","disabled label selected value"),A("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),A("menu","type label",[s,"li"].join(" ")),A("noscript","",s),"html4"!==e&&(A("wbr"),A("ruby","",[r,"rt rp"].join(" ")),A("figcaption","",s),A("mark rt rp summary bdi","",r),A("canvas","width height",s),A("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),A("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),A("picture","","img source"),A("source","src srcset type media sizes"),A("track","kind src srclang label default"),A("datalist","",[r,"option"].join(" ")),A("article section nav aside main header footer","",s),A("hgroup","","h1 h2 h3 h4 h5 h6"),A("figure","",[s,"figcaption"].join(" ")),A("time","datetime",r),A("dialog","open",s),A("command","type label icon disabled checked radiogroup command"),A("output","for form name",r),A("progress","value max",r),A("meter","value min max low high optimum",r),A("details","open",[s,"summary"].join(" ")),A("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(l("script","language xml:space"),l("style","xml:space"),l("object","declare classid code codebase codetype archive standby align border hspace vspace"),l("embed","align name hspace vspace"),l("param","valuetype type"),l("a","charset name rev shape coords"),l("br","clear"),l("applet","codebase archive code object alt name width height align hspace vspace"),l("img","name longdesc align border hspace vspace"),l("iframe","longdesc frameborder marginwidth marginheight scrolling align"),l("font basefont","size color face"),l("input","usemap align"),l("select"),l("textarea"),l("h1 h2 h3 h4 h5 h6 div p legend caption","align"),l("ul","type compact"),l("li","type"),l("ol dl menu dir","compact"),l("pre","width xml:space"),l("hr","align noshade size width"),l("isindex","prompt"),l("table","summary width frame rules cellspacing cellpadding align bgcolor"),l("col","width align char charoff valign"),l("colgroup","width align char charoff valign"),l("thead","align char charoff valign"),l("tr","align char charoff valign bgcolor"),l("th","axis align char charoff valign nowrap bgcolor width height"),l("form","accept"),l("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),l("tfoot","align char charoff valign"),l("tbody","align char charoff valign"),l("area","nohref"),l("body","background bgcolor text link vlink alink")),"html4"!==e&&(l("input button select textarea","autofocus"),l("input textarea","placeholder"),l("a","download"),l("link script img","crossorigin"),l("img","loading"),l("iframe","sandbox seamless allowfullscreen loading")),"html4"!==e&&$([t.video,t.audio],(e=>{delete e.children.audio,delete e.children.video})),ka(Ua("a form meter progress dfn"),(e=>{t[e]&&delete t[e].children[e]})),delete t.caption.children.table,delete t.script,xa[e]=t,t)},Qa=(e,t)=>{let n;return e&&(n={},"string"===typeof e&&(e={"*":e}),ka(e,((e,o)=>{n[o]=n[o.toUpperCase()]="map"===t?Fa(e,/[, ]/):_a(e,/[, ]/)}))),n},Da=e=>{var t;const n={},o={};let r=[];const s={},i={},a=(t,n,o)=>{let r=e[t];return r?r=Fa(r,/[, ]/,Fa(r.toUpperCase(),/[, ]/)):(r=xa[t],r||(r=Ta(n,o),xa[t]=r)),r};e=e||{};const A=null!==(t=e.schema)&&void 0!==t?t:"html5",l=Na(A);!1===e.verify_html&&(e.valid_elements="*[*]");const c=Qa(e.valid_styles),u=Qa(e.invalid_styles,"map"),d=Qa(e.valid_classes,"map"),m=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),h=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),g=a("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),f="td th iframe video audio object script code",b=a("non_empty_elements",f+" pre",g),v=a("move_caret_before_on_enter_elements",f+" table",g),w=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),y=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",w),B=a("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");ka("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{i[e]=new RegExp("</"+e+"[^>]*>","gi")}));const C=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),x=e=>{let t,o,s,i,a,A,l,c,u,d,m,h,g,p,f,b,v,w;const y=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,B=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,x=/[*?+]/;if(e){const S=Ua(e,",");for(n["@"]&&(b=n["@"].attributes,v=n["@"].attributesOrder),t=0,o=S.length;t<o;t++)if(a=y.exec(S[t]),a){if(p=a[1],u=a[2],f=a[3],c=a[5],h={},g=[],A={attributes:h,attributesOrder:g},"#"===p&&(A.paddEmpty=!0),"-"===p&&(A.removeEmpty=!0),"!"===a[4]&&(A.removeEmptyAttrs=!0),b&&(Ce(b,((e,t)=>{h[t]=e})),g.push.apply(g,v)),c)for(c=Ua(c,"|"),s=0,i=c.length;s<i;s++)if(a=B.exec(c[s]),a){if(l={},m=a[1],d=a[2].replace(/[\\:]:/g,":"),p=a[3],w=a[4],"!"===m&&(A.attributesRequired=A.attributesRequired||[],A.attributesRequired.push(d),l.required=!0),"-"===m){delete h[d],g.splice(Oa(g,d),1);continue}p&&("="===p&&(A.attributesDefault=A.attributesDefault||[],A.attributesDefault.push({name:d,value:w}),l.defaultValue=w),"~"===p&&(A.attributesForced=A.attributesForced||[],A.attributesForced.push({name:d,value:w}),l.forcedValue=w),"<"===p&&(l.validValues=Fa(w,"?"))),x.test(d)?(A.attributePatterns=A.attributePatterns||[],l.pattern=C(d),A.attributePatterns.push(l)):(h[d]||g.push(d),h[d]=l)}b||"@"!==u||(b=h,v=g),f&&(A.outputName=u,n[f]=A),x.test(u)?(A.pattern=C(u),r.push(A)):n[u]=A}}},S=e=>{r=[],$(ye(n),(e=>{delete n[e]})),x(e),ka(l,((e,t)=>{o[t]=e.children}))},F=e=>{const t=/^(~)?(.+)$/;e&&(xa.text_block_elements=xa.block_elements=null,ka(Ua(e,","),(e=>{const r=t.exec(e),i="~"===r[1],a=i?"span":"div",A=r[2];if(o[A]=o[a],s[A]=a,b[A.toUpperCase()]={},b[A]={},i||(y[A.toUpperCase()]={},y[A]={}),!n[A]){let e=n[a];e=Ea({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,n[A]=e}ka(o,((e,t)=>{e[a]&&(o[t]=e=Ea({},o[t]),e[A]=e[a])}))})))},k=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;xa[A]=null,e&&ka(Ua(e,","),(e=>{const n=t.exec(e);let r,s;n&&(s=n[1],r=s?o[n[2]]:o[n[2]]={"#comment":{}},r=o[n[2]],ka(Ua(n[3],"|"),(e=>{"-"===s?delete r[e]:r[e]={}})))}))},E=e=>{let t,o=n[e];if(o)return o;t=r.length;while(t--)if(o=r[t],o.pattern.test(e))return o};e.valid_elements?S(e.valid_elements):(ka(l,((e,t)=>{n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},o[t]=e.children})),ka(Ua("strong/b em/i"),(e=>{const t=Ua(e,"/");n[t[1]].outputName=t[0]})),ka(B,((t,o)=>{n[o]&&(e.padd_empty_block_inline_children&&(n[o].paddInEmptyBlock=!0),n[o].removeEmpty=!0)})),ka(Ua("ol ul blockquote a table tbody"),(e=>{n[e]&&(n[e].removeEmpty=!0)})),ka(Ua("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(e=>{n[e].paddEmpty=!0})),ka(Ua("span"),(e=>{n[e].removeEmptyAttrs=!0}))),F(e.custom_elements),k(e.valid_children),x(e.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),ka({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{n[t]&&(n[t].parentsRequired=Ua(e))})),e.invalid_elements&&ka(_a(e.invalid_elements),(e=>{n[e]&&delete n[e]})),E("span")||x("span[!data-mce-type|*]");const _=N(c),O=N(u),U=N(d),T=N(p),L=N(y),Q=N(w),D=N(B),I=N(Object.seal(g)),H=N(h),M=N(b),R=N(v),P=N(m),V=N(Object.seal(i)),j=(e,t)=>{const n=o[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},z=(e,t)=>{let n,o;const r=E(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns,n){o=n.length;while(o--)if(n[o].pattern.test(t))return!0}}return!1},K=N(s);return{type:A,children:o,elements:n,getValidStyles:_,getValidClasses:U,getBlockElements:L,getInvalidStyles:O,getVoidElements:I,getTextBlockElements:Q,getTextInlineElements:D,getBoolAttrs:T,getElementRule:E,getSelfClosingElements:H,getNonEmptyElements:M,getMoveCaretBeforeOnEnterElements:R,getWhitespaceElements:P,getSpecialElements:V,isValidChild:j,isValid:z,getCustomElements:K,addValidElements:x,setValidElements:S,addCustomElements:F,addValidChildren:k}},Ia=(e,t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,o=/\s*([^:]+):\s*([^;]+);?/g,r=/\s+$/;let s;const i={};let a,A;const l=js;e=e||{},t&&(a=t.getValidStyles(),A=t.getInvalidStyles());const c=("\\\" \\' \\; \\: ; : "+l).split(" ");for(s=0;s<c.length;s++)i[c[s]]=l+s,i[l+s]=c[s];const u={parse:t=>{const a={};let A,c,d,m;const h=e.url_converter,g=e.url_converter_scope||u,p=(e,t,n)=>{const o=a[e+"-top"+t];if(!o)return;const r=a[e+"-right"+t];if(!r)return;const i=a[e+"-bottom"+t];if(!i)return;const A=a[e+"-left"+t];if(!A)return;const l=[o,r,i,A];s=l.length-1;while(s--)if(l[s]!==l[s+1])break;s>-1&&n||(a[e+t]=-1===s?l[0]:l.join(" "),delete a[e+"-top"+t],delete a[e+"-right"+t],delete a[e+"-bottom"+t],delete a[e+"-left"+t])},f=e=>{let t,n=a[e];if(n){n=n.split(" "),t=n.length;while(t--)if(n[t]!==n[0])return!1;return a[e]=n[0],!0}},b=(e,t,n,o)=>{f(t)&&f(n)&&f(o)&&(a[e]=a[t]+" "+a[n]+" "+a[o],delete a[t],delete a[n],delete a[o])},v=e=>(m=!0,i[e]),w=(e,t)=>(m&&(e=e.replace(/\uFEFF[0-9]/g,(e=>i[e]))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),y=e=>String.fromCharCode(parseInt(e.slice(1),16)),B=e=>e.replace(/\\[0-9a-f]+/gi,y),C=(t,n,o,r,s,i)=>{if(s=s||i,s)return s=w(s),"'"+s.replace(/\'/g,"\\'")+"'";if(n=w(n||o||r),!e.allow_script_urls){const t=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return h&&(n=h.call(g,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,v)));while(A=o.exec(t))if(o.lastIndex=A.index+A[0].length,c=A[1].replace(r,"").toLowerCase(),d=A[2].replace(r,""),c&&d){if(c=B(c),d=B(d),-1!==c.indexOf(l)||-1!==c.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===c||/expression\s*\(|\/\*|\*\//.test(d)))continue;"font-weight"===c&&"700"===d?d="bold":"color"!==c&&"background-color"!==c||(d=d.toLowerCase()),d=d.replace(n,C),a[c]=m?w(d,!0):d}p("border","",!0),p("border","-width"),p("border","-color"),p("border","-style"),p("padding",""),p("margin",""),b("border","border-width","border-style","border-color"),"medium none"===a.border&&delete a.border,"none"===a["border-image"]&&delete a["border-image"]}return a},serialize:(e,t)=>{let n="";const o=t=>{let o;const r=a[t];if(r)for(let s=0,i=r.length;s<i;s++)t=r[s],o=e[t],o&&(n+=(n.length>0?" ":"")+t+": "+o+";")},r=(e,t)=>{let n=A["*"];return(!n||!n[e])&&(n=A[t],!(n&&n[e]))};return t&&a?(o("*"),o(t)):Ce(e,((e,o)=>{!e||A&&!r(o,t)||(n+=(n.length>0?" ":"")+o+": "+e+";")})),n}};return u},Ha={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ma=e=>e instanceof Event||E(e.initEvent),Ra=e=>e.isDefaultPrevented===j||e.isDefaultPrevented===V,Pa=e=>F(e.preventDefault)||Ma(e),Va=(e,t)=>{const n=null!==t&&void 0!==t?t:{};for(const o in e)Le(Ha,o)||(n[o]=e[o]);return k(n.composedPath)&&(n.composedPath=()=>e.composedPath()),n},ja=(e,t,n,o)=>{var r;const s=Va(t,o);return s.type=e,F(s.target)&&(s.target=null!==(r=s.srcElement)&&void 0!==r?r:n),Pa(t)&&(s.preventDefault=()=>{s.defaultPrevented=!0,s.isDefaultPrevented=j,E(t.preventDefault)&&t.preventDefault()},s.stopPropagation=()=>{s.cancelBubble=!0,s.isPropagationStopped=j,E(t.stopPropagation)&&t.stopPropagation()},s.stopImmediatePropagation=()=>{s.isImmediatePropagationStopped=j,s.stopPropagation()},Ra(s)||(s.isDefaultPrevented=!0===s.defaultPrevented?j:V,s.isPropagationStopped=!0===s.cancelBubble?j:V,s.isImmediatePropagationStopped=V)),s},za="mce-data-",Ka=/^(?:mouse|contextmenu)|click/,Wa=(e,t,n,o)=>{e.addEventListener?e.addEventListener(t,n,o||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Ga=(e,t,n,o)=>{e.removeEventListener?e.removeEventListener(t,n,o||!1):e.detachEvent&&e.detachEvent("on"+t,n)},qa=e=>k(e)&&Ka.test(e.type),Za=(e,t)=>{const n=ja(e.type,e,document,t);if(qa(e)&&S(e.pageX)&&!S(e.clientX)){const t=n.target.ownerDocument||document,o=t.documentElement,r=t.body,s=n;s.pageX=e.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),s.pageY=e.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}return n},Xa=(e,t,n)=>{const o=e.document,r={type:"ready"};if(n.domLoaded)return void t(r);const s=()=>"complete"===o.readyState||"interactive"===o.readyState&&o.body,i=()=>{Ga(e,"DOMContentLoaded",i),Ga(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(r)),e=null};s()?i():Wa(e,"DOMContentLoaded",i),n.domLoaded||Wa(e,"load",i)};class Ja{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=za+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,n,o){const r=this;let s,i,a,A,l,c,u;const d=window,m=e=>{r.executeHandlers(Za(e||d.event),s)};if(!e||3===e.nodeType||8===e.nodeType)return;e[r.expando]?s=e[r.expando]:(s=r.count++,e[r.expando]=s,r.events[s]={}),o=o||e;const h=t.split(" ");a=h.length;while(a--)A=h[a],c=m,l=u=!1,"DOMContentLoaded"===A&&(A="ready"),r.domLoaded&&"ready"===A&&"complete"===e.readyState?n.call(o,Za({type:A})):(r.hasMouseEnterLeave||(l=r.mouseEnterLeave[A],l&&(c=e=>{const t=e.currentTarget;let n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else while(n&&n!==t)n=n.parentNode;n||(e=Za(e||d.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,r.executeHandlers(e,s))})),r.hasFocusIn||"focusin"!==A&&"focusout"!==A||(u=!0,l="focusin"===A?"focus":"blur",c=e=>{e=Za(e||d.event),e.type="focus"===e.type?"focusin":"focusout",r.executeHandlers(e,s)}),i=r.events[s][A],i?"ready"===A&&r.domLoaded?n(Za({type:A})):i.push({func:n,scope:o}):(r.events[s][A]=i=[{func:n,scope:o}],i.fakeName=l,i.capture=u,i.nativeHandler=c,"ready"===A?Xa(e,c,r):Wa(e,l||A,c,u)));return e=i=null,n}unbind(e,t,n){let o,r,s,i,a;if(!e||3===e.nodeType||8===e.nodeType)return this;const A=e[this.expando];if(A){if(a=this.events[A],t){const A=t.split(" ");r=A.length;while(r--)if(i=A[r],o=a[i],o){if(n){s=o.length;while(s--)if(o[s].func===n){const e=o.nativeHandler,t=o.fakeName,n=o.capture;o=o.slice(0,s).concat(o.slice(s+1)),o.nativeHandler=e,o.fakeName=t,o.capture=n,a[i]=o}}n&&0!==o.length||(delete a[i],Ga(e,o.fakeName||i,o.nativeHandler,o.capture))}}else Ce(a,((t,n)=>{Ga(e,t.fakeName||n,t.nativeHandler,t.capture)})),a={};for(i in a)if(Le(a,i))return this;delete this.events[A];try{delete e[this.expando]}catch(l){e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){let o;if(!e||3===e.nodeType||8===e.nodeType)return this;const r=Za({type:t,target:e},n);do{o=e[this.expando],o&&this.executeHandlers(r,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!r.isPropagationStopped());return this}clean(e){let t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e),n=e.getElementsByTagName("*"),t=n.length;while(t--)e=n[t],e[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const n=this.events[t],o=n&&n[e.type];if(o)for(let r=0,s=o.length;r<s;r++){const t=o[r];if(t&&!1===t.func.call(t.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}Ja.Event=new Ja;const Ya=dn.each,$a=dn.grep,eA="data-mce-style",tA=(e,t,n)=>{F(n)||""===n?Hn(e,t):Ln(e,t,n)},nA=(e,t,n)=>{const o=t.keep_values,r={set:(e,o,r)=>{const s=io.fromDom(e);E(t.url_converter)&&k(o)&&(o=t.url_converter.call(t.url_converter_scope||n(),o,r,e[0]));const i="data-mce-"+r;tA(s,i,o),tA(s,r,o)},get:(e,t)=>{const n=io.fromDom(e);return Qn(n,"data-mce-"+t)||Qn(n,t)}},s={style:{set:(t,n)=>{const r=io.fromDom(t);w(n)?Wo(r,n):(o&&tA(r,eA,n),Hn(r,"style"),v(n)&&Wo(r,e.parse(n)))},get:t=>{const n=io.fromDom(t),o=Qn(n,eA)||Qn(n,"style");return e.serialize(e.parse(o),Cn(n))}}};return o&&(s.href=s.src=r),s},oA=(e,t)=>{const n=Qn(t,"style"),o=e.serialize(e.parse(n),Cn(t));tA(t,eA,o)},rA=(e,t)=>{let n,o,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)o=e.nodeType,(!t||3!==o||o!==n&&e.nodeValue.length)&&(r++,n=o);return r},sA=dn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),iA=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),aA=(e,t={})=>{const n={},o=window,r={};let s=0;const i=!0,a=!0,A=bs.forElement(io.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),l=[],c=t.schema?t.schema:Da({}),u=Ia({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),d=t.ownEvents?new Ja:Ja.Event,m=c.getBlockElements(),h=e=>v(e)?Le(m,e):Nr(e)&&Le(m,e.nodeName),g=t=>t&&e&&v(t)?e.getElementById(t):t,p=e=>{const t=g(e);return k(t)?io.fromDom(t):null},f=(e,t,n)=>{let o;const r=p(e);if(k(r)&&kn(r)){const e=Pe[t];o=e&&e.get?e.get(r.dom,t):Qn(r,t)}return k(o)?o:null!==n&&void 0!==n?n:""},b=e=>{const t=g(e);return F(t)?[]:t.attributes},w=(e,n,o)=>{z(e,(e=>{if(Nr(e)){const r=io.fromDom(e);""===o&&(o=null);const s=Qn(r,n),i=Pe[n];i&&i.set?i.set(r.dom,o,n):tA(r,n,o),s!==o&&t.onSetAttrib&&t.onSetAttrib({attrElm:r,attrName:n,attrValue:o})}}))},y=(e,t)=>e.cloneNode(t),C=()=>t.root_element||e.body,x=e=>{const t=Ur(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},S=(t,n)=>is(e.body,g(t),n),O=(e,n,o)=>{const r=(e,t)=>v(e)?e:_(e)?Le(sA,t)?e+"":e+"px":xe(e,r),s=(e,t,n)=>{const o=iA(t);F(n)||""===n?Jo(e,o):Ko(e,o,r(n,o))};z(e,(e=>{const r=io.fromDom(e);v(n)?s(r,n,o):Ce(n,((e,t)=>{s(r,t,e)})),t.update_styles&&oA(u,r)}))},T=(e,t)=>{O(e,t)},L=(e,t,n)=>{const o=g(e);if(!F(o)&&Nr(o))return n?Go(io.fromDom(o),iA(t)):(t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase())),"float"===t&&(t="cssFloat"),o.style?o.style[t]:void 0)},Q=e=>{let t,n;const o=g(e);return t=L(o,"width"),n=L(o,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||o.offsetWidth||o.clientWidth,h:parseInt(n,10)||o.offsetHeight||o.clientHeight}},D=e=>{const t=g(e),n=S(t),o=Q(t);return{x:n.x,y:n.y,w:o.w,h:o.h}},I=(e,t)=>{if(!e)return!1;const n=B(e)?e:[e];return J(n,(e=>Ao(io.fromDom(e),t)))},H=(e,t,n,o)=>{const r=[];let s,i=g(e);o=void 0===o,n=n||("BODY"!==C().nodeName?C().parentNode:null),v(t)&&(s=t,t="*"===t?Nr:e=>I(e,s));while(i){if(i===n||F(i.nodeType)||qr(i)||Zr(i))break;if(!t||t(i)){if(!o)return[i];r.push(i)}i=i.parentNode}return o?r:null},M=(e,t,n)=>{const o=H(e,t,n,!1);return o&&o.length>0?o[0]:null},R=(e,t,n)=>{let o=t;if(e)for(v(t)&&(o=e=>I(e,t)),e=e[n];e;e=e[n])if(E(o)&&o(e))return e;return null},P=(e,t)=>R(e,t,"nextSibling"),V=(e,t)=>R(e,t,"previousSibling"),j=(n,o)=>{var r,s;const i=null!==(s=null!==(r=g(o))&&void 0!==r?r:t.root_element)&&void 0!==s?s:e;return be(i.querySelectorAll(n))},z=function(e,t,n){const o=null!==n&&void 0!==n?n:this,r=v(e)?g(e):e;if(!r)return!1;if(B(r)&&(r.length||0===r.length)){const e=[];return Ya(r,((n,r)=>{n&&e.push(t.call(o,v(n)?g(n):n,r))})),e}return t.call(o,r)},K=(e,t)=>{z(e,(e=>{Ce(t,((t,n)=>{w(e,n,t)}))}))},W=(e,t)=>{z(e,(e=>{const n=io.fromDom(e);dr(n,t)}))},G=(t,n,o,r,s)=>z(t,(t=>{const i=v(n)?e.createElement(n):n;return k(o)&&K(i,o),r&&(!v(r)&&r.nodeType?i.appendChild(r):v(r)&&W(i,r)),s?i:t.appendChild(i)})),q=(t,n,o)=>G(e.createElement(t),t,n,o,!0),Z=Ca.decode,X=Ca.encodeAllRaw,Y=(e,t,n="")=>{let o,r="";for(o in r+="<"+e,t)Ne(t,o)&&(r+=" "+o+'="'+X(t[o])+'"');return gt(n)&&Le(c.getVoidElements(),e)?r+" />":r+">"+n+"</"+e+">"},ee=t=>{let n;const o=e.createElement("div"),r=e.createDocumentFragment();r.appendChild(o),t&&(o.innerHTML=t);while(n=o.firstChild)r.appendChild(n);return r.removeChild(o),r},te=(e,t)=>z(e,(e=>{const n=io.fromDom(e);return t&&$(ko(n),(e=>{En(e)&&0===e.dom.length?ar(e):$o(n,e)})),ar(n),n.dom})),ne=e=>z(e,(e=>{const t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))})),oe=e=>u.parse(e),re=(e,t)=>u.serialize(e,t),se=t=>{let o,r;if(Re!==aA.DOM&&e===document){if(n[t])return;n[t]=!0}r=e.getElementById("mceDefaultStyles"),r||(r=e.createElement("style"),r.id="mceDefaultStyles",r.type="text/css",o=e.getElementsByTagName("head")[0],o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(e.createTextNode(t))},ie=e=>{e||(e=""),$(e.split(","),(e=>{r[e]=!0,A.load(e).catch(U)}))},ae=(e,t,n)=>{z(e,(e=>{if(Nr(e)){const o=io.fromDom(e),r=t.split(" ");$(r,(e=>{if(k(n)){const t=n?Zn:Jn;t(o,e)}else Yn(o,e)}))}}))},Ae=(e,t)=>{ae(e,t,!0)},le=(e,t)=>{ae(e,t,!1)},ue=(e,t)=>{const n=p(e),o=t.split(" ");return ce(o,(e=>$n(n,e)))},de=e=>{z(e,(e=>Jo(io.fromDom(e),"display")))},me=e=>{z(e,(e=>Ko(io.fromDom(e),"display","none")))},he=e=>{const t=p(e);return mn(Zo(t,"display"),"none")},ge=e=>(e||"mce_")+s++,pe=e=>{const t=p(e);return Nr(t.dom)?t.dom.outerHTML:mr(t)},fe=(e,t)=>{z(e,(e=>{Nr(e)&&(e.outerHTML=t)}))},ve=(e,t)=>{const n=g(t);return z(e,(e=>{const t=n.parentNode,o=n.nextSibling;return o?t.insertBefore(e,o):t.appendChild(e),e}))},we=(e,t,n)=>z(t,(t=>(B(t)&&(e=e.cloneNode(!0)),n&&Ya($a(t.childNodes),(t=>{e.appendChild(t)})),t.parentNode.replaceChild(e,t)))),ye=(e,t)=>{let n;return e.nodeName!==t.toUpperCase()&&(n=q(t),Ya(b(e),(t=>{w(n,t.nodeName,f(e,t.nodeName))})),we(n,e,!0)),n||e},Be=(e,t)=>{let n,o=e;while(o){n=t;while(n&&o!==n)n=n.parentNode;if(o===n)break;o=o.parentNode}return!o&&e.ownerDocument?e.ownerDocument.documentElement:o},Se=e=>{if(Nr(e)){const t="a"===e.nodeName.toLowerCase()&&!f(e,"href")&&f(e,"id");if(f(e,"name")||f(e,"data-mce-bookmark")||t)return!0}return!1},Fe=(e,t)=>{let n,o,r=0;if(Se(e))return!1;if(e=e.firstChild,e){const s=new vs(e,e.parentNode),i=c?c.getWhitespaceElements():{};t=t||(c?c.getNonEmptyElements():null);do{if(n=e.nodeType,Nr(e)){const n=e.getAttribute("data-mce-bogus");if(n){e=s.next("all"===n);continue}if(o=e.nodeName.toLowerCase(),t&&t[o]){if("br"===o){r++,e=s.next();continue}return!1}if(Se(e))return!1}if(8===n)return!1;if(3===n&&!Hi(e.nodeValue))return!1;if(3===n&&e.parentNode&&i[e.parentNode.nodeName]&&Hi(e.nodeValue))return!1;e=s.next()}while(e)}return r<=1},ke=()=>e.createRange(),Ee=(e,t,n)=>{let o,r,s,i=ke();if(e&&t)return i.setStart(e.parentNode,rA(e)),i.setEnd(t.parentNode,rA(t)),o=i.extractContents(),i=ke(),i.setStart(t.parentNode,rA(t)+1),i.setEnd(e.parentNode,rA(e)+1),r=i.extractContents(),s=e.parentNode,s.insertBefore(sa(Re,o),e),n?s.insertBefore(n,e):s.insertBefore(t,e),s.insertBefore(sa(Re,r),e),te(e),n||t},_e=(n,r,s,i)=>{if(B(n)){let e=n.length;const t=[];while(e--)t[e]=_e(n[e],r,s,i);return t}return!t.collect||n!==e&&n!==o||l.push([n,r,s,i]),d.bind(n,r,s,i||Re)},Oe=(t,n,r)=>{if(B(t)){let e=t.length;const o=[];while(e--)o[e]=Oe(t[e],n,r);return o}if(l.length>0&&(t===e||t===o)){let e=l.length;while(e--){const o=l[e];t!==o[0]||n&&n!==o[1]||r&&r!==o[2]||d.unbind(o[0],o[1],o[2])}}return d.unbind(t,n,r)},Ue=(e,t,n)=>d.dispatch(e,t,n),Te=(e,t,n)=>d.dispatch(e,t,n),Qe=e=>{if(e&&Nr(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},De=e=>{const t=C();let n=null;for(;e&&e!==t;e=e.parentNode)if(n=Qe(e),null!==n)break;return n},Ie=()=>{if(l.length>0){let e=l.length;while(e--){const t=l[e];d.unbind(t[0],t[1],t[2])}}Ce(r,((e,t)=>{A.unload(t),delete r[t]}))},He=(e,t)=>e===t||t.contains(e),Me=e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset,Re={doc:e,settings:t,win:o,files:r,stdMode:i,boxModel:a,styleSheetLoader:A,boundEvents:l,styles:u,schema:c,events:d,isBlock:h,root:null,clone:y,getRoot:C,getViewPort:x,getRect:D,getSize:Q,getParent:M,getParents:H,get:g,getNext:P,getPrev:V,select:j,is:I,add:G,create:q,createHTML:Y,createFragment:ee,remove:te,setStyle:O,getStyle:L,setStyles:T,removeAllAttribs:ne,setAttrib:w,setAttribs:K,getAttrib:f,getPos:S,parseStyle:oe,serializeStyle:re,addStyle:se,loadCSS:ie,addClass:Ae,removeClass:le,hasClass:ue,toggleClass:ae,show:de,hide:me,isHidden:he,uniqueId:ge,setHTML:W,getOuterHTML:pe,setOuterHTML:fe,decode:Z,encode:X,insertAfter:ve,replace:we,rename:ye,findCommonAncestor:Be,run:z,getAttribs:b,isEmpty:Fe,createRng:ke,nodeIndex:rA,split:Ee,bind:_e,unbind:Oe,fire:Te,dispatch:Ue,getContentEditable:Qe,getContentEditableParent:De,destroy:Ie,isChildOf:He,dumpRng:Me},Pe=nA(u,t,N(Re));return Re};aA.DOM=aA(document),aA.nodeIndex=rA;const AA=aA.DOM,lA=0,cA=1,uA=2,dA=3;class mA{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,n)=>{const o=AA;let r;const s=()=>{o.remove(A),r&&(r.onerror=r.onload=r=null)},i=()=>{s(),t()},a=()=>{s(),n("Failed to load script: "+e)},A=o.uniqueId();r=document.createElement("script"),r.id=A,r.type="text/javascript",r.src=dn._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=i,r.onerror=a,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)}))}isDone(e){return this.states[e]===uA}markDone(e){this.states[e]=uA}add(e){const t=this;t.queue.push(e);const n=t.states[e];return void 0===n&&(t.states[e]=lA),new Promise(((n,o)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:o})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,n=(e,n)=>{Te(t.scriptLoadedCallbacks,n).each((t=>{$(t,(t=>t[e](n)))})),delete t.scriptLoadedCallbacks[n]},o=e=>{const t=ne(e,(e=>"rejected"===e.status));return t.length>0?Promise.reject(le(t,(({reason:e})=>B(e)?e:[e]))):Promise.resolve()},r=e=>Promise.allSettled(Y(e,(e=>t.states[e]===uA?(n("resolve",e),Promise.resolve()):t.states[e]===dA?(n("reject",e),Promise.reject(e)):(t.states[e]=cA,t.loadScript(e).then((()=>{t.states[e]=uA,n("resolve",e);const s=t.queue;if(s.length>0)return t.queue=[],r(s).then(o)}),(()=>(t.states[e]=dA,n("reject",e),Promise.reject(e)))))))),s=e=>(t.loading=!0,r(e).then((e=>{t.loading=!1;const n=t.queueLoadedCallbacks.shift();return z.from(n).each(P),o(e)}))),i=De(e);return t.loading?new Promise(((e,n)=>{t.queueLoadedCallbacks.push((()=>s(i).then(e,n)))})):s(i)}}mA.ScriptLoader=new mA;const hA=e=>{let t=e;const n=()=>t,o=e=>{t=e};return{get:n,set:o}},gA=e=>w(e)&&Le(e,"raw"),pA=e=>B(e)&&e.length>1,fA={},bA=hA("en"),vA=()=>Te(fA,bA.get()),wA=()=>xe(fA,(e=>({...e}))),yA=e=>{e&&bA.set(e)},BA=()=>bA.get(),CA=(e,t)=>{let n=fA[e];n||(fA[e]=n={}),Ce(t,((e,t)=>{n[t.toLowerCase()]=e}))},xA=e=>{const t=vA().getOr({}),n=e=>E(e)?Object.prototype.toString.call(e):o(e)?"":""+e,o=e=>""===e||null===e||void 0===e,r=e=>{const o=n(e);return Te(t,o.toLowerCase()).map(n).getOr(o)},s=e=>e.replace(/{context:\w+}$/,"");if(o(e))return"";if(gA(e))return n(e.raw);if(pA(e)){const t=e.slice(1),o=r(e[0]).replace(/\{([0-9]+)\}/g,((e,o)=>Le(t,o)?n(t[o]):e));return s(o)}return s(r(e))},SA=()=>vA().bind((e=>Te(e,"_dir"))).exists((e=>"rtl"===e)),FA=e=>Le(fA,e),kA={getData:wA,setCode:yA,getCode:BA,add:CA,translate:xA,isRtl:SA,hasCode:FA},EA=()=>{const e=[],t={},n={},o=[],r=(e,t)=>{const n=ne(o,(n=>n.name===e&&n.state===t));$(n,(e=>e.resolve()))},s=e=>Le(t,e),i=e=>Le(n,e),a=e=>{if(n[e])return n[e].instance},A=(e,n)=>{const o=kA.getCode(),r=","+(n||"")+",";!o||n&&-1===r.indexOf(","+o+",")||mA.ScriptLoader.add(t[e]+"/langs/"+o+".js")},l=(e,t)=>{!1!==EA.languageLoad&&(s(e)?A(e,t):h(e,"loaded").then((()=>A(e,t))))},c=(t,o)=>(e.push(o),n[t]={instance:o},r(t,"added"),o),u=e=>{delete t[e],delete n[e]},d=(e,t)=>v(t)?v(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,m=(e,o)=>{if(t[e])return Promise.resolve();let s=v(o)?o:o.prefix+o.resource+o.suffix;0!==s.indexOf("/")&&-1===s.indexOf("://")&&(s=EA.baseURL+"/"+s),t[e]=s.substring(0,s.lastIndexOf("/"));const i=()=>(r(e,"loaded"),Promise.resolve());return n[e]?i():mA.ScriptLoader.add(s).then(i)},h=(e,t="added")=>"added"===t&&i(e)||"loaded"===t&&s(e)?Promise.resolve():new Promise((n=>{o.push({name:e,state:t,resolve:n})}));return{items:e,urls:t,lookup:n,get:a,requireLangPack:l,add:c,remove:u,createUrl:d,load:m,waitFor:h}};EA.languageLoad=!0,EA.baseURL="",EA.PluginManager=EA(),EA.ThemeManager=EA(),EA.ModelManager=EA();const _A=e=>{const t=hA(z.none()),n=()=>t.get().each(e),o=()=>{n(),t.set(z.none())},r=()=>t.get().isSome(),s=()=>t.get(),i=e=>{n(),t.set(z.some(e))};return{clear:o,isSet:r,get:s,set:i}},OA=()=>{const e=_A(U),t=t=>e.get().each(t);return{...e,on:t}},UA=(e,t)=>{let n=null;const o=()=>{C(n)||(clearTimeout(n),n=null)},r=(...o)=>{C(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))};return{cancel:o,throttle:r}},TA=(e,t)=>{let n=null;const o=()=>{C(n)||(clearTimeout(n),n=null)},r=(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)};return{cancel:o,throttle:r}},LA=N("mce-annotation"),NA=N("data-mce-annotation"),QA=N("data-mce-annotation-uid"),DA=N("data-mce-annotation-active"),IA=N("data-mce-annotation-classes"),HA=N("data-mce-annotation-attrs"),MA=e=>t=>mo(t,e),RA=(e,t)=>{const n=e.selection.getRng(),o=io.fromDom(n.startContainer),r=io.fromDom(e.getBody()),s=t.fold((()=>"."+LA()),(e=>`[${NA()}="${e}"]`)),i=Eo(o,n.startOffset).getOr(o),a=gs(i,s,MA(r)),A=(e,t)=>In(e,t)?z.some(Qn(e,t)):z.none();return a.bind((t=>A(t,`${QA()}`).bind((n=>A(t,`${NA()}`).map((t=>{const o=jA(e,n);return{uid:n,name:t,elements:o}}))))))},PA=e=>kn(e)&&$n(e,LA()),VA=(e,t)=>In(e,"data-mce-bogus")||Vs(e,'[data-mce-bogus="all"]',MA(t)),jA=(e,t)=>{const n=io.fromDom(e.getBody()),o=qs(n,`[${QA()}="${t}"]`);return ne(o,(e=>!VA(e,n)))},zA=(e,t)=>{const n=io.fromDom(e.getBody()),o=qs(n,`[${NA()}="${t}"]`),r={};return $(o,(e=>{if(!VA(e,n)){const t=Qn(e,QA()),n=Te(r,t).getOr([]);r[t]=n.concat([e])}})),r},KA=(e,t)=>{const n=hA({}),o=()=>({listeners:[],previous:OA()}),r=(e,t)=>{s(e,(e=>(t(e),e)))},s=(e,t)=>{const r=n.get(),s=Te(r,e).getOrThunk(o),i=t(s);r[e]=i,n.set(r)},i=(e,t,n)=>{r(e,(o=>{$(o.listeners,(o=>o(!0,e,{uid:t,nodes:Y(n,(e=>e.dom))})))}))},a=e=>{r(e,(t=>{$(t.listeners,(t=>t(!1,e)))}))},A=(t,n)=>{$(jA(e,t),(e=>{n?Ln(e,DA(),"true"):Hn(e,DA())}))},l=TA((()=>{const n=he(t.getNames());$(n,(t=>{s(t,(n=>{const o=n.previous.get();return RA(e,z.some(t)).fold((()=>{o.each((e=>{a(t),n.previous.clear(),A(e,!1)}))}),(({uid:e,name:t,elements:r})=>{mn(o,e)||(o.each((e=>A(e,!1))),i(t,e,r),n.previous.set(e),A(e,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);e.on("remove",(()=>{l.cancel()})),e.on("NodeChange",(()=>{l.throttle()}));const c=(e,t)=>{s(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))};return{addListener:c}},WA=(e,t)=>{const n=NA(),o=e=>z.from(e.attr(n)).bind(t.lookup),r=e=>{var t,n;e.attr(QA(),null),e.attr(NA(),null),e.attr(DA(),null);const o=z.from(e.attr(HA())).map((e=>e.split(","))).getOr([]),r=z.from(e.attr(IA())).map((e=>e.split(","))).getOr([]);$(o,(t=>e.attr(t,null)));const s=null!==(n=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==n?n:[],i=de(s,[LA()].concat(r));e.attr("class",i.length>0?i.join(" "):null),e.attr(IA(),null),e.attr(HA(),null)};e.serializer.addTempAttr(DA()),e.serializer.addAttributeFilter(n,(e=>{for(const t of e)o(t).each((e=>{!1===e.persistent&&("span"===t.name?t.unwrap():r(t))}))}))},GA=()=>{const e={},t=(t,n)=>{e[t]={name:t,settings:n}},n=t=>Te(e,t).map((e=>e.settings)),o=()=>ye(e);return{register:t,lookup:n,getNames:o}};let qA=0;const ZA=e=>{const t=new Date,n=t.getTime(),o=Math.floor(1e9*Math.random());return qA++,e+"_"+o+qA+String(n)},XA=(e,t)=>{$(t,(t=>{Zn(e,t)}))},JA=(e,t)=>{$(t,(t=>{Jn(e,t)}))},YA=(e,t)=>io.fromDom(e.dom.cloneNode(t)),$A=e=>YA(e,!1),el=e=>YA(e,!0),tl=(e,t)=>{const n=io.fromTag(t),o=Rn(e);return Nn(n,o),n},nl=(e,t)=>{const n=tl(e,t);er(e,n);const o=ko(e);return sr(n,o),ar(e),n},ol=(e,t,n=V)=>{const o=new vs(e,t),r=e=>{let t;do{t=o[e]()}while(t&&!zr(t)&&!n(t));return z.from(t).filter(zr)};return{current:()=>z.from(o.current()).filter(zr),next:()=>r("next"),prev:()=>r("prev"),prev2:()=>r("prev2")}},rl=(e,t)=>{const n=t||(t=>e.isBlock(t)||Xr(t)||$r(t)),o=(e,t,n,r)=>{if(zr(e)){const n=r(e,t,e.data);if(-1!==n)return z.some({container:e,offset:n})}return n().bind((e=>o(e.container,e.offset,n,r)))},r=(e,t,r,s)=>{const i=ol(e,s,n);return o(e,t,(()=>i.prev().map((e=>({container:e,offset:e.length})))),r).getOrNull()},s=(e,t,r,s)=>{const i=ol(e,s,n);return o(e,t,(()=>i.next().map((e=>({container:e,offset:0})))),r).getOrNull()};return{backwards:r,forwards:s}},sl=Math.round,il=e=>e?{left:sl(e.left),top:sl(e.top),bottom:sl(e.bottom),right:sl(e.right),width:sl(e.width),height:sl(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},al=(e,t)=>(e=il(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Al=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,ll=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,cl=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&ll(t.top-e.bottom,e,t)},ul=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&ll(t.bottom-e.top,e,t),dl=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,ml=e=>re(e,((e,t)=>e.fold((()=>z.some(t)),(e=>{const n=Math.min(t.left,e.left),o=Math.min(t.top,e.top),r=Math.max(t.right,e.right),s=Math.max(t.bottom,e.bottom);return z.some({top:o,right:r,bottom:s,left:n,width:r-n,height:s-o})}))),z.none()),hl=(e,t,n)=>{const o=Math.max(Math.min(t,e.left+e.width),e.left),r=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-o)*(t-o)+(n-r)*(n-r))},gl=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),pl=(e,t,n)=>Math.min(Math.max(e,t),n),fl=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},bl=(e,t)=>{if(Nr(e)&&e.hasChildNodes()){const n=e.childNodes,o=pl(t,0,n.length-1);return n[o]}return e},vl=(e,t)=>t<0&&Nr(e)&&e.hasChildNodes()?void 0:bl(e,t),wl=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),yl=e=>"string"===typeof e&&e.charCodeAt(0)>=768&&wl.test(e),Bl=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},Cl=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},xl=Nr,Sl=Oi,Fl=Dr("display","block table"),kl=Dr("float","left right"),El=Cl(xl,Sl,H(kl)),_l=H(Dr("white-space","pre pre-line pre-wrap")),Ol=zr,Ul=Xr,Tl=aA.nodeIndex,Ll=vl,Nl=e=>"createRange"in e?e.createRange():aA.DOM.createRng(),Ql=e=>e&&/[\r\n\t ]/.test(e),Dl=e=>!!e.setStart&&!!e.setEnd,Il=e=>{const t=e.startContainer,n=e.startOffset;if(Ql(e.toString())&&_l(t.parentNode)&&zr(t)){const e=t.data;if(Ql(e[n-1])||Ql(e[n+1]))return!0}return!1},Hl=e=>{const t=e.ownerDocument,n=Nl(t),o=t.createTextNode(zs),r=e.parentNode;r.insertBefore(o,e),n.setStart(o,0),n.setEnd(o,1);const s=il(n.getBoundingClientRect());return r.removeChild(o),s},Ml=e=>{const t=e.startContainer,n=e.endContainer,o=e.startOffset,r=e.endOffset;if(t===n&&zr(n)&&0===o&&1===r){const t=e.cloneRange();return t.setEndAfter(n),Pl(t)}return null},Rl=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Pl=e=>{let t;const n=e.getClientRects();return t=n.length>0?il(n[0]):il(e.getBoundingClientRect()),!Dl(e)&&Ul(e)&&Rl(t)?Hl(e):Rl(t)&&Dl(e)?Ml(e):t},Vl=(e,t)=>{const n=al(e,t);return n.width=1,n.right=n.left+1,n},jl=e=>{const t=[],n=e=>{0!==e.height&&(t.length>0&&Al(e,t[t.length-1])||t.push(e))},o=(e,o)=>{const r=Nl(e.ownerDocument);if(o<e.data.length){if(yl(e.data[o]))return t;if(yl(e.data[o-1])&&(r.setStart(e,o),r.setEnd(e,o+1),!Il(r)))return n(Vl(Pl(r),!1)),t}o>0&&(r.setStart(e,o-1),r.setEnd(e,o),Il(r)||n(Vl(Pl(r),!1))),o<e.data.length&&(r.setStart(e,o),r.setEnd(e,o+1),Il(r)||n(Vl(Pl(r),!0)))},r=e.container(),s=e.offset();if(Ol(r))return o(r,s),t;if(xl(r))if(e.isAtEnd()){const e=Ll(r,s);Ol(e)&&o(e,e.data.length),El(e)&&!Ul(e)&&n(Vl(Pl(e),!1))}else{const i=Ll(r,s);if(Ol(i)&&o(i,0),El(i)&&e.isAtEnd())return n(Vl(Pl(i),!1)),t;const a=Ll(e.container(),e.offset()-1);El(a)&&!Ul(a)&&(Fl(a)||Fl(i)||!El(i))&&n(Vl(Pl(a),!1)),El(i)&&n(Vl(Pl(i),!0))}return t},zl=(e,t,n)=>{const o=()=>(Ol(e),0===t),r=()=>Ol(e)?t>=e.data.length:t>=e.childNodes.length,s=()=>{const n=Nl(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},i=()=>(n||(n=jl(zl(e,t))),n),a=()=>i().length>0,A=n=>n&&e===n.container()&&t===n.offset(),l=n=>Ll(e,n?t-1:t);return{container:N(e),offset:N(t),toRange:s,getClientRects:i,isVisible:a,isAtStart:o,isAtEnd:r,isEqual:A,getNode:l}};zl.fromRangeStart=e=>zl(e.startContainer,e.startOffset),zl.fromRangeEnd=e=>zl(e.endContainer,e.endOffset),zl.after=e=>zl(e.parentNode,Tl(e)+1),zl.before=e=>zl(e.parentNode,Tl(e)),zl.isAbove=(e,t)=>gn(pe(t.getClientRects()),fe(e.getClientRects()),cl).getOr(!1),zl.isBelow=(e,t)=>gn(fe(t.getClientRects()),pe(e.getClientRects()),ul).getOr(!1),zl.isAtStart=e=>!!e&&e.isAtStart(),zl.isAtEnd=e=>!!e&&e.isAtEnd(),zl.isTextPosition=e=>!!e&&zr(e.container()),zl.isElementPosition=e=>!1===zl.isTextPosition(e);const Kl=(e,t)=>{zr(t)&&0===t.data.length&&e.remove(t)},Wl=(e,t,n)=>{t.insertNode(n),Kl(e,n.previousSibling),Kl(e,n.nextSibling)},Gl=(e,t,n)=>{const o=z.from(n.firstChild),r=z.from(n.lastChild);t.insertNode(n),o.each((t=>Kl(e,t.previousSibling))),r.each((t=>Kl(e,t.nextSibling)))},ql=(e,t,n)=>{Zr(n)?Gl(e,t,n):Wl(e,t,n)},Zl=zr,Xl=Mr,Jl=aA.nodeIndex,Yl=e=>{const t=e.parentNode;return Xl(t)?Yl(t):t},$l=e=>e?je(e.childNodes,((e,t)=>(Xl(t)&&"BR"!==t.nodeName?e=e.concat($l(t)):e.push(t),e)),[]):[],ec=(e,t)=>{while(e=e.previousSibling){if(!Zl(e))break;t+=e.data.length}return t},tc=e=>t=>e===t,nc=e=>{let t,n;t=$l(Yl(e)),n=ze(t,tc(e),e),t=t.slice(0,n+1);const o=je(t,((e,n,o)=>(Zl(n)&&Zl(t[o-1])&&e++,e)),0);return t=Pe(t,Qr([e.nodeName])),n=ze(t,tc(e),e),n-o},oc=e=>{let t;return t=Zl(e)?"text()":e.nodeName.toLowerCase(),t+"["+nc(e)+"]"},rc=(e,t,n)=>{const o=[];for(t=t.parentNode;t!==e;t=t.parentNode){if(n&&n(t))break;o.push(t)}return o},sc=(e,t)=>{let n,o,r,s,i,a=[];return n=t.container(),o=t.offset(),Zl(n)?r=ec(n,o):(s=n.childNodes,o>=s.length?(r="after",o=s.length-1):r="before",n=s[o]),a.push(oc(n)),i=rc(e,n),i=Pe(i,H(Mr)),a=a.concat(Re(i,(e=>oc(e)))),a.reverse().join("/")+","+r},ic=(e,t,n)=>{let o=$l(e);return o=Pe(o,((e,t)=>!Zl(e)||!Zl(o[t-1]))),o=Pe(o,Qr([t])),o[n]},ac=(e,t)=>{let n,o=e,r=0;while(Zl(o)){if(n=o.data.length,t>=r&&t<=r+n){e=o,t-=r;break}if(!Zl(o.nextSibling)){e=o,t=n;break}r+=n,o=o.nextSibling}return Zl(e)&&t>e.data.length&&(t=e.data.length),zl(e,t)},Ac=(e,t)=>{let n;if(!t)return null;const o=t.split(","),r=o[0].split("/");n=o.length>1?o[1]:"before";const s=je(r,((e,t)=>{const n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),ic(e,n[1],parseInt(n[2],10))):null}),e);return s?Zl(s)?ac(s,parseInt(n,10)):(n="after"===n?Jl(s)+1:Jl(s),zl(s.parentNode,n)):null},lc=$r,cc=(e,t,n)=>{let o,r;for(r=e(t.data.slice(0,n)).length,o=t.previousSibling;o&&zr(o);o=o.previousSibling)r+=e(o.data).length;return r},uc=(e,t,n,o,r)=>{let s=o[r?"startContainer":"endContainer"],i=o[r?"startOffset":"endOffset"];const a=[];let A,l=0;const c=e.getRoot();for(zr(s)?a.push(n?cc(t,s,i):i):(A=s.childNodes,i>=A.length&&A.length&&(l=1,i=Math.max(0,A.length-1)),a.push(e.nodeIndex(A[i],n)+l));s&&s!==c;s=s.parentNode)a.push(e.nodeIndex(s,n));return a},dc=(e,t,n,o)=>{const r=t.dom,s=uc(r,e,n,o,!0),i=t.isForward(),a=yi(o)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:s,forward:i,...a};{const t=uc(r,e,n,o,!1);return{start:s,end:t,forward:i,...a}}},mc=(e,t,n)=>{let o=0;return dn.each(e.select(t),(e=>{if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void o++})),o},hc=(e,t)=>{let n,o;const r=t?"start":"end";if(n=e[r+"Container"],o=e[r+"Offset"],Nr(n)&&"TR"===n.nodeName){const r=n.childNodes;n=r[Math.min(t?o:o-1,r.length-1)],n&&(o=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,o))}},gc=e=>(hc(e,!0),hc(e,!1),e),pc=(e,t)=>{let n;if(Nr(e)&&(e=bl(e,t),lc(e)))return e;if(ui(e)){if(zr(e)&&li(e)&&(e=e.parentNode),n=e.previousSibling,lc(n))return n;if(n=e.nextSibling,lc(n))return n}},fc=e=>pc(e.startContainer,e.startOffset)||pc(e.endContainer,e.endOffset),bc=(e,t,n)=>{const o=n.getNode();let r=o?o.nodeName:null;const s=n.getRng();if(lc(o)||"IMG"===r)return{name:r,index:mc(n.dom,r,o)};const i=fc(s);return i?(r=i.tagName,{name:r,index:mc(n.dom,r,i)}):dc(e,n,t,s)},vc=e=>{const t=e.getRng();return{start:sc(e.dom.getRoot(),zl.fromRangeStart(t)),end:sc(e.dom.getRoot(),zl.fromRangeEnd(t)),forward:e.isForward()}},wc=e=>({rng:e.getRng(),forward:e.isForward()}),yc=(e,t,n)=>{const o={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",o,"&#xFEFF;"):e.create("span",o)},Bc=(e,t)=>{const n=e.dom;let o=e.getRng();const r=n.uniqueId(),s=e.isCollapsed(),i=e.getNode(),a=i.nodeName,A=e.isForward();if("IMG"===a)return{name:a,index:mc(n,a,i)};const l=gc(o.cloneRange());if(!s){l.collapse(!1);const e=yc(n,r+"_end",t);ql(n,l,e)}o=gc(o),o.collapse(!0);const c=yc(n,r+"_start",t);return ql(n,o,c),e.moveToBookmark({id:r,keep:!0,forward:A}),{id:r,forward:A}},Cc=(e,t,n)=>2===t?bc(ii,n,e):3===t?vc(e):t?wc(e):Bc(e,!1),xc=I(bc,Q,!0),Sc=e=>{const t=t=>t(e),n=N(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:j,isError:V,map:t=>Ec.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>z.some(e)};return r},Fc=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:V,isError:j,map:t,mapError:t=>Ec.error(t(e)),bind:t,exists:V,forall:j,getOr:Q,or:Q,getOrThunk:R,orThunk:R,getOrDie:M(String(e)),each:U,toOptional:z.none};return n},kc=(e,t)=>e.fold((()=>Fc(t)),Sc),Ec={value:Sc,error:Fc,fromOption:kc},_c=e=>{if(!B(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return $(e,((o,r)=>{const s=ye(o);if(1!==s.length)throw new Error("one and only one name per case");const i=s[0],a=o[i];if(void 0!==n[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!B(a))throw new Error("case arguments must be an array");t.push(i),n[i]=(...n)=>{const o=n.length;if(o!==a.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+a.length+" ("+a+"), got "+o);const s=e=>{const o=ye(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));const r=ce(t,(e=>X(o,e)));if(!r)throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,n)};return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);const o=t[r];return o.apply(null,n)},match:s,log:e=>{console.log(e,{constructors:t,constructor:i,params:n})}}}})),n},Oc={generate:_c};Oc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Uc=e=>{const t=[],n=[];return $(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}},Tc=e=>"inline-command"===e.type||"inline-format"===e.type,Lc=e=>"block-command"===e.type||"block-format"===e.type,Nc=e=>he(e,((e,t)=>e.start.length===t.start.length?0:e.start.length>t.start.length?-1:1)),Qc=e=>{const t=t=>Ec.error({message:t,pattern:e}),n=(n,o,r)=>{if(void 0!==e.format){let r;if(B(e.format)){if(!ce(e.format,v))return t(n+" pattern has non-string items in the `format` array");r=e.format}else{if(!v(e.format))return t(n+" pattern has non-string `format` parameter");r=[e.format]}return Ec.value(o(r))}return void 0!==e.cmd?v(e.cmd)?Ec.value(r(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter"):t(n+" pattern is missing both `format` and `cmd` parameters")};if(!w(e))return t("Raw pattern is not an object");if(!v(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!v(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let o=e.start,r=e.end;return 0===r.length&&(r=o,o=""),n("Inline",(e=>({type:"inline-format",start:o,end:r,format:e})),((e,t)=>({type:"inline-command",start:o,end:r,cmd:e,value:t})))}return void 0!==e.replacement?v(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):Ec.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,n)=>({type:"block-command",start:e.start,cmd:t,value:n})))},Dc=e=>Nc(ne(e,Lc)),Ic=e=>ne(e,Tc),Hc=e=>({inlinePatterns:Ic(e),blockPatterns:Dc(e)}),Mc=e=>{const t=Uc(Y(e,Qc));return $(t.errors,(e=>console.error(e.message,e.pattern))),t.values},Rc=Gt().deviceType,Pc=Rc.isTouch(),Vc=aA.DOM,jc=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return re(t,((e,t)=>{const n=t.split("="),o=n[0],r=n.length>1?n[1]:o;return e[ut(o)]=ut(r),e}),{})},zc=e=>b(e,RegExp),Kc=e=>t=>t.options.get(e),Wc=e=>v(e)||w(e),Gc=(e,t="")=>n=>{const o=v(n);if(o){if(-1!==n.indexOf("=")){const r=jc(n);return{value:Te(r,e.id).getOr(t),valid:o}}return{value:n,valid:o}}return{valid:!1,message:"Must be a string."}},qc=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean"}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Gc(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Gc(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=v(e)&&ht(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=X(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>x(e)||v(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||v(e)||O(e,v);return t?v(e)?{value:Y(e.split(","),ut),valid:t}:B(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:ju(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=v(e)||O(e,v);if(t){const n=B(e)?e:Y(e.split(","),ut);return{value:n,valid:t}}return{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=x(e)||v(e);return t?!1===e||Rc.isiPhone()||Rc.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!Pc}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||v(e)||E(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("preview_styles",{processor:e=>{const t=!1===e||v(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Wc}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Wc}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Wc}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>v(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>{if(O(e,w)||!1===e){const t=!1===e?[]:e;return{value:Mc(t),valid:!0}}return{valid:!1,message:"Must be an array of objects or false."}},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>O(e,zc)?{value:e,valid:!0}:zc(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:kA.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:Vc.getAttrib(e.getElement(),"placeholder")})}))},Zc=Kc("iframe_attrs"),Xc=Kc("doctype"),Jc=Kc("document_base_url"),Yc=Kc("body_id"),$c=Kc("body_class"),eu=Kc("content_security_policy"),tu=Kc("br_in_pre"),nu=Kc("forced_root_block"),ou=Kc("forced_root_block_attrs"),ru=Kc("newline_behavior"),su=Kc("br_newline_selector"),iu=Kc("no_newline_selector"),au=Kc("keep_styles"),Au=Kc("end_container_on_empty_block"),lu=Kc("automatic_uploads"),cu=Kc("images_reuse_filename"),uu=Kc("images_replace_blob_uris"),du=Kc("icons"),mu=Kc("icons_url"),hu=Kc("images_upload_url"),gu=Kc("images_upload_base_path"),pu=Kc("images_upload_credentials"),fu=Kc("images_upload_handler"),bu=Kc("content_css_cors"),vu=Kc("referrer_policy"),wu=Kc("language"),yu=Kc("language_url"),Bu=Kc("indent_use_margin"),Cu=Kc("indentation"),xu=Kc("content_css"),Su=Kc("content_style"),Fu=Kc("font_css"),ku=Kc("directionality"),Eu=Kc("inline_boundaries_selector"),_u=Kc("object_resizing"),Ou=Kc("resize_img_proportional"),Uu=Kc("placeholder"),Tu=Kc("event_root"),Lu=Kc("service_message"),Nu=Kc("theme"),Qu=Kc("theme_url"),Du=Kc("model"),Iu=Kc("model_url"),Hu=Kc("inline_boundaries"),Mu=Kc("formats"),Ru=Kc("preview_styles"),Pu=Kc("format_empty_lines"),Vu=Kc("custom_ui_selector"),ju=Kc("inline"),zu=Kc("hidden_input"),Ku=Kc("submit_patch"),Wu=Kc("add_form_submit_trigger"),Gu=Kc("add_unload_trigger"),qu=Kc("custom_undo_redo_levels"),Zu=Kc("disable_nodechange"),Xu=Kc("readonly"),Ju=Kc("content_css_cors"),Yu=Kc("plugins"),$u=Kc("external_plugins"),ed=Kc("block_unsupported_drop"),td=Kc("visual"),nd=Kc("visual_table_class"),od=Kc("visual_anchor_class"),rd=Kc("iframe_aria_text"),sd=Kc("setup"),id=Kc("init_instance_callback"),ad=Kc("urlconverter_callback"),Ad=Kc("auto_focus"),ld=Kc("browser_spellcheck"),cd=Kc("protect"),ud=Kc("paste_block_drop"),dd=Kc("paste_data_images"),md=Kc("paste_preprocess"),hd=Kc("paste_postprocess"),gd=Kc("paste_webkit_styles"),pd=Kc("paste_remove_styles_if_webkit"),fd=Kc("paste_merge_formats"),bd=Kc("smart_paste"),vd=Kc("paste_as_text"),wd=Kc("paste_tab_spaces"),yd=Kc("allow_html_data_urls"),Bd=Kc("text_patterns"),Cd=Kc("noneditable_class"),xd=Kc("editable_class"),Sd=Kc("noneditable_regexp"),Fd=e=>dn.explode(e.options.get("font_size_style_values")),kd=e=>dn.explode(e.options.get("font_size_classes")),Ed=e=>"xml"===e.options.get("encoding"),_d=e=>dn.explode(e.options.get("images_file_types")),Od=Kc("table_tab_navigation"),Ud=Nr,Td=zr,Ld=e=>{const t=e.parentNode;t&&t.removeChild(e)},Nd=e=>{const t=ii(e);return{count:e.length-t.length,text:t}},Qd=e=>{let t;while(-1!==(t=e.data.lastIndexOf(ri)))e.deleteData(t,1)},Dd=(e,t)=>(Vd(e),t),Id=(e,t)=>{const n=Nd(e.data.substr(0,t.offset())),o=Nd(e.data.substr(t.offset())),r=n.text+o.text;return r.length>0?(Qd(e),zl(e,t.offset()-n.count)):t},Hd=(e,t)=>{const n=t.container(),o=Z(be(n.childNodes),e).map((e=>e<t.offset()?zl(n,t.offset()-1):t)).getOr(t);return Vd(e),o},Md=(e,t)=>Td(e)&&t.container()===e?Id(e,t):Dd(e,t),Rd=(e,t)=>t.container()===e.parentNode?Hd(e,t):Dd(e,t),Pd=(e,t)=>zl.isTextPosition(t)?Md(e,t):Rd(e,t),Vd=e=>{Ud(e)&&ui(e)&&(di(e)?e.removeAttribute("data-mce-caret"):Ld(e)),Td(e)&&(Qd(e),0===e.data.length&&Ld(e))},jd=$r,zd=ts,Kd=es,Wd="*[contentEditable=false],video,audio,embed,object",Gd=(e,t,n)=>{const o=al(t.getBoundingClientRect(),n);let r,s;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;r=e.scrollLeft||t.scrollLeft,s=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();r=e.scrollLeft-t.left,s=e.scrollTop-t.top}o.left+=r,o.right+=r,o.top+=s,o.bottom+=s,o.width=1;let i=t.offsetWidth-t.clientWidth;return i>0&&(n&&(i*=-1),o.left+=i,o.right+=i),o},qd=e=>{const t=qs(io.fromDom(e),Wd);for(let n=0;n<t.length;n++){const e=t[n].dom;let o=e.previousSibling;if(bi(o)){const e=o.data;1===e.length?o.parentNode.removeChild(o):o.deleteData(e.length-1,1)}if(o=e.nextSibling,fi(o)){const e=o.data;1===e.length?o.parentNode.removeChild(o):o.deleteData(0,1)}}},Zd=(e,t,n,o)=>{const r=OA();let s,i;const a=nu(e),A=e.dom,l=(e,o)=>{let s;if(c(),Kd(o))return null;if(!n(o))return i=mi(o,e),s=o.ownerDocument.createRange(),Jd(i.nextSibling)?(s.setStart(i,0),s.setEnd(i,0)):(s.setStart(i,1),s.setEnd(i,1)),s;{i=pi(a,o,e);const n=Gd(t,o,e);A.setStyle(i,"top",n.top);const l=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(l,{...n}),A.add(t,l),r.set({caret:l,element:o,before:e}),e&&A.addClass(l,"mce-visual-caret-before"),u(),s=o.ownerDocument.createRange(),s.setStart(i,0),s.setEnd(i,0)}return s},c=()=>{qd(t),i&&(Vd(i),i=null),r.on((e=>{A.remove(e.caret),r.clear()})),s&&(clearInterval(s),s=void 0)},u=()=>{s=setInterval((()=>{r.on((e=>{o()?A.toggleClass(e.caret,"mce-visual-caret-hidden"):A.addClass(e.caret,"mce-visual-caret-hidden")}))}),500)},d=()=>{r.on((e=>{const n=Gd(t,e.element,e.before);A.setStyles(e.caret,{...n})}))},m=()=>clearInterval(s),h=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{show:l,hide:c,getCss:h,reposition:d,destroy:m}},Xd=()=>en.browser.isFirefox(),Jd=e=>jd(e)||zd(e),Yd=e=>Jd(e)||Pr(e)&&Xd(),$d=Yr,em=$r,tm=ts,nm=Dr("display","block table table-cell table-caption list-item"),om=ui,rm=li,sm=Nr,im=Oi,am=e=>e>0,Am=e=>e<0,lm=(e,t)=>{let n;while(n=e(t))if(!rm(n))return n;return null},cm=(e,t,n,o,r)=>{const s=new vs(e,o),i=em(e)||rm(e);if(Am(t)){if(i&&(e=lm(s.prev.bind(s),!0),n(e)))return e;while(e=lm(s.prev.bind(s),r))if(n(e))return e}if(am(t)){if(i&&(e=lm(s.next.bind(s),!0),n(e)))return e;while(e=lm(s.next.bind(s),r))if(n(e))return e}return null},um=(e,t)=>{const n=e=>$d(e.dom),o=e=>e.dom===t;return As(io.fromDom(e),n,o).map((e=>e.dom)).getOr(t)},dm=(e,t)=>{while(e&&e!==t){if(nm(e))return e;e=e.parentNode}return null},mm=(e,t,n)=>dm(e.container(),n)===dm(t.container(),n),hm=(e,t)=>{if(!t)return null;const n=t.container(),o=t.offset();return sm(n)?n.childNodes[o+e]:null},gm=(e,t)=>{const n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},pm=(e,t,n)=>dm(t,e)===dm(n,e),fm=(e,t,n)=>{const o=e?"previousSibling":"nextSibling";while(n&&n!==t){let e=n[o];if(om(e)&&(e=e[o]),em(e)||tm(e)){if(pm(t,e,n))return e;break}if(im(e))break;n=n.parentNode}return null},bm=I(gm,!0),vm=I(gm,!1),wm=(e,t,n)=>{let o;const r=I(fm,!0,t),s=I(fm,!1,t);let i=n.startContainer;const a=n.startOffset;if(li(i)){sm(i)||(i=i.parentNode);const e=i.getAttribute("data-mce-caret");if("before"===e&&(o=i.nextSibling,Yd(o)))return bm(o);if("after"===e&&(o=i.previousSibling,Yd(o)))return vm(o)}if(!n.collapsed)return n;if(zr(i)){if(om(i)){if(1===e){if(o=s(i),o)return bm(o);if(o=r(i),o)return vm(o)}if(-1===e){if(o=r(i),o)return vm(o);if(o=s(i),o)return bm(o)}return n}if(bi(i)&&a>=i.data.length-1)return 1===e&&(o=s(i),o)?bm(o):n;if(fi(i)&&a<=1)return-1===e&&(o=r(i),o)?vm(o):n;if(a===i.data.length)return o=s(i),o?bm(o):n;if(0===a)return o=r(i),o?vm(o):n}return n},ym=(e,t)=>z.from(hm(e?0:-1,t)).filter(em),Bm=(e,t,n)=>{const o=wm(e,t,n);return-1===e?zl.fromRangeStart(o):zl.fromRangeEnd(o)},Cm=e=>z.from(e.getNode()).map(io.fromDom),xm=e=>z.from(e.getNode(!0)).map(io.fromDom),Sm=(e,t)=>{while(t=e(t))if(t.isVisible())return t;return t},Fm=(e,t)=>{const n=mm(e,t);return!(n||!Xr(e.getNode()))||n};var km;(function(e){e[e["Backwards"]=-1]="Backwards",e[e["Forwards"]=1]="Forwards"})(km||(km={}));const Em=$r,_m=zr,Om=Nr,Um=Xr,Tm=Oi,Lm=Qi,Nm=Di,Qm=(e,t)=>{const n=[];while(e&&e!==t)n.push(e),e=e.parentNode;return n},Dm=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Im=(e,t)=>{if(am(e)){if(Tm(t.previousSibling)&&!_m(t.previousSibling))return zl.before(t);if(_m(t))return zl(t,0)}if(Am(e)){if(Tm(t.nextSibling)&&!_m(t.nextSibling))return zl.after(t);if(_m(t))return zl(t,t.data.length)}return Am(e)?Um(t)?zl.before(t):zl.after(t):zl.before(t)},Hm=(e,t)=>{const n=t.nextSibling;return n&&Tm(n)?_m(n)?zl(n,0):zl.before(n):Mm(km.Forwards,zl.after(t),e)},Mm=(e,t,n)=>{let o,r,s,i;if(!Om(n)||!t)return null;if(t.isEqual(zl.after(n))&&n.lastChild){if(i=zl.after(n.lastChild),Am(e)&&Tm(n.lastChild)&&Om(n.lastChild))return Um(n.lastChild)?zl.before(n.lastChild):i}else i=t;const a=i.container();let A=i.offset();if(_m(a)){if(Am(e)&&A>0)return zl(a,--A);if(am(e)&&A<a.length)return zl(a,++A);o=a}else{if(Am(e)&&A>0&&(r=Dm(a,A-1),Tm(r)))return!Lm(r)&&(s=cm(r,e,Nm,r),s)?_m(s)?zl(s,s.data.length):zl.after(s):_m(r)?zl(r,r.data.length):zl.before(r);if(am(e)&&A<a.childNodes.length&&(r=Dm(a,A),Tm(r)))return Um(r)?Hm(n,r):!Lm(r)&&(s=cm(r,e,Nm,r),s)?_m(s)?zl(s,0):zl.before(s):_m(r)?zl(r,0):zl.after(r);o=r||i.getNode()}if((am(e)&&i.isAtEnd()||Am(e)&&i.isAtStart())&&(o=cm(o,e,j,n,!0),Nm(o,n)))return Im(e,o);r=cm(o,e,Nm,n);const l=Ke(ne(Qm(a,n),Em));return!l||r&&l.contains(r)?r?Im(e,r):null:(i=am(e)?zl.after(l):zl.before(l),i)},Rm=e=>({next:t=>Mm(km.Forwards,t,e),prev:t=>Mm(km.Backwards,t,e)}),Pm=(e,t,n)=>{const o=e?zl.before(n):zl.after(n);return qm(e,t,o)},Vm=e=>Xr(e)?zl.before(e):zl.after(e),jm=e=>zl.isTextPosition(e)?0===e.offset():Oi(e.getNode()),zm=e=>{if(zl.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return Oi(e.getNode(!0))},Km=(e,t)=>!zl.isTextPosition(e)&&!zl.isTextPosition(t)&&e.getNode()===t.getNode(!0),Wm=e=>!zl.isTextPosition(e)&&Xr(e.getNode()),Gm=(e,t,n)=>e?!Km(t,n)&&!Wm(t)&&zm(t)&&jm(n):!Km(n,t)&&jm(t)&&zm(n),qm=(e,t,n)=>{const o=Rm(t);return z.from(e?o.next(n):o.prev(n))},Zm=(e,t,n)=>qm(e,t,n).bind((o=>mm(n,o,t)&&Gm(e,n,o)?qm(e,t,o):z.some(o))),Xm=(e,t,n,o)=>Zm(e,t,n).bind((n=>o(n)?Xm(e,t,n,o):z.some(n))),Jm=(e,t)=>{const n=e?t.firstChild:t.lastChild;return zr(n)?z.some(zl(n,e?0:n.data.length)):n?Oi(n)?z.some(e?zl.before(n):Vm(n)):Pm(e,t,n):z.none()},Ym=I(qm,!0),$m=I(qm,!1),eh=I(Jm,!0),th=I(Jm,!1),nh="_mce_caret",oh=e=>Nr(e)&&e.id===nh,rh=(e,t)=>{while(t&&t!==e){if(t.id===nh)return t;t=t.parentNode}return null},sh=e=>v(e.start),ih=e=>Le(e,"rng"),ah=e=>Le(e,"id"),Ah=e=>Le(e,"name"),lh=e=>dn.isArray(e.start),ch=e=>!(!Ah(e)&&x(e.forward))||e.forward,uh=(e,t)=>(Nr(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),dh=(e,t)=>{const n=e.createRng(),o=Ac(e.getRoot(),t.start);n.setStart(o.container(),o.offset());const r=Ac(e.getRoot(),t.end);return n.setEnd(r.container(),r.offset()),{range:n,forward:ch(t)}},mh=(e,t)=>{const n=e.ownerDocument.createTextNode(ri);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},hh=e=>!1===e.hasChildNodes(),gh=(e,t)=>th(e).fold(V,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),ph=(e,t,n)=>!(!hh(t)||!rh(e,t))&&(mh(t,n),!0),fh=(e,t,n,o)=>{const r=n[t?"start":"end"];let s,i,a,A;const l=e.getRoot();if(r){for(a=r[0],i=l,s=r.length-1;s>=1;s--){if(A=i.childNodes,ph(l,i,o))return!0;if(r[s]>A.length-1)return!!ph(l,i,o)||gh(i,o);i=A[r[s]]}3===i.nodeType&&(a=Math.min(r[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(r[0],i.childNodes.length)),t?o.setStart(i,a):o.setEnd(i,a)}return!0},bh=e=>zr(e)&&e.data.length>0,vh=(e,t,n)=>{let o,r,s,i,a=e.get(n.id+"_"+t);const A=n.keep;let l,c;if(a){if(o=a.parentNode,"start"===t?(A?a.hasChildNodes()?(o=a.firstChild,r=1):bh(a.nextSibling)?(o=a.nextSibling,r=0):bh(a.previousSibling)?(o=a.previousSibling,r=a.previousSibling.data.length):(o=a.parentNode,r=e.nodeIndex(a)+1):r=e.nodeIndex(a),l=o,c=r):(A?a.hasChildNodes()?(o=a.firstChild,r=1):bh(a.previousSibling)?(o=a.previousSibling,r=a.previousSibling.data.length):(o=a.parentNode,r=e.nodeIndex(a)):r=e.nodeIndex(a),l=o,c=r),!A){i=a.previousSibling,s=a.nextSibling,dn.each(dn.grep(a.childNodes),(e=>{zr(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));while(a=e.get(n.id+"_"+t))e.remove(a,!0);i&&s&&i.nodeType===s.nodeType&&zr(i)&&!en.browser.isOpera()&&(r=i.nodeValue.length,i.appendData(s.nodeValue),e.remove(s),l=i,c=r)}return z.some(zl(l,c))}return z.none()},wh=(e,t)=>{const n=e.createRng();return fh(e,!0,t,n)&&fh(e,!1,t,n)?z.some({range:n,forward:ch(t)}):z.none()},yh=(e,t)=>{const n=vh(e,"start",t),o=vh(e,"end",t);return gn(n,o.or(n),((n,o)=>{const r=e.createRng();return r.setStart(uh(e,n.container()),n.offset()),r.setEnd(uh(e,o.container()),o.offset()),{range:r,forward:ch(t)}}))},Bh=(e,t)=>z.from(e.select(t.name)[t.index]).map((t=>{const n=e.createRng();return n.selectNode(t),{range:n,forward:!0}})),Ch=(e,t)=>{const n=e.dom;if(t){if(lh(t))return wh(n,t);if(sh(t))return z.some(dh(n,t));if(ah(t))return yh(n,t);if(Ah(t))return Bh(n,t);if(ih(t))return z.some({range:t.rng,forward:ch(t)})}return z.none()},xh=(e,t,n)=>Cc(e,t,n),Sh=(e,t)=>{Ch(e,t).each((({range:t,forward:n})=>{e.setRng(t,n)}))},Fh=e=>Nr(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),kh=e=>t=>e===t,Eh=kh(zs),_h=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),Oh=e=>!_h(e)&&!Eh(e)&&!Ks(e),Uh=e=>({value:e}),Th=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Lh=e=>{const t=Th(e.red)+Th(e.green)+Th(e.blue);return Uh(t)},Nh=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Qh=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Dh=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),Ih=(e,t,n,o)=>{const r=parseInt(e,10),s=parseInt(t,10),i=parseInt(n,10),a=parseFloat(o);return Dh(r,s,i,a)},Hh=e=>{if("transparent"===e)return z.some(Dh(0,0,0,0));const t=Nh.exec(e);if(null!==t)return z.some(Ih(t[1],t[2],t[3],"1"));const n=Qh.exec(e);return null!==n?z.some(Ih(n[1],n[2],n[3],n[4])):z.none()},Mh=e=>Hh(e).map(Lh).map((e=>"#"+e.value)).getOr(e),Rh=e=>!!e.nodeType,Ph=e=>e&&/^(IMG)$/.test(e.nodeName),Vh=(e,t,n)=>{const o=n.startOffset;let r=n.startContainer;if((r!==n.endContainer||!Ph(r.childNodes[o]))&&Nr(r)){const s=r.childNodes;let i;o<s.length?(r=s[o],i=new vs(r,e.getParent(r,e.isBlock))):(r=s[s.length-1],i=new vs(r,e.getParent(r,e.isBlock)),i.next(!0));for(let e=i.current();e;e=i.next())if(zr(e)&&!Wh(e))return n.setStart(e,0),void t.setRng(n)}},jh=(e,t,n)=>{if(e){const o=t?"nextSibling":"previousSibling";for(e=n?e:e[o];e;e=e[o])if(Nr(e)||!Wh(e))return e}},zh=(e,t)=>(Rh(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]),Kh=(e,t,n)=>e.schema.isValidChild(t,n),Wh=(e,t=!1)=>{if(k(e)&&zr(e)){const n=t?e.data.replace(/ /g," "):e.data;return Hi(n)}return!1},Gh=e=>k(e)&&zr(e)&&0===e.length,qh=(e,t)=>(E(e)?e=e(t):k(t)&&(e=e.replace(/%(\w+)/g,((e,n)=>t[n]||e))),e),Zh=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Xh=(e,t)=>("color"!==t&&"backgroundColor"!==t||(e=Mh(e)),"fontWeight"===t&&700===e&&(e="bold"),"fontFamily"===t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e),Jh=(e,t,n)=>Xh(e.getStyle(t,n),n),Yh=(e,t)=>{let n;return e.getParent(t,(t=>(n=e.getStyle(t,"text-decoration"),n&&"none"!==n))),n},$h=(e,t,n)=>e.getParents(t,n,e.getRoot()),eg=(e,t)=>{const n=e=>{const t=e=>e.length>1&&"%"===e.charAt(0);return J(["styles","attributes"],(n=>Te(e,n).exists((e=>{const n=B(e)?e:Ue(e);return J(n,t)}))))};return J(e.formatter.get(t),n)},tg=(e,t,n)=>{const o=["inline","block","selector","attributes","styles","classes"],r=e=>_e(e,((e,t)=>J(o,(e=>e===t))));return J(e.formatter.get(t),(t=>{const o=r(t);return J(e.formatter.get(n),(e=>{const t=r(e);return Qe(o,t)}))}))},ng=e=>Ne(e,"block"),og=e=>Ne(e,"selector"),rg=e=>Ne(e,"inline"),sg=e=>og(e)&&rg(e)&&mn(Te(e,"mixed"),!0),ig=e=>og(e)&&!1!==e.expand&&!rg(e),ag=Fh,Ag=$h,lg=Wh,cg=zh,ug=e=>Xr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,dg=(e,t)=>{let n=t;while(n){if(Nr(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},mg=(e,t,n,o)=>{const r=t.data;for(let s=n;e?s>=0:s<r.length;e?s--:s++)if(o(r.charAt(s)))return e?s+1:s;return-1},hg=(e,t,n)=>mg(e,t,n,(e=>Eh(e)||_h(e))),gg=(e,t,n)=>mg(e,t,n,Oh),pg=(e,t,n,o,r,s)=>{let i;const a=e.getParent(n,e.isBlock)||t,A=(t,n,o)=>{const s=rl(e),A=r?s.backwards:s.forwards;return z.from(A(t,n,((e,t)=>ag(e.parentNode)?-1:(i=e,o(r,e,t))),a))},l=A(n,o,hg);return l.bind((e=>s?A(e.container,e.offset+(r?-1:0),gg):z.some(e))).orThunk((()=>i?z.some({container:i,offset:r?0:i.length}):z.none()))},fg=(e,t,n,o,r)=>{zr(o)&&gt(o.data)&&o[r]&&(o=o[r]);const s=Ag(e,o);for(let i=0;i<s.length;i++)for(let o=0;o<t.length;o++){const r=t[o];if((!k(r.collapsed)||r.collapsed===n.collapsed)&&(og(r)&&e.is(s[i],r.selector)))return s[i]}return o},bg=(e,t,n,o)=>{let r=n;const s=e.dom,i=s.getRoot(),a=t[0];if(ng(a)&&(r=a.wrapper?null:s.getParent(n,a.block,i)),!r){const t=s.getParent(n,"LI,TD,TH");r=s.getParent(zr(n)?n.parentNode:n,(t=>t!==i&&cg(e,t)),t)}if(r&&ng(a)&&a.wrapper&&(r=Ag(s,r,"ul,ol").reverse()[0]||r),!r){r=n;while(r[o]&&!s.isBlock(r[o]))if(r=r[o],Zh(r,"br"))break}return r||n},vg=(e,t,n,o)=>{const r=n.parentNode;return!k(n[o])&&(!(r!==t&&!F(r)&&!e.isBlock(r))||vg(e,t,r,o))},wg=(e,t,n,o,r)=>{let s=n;const i=r?"previousSibling":"nextSibling",a=e.getRoot();if(zr(n)&&!lg(n)&&(r?o>0:o<n.data.length))return n;while(1){if(!t[0].block_expand&&e.isBlock(s))return s;for(let t=s[i];t;t=t[i]){const n=zr(t)&&!vg(e,a,t,i);if(!ag(t)&&!ug(t)&&!lg(t,n))return s}if(s===a||s.parentNode===a){n=s;break}s=s.parentNode}return n},yg=e=>ag(e.parentNode)||ag(e),Bg=(e,t,n,o=!1)=>{let{startContainer:r,startOffset:s,endContainer:i,endOffset:a}=t;const A=e.dom,l=n[0];if(Nr(r)&&r.hasChildNodes()&&(r=bl(r,s),zr(r)&&(s=0)),Nr(i)&&i.hasChildNodes()&&(i=bl(i,t.collapsed?a:a-1),zr(i)&&(a=i.nodeValue.length)),r=dg(A,r),i=dg(A,i),yg(r)&&(r=ag(r)?r:r.parentNode,r=t.collapsed?r.previousSibling||r:r.nextSibling||r,zr(r)&&(s=t.collapsed?r.length:0)),yg(i)&&(i=ag(i)?i:i.parentNode,i=t.collapsed?i.nextSibling||i:i.previousSibling||i,zr(i)&&(a=t.collapsed?0:i.length)),t.collapsed){const t=pg(A,e.getBody(),r,s,!0,o);t.each((({container:e,offset:t})=>{r=e,s=t}));const n=pg(A,e.getBody(),i,a,!1,o);n.each((({container:e,offset:t})=>{i=e,a=t}))}return(rg(l)||l.block_expand)&&(rg(l)&&zr(r)&&0!==s||(r=wg(A,n,r,s,!0)),rg(l)&&zr(i)&&a!==i.nodeValue.length||(i=wg(A,n,i,a,!1))),ig(l)&&(r=fg(A,n,t,r,"previousSibling"),i=fg(A,n,t,i,"nextSibling")),(ng(l)||og(l))&&(r=bg(e,n,r,"previousSibling"),i=bg(e,n,i,"nextSibling"),ng(l)&&(A.isBlock(r)||(r=wg(A,n,r,s,!0)),A.isBlock(i)||(i=wg(A,n,i,a,!1)))),Nr(r)&&(s=A.nodeIndex(r),r=r.parentNode),Nr(i)&&(a=A.nodeIndex(i)+1,i=i.parentNode),{startContainer:r,startOffset:s,endContainer:i,endOffset:a}},Cg=(e,t,n)=>{const o=t.startOffset,r=bl(t.startContainer,o),s=t.endOffset,i=bl(t.endContainer,s-1),a=e=>{const t=e[0];zr(t)&&t===r&&o>=t.data.length&&e.splice(0,1);const n=e[e.length-1];return 0===s&&e.length>0&&n===i&&zr(n)&&e.splice(e.length-1,1),e},A=(e,t,n)=>{const o=[];for(;e&&e!==n;e=e[t])o.push(e);return o},l=(t,n)=>e.getParent(t,(e=>e.parentNode===n),n),c=(e,t,o)=>{const r=o?"nextSibling":"previousSibling";for(let s=e,i=s.parentNode;s&&s!==t;s=i){i=s.parentNode;const t=A(s===e?s:s[r],r);t.length&&(o||t.reverse(),n(a(t)))}};if(r===i)return n(a([r]));const u=e.findCommonAncestor(r,i);if(e.isChildOf(r,i))return c(r,u,!0);if(e.isChildOf(i,r))return c(i,u);const d=l(r,u)||r,m=l(i,u)||i;c(r,d,!0);const h=A(d===r?d:d.nextSibling,"nextSibling",m===i?m.nextSibling:m);h.length&&n(a(h)),c(i,m)},xg=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Sg=e=>le(e,(e=>{const t=fl(e);return t?[io.fromDom(t)]:[]})),Fg=e=>xg(e).length>1,kg=e=>ne(Sg(e),Hs),Eg=e=>qs(e,"td[data-mce-selected],th[data-mce-selected]"),_g=(e,t)=>{const n=Eg(t);return n.length>0?n:kg(e)},Og=e=>_g(xg(e.selection.getSel()),io.fromDom(e.getBody())),Ug=(e,t)=>ms(e,"table",t),Tg=e=>{const t=e.startContainer,n=e.startOffset;return zr(t)?0===n?z.some(io.fromDom(t)):z.none():z.from(t.childNodes[n]).map(io.fromDom)},Lg=e=>{const t=e.endContainer,n=e.endOffset;return zr(t)?n===t.data.length?z.some(io.fromDom(t)):z.none():z.from(t.childNodes[n-1]).map(io.fromDom)},Ng=e=>_o(e).fold(N([e]),(t=>[e].concat(Ng(t)))),Qg=e=>Oo(e).fold(N([e]),(t=>"br"===Cn(t)?Co(t).map((t=>[e].concat(Qg(t)))).getOr([]):[e].concat(Qg(t)))),Dg=(e,t)=>gn(Tg(t),Lg(t),((t,n)=>{const o=ie(Ng(e),I(mo,t)),r=ie(Qg(e),I(mo,n));return o.isSome()&&r.isSome()})).getOr(!1),Ig=(e,t,n,o)=>{const r=n,s=new vs(n,r),i=_e(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!X(["td","th","table"],t.toLowerCase())));do{if(zr(n)&&0!==dn.trim(n.nodeValue).length)return void(o?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(i[n.nodeName])return void(o?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=o?s.next():s.prev());"BODY"===r.nodeName&&(o?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},Hg=e=>{const t=e.selection.getSel();return t&&t.rangeCount>0},Mg=(e,t)=>{const n=Og(e);n.length>0?$(n,(n=>{const o=n.dom,r=e.dom.createRng();r.setStartBefore(o),r.setEndAfter(o),t(r,!0)})):t(e.selection.getRng(),!1)},Rg=(e,t,n)=>{const o=Bc(e,t);n(o),e.moveToBookmark(o)},Pg=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Vg=e=>En(e)&&Js(e)===ri,jg=(e,t,n,o)=>vo(t).fold((()=>"skipping"),(r=>"br"===o||Vg(t)?"valid":PA(t)?"existing":oh(t.dom)?"caret":J(Pg,(e=>Ao(t,e)))?"valid-block":Kh(e,n,o)&&Kh(e,Cn(r),n)?"valid":"invalid-child")),zg=(e,t)=>{const n=Bg(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Kg=(e,t,n,o,r,s)=>{const{uid:i=t,...a}=n;Zn(e,LA()),Ln(e,`${QA()}`,i),Ln(e,`${NA()}`,o);const{attributes:A={},classes:l=[]}=r(i,a);if(Nn(e,A),XA(e,l),s){l.length>0&&Ln(e,`${IA()}`,l.join(","));const t=ye(A);t.length>0&&Ln(e,`${HA()}`,t.join(","))}},Wg=e=>{Jn(e,LA()),Hn(e,`${QA()}`),Hn(e,`${NA()}`),Hn(e,`${DA()}`);const t=Dn(e,`${HA()}`).map((e=>e.split(","))).getOr([]),n=Dn(e,`${IA()}`).map((e=>e.split(","))).getOr([]);$(t,(t=>Hn(e,t))),JA(e,n),Hn(e,`${IA()}`),Hn(e,`${HA()}`)},Gg=(e,t,n,o,r)=>{const s=io.fromTag("span",e);return Kg(s,t,n,o,r,!1),s},qg=(e,t,n,o,r,s)=>{const i=[],a=Gg(e.getDoc(),n,s,o,r),A=OA(),l=()=>{A.clear()},c=()=>A.get().getOrThunk((()=>{const e=$A(a);return i.push(e),A.set(e),e})),u=e=>{$(e,d)},d=t=>{const i=jg(e,t,"span",Cn(t));switch(i){case"invalid-child":{l();const e=ko(t);u(e),l();break}case"valid-block":l(),Kg(t,n,s,o,r,!0);break;case"valid":{const e=c();or(t,e);break}}},m=e=>{const t=Y(e,io.fromDom);u(t)};return Cg(e.dom,t,(e=>{l(),m(e)})),i},Zg=(e,t,n,o)=>{e.undoManager.transact((()=>{const r=e.selection,s=r.getRng(),i=Og(e).length>0,a=ZA("mce-annotation");if(s.collapsed&&!i&&zg(e,s),r.getRng().collapsed&&!i){const s=Gg(e.getDoc(),a,o,t,n.decorate);dr(s,zs),r.getRng().insertNode(s.dom),r.select(s.dom)}else Rg(r,!1,(()=>{Mg(e,(r=>{qg(e,r,a,t,n.decorate,o)}))}))}))},Xg=e=>{const t=GA();WA(e,t);const n=KA(e,t),o=Un("span"),r=e=>{$(e,(e=>{o(e)?Ar(e):Wg(e)}))};return{register:(e,n)=>{t.register(e,n)},annotate:(n,o)=>{t.lookup(n).each((t=>{Zg(e,n,t,o)}))},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{const n=e.selection.getBookmark();RA(e,z.some(t)).each((({elements:e})=>{r(e)})),e.selection.moveToBookmark(n)},removeAll:t=>{const n=e.selection.getBookmark();Ce(zA(e,t),((e,t)=>{r(e)})),e.selection.moveToBookmark(n)},getAll:t=>{const n=zA(e,t);return xe(n,(e=>Y(e,(e=>e.dom))))}}},Jg=e=>({getBookmark:I(xh,e),moveToBookmark:I(Sh,e)});Jg.isBookmarkNode=Fh;const Yg=(e,t,n)=>!n.collapsed&&J(n.getClientRects(),(n=>dl(n,e,t))),$g=(e,t)=>e.dispatch("PreProcess",t),ep=(e,t)=>e.dispatch("PostProcess",t),tp=e=>e.dispatch("remove"),np=e=>e.dispatch("detach"),op=(e,t)=>e.dispatch("SwitchMode",{mode:t}),rp=(e,t,n,o,r)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:r})},sp=(e,t,n,o,r)=>{e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:r})},ip=e=>e.dispatch("PreInit"),ap=e=>e.dispatch("PostRender"),Ap=e=>e.dispatch("Init"),lp=(e,t)=>e.dispatch("PlaceholderToggle",{state:t}),cp=(e,t,n)=>e.dispatch(t,n),up=(e,t,n,o)=>e.dispatch("FormatApply",{format:t,node:n,vars:o}),dp=(e,t,n,o)=>e.dispatch("FormatRemove",{format:t,node:n,vars:o}),mp=(e,t)=>e.dispatch("BeforeSetContent",t),hp=(e,t)=>e.dispatch("SetContent",t),gp=(e,t)=>e.dispatch("BeforeGetContent",t),pp=(e,t)=>e.dispatch("GetContent",t),fp=(e,t)=>e.dispatch("AutocompleterStart",t),bp=(e,t)=>e.dispatch("AutocompleterUpdate",t),vp=e=>e.dispatch("AutocompleterEnd"),wp=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),yp=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),Bp=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Cp={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Cp.metaKeyPressed(e),metaKeyPressed:e=>en.os.isMacOS()||en.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},xp="data-mce-selected",Sp="table,img,figure.image,hr,video,span.mce-preview-object",Fp=Math.abs,kp=Math.round,Ep={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},_p=e=>"longpress"===e.type||0===e.type.indexOf("touch"),Op=(e,t)=>{const n=t.dom,o=t.getDoc(),r=document,s=t.getBody();let i,a,A,l,c,u,d,m,h,g,p,f,b,v,w,y,B;const C=e=>k(e)&&(Jr(e)||n.is(e,"figure.image")),x=e=>ts(e)||n.hasClass(e,"mce-preview-object"),S=(e,t)=>{if(_p(e)){const n=e.touches[0];return C(e.target)&&!Yg(n.clientX,n.clientY,t)}return C(e.target)&&!Yg(e.clientX,e.clientY,t)},F=e=>{const n=e.target;S(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},E=e=>n.is(e,"figure.image")?[e.querySelector("img")]:n.hasClass(e,"mce-preview-object")&&k(e.firstElementChild)?[e,e.firstElementChild]:[e],_=e=>{const o=_u(t);return!!o&&("false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&(n.hasClass(e,"mce-preview-object")?Ao(io.fromDom(e.firstElementChild),o):Ao(io.fromDom(e),o))))},O=e=>x(e)?n.create("img",{src:en.transparentSrc}):e.cloneNode(!0),U=(e,o,r)=>{if(k(r)){const s=E(e);$(s,(e=>{e.style[o]||!t.schema.isValid(e.nodeName.toLowerCase(),o)?n.setStyle(e,o,r):n.setAttrib(e,o,""+r)}))}},T=(e,t,n)=>{U(e,"width",t),U(e,"height",n)},L=e=>{let o,r,c,S,F;o=e.screenX-u,r=e.screenY-d,v=o*l[2]+g,w=r*l[3]+p,v=v<5?5:v,w=w<5?5:w,c=(C(i)||x(i))&&!1!==Ou(t)?!Cp.modifierPressed(e):Cp.modifierPressed(e),c&&(Fp(o)>Fp(r)?(w=kp(v*f),v=kp(w/f)):(v=kp(w/f),w=kp(v*f))),T(a,v,w),S=l.startPos.x+o,F=l.startPos.y+r,S=S>0?S:0,F=F>0?F:0,n.setStyles(A,{left:S,top:F,display:"block"}),A.innerHTML=v+" &times; "+w,l[2]<0&&a.clientWidth<=v&&n.setStyle(a,"left",m+(g-v)),l[3]<0&&a.clientHeight<=w&&n.setStyle(a,"top",h+(p-w)),o=s.scrollWidth-y,r=s.scrollHeight-B,o+r!==0&&n.setStyles(A,{left:S-o,top:F-r}),b||(rp(t,i,g,p,"corner-"+l.name),b=!0)},N=()=>{const e=b;b=!1,e&&(U(i,"width",v),U(i,"height",w)),n.unbind(o,"mousemove",L),n.unbind(o,"mouseup",N),r!==o&&(n.unbind(r,"mousemove",L),n.unbind(r,"mouseup",N)),n.remove(a),n.remove(A),n.remove(c),Q(i),e&&(sp(t,i,v,w,"corner-"+l.name),n.setAttrib(i,"style",n.getAttrib(i,"style"))),t.nodeChanged()},Q=e=>{R();const m=n.getPos(e,s),h=m.x,b=m.y,C=e.getBoundingClientRect(),x=C.width||C.right-C.left,S=C.height||C.bottom-C.top;i!==e&&(I(),i=e,v=w=0);const F=t.dispatch("ObjectSelected",{target:e});_(e)&&!F.isDefaultPrevented()?Ce(Ep,((e,t)=>{let m;const v=m=>{const v=E(i)[0];u=m.screenX,d=m.screenY,g=v.clientWidth,p=v.clientHeight,f=p/g,l=e,l.name=t,l.startPos={x:x*e[0]+h,y:S*e[1]+b},y=s.scrollWidth,B=s.scrollHeight,c=n.add(s,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(c,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),a=O(i),n.addClass(a,"mce-clonedresizable"),n.setAttrib(a,"data-mce-bogus","all"),a.contentEditable="false",n.setStyles(a,{left:h,top:b,margin:0}),T(a,x,S),a.removeAttribute(xp),s.appendChild(a),n.bind(o,"mousemove",L),n.bind(o,"mouseup",N),r!==o&&(n.bind(r,"mousemove",L),n.bind(r,"mouseup",N)),A=n.add(s,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},g+" &times; "+p)};m=n.get("mceResizeHandle"+t),m&&n.remove(m),m=n.add(s,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),n.bind(m,"mousedown",(e=>{e.stopImmediatePropagation(),e.preventDefault(),v(e)})),e.elm=m,n.setStyles(m,{left:x*e[0]+h-m.offsetWidth/2,top:S*e[1]+b-m.offsetHeight/2})})):I(!1)},D=UA(Q,0),I=(e=!0)=>{D.cancel(),R(),i&&e&&i.removeAttribute(xp),Ce(Ep,((e,t)=>{const o=n.get("mceResizeHandle"+t);o&&(n.unbind(o),n.remove(o))}))},H=(e,t)=>k(e)&&n.isChildOf(e,t),M=o=>{if(b||t.removed||t.composing)return;const r="mousedown"===o.type?o.target:e.getNode(),i=gs(io.fromDom(r),Sp).map((e=>e.dom)).getOrUndefined(),a=k(i)?n.getAttrib(i,xp,"1"):"1";if($(n.select(`img[${xp}],hr[${xp}]`),(e=>{e.removeAttribute(xp)})),H(i,s)){P();const t=e.getStart(!0);if(H(t,i)&&H(e.getEnd(!0),i))return n.setAttrib(i,xp,a),void D.throttle(i)}I()},R=()=>{Ce(Ep,(e=>{e.elm&&(n.unbind(e.elm),delete e.elm)}))},P=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};t.on("init",(()=>{P(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",M),t.on("keyup compositionend",(e=>{i&&"TABLE"===i.nodeName&&M(e)})),t.on("hide blur",I),t.on("contextmenu longpress",F,!0)})),t.on("remove",R);const V=()=>{D.cancel(),i=a=c=null};return{isResizable:_,showResizeRect:Q,hideResizeRect:I,updateResizeRect:M,destroy:V}},Up=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,n)=>{e.setStart(t.dom,n)}),(t=>{e.setStartAfter(t.dom)}))},Tp=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))},Lp=(e,t,n)=>{const o=e.document.createRange();return Up(o,t),Tp(o,n),o},Np=(e,t,n,o,r)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(o.dom,r),s},Qp=Oc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Dp=(e,t,n)=>t(io.fromDom(n.startContainer),n.startOffset,io.fromDom(n.endContainer),n.endOffset),Ip=(e,t)=>t.match({domRange:e=>({ltr:N(e),rtl:z.none}),relative:(t,n)=>({ltr:We((()=>Lp(e,t,n))),rtl:We((()=>z.some(Lp(e,n,t))))}),exact:(t,n,o,r)=>({ltr:We((()=>Np(e,t,n,o,r))),rtl:We((()=>z.some(Np(e,o,r,t,n))))})}),Hp=(e,t)=>{const n=t.ltr();if(n.collapsed){const o=t.rtl().filter((e=>!1===e.collapsed));return o.map((e=>Qp.rtl(io.fromDom(e.endContainer),e.endOffset,io.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Dp(e,Qp.ltr,n)))}return Dp(e,Qp.ltr,n)},Mp=(e,t)=>{const n=Ip(e,t);return Hp(e,n)};Qp.ltr,Qp.rtl;const Rp=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),Pp={create:Rp},Vp=(e,t,n)=>{var o,r;return z.from(null===(r=(o=e.dom).caretPositionFromPoint)||void 0===r?void 0:r.call(o,t,n)).bind((t=>{if(null===t.offsetNode)return z.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),z.some(n)}))},jp=(e,t,n)=>{var o,r;return z.from(null===(r=(o=e.dom).caretRangeFromPoint)||void 0===r?void 0:r.call(o,t,n))},zp=(()=>document.caretPositionFromPoint?Vp:document.caretRangeFromPoint?jp:z.none)(),Kp=(e,t,n)=>{const o=io.fromDom(e.document);return zp(o,t,n).map((e=>Pp.create(io.fromDom(e.startContainer),e.startOffset,io.fromDom(e.endContainer),e.endOffset)))},Wp=Oc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Gp=(e,t,n,o)=>e.fold(t,n,o),qp=e=>e.fold(Q,Q,Q),Zp=Wp.before,Xp=Wp.on,Jp=Wp.after,Yp={before:Zp,on:Xp,after:Jp,cata:Gp,getStart:qp},$p=Oc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ef=e=>$p.exact(e.start,e.soffset,e.finish,e.foffset),tf=e=>e.match({domRange:e=>io.fromDom(e.startContainer),relative:(e,t)=>Yp.getStart(e),exact:(e,t,n,o)=>e}),nf=$p.domRange,of=$p.relative,rf=$p.exact,sf=e=>{const t=tf(e);return bo(t)},af=Pp.create,Af={domRange:nf,relative:of,exact:rf,exactFromRange:ef,getWin:sf,range:af},lf=(e,t)=>{const n=Cn(e);return"input"===n?Yp.after(e):X(["br","img"],n)?0===t?Yp.before(e):Yp.after(e):Yp.on(e,t)},cf=(e,t)=>{const n=e.fold(Yp.before,lf,Yp.after),o=t.fold(Yp.before,lf,Yp.after);return Af.relative(n,o)},uf=(e,t,n,o)=>{const r=lf(e,t),s=lf(n,o);return Af.relative(r,s)},df=e=>e.match({domRange:e=>{const t=io.fromDom(e.startContainer),n=io.fromDom(e.endContainer);return uf(t,e.startOffset,n,e.endOffset)},relative:cf,exact:uf}),mf=(e,t)=>{const n=t||document,o=n.createDocumentFragment();return $(e,(e=>{o.appendChild(e.dom)})),io.fromDom(o)},hf=e=>{const t=Af.getWin(e).dom,n=(e,n,o,r)=>Np(t,e,n,o,r),o=df(e);return Mp(t,o).match({ltr:n,rtl:n})},gf=(e,t,n)=>Kp(e,t,n),pf=(e,t,n)=>gf(n.defaultView,e,t).map((e=>{const t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined(),ff=(e,t)=>e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,bf=(e,t,n)=>{while(e&&e!==t){if(n(e))return e;e=e.parentNode}return null},vf=(e,t,n)=>null!==bf(e,t,n),wf=(e,t,n)=>vf(e,t,(e=>e.nodeName===n)),yf=e=>e&&"TABLE"===e.nodeName,Bf=e=>e&&/^(TD|TH|CAPTION)$/.test(e.nodeName),Cf=(e,t)=>ui(e)&&!1===vf(e,t,oh),xf=(e,t,n)=>{const o=new vs(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());while(t=o[n?"prev":"next"]())if(Xr(t))return!0},Sf=(e,t)=>e.previousSibling&&e.previousSibling.nodeName===t,Ff=(e,t)=>{while(t&&t!==e){if($r(t))return!0;t=t.parentNode}return!1},kf=(e,t,n,o,r)=>{let s;const i=e.getRoot();let a;const A=e.schema.getNonEmptyElements(),l=e.getParent(r.parentNode,e.isBlock)||i;if(o&&Xr(r)&&t&&e.isEmpty(l))return z.some(zl(r.parentNode,e.nodeIndex(r)));const c=new vs(r,l);while(a=c[o?"prev":"next"]()){if("false"===e.getContentEditableParent(a)||Cf(a,i))return z.none();if(zr(a)&&a.nodeValue.length>0)return!1===wf(a,i,"A")?z.some(zl(a,o?a.nodeValue.length:0)):z.none();if(e.isBlock(a)||A[a.nodeName.toLowerCase()])return z.none();s=a}return Gr(s)?z.none():n&&s?z.some(zl(s,0)):z.none()},Ef=(e,t,n,o)=>{let r,s;const i=e.getRoot();let a,A,l=!1;r=o[(n?"start":"end")+"Container"],s=o[(n?"start":"end")+"Offset"];const c=Nr(r)&&s===r.childNodes.length,u=e.schema.getNonEmptyElements();if(A=n,ui(r))return z.none();if(Nr(r)&&s>r.childNodes.length-1&&(A=!1),qr(r)&&(r=i,s=0),r===i){if(A&&(a=r.childNodes[s>0?s-1:0],a)){if(ui(a))return z.none();if(u[a.nodeName]||yf(a))return z.none()}if(r.hasChildNodes()){if(s=Math.min(!A&&s>0?s-1:s,r.childNodes.length-1),r=r.childNodes[s],s=zr(r)&&c?r.data.length:0,!t&&r===i.lastChild&&yf(r))return z.none();if(Ff(i,r)||ui(r))return z.none();if(r.hasChildNodes()&&!1===yf(r)){a=r;const t=new vs(r,i);do{if($r(a)||ui(a)){l=!1;break}if(zr(a)&&a.nodeValue.length>0){s=A?0:a.nodeValue.length,r=a,l=!0;break}if(u[a.nodeName.toLowerCase()]&&!Bf(a)){s=e.nodeIndex(a),r=a.parentNode,A||s++,l=!0;break}}while(a=A?t.next():t.prev())}}}return t&&(zr(r)&&0===s&&kf(e,c,t,!0,r).each((e=>{r=e.container(),s=e.offset(),l=!0})),Nr(r)&&(a=r.childNodes[s],a||(a=r.childNodes[s-1]),!a||!Xr(a)||Sf(a,"A")||xf(e,a,!1)||xf(e,a,!0)||kf(e,c,t,!0,a).each((e=>{r=e.container(),s=e.offset(),l=!0})))),A&&!t&&zr(r)&&s===r.nodeValue.length&&kf(e,c,t,!1,r).each((e=>{r=e.container(),s=e.offset(),l=!0})),l?z.some(zl(r,s)):z.none()},_f=(e,t)=>{const n=t.collapsed,o=t.cloneRange(),r=zl.fromRangeStart(t);return Ef(e,n,!0,o).each((e=>{n&&zl.isAbove(r,e)||o.setStart(e.container(),e.offset())})),n||Ef(e,n,!1,o).each((e=>{o.setEnd(e.container(),e.offset())})),n&&o.collapse(!0),ff(t,o)?z.none():z.some(o)},Of=(e,t)=>e.splitText(t),Uf=e=>{let t=e.startContainer,n=e.startOffset,o=e.endContainer,r=e.endOffset;return t===o&&zr(t)?n>0&&n<t.nodeValue.length&&(o=Of(t,n),t=o.previousSibling,r>n?(r-=n,t=o=Of(o,r).previousSibling,r=o.nodeValue.length,n=0):r=0):(zr(t)&&n>0&&n<t.nodeValue.length&&(t=Of(t,n),n=0),zr(o)&&r>0&&r<o.nodeValue.length&&(o=Of(o,r).previousSibling,r=o.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:o,endOffset:r}},Tf=e=>{const t=(t,n)=>Cg(e,t,n),n=Uf,o=t=>_f(e,t).fold(V,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0)));return{walk:t,split:n,normalize:o}};Tf.compareRanges=ff,Tf.getCaretRangeFromPoint=pf,Tf.getSelectedNode=fl,Tf.getNode=bl;const Lf=(e,t)=>{const n=(t,n)=>{if(!_(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;eo(o)&&(o.style[e]=n+"px")},o=n=>{const o=t(n);if(o<=0||null===o){const t=Go(n,e);return parseFloat(t)||0}return o},r=o,s=(e,t)=>re(t,((t,n)=>{const o=Go(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0),i=(e,t,n)=>{const o=s(e,n),r=t>o?t-o:0;return r};return{set:n,get:o,getOuter:r,aggregate:s,max:i}},Nf=Lf("height",(e=>{const t=e.dom;return Vo(e)?t.getBoundingClientRect().height:t.offsetHeight})),Qf=e=>Nf.get(e),Df=()=>io.fromDom(document),If=(e,t)=>{const n=e.view(t);return n.fold(N([]),(t=>{const n=e.owner(t),o=If(e,n);return[t].concat(o)}))},Hf=(e,t)=>{const n=t.owner(e);return If(t,n)},Mf=e=>{var t;const n=e.dom===document?z.none():z.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement);return n.map(io.fromDom)},Rf=e=>po(e);var Pf=Object.freeze({__proto__:null,view:Mf,owner:Rf});const Vf=e=>{const t=Df(),n=Fr(t),o=Hf(e,Pf),r=Sr(e),s=oe(o,((e,t)=>{const n=Sr(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return yr(s.left+r.left+n.left,s.top+r.top+n.top)},jf=e=>"textarea"===Cn(e),zf=(e,t)=>{const n=e.dispatch("ScrollIntoView",t);return n.isDefaultPrevented()},Kf=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},Wf=(e,t)=>{const n=ko(e);if(0===n.length||jf(e))return{element:e,offset:t};if(t<n.length&&!jf(n[t]))return{element:n[t],offset:0};{const o=n[n.length-1];return jf(o)?{element:e,offset:t}:"img"===Cn(o)?{element:o,offset:1}:En(o)?{element:o,offset:Js(o).length}:{element:o,offset:ko(o).length}}},Gf=(e,t)=>{const n=xr(e),o=Qf(e);return{element:e,bottom:n.top+o,height:o,pos:n,cleanup:t}},qf=(e,t)=>{const n=Wf(e,t),o=io.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ri+"</span>");return $o(n.element,o),Gf(o,(()=>ar(o)))},Zf=e=>Gf(io.fromDom(e),U),Xf=(e,t,n,o)=>{eb(e,((r,s)=>Yf(e,t,n,o)),n)},Jf=(e,t,n,o,r)=>{const s={elm:o.element.dom,alignToTop:r};if(zf(e,s))return;const i=Fr(t).top;n(t,i,o,r),Kf(e,s)},Yf=(e,t,n,o)=>{const r=io.fromDom(e.getBody()),s=io.fromDom(e.getDoc());Yo(r);const i=qf(io.fromDom(n.startContainer),n.startOffset);Jf(e,s,t,i,o),i.cleanup()},$f=(e,t,n,o)=>{const r=io.fromDom(e.getDoc());Jf(e,r,n,Zf(t),o)},eb=(e,t,n)=>{const o=n.startContainer,r=n.startOffset,s=n.endContainer,i=n.endOffset;t(io.fromDom(o),io.fromDom(s));const a=e.dom.createRng();a.setStart(o,r),a.setEnd(s,i),e.selection.setRng(n)},tb=(e,t,n,o)=>{const r=e.pos;if(n)kr(r.left,r.top,o);else{const n=r.top-t+e.height;kr(r.left,n,o)}},nb=(e,t,n,o,r)=>{const s=n+t,i=o.pos.top,a=o.bottom,A=a-i>=n;if(i<t)tb(o,n,!1!==r,e);else if(i>s){const t=A?!1!==r:!0===r;tb(o,n,t,e)}else a>s&&!A&&tb(o,n,!0===r,e)},ob=(e,t,n,o)=>{const r=e.dom.defaultView.innerHeight;nb(e,t,r,n,o)},rb=(e,t,n,o)=>{const r=e.dom.defaultView.innerHeight;nb(e,t,r,n,o);const s=Vf(n.element),i=Ur(window);s.top<i.y?Er(n.element,!1!==o):s.top>i.bottom&&Er(n.element,!0===o)},sb=(e,t,n)=>Xf(e,ob,t,n),ib=(e,t,n)=>$f(e,t,ob,n),ab=(e,t,n)=>Xf(e,rb,t,n),Ab=(e,t,n)=>$f(e,t,rb,n),lb=(e,t,n)=>{const o=e.inline?ib:Ab;o(e,t,n)},cb=(e,t,n)=>{const o=e.inline?sb:ab;o(e,t,n)},ub=e=>e.dom.focus(),db=e=>{const t=Do(e).dom;return e.dom===t.activeElement},mb=(e=Df())=>z.from(e.dom.activeElement).map(io.fromDom),hb=e=>mb(Do(e)).filter((t=>e.dom.contains(t.dom))),gb=(e,t)=>{const n=En(t)?Js(t).length:ko(t).length+1;return e>n?n:e<0?0:e},pb=e=>Af.range(e.start,gb(e.soffset,e.start),e.finish,gb(e.foffset,e.finish)),fb=(e,t)=>!Lr(t.dom)&&(ho(e,t)||mo(e,t)),bb=e=>t=>fb(e,t.start)&&fb(e,t.finish),vb=e=>e.inline,wb=e=>Af.range(io.fromDom(e.startContainer),e.startOffset,io.fromDom(e.endContainer),e.endOffset),yb=e=>{const t=e.getSelection(),n=t&&0!==t.rangeCount?z.from(t.getRangeAt(0)):z.none();return n.map(wb)},Bb=e=>{const t=bo(e);return yb(t.dom).filter(bb(e))},Cb=(e,t)=>z.from(t).filter(bb(e)).map(pb),xb=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),z.some(t)}catch(n){return z.none()}},Sb=e=>{const t=vb(e)?Bb(io.fromDom(e.getBody())):z.none();e.bookmark=t.isSome()?t:e.bookmark},Fb=e=>{const t=e.bookmark?e.bookmark:z.none();return t.bind((t=>Cb(io.fromDom(e.getBody()),t))).bind(xb)},kb=e=>{Fb(e).each((t=>e.selection.setRng(t)))},Eb=e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")},_b={isEditorUIElement:Eb},Ob=(e,t)=>(_(t)||(t=0),setTimeout(e,t)),Ub=(e,t)=>(_(t)||(t=0),setInterval(e,t)),Tb={setEditorTimeout:(e,t,n)=>Ob((()=>{e.removed||t()}),n),setEditorInterval:(e,t,n)=>{const o=Ub((()=>{e.removed?clearInterval(o):t()}),n);return o}},Lb=e=>"nodechange"===e.type&&e.selectionChange,Nb=(e,t)=>{const n=()=>{t.throttle()};aA.DOM.bind(document,"mouseup",n),e.on("remove",(()=>{aA.DOM.unbind(document,"mouseup",n)}))},Qb=(e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))},Db=(e,t)=>{Qb(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(t=>{Lb(t)||Sb(e)}))},Ib=e=>{const t=UA((()=>{Sb(e)}),0);e.on("init",(()=>{e.inline&&Nb(e,t),Db(e,t)})),e.on("remove",(()=>{t.cancel()}))};let Hb;const Mb=aA.DOM,Rb=e=>_b.isEditorUIElement(e),Pb=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},Vb=(e,t)=>{const n=Vu(e),o=Mb.getParent(t,(t=>Rb(t)||!!n&&e.dom.is(t,n)));return null!==o},jb=e=>{try{const t=Do(io.fromDom(e.getElement()));return mb(t).fold((()=>document.body),(e=>e.dom))}catch(t){return document.body}},zb=(e,t)=>{const n=t.editor;Ib(n),n.on("focusin",(()=>{const t=e.focusedEditor;t!==n&&(t&&t.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(()=>{Tb.setEditorTimeout(n,(()=>{const t=e.focusedEditor;Vb(n,jb(n))||t!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Hb||(Hb=t=>{const n=e.activeEditor;n&&Ro(t).each((t=>{t.ownerDocument===document&&(t===document.body||Vb(n,t)||e.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},Mb.bind(document,"focusin",Hb))},Kb=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Mb.unbind(document,"focusin",Hb),Hb=null)},Wb=e=>{e.on("AddEditor",I(zb,e)),e.on("RemoveEditor",I(Kb,e))},Gb=(e,t)=>e.dom.getParent(t,(t=>"true"===e.dom.getContentEditable(t))),qb=e=>e.collapsed?z.from(bl(e.startContainer,e.startOffset)).map(io.fromDom):z.none(),Zb=(e,t)=>qb(t).bind((t=>Is(t)?z.some(t):!1===ho(e,t)?z.some(e):z.none())),Xb=(e,t)=>{Zb(io.fromDom(e.getBody()),t).bind((e=>eh(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},Jb=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Yb=e=>db(e)||hb(e).isSome(),$b=e=>e.iframeElement&&db(io.fromDom(e.iframeElement)),ev=e=>{const t=e.getBody();return t&&Yb(io.fromDom(t))},tv=e=>{const t=Do(io.fromDom(e.getElement()));return mb(t).filter((t=>!Pb(t.dom)&&Vb(e,t.dom))).isSome()},nv=e=>e.inline?ev(e):$b(e),ov=e=>nv(e)||tv(e),rv=e=>{const t=e.selection,n=e.getBody();let o=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===nv(e)&&Fb(e).each((t=>{e.selection.setRng(t),o=t}));const r=Gb(e,t.getNode());if(e.dom.isChildOf(r,n))return Jb(r),Xb(e,o),void sv(e);e.inline||(en.browser.isOpera()||Jb(n),e.getWin().focus()),(en.browser.isFirefox()||e.inline)&&(Jb(n),Xb(e,o)),sv(e)},sv=e=>e.editorManager.setActive(e),iv=(e,t)=>{e.removed||(t?sv(e):rv(e))},av=(e,t,n,o,r)=>{const s=n?t.startContainer:t.endContainer,i=n?t.startOffset:t.endOffset;return z.from(s).map(io.fromDom).map((e=>o&&t.collapsed?e:Eo(e,r(e,i)).getOr(e))).bind((e=>kn(e)?z.some(e):vo(e).filter(kn))).map((e=>e.dom)).getOr(e)},Av=(e,t,n)=>av(e,t,!0,n,((e,t)=>Math.min(Uo(e),t))),lv=(e,t,n)=>av(e,t,!1,n,((e,t)=>t>0?t-1:t)),cv=(e,t)=>{const n=e;while(e&&zr(e)&&0===e.length)e=t?e.nextSibling:e.previousSibling;return e||n},uv=(e,t)=>{let n,o,r;if(!t)return e;o=t.startContainer,r=t.endContainer;const s=t.startOffset,i=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(o===r&&i-s<2&&o.hasChildNodes()&&(n=o.childNodes[s]),3===o.nodeType&&3===r.nodeType&&(o=o.length===s?cv(o.nextSibling,!0):o.parentNode,r=0===i?cv(r.previousSibling,!1):r.parentNode,o&&o===r))?o:n&&3===n.nodeType?n.parentNode:n},dv=(e,t,n,o)=>{let r;const s=[],i=e.getRoot();if(n=e.getParent(n||Av(i,t,t.collapsed),e.isBlock),o=e.getParent(o||lv(i,t,t.collapsed),e.isBlock),n&&n!==i&&s.push(n),n&&o&&n!==o){r=n;const t=new vs(n,i);while((r=t.next())&&r!==o)e.isBlock(r)&&s.push(r)}return o&&n!==o&&o!==i&&s.push(o),s},mv=(e,t,n)=>z.from(t).map((t=>{const o=e.nodeIndex(t),r=e.createRng();return r.setStart(t.parentNode,o),r.setEnd(t.parentNode,o+1),n&&(Ig(e,r,t,!0),Ig(e,r,t,!1)),r})),hv=(e,t)=>Y(t,(t=>{const n=e.dispatch("GetSelectionRange",{range:t});return n.range!==t?n.range:t})),gv=e=>"img"===Cn(e)?1:Ys(e).fold((()=>ko(e).length),(e=>e.length)),pv=e=>Ys(e).filter((e=>0!==e.trim().length||e.indexOf(zs)>-1)).isSome(),fv=["img","br"],bv=e=>{const t=pv(e);return t||X(fv,Cn(e))},vv=e=>ds(e,bv),wv=e=>yv(e,bv),yv=(e,t)=>{const n=e=>{const o=ko(e);for(let r=o.length-1;r>=0;r--){const e=o[r];if(t(e))return z.some(e);const s=n(e);if(s.isSome())return s}return z.none()};return n(e)},Bv="[data-mce-autocompleter]",Cv=(e,t)=>{if(Sv(io.fromDom(e.getBody())).isNone()){const n=io.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());nr(n,io.fromDom(t.extractContents())),t.insertNode(n.dom),vo(n).each((e=>e.dom.normalize())),wv(n).map((t=>{e.selection.setCursorLocation(t.dom,gv(t))}))}},xv=e=>gs(e,Bv),Sv=e=>hs(e,Bv),Fv=(e,t)=>Sv(t).each((t=>{const n=e.selection.getBookmark();Ar(t),e.selection.moveToBookmark(n)})),kv={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Ev=(e,t,n)=>{const o=n?"lastChild":"firstChild",r=n?"prev":"next";if(e[o])return e[o];if(e!==t){let n=e[r];if(n)return n;for(let o=e.parent;o&&o!==t;o=o.parent)if(n=o[r],n)return n}},_v=e=>{if(!Hi(e.value))return!1;const t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},Ov=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Uv{constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}static create(e,t){const n=new Uv(e,kv[e]||1);return t&&Ce(t,((e,t)=>{n.attr(t,e)})),n}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const n=this;let o;if("string"!==typeof e)return void 0!==e&&null!==e&&Ce(e,((e,t)=>{n.attr(t,e)})),n;if(o=n.attributes){if(void 0!==t){if(null===t){if(e in o.map){delete o.map[e];let t=o.length;while(t--)if(o[t].name===e)return o.splice(t,1),n}return n}if(e in o.map){let n=o.length;while(n--)if(o[n].name===e){o[n].value=t;break}}else o.push({name:e,value:t});return o.map[e]=t,n}return o.map[e]}}clone(){const e=this,t=new Uv(e.name,e.type);let n;if(n=e.attributes){const e=[];e.map={};for(let t=0,o=n.length;t<o;t++){const o=n[t];"id"!==o.name&&(e[e.length]={name:o.name,value:o.value},e.map[o.name]=o.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent.insert(e,t),e.append(t),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){const e=this,t=e.parent,n=e.next,o=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):o.next=n,t.lastChild===e?(t.lastChild=o,o&&(o.next=null)):n.prev=o,e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();const o=t.parent||this;return n?(t===o.firstChild?o.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===o.lastChild?o.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=o,e}getAll(e){const t=this,n=[];for(let o=t.firstChild;o;o=Ev(o,t))o.name===e&&n.push(o);return n}children(){const e=this,t=[];for(let n=e.firstChild;n;n=n.next)t.push(n);return t}empty(){const e=this;if(e.firstChild){const t=[];for(let o=e.firstChild;o;o=Ev(o,e))t.push(o);let n=t.length;while(n--){const e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){const o=this;let r=o.firstChild;if(Ov(o))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(e[r.name])return!1;if(Ov(r))return!1}if(8===r.type)return!1;if(3===r.type&&!_v(r))return!1;if(3===r.type&&r.parent&&t[r.parent.name]&&Hi(r.value))return!1;if(n&&n(r))return!1}while(r=Ev(r,o));return!0}walk(e){return Ev(this,null,e)}}const Tv=(e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)),Lv=(e,t,n=0)=>{const o=e.toLowerCase();if(-1!==o.indexOf("[if ",n)&&Tv(o,n)){const e=o.indexOf("[endif]",n);return o.indexOf(">",e)}if(t){const e=o.indexOf(">",n);return-1!==e?e:o.length}{const t=/--!?>/g;t.lastIndex=n;const r=t.exec(e);return r?r.index+r[0].length:o.length}},Nv=(e,t,n)=>{const o=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,r=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,s=e.getVoidElements();let i=1,a=n;while(0!==i){o.lastIndex=a;while(1){const e=o.exec(t);if(null===e)return a;if("!"===e[1]){a=At(e[2],"--")?Lv(t,!1,e.index+3):Lv(t,!0,e.index+1);break}{r.lastIndex=o.lastIndex;const n=r.exec(t);if(C(n)||n.index!==o.lastIndex)continue;"/"===e[1]?i-=1:Le(s,e[2])||(i+=1),a=o.lastIndex+n[0].length;break}}}return a},Qv=(e,t)=>{const n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},Dv=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,o=e.schema;let r=Qv(e.getTempAttrs(),t);const s=o.getVoidElements();let i;while(i=n.exec(r)){const e=n.lastIndex,t=i[0].length;let a;a=s[i[1]]?e:Nv(o,r,e),r=r.substring(0,e-t)+r.substring(a),n.lastIndex=e-t}return ii(r)},Iv=Dv,Hv=(e,t)=>{const n=nu(e),o=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(o,"")},Mv=(e,t,n)=>{let o;"raw"===t.format?o=dn.trim(Iv(e.serializer,n.innerHTML)):"text"===t.format?(o=ii(n.innerText),o="\n"===o?"":o):o="tree"===t.format?e.serializer.serialize(n,t):Hv(e,e.serializer.serialize(n,t));const r="text"!==t.format&&!Ms(io.fromDom(n));return r&&v(o)?dn.trim(o):o},Rv=(e,t)=>z.from(e.getBody()).fold(N("tree"===t.format?new Uv("body",11):""),(n=>Mv(e,t,n))),Pv=dn.each,Vv=e=>{const t=(t,n)=>{if(t.nodeName!==n.nodeName)return!1;const o=t=>{const n={};return Pv(e.getAttribs(t),(o=>{const r=o.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=e.getAttrib(t,r))})),n},r=(e,t)=>{let n,o;for(o in e)if(Le(e,o)){if(n=t[o],"undefined"===typeof n)return!1;if(e[o]!==n)return!1;delete t[o]}for(o in t)if(Le(t,o))return!1;return!0};return!!r(o(t),o(n))&&(!!r(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!Fh(t)&&!Fh(n)))};return{compare:t}},jv=dn.makeMap,zv=e=>{const t=[];e=e||{};const n=e.indent,o=jv(e.indent_before||""),r=jv(e.indent_after||""),s=Ca.getEncodeFunc(e.entity_encoding||"raw",e.entities),i="xhtml"!==e.element_format;return{start:(e,a,A)=>{let l,c,u,d;if(n&&o[e]&&t.length>0&&(d=t[t.length-1],d.length>0&&"\n"!==d&&t.push("\n")),t.push("<",e),a)for(l=0,c=a.length;l<c;l++)u=a[l],t.push(" ",u.name,'="',s(u.value,!0),'"');t[t.length]=!A||i?">":" />",A&&n&&r[e]&&t.length>0&&(d=t[t.length-1],d.length>0&&"\n"!==d&&t.push("\n"))},end:e=>{let o;t.push("</",e,">"),n&&r[e]&&t.length>0&&(o=t[t.length-1],o.length>0&&"\n"!==o&&t.push("\n"))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:s(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,o)=>{o?t.push("<?",e," ",s(o),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Kv=(e,t=Da())=>{const n=zv(e);e=e||{},e.validate=!("validate"in e)||e.validate;const o=o=>{const r=e.validate,s={3:e=>{n.text(e.value,e.raw)},8:e=>{n.comment(e.value)},7:e=>{n.pi(e.name,e.value)},10:e=>{n.doctype(e.value)},4:e=>{n.cdata(e.value)},11:e=>{if(e=e.firstChild)do{i(e)}while(e=e.next)}};n.reset();const i=e=>{const o=s[e.type];if(o)o(e);else{const o=e.name,s=o in t.getVoidElements();let a=e.attributes;if(r&&a&&a.length>1){const n=[];n.map={};const o=t.getElementRule(e.name);if(o){for(let e=0,t=o.attributesOrder.length;e<t;e++){const t=o.attributesOrder[e];if(t in a.map){const e=a.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=a.length;e<t;e++){const t=a[e].name;if(!(t in n.map)){const e=a.map[t];n.map[t]=e,n.push({name:t,value:e})}}a=n}}if(n.start(o,a,s),!s){let t=e.firstChild;if(t){"pre"!==o&&"textarea"!==o||3!==t.type||"\n"!==t.value[0]||n.text("\n",!0);do{i(t)}while(t=t.next)}n.end(o)}}};return 1!==o.type||e.inner?3===o.type?s[3](o):s[11](o):i(o),n.getContent()};return{serialize:o}},Wv=new Set;(()=>{const e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];$(e,(e=>{Wv.add(e)}))})();const Gv=["font","text-decoration","text-emphasis"],qv=(e,t)=>ye(e.parseStyle(e.getAttrib(t,"style"))),Zv=e=>Wv.has(e),Xv=(e,t)=>ce(qv(e,t),(e=>!Zv(e))),Jv=e=>ne(e,(e=>J(Gv,(t=>At(e,t))))),Yv=(e,t,n)=>{const o=qv(e,t),r=qv(e,n),s=o=>{var r,s;const i=null!==(r=e.getStyle(t,o))&&void 0!==r?r:"",a=null!==(s=e.getStyle(n,o))&&void 0!==s?s:"";return ht(i)&&ht(a)&&i!==a};return J(o,(e=>{const t=t=>J(t,(t=>t===e));if(!t(r)&&t(Gv)){const e=Jv(r);return J(e,s)}return s(e)}))},$v=(e,t,n)=>z.from(n.container()).filter(zr).exists((o=>{const r=e?0:-1;return t(o.data.charAt(n.offset()+r))})),ew=I($v,!0,_h),tw=I($v,!1,_h),nw=e=>{const t=e.container();return zr(t)&&(0===t.data.length||si(t.data)&&Jg.isBookmarkNode(t.parentNode))},ow=(e,t)=>n=>z.from(hm(e?0:-1,n)).filter(t).isSome(),rw=e=>Jr(e)&&"block"===Go(io.fromDom(e),"display"),sw=e=>$r(e)&&!Rr(e),iw=ow(!0,rw),aw=ow(!1,rw),Aw=ow(!0,ts),lw=ow(!1,ts),cw=ow(!0,Pr),uw=ow(!1,Pr),dw=ow(!0,sw),mw=ow(!1,sw),hw=e=>e.slice(0,-1),gw=(e,t,n)=>ho(t,e)?hw(yo(e,(e=>n(e)||mo(e,t)))):[],pw=(e,t)=>gw(e,t,V),fw=(e,t)=>[e].concat(pw(e,t)),bw=(e,t,n)=>Xm(e,t,n,nw),vw=(e,t)=>ie(fw(io.fromDom(t.container()),e),Os),ww=(e,t,n)=>bw(e,t.dom,n).forall((e=>vw(t,n).fold((()=>!1===mm(e,n,t.dom)),(o=>!1===mm(e,n,t.dom)&&ho(o,io.fromDom(e.container())))))),yw=(e,t,n)=>vw(t,n).fold((()=>bw(e,t.dom,n).forall((e=>!1===mm(e,n,t.dom)))),(t=>bw(e,t.dom,n).isNone())),Bw=I(yw,!1),Cw=I(yw,!0),xw=I(ww,!1),Sw=I(ww,!0),Fw=e=>Cm(e).exists(Ls),kw=(e,t,n)=>{const o=ne(fw(io.fromDom(n.container()),t),Os),r=pe(o).getOr(t);return qm(e,r.dom,n).filter(Fw)},Ew=(e,t)=>Cm(t).exists(Ls)||kw(!0,e,t).isSome(),_w=(e,t)=>xm(t).exists(Ls)||kw(!1,e,t).isSome(),Ow=I(kw,!1),Uw=I(kw,!0),Tw=e=>zl.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Lw=(e,t)=>{const n=ne(fw(io.fromDom(t.container()),e),Os);return pe(n).getOr(e)},Nw=(e,t)=>Tw(t)?tw(t):tw(t)||$m(Lw(e,t).dom,t).exists(tw),Qw=(e,t)=>Tw(t)?ew(t):ew(t)||Ym(Lw(e,t).dom,t).exists(ew),Dw=e=>X(["pre","pre-wrap"],e),Iw=e=>Cm(e).bind((e=>ls(e,kn))).exists((e=>Dw(Go(e,"white-space")))),Hw=(e,t)=>$m(e.dom,t).isNone(),Mw=(e,t)=>Ym(e.dom,t).isNone(),Rw=(e,t)=>Hw(e,t)||Mw(e,t)||Bw(e,t)||Cw(e,t)||_w(e,t)||Ew(e,t),Pw=e=>k(e)&&$r(e)&&nm(e),Vw=e=>t=>Pw(new vs(t,e).next()),jw=(e,t)=>{const n=Ym(e.dom,t).getOr(t),o=Vw(e.dom);return t.isAtEnd()&&(o(t.container())||o(n.container()))},zw=(e,t)=>!Iw(t)&&(Rw(e,t)||Nw(e,t)||Qw(e,t)),Kw=(e,t)=>!Iw(t)&&(Bw(e,t)||xw(e,t)||_w(e,t)||Nw(e,t)),Ww=e=>{const t=e.container(),n=e.offset();return zr(t)&&n<t.data.length?zl(t,n+1):e},Gw=(e,t)=>!Iw(t)&&(Cw(e,t)||Sw(e,t)||Ew(e,t)||Qw(e,t)||jw(e,t)),qw=(e,t)=>Kw(e,t)||Gw(e,Ww(t)),Zw=(e,t)=>Eh(e.charAt(t)),Xw=e=>{const t=e.container();return zr(t)&&at(t.data,zs)},Jw=e=>{const t=e.split("");return Y(t,((e,n)=>Eh(e)&&n>0&&n<t.length-1&&Oh(t[n-1])&&Oh(t[n+1])?" ":e)).join("")},Yw=(e,t)=>{const n=t.data,o=zl(t,0);return!(!Zw(n,0)||qw(e,o))&&(t.data=" "+n.slice(1),!0)},$w=e=>{const t=e.data,n=Jw(t);return n!==t&&(e.data=n,!0)},ey=(e,t)=>{const n=t.data,o=zl(t,n.length-1);return!(!Zw(n,n.length-1)||qw(e,o))&&(t.data=n.slice(0,-1)+" ",!0)},ty=(e,t)=>z.some(t).filter(Xw).bind((t=>{const n=t.container(),o=Yw(e,n)||$w(n)||ey(e,n);return o?z.some(t):z.none()})),ny=e=>{const t=io.fromDom(e.getBody());e.selection.isCollapsed()&&ty(t,zl.fromRangeStart(e.selection.getRng())).each((t=>{e.selection.setRng(t.toRange())}))},oy=(e,t,n)=>{if(0===n)return;const o=io.fromDom(e),r=As(o,Os).getOr(o),s=e.data.slice(t,t+n),i=t+n>=e.data.length&&Gw(r,zl(e,e.data.length)),a=0===t&&Kw(r,zl(e,0));e.replaceData(t,n,Vi(s,4,a,i))},ry=(e,t)=>{const n=e.data.slice(t),o=n.length-dt(n).length;oy(e,t,o)},sy=(e,t)=>{const n=e.data.slice(0,t),o=n.length-mt(n).length;oy(e,t-o,o)},iy=(e,t,n,o=!0)=>{const r=mt(e.data).length,s=o?e:t,i=o?t:e;return o?s.appendData(i.data):s.insertData(0,i.data),ar(io.fromDom(i)),n&&ry(s,r),s},ay=(e,t)=>{const n=e.container(),o=e.offset();return!1===zl.isTextPosition(e)&&n===t.parentNode&&o>zl.before(t).offset()},Ay=(e,t)=>ay(t,e)?zl(t.container(),t.offset()-1):t,ly=e=>zr(e)?zl(e,0):zl.before(e),cy=e=>zr(e)?zl(e,e.data.length):zl.after(e),uy=e=>Oi(e.previousSibling)?z.some(cy(e.previousSibling)):e.previousSibling?th(e.previousSibling):z.none(),dy=e=>Oi(e.nextSibling)?z.some(ly(e.nextSibling)):e.nextSibling?eh(e.nextSibling):z.none(),my=(e,t)=>{const n=zl.before(t.previousSibling?t.previousSibling:t.parentNode);return $m(e,n).fold((()=>Ym(e,zl.after(t))),z.some)},hy=(e,t)=>Ym(e,zl.after(t)).fold((()=>$m(e,zl.before(t))),z.some),gy=(e,t)=>uy(t).orThunk((()=>dy(t))).orThunk((()=>my(e,t))),py=(e,t)=>dy(t).orThunk((()=>uy(t))).orThunk((()=>hy(e,t))),fy=(e,t,n)=>e?py(t,n):gy(t,n),by=(e,t,n)=>fy(e,t,n).map(I(Ay,n)),vy=(e,t,n)=>{n.fold((()=>{e.focus()}),(n=>{e.selection.setRng(n.toRange(),t)}))},wy=e=>t=>t.dom===e,yy=(e,t)=>t&&Le(e.schema.getBlockElements(),Cn(t)),By=e=>{if(Ji(e)){const t=io.fromHtml('<br data-mce-bogus="1">');return ir(e),nr(e,t),z.some(zl.before(t.dom))}return z.none()},Cy=(e,t,n)=>{const o=Co(e).filter(En),r=xo(e).filter(En);return ar(e),pn(o,r,t,((e,t,o)=>{const r=e.dom,s=t.dom,i=r.data.length;return iy(r,s,n),o.container()===s?zl(r,i):o})).orThunk((()=>(n&&(o.each((e=>sy(e.dom,e.dom.length))),r.each((e=>ry(e.dom,0)))),t)))},xy=(e,t)=>Le(e.schema.getTextInlineElements(),Cn(t)),Sy=(e,t,n,o=!0)=>{const r=by(t,e.getBody(),n.dom),s=As(n,I(yy,e),wy(e.getBody())),i=Cy(n,r,xy(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):s.bind(By).fold((()=>{o&&vy(e,t,i)}),(n=>{o&&vy(e,t,z.some(n))}))},Fy=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,ky=e=>Fy.test(e),Ey=(e,t)=>Ao(io.fromDom(t),Eu(e)),_y=e=>"rtl"===aA.DOM.getStyle(e,"direction",!0)||ky(e.textContent),Oy=(e,t,n)=>ne(aA.DOM.getParents(n.container(),"*",t),e),Uy=(e,t,n)=>{const o=Oy(e,t,n);return z.from(o[o.length-1])},Ty=(e,t,n)=>{const o=dm(t,e),r=dm(n,e);return o&&o===r},Ly=e=>hi(e)||gi(e),Ny=(e,t)=>{if(!t)return t;const n=t.container(),o=t.offset();return e?ci(n)?zr(n.nextSibling)?zl(n.nextSibling,0):zl.after(n):hi(t)?zl(n,o+1):t:ci(n)?zr(n.previousSibling)?zl(n.previousSibling,n.previousSibling.data.length):zl.before(n):gi(t)?zl(n,o-1):t},Qy=I(Ny,!0),Dy=I(Ny,!1),Iy=(e,t)=>{const n=e=>e.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},Hy=e=>Iy(e,"Delete"),My=e=>Iy(e,"ForwardDelete"),Ry=e=>t=>mo(e,io.fromDom(t.dom.parentNode)),Py=e=>Ns(e)||Ds(e),Vy=(e,t)=>ho(e,t)?ls(t,Py,Ry(e)):z.none(),jy=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},zy=(e,t,n)=>gn(eh(n),th(n),((o,r)=>{const s=Ny(!0,o),i=Ny(!1,r),a=Ny(!1,t);return e?Ym(n,a).exists((e=>e.isEqual(i)&&t.isEqual(s))):$m(n,a).exists((e=>e.isEqual(s)&&t.isEqual(i)))})).getOr(!0),Ky=e=>{const t=Fn(e)?Co(e):Oo(e);return t.bind(Ky).orThunk((()=>z.some(e)))},Wy=(e,t,n,o=!0)=>{var r;t.deleteContents();const s=Ky(n).getOr(n),i=io.fromDom(null!==(r=e.dom.getParent(s.dom,e.dom.isBlock))&&void 0!==r?r:n.dom);if(i.dom===e.getBody()?jy(e,o):Ji(i)&&(ni(i),o&&e.selection.setCursorLocation(i.dom,0)),!mo(n,i)){const e=mn(vo(i),n)?[]:Bo(i);$(e.concat(ko(n)),(e=>{mo(e,i)||ho(e,i)||!Ji(e)||ar(e)}))}},Gy=e=>t=>mo(e,t),qy=e=>qs(e,"td,th"),Zy=(e,t)=>{const n=e=>Ug(io.fromDom(e),t),o=n(e.startContainer),r=n(e.endContainer),s=o.isSome(),i=r.isSome(),a=gn(o,r,mo).getOr(!1),A=!a&&s&&i;return{startTable:o,endTable:r,isStartInTable:s,isEndInTable:i,isSameTable:a,isMultiTable:A}},Xy=(e,t)=>({start:e,end:t}),Jy=(e,t,n)=>({rng:e,table:t,cells:n}),Yy=Oc.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),$y=(e,t)=>gs(io.fromDom(e),"td,th",t),eB=e=>!mo(e.start,e.end),tB=(e,t)=>Ug(e.start,t).bind((n=>Ug(e.end,t).bind((e=>fn(mo(n,e),n))))),nB=(e,t)=>!eB(e)&&tB(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})),oB=(e,t)=>{const n=$y(e.startContainer,t),o=$y(e.endContainer,t);return gn(n,o,Xy)},rB=e=>t=>Ug(t,e).bind((e=>fe(qy(e)).map((e=>Xy(t,e))))),sB=e=>t=>Ug(t,e).bind((e=>pe(qy(e)).map((e=>Xy(e,t))))),iB=e=>t=>tB(t,e).map((e=>Jy(t,e,qy(e)))),aB=(e,t,n,o)=>{if(n.collapsed||!e.forall(eB))return z.none();if(t.isSameTable){const t=e.bind(iB(o));return z.some({start:t,end:t})}{const e=$y(n.startContainer,o),t=$y(n.endContainer,o),r=e.bind(rB(o)).bind(iB(o)),s=t.bind(sB(o)).bind(iB(o));return z.some({start:r,end:s})}},AB=(e,t)=>ae(e,(e=>mo(e,t))),lB=e=>gn(AB(e.cells,e.rng.start),AB(e.cells,e.rng.end),((t,n)=>e.cells.slice(t,n+1))),cB=(e,t,n)=>e.exists((e=>nB(e,n)&&Dg(e.start,t))),uB=(e,t)=>{const{startTable:n,endTable:o}=t,r=e.cloneRange();return n.each((e=>r.setStartAfter(e.dom))),o.each((e=>r.setEndBefore(e.dom))),r},dB=(e,t,n,o)=>aB(e,t,n,o).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:o}=t,r=lB(e).getOr([]);if(o&&e.cells.length===r.length)return z.some(Yy.fullTable(e.table));if(r.length>0){if(o)return z.some(Yy.partialTable(r,z.none()));{const e=uB(n,t);return z.some(Yy.partialTable(r,z.some({...t,rng:e})))}}return z.none()})),mB=(e,t,n,o)=>aB(e,t,n,o).bind((({start:e,end:o})=>{const r=e.bind(lB).getOr([]),s=o.bind(lB).getOr([]);if(r.length>0&&s.length>0){const e=uB(n,t);return z.some(Yy.multiTable(r,s,e))}return z.none()})),hB=(e,t)=>{const n=Gy(e),o=oB(t,n),r=Zy(t,n);return cB(o,t,n)?o.map((e=>Yy.singleCellTable(t,e.start))):r.isMultiTable?mB(o,r,t,n):dB(o,r,t,n)},gB=e=>$(e,(e=>{Hn(e,"contenteditable"),ni(e)})),pB=(e,t)=>z.from(e.dom.getParent(t,e.dom.isBlock)).map(io.fromDom),fB=(e,t,n)=>{n.each((n=>{t?ar(n):(ni(n),e.selection.setCursorLocation(n.dom,0))}))},bB=(e,t,n,o)=>{const r=n.cloneRange();o?(r.setStart(n.startContainer,n.startOffset),r.setEndAfter(t.dom.lastChild)):(r.setStartBefore(t.dom.firstChild),r.setEnd(n.endContainer,n.endOffset)),BB(e,r,t,!1).each((e=>e()))},vB=e=>{const t=Og(e),n=io.fromDom(e.selection.getNode());es(n.dom)&&Ji(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&J(t,(e=>mo(e,n)))&&Ln(n,"data-mce-selected","1")},wB=(e,t,n)=>z.some((()=>{const o=e.selection.getRng(),r=n.bind((({rng:n,isStartInTable:r})=>{const s=pB(e,r?n.endContainer:n.startContainer);n.deleteContents(),fB(e,r,s.filter(Ji));const i=r?t[0]:t[t.length-1];return bB(e,i,o,r),Ji(i)?z.none():z.some(r?t.slice(1):t.slice(0,-1))})).getOr(t);gB(r),vB(e)})),yB=(e,t,n,o)=>z.some((()=>{const r=e.selection.getRng(),s=t[0],i=n[n.length-1];bB(e,s,r,!0),bB(e,i,r,!1);const a=Ji(s)?t:t.slice(1),A=Ji(i)?n:n.slice(0,-1);gB(a.concat(A)),o.deleteContents(),vB(e)})),BB=(e,t,n,o=!0)=>z.some((()=>{Wy(e,t,n,o)})),CB=(e,t)=>z.some((()=>Sy(e,!1,t))),xB=(e,t,n)=>hB(t,n).bind((t=>t.fold(I(BB,e),I(CB,e),I(wB,e),I(yB,e)))),SB=(e,t)=>UB(e,t),FB=(e,t,n,o)=>_B(t,o).fold((()=>xB(e,t,n)),(t=>SB(e,t))),kB=(e,t,n)=>{const o=io.fromDom(e.getBody()),r=e.selection.getRng();return 0!==n.length?wB(e,n,z.none()):FB(e,o,r,t)},EB=(e,t)=>ie(fw(t,e),Hs),_B=(e,t)=>ie(fw(t,e),Un("caption")),OB=(e,t,n,o,r)=>Zm(n,e.getBody(),r).bind((e=>EB(t,io.fromDom(e.getNode())).bind((e=>mo(e,o)?z.none():z.some(U))))),UB=(e,t)=>z.some((()=>{ni(t),e.selection.setCursorLocation(t.dom,0)})),TB=(e,t,n,o)=>eh(e.dom).bind((r=>th(e.dom).map((e=>t?n.isEqual(r)&&o.isEqual(e):n.isEqual(e)&&o.isEqual(r))))).getOr(!0),LB=(e,t)=>UB(e,t),NB=(e,t,n)=>_B(e,io.fromDom(n.getNode())).fold((()=>z.some(U)),(e=>fn(!mo(e,t),U))),QB=(e,t,n,o,r)=>Zm(n,e.getBody(),r).fold((()=>z.some(U)),(s=>TB(o,n,r,s)?LB(e,o):NB(t,o,s))),DB=(e,t,n,o)=>{const r=zl.fromRangeStart(e.selection.getRng());return EB(n,o).bind((o=>Ji(o)?UB(e,o):OB(e,n,t,o,r)))},IB=(e,t,n,o)=>{const r=zl.fromRangeStart(e.selection.getRng());return Ji(o)?UB(e,o):QB(e,n,t,o,r)},HB=(e,t)=>e?cw(t):uw(t),MB=(e,t)=>{const n=zl.fromRangeStart(e.selection.getRng());return HB(t,n)||qm(t,e.getBody(),n).exists((e=>HB(t,e)))},RB=(e,t,n)=>{const o=io.fromDom(e.getBody());return _B(o,n).fold((()=>DB(e,t,o,n).orThunk((()=>fn(MB(e,t),U)))),(n=>IB(e,t,o,n)))},PB=(e,t)=>{const n=io.fromDom(e.selection.getStart(!0)),o=Og(e);return e.selection.isCollapsed()&&0===o.length?RB(e,t,n):kB(e,n,o)},VB=(e,t)=>{while(t&&t!==e){if(Yr(t)||$r(t))return t;t=t.parentNode}return null},jB=(e,t)=>{t(e),e.firstChild&&jB(e.firstChild,t),e.next&&jB(e.next,t)},zB=(e,t,n,o)=>{const r=n.name;for(let s=0,i=e.length;s<i;s++){const t=e[s];if(t.name===r){const e=o.nodes[r];e?e.nodes.push(n):o.nodes[r]={filter:t,nodes:[n]}}}if(n.attributes)for(let s=0,i=t.length;s<i;s++){const e=t[s],r=e.name;if(r in n.attributes.map){const t=o.attributes[r];t?t.nodes.push(n):o.attributes[r]={filter:e,nodes:[n]}}}},KB=(e,t,n)=>{const o={nodes:{},attributes:{}};return n.firstChild&&jB(n.firstChild,(n=>{zB(e,t,n,o)})),o},WB=(e,t)=>{const n=e=>{Ce(e,(e=>{const n=ne(e.nodes,(e=>k(e.parent)));$(e.filter.callbacks,(o=>{o(n,e.filter.name,t)}))}))};n(e.nodes),n(e.attributes)},GB=(e,t,n,o={})=>{const r=KB(e,t,n);WB(r,o)},qB=(e,t,n,o)=>{t.insert&&n[o.name]?o.empty().append(new Uv("br",1)):o.empty().append(new Uv("#text",3)).value=zs},ZB=e=>XB(e,"#text")&&e.firstChild.value===zs,XB=(e,t)=>e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t,JB=(e,t)=>{const n=e.getElementRule(t.name);return n&&n.paddEmpty},YB=(e,t,n,o)=>o.isEmpty(t,n,(t=>JB(e,t))),$B=(e,t)=>e&&(e.name in t||"br"===e.name),eC=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const o=e.children();for(const e of o)t.isValidChild(n.name,e.name)||eC(e,t,n);e.unwrap()}},tC=(e,t,n=U)=>{const o=t.getTextBlockElements(),r=t.getNonEmptyElements(),s=t.getWhitespaceElements(),i=dn.makeMap("tr,td,th,tbody,thead,tfoot,table"),a=new Set;for(let A=0;A<e.length;A++){const l=e[A];let c,u,d;if(!l.parent||a.has(l))continue;if(o[l.name]&&"li"===l.parent.name){let e=l.next;while(e){if(!o[e.name])break;e.name="li",a.add(e),l.parent.insert(e,l.parent),e=e.next}l.unwrap();continue}const m=[l];for(c=l.parent;c&&!t.isValidChild(c.name,l.name)&&!i[c.name];c=c.parent)m.push(c);if(c&&m.length>1)if(t.isValidChild(c.name,l.name)){m.reverse(),u=m[0].clone(),n(u);let e=u;for(let o=0;o<m.length-1;o++){t.isValidChild(e.name,m[o].name)?(d=m[o].clone(),n(d),e.append(d)):d=e;for(let e=m[o].firstChild;e&&e!==m[o+1];){const t=e.next;d.append(e),e=t}e=d}YB(t,r,s,u)?c.insert(l,m[0],!0):(c.insert(u,m[0],!0),c.insert(l,u)),c=m[0],(YB(t,r,s,c)||XB(c,"br"))&&c.empty().remove()}else eC(l,t);else if(l.parent){if("li"===l.name){let e=l.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(l);continue}if(e=l.next,e&&("ul"===e.name||"ol"===e.name)){e.insert(l,e.firstChild,!0);continue}const t=new Uv("ul",1);n(t),l.wrap(t);continue}if(t.isValidChild(l.parent.name,"div")&&t.isValidChild("div",l.name)){const e=new Uv("div",1);n(e),l.wrap(e)}else eC(l,t)}}},nC=(e,t,n,o)=>{const r=document.createRange();return r.setStart(e,t),r.setEnd(n,o),r},oC=e=>{const t=zl.fromRangeStart(e),n=zl.fromRangeEnd(e),o=e.commonAncestorContainer;return qm(!1,o,n).map((r=>!mm(t,n,o)&&mm(t,r,o)?nC(t.container(),t.offset(),r.container(),r.offset()):e)).getOr(e)},rC=e=>e.collapsed?e:oC(e),sC=e=>e.firstChild&&e.firstChild===e.lastChild,iC=e=>"br"===e.name||e.value===zs,aC=(e,t)=>{const n=e.getBlockElements();return n[t.name]&&sC(t)&&iC(t.firstChild)},AC=(e,t)=>{const n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||aC(e,t))},lC=(e,t)=>{let n=t.firstChild,o=t.lastChild;return n&&"meta"===n.name&&(n=n.next),o&&"mce_marker"===o.attr("id")&&(o=o.prev),AC(e,o)&&(o=o.prev),!(!n||n!==o)&&("ul"===n.name||"ol"===n.name)},cC=e=>{const t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},uC=(e,t,n)=>{const o=t.serialize(n),r=e.createFragment(o);return cC(r)},dC=e=>ne(e.childNodes,(e=>"LI"===e.nodeName)),mC=e=>e.data===zs||Xr(e),hC=e=>e&&e.firstChild&&e.firstChild===e.lastChild&&mC(e.firstChild),gC=e=>!e.firstChild||hC(e),pC=e=>e.length>0&&gC(e[e.length-1])?e.slice(0,-1):e,fC=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},bC=(e,t)=>!!fC(e,t),vC=(e,t)=>{const n=t.cloneRange(),o=t.cloneRange();return n.setStartBefore(e),o.setEndAfter(e),[n.cloneContents(),o.cloneContents()]},wC=(e,t)=>{const n=zl.before(e),o=Rm(t),r=o.next(n);return r?r.toRange():null},yC=(e,t)=>{const n=zl.after(e),o=Rm(t),r=o.prev(n);return r?r.toRange():null},BC=(e,t,n,o)=>{const r=vC(e,o),s=e.parentNode;return s.insertBefore(r[0],e),dn.each(t,(t=>{s.insertBefore(t,e)})),s.insertBefore(r[1],e),s.removeChild(e),yC(t[t.length-1],n)},CC=(e,t,n)=>{const o=e.parentNode;return dn.each(t,(t=>{o.insertBefore(t,e)})),wC(e,n)},xC=(e,t,n,o)=>(o.insertAfter(t.reverse(),e),yC(t[0],n)),SC=(e,t,n,o)=>{const r=uC(t,e,o),s=fC(t,n.startContainer),i=pC(dC(r.firstChild)),a=1,A=2,l=t.getRoot(),c=e=>{const o=zl.fromRangeStart(n),r=Rm(t.getRoot()),i=e===a?r.prev(o):r.next(o);return!i||fC(t,i.getNode())!==s};return c(a)?CC(s,i,l):c(A)?xC(s,i,l,t):BC(s,i,l,n)},FC=["pre"],kC=(e,t,n,o)=>{var r;const s=t.firstChild,i=t.lastChild,a="bookmark"===i.attr("data-mce-type")?i.prev:i,A=s===a,l=X(FC,s.name);if(A&&l){const t="false"!==s.attr("contenteditable"),i=(null===(r=e.getParent(n,e.isBlock))||void 0===r?void 0:r.nodeName.toLowerCase())===s.name,a=z.from(VB(o,n)).forall(Yr);return t&&i&&a}return!1},EC=es,_C=(e,t,n)=>{if(null!==n){const o=e.getParent(t.endContainer,EC);return n===o&&Dg(io.fromDom(n),t)}return!1},OC=(e,t,n)=>{if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{const o=n.firstChild,r=n.lastChild;!o||o===r&&"BR"===o.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},UC=(e,t)=>{z.from(e.getParent(t,"td,th")).map(io.fromDom).each(oi)},TC=(e,t)=>{const n=e.schema.getTextInlineElements(),o=e.dom;if(t){const t=e.getBody(),r=Vv(o);dn.each(o.select("*[data-mce-fragment]"),(e=>{const s=k(n[e.nodeName.toLowerCase()]);if(s&&Xv(o,e))for(let n=e.parentNode;k(n)&&n!==t;n=n.parentNode){const t=Yv(o,e,n);if(t)break;if(r.compare(n,e)){o.remove(e,!0);break}}}))}},LC=e=>{let t=e;while(t=t.walk())1===t.type&&t.attr("data-mce-fragment","1")},NC=e=>{dn.each(e.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")}))},QC=e=>!!e.getAttribute("data-mce-fragment"),DC=(e,t)=>t&&!e.schema.getVoidElements()[t.nodeName],IC=(e,t)=>{let n;const o=e.dom,r=e.selection;if(!t)return;r.scrollIntoView(t);const s=VB(e.getBody(),t);if("false"===o.getContentEditable(s))return o.remove(t),void r.select(s);let i=o.createRng();const a=t.previousSibling;if(zr(a)){i.setStart(a,a.nodeValue.length);const e=t.nextSibling;zr(e)&&(a.appendData(e.data),e.parentNode.removeChild(e))}else i.setStartBefore(t),i.setEndBefore(t);const A=t=>{let n=zl.fromRangeStart(t);const o=Rm(e.getBody());if(n=o.next(n),n)return n.toRange()},l=o.getParent(t,o.isBlock);o.remove(t),l&&o.isEmpty(l)&&(ir(io.fromDom(l)),i.setStart(l,0),i.setEnd(l,0),EC(l)||QC(l)||!(n=A(i))?o.add(l,o.create("br",{"data-mce-bogus":"1"})):(i=n,o.remove(l))),r.setRng(i)},HC=e=>{const t=e.dom,n=rC(e.selection.getRng());e.selection.setRng(n);const o=t.getParent(n.startContainer,EC);_C(t,n,o)?BB(e,n,io.fromDom(o)):e.getDoc().execCommand("Delete",!1,null)},MC=(e,t,n)=>{var o;let r,s,i;const a=e.selection,A=e.dom,l=e.parser,c=n.merge,u=Kv({validate:!0},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d),s=a.getRng();const m=s.startContainer||(s.parentElement?s.parentElement():null),h=e.getBody();m===h&&a.isCollapsed()&&A.isBlock(h.firstChild)&&DC(e,h.firstChild)&&A.isEmpty(h.firstChild)&&(s=A.createRng(),s.setStart(h.firstChild,0),s.setEnd(h.firstChild,0),a.setRng(s)),a.isCollapsed()||HC(e),r=a.getNode();const g={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},p=l.parse(t,g);if(!0===n.paste&&lC(e.schema,p)&&bC(A,r))return s=SC(u,A,a.getRng(),p),a.setRng(s),t;if(!0===n.paste&&kC(A,p,r,e.getBody())&&(null===(o=p.firstChild)||void 0===o||o.unwrap()),LC(p),i=p.lastChild,"mce_marker"===i.attr("id")){const t=i;for(i=i.prev;i;i=i.walk(!0))if(3===i.type||!A.isBlock(i.name)){e.schema.isValidChild(i.parent.name,"span")&&i.parent.insert(t,i,"br"===i.name);break}}if(e._selectionOverrides.showBlockCaretContainer(r),g.invalid){e.selection.setContent(d),r=a.getNode();const n=e.getBody();9===r.nodeType?r=i=n:i=r;while(i!==n)r=i,i=i.parentNode;t=r===n?n.innerHTML:A.getOuterHTML(r);const o=l.parse(t);for(let e=o;e;e=e.walk())if("mce_marker"===e.attr("id")){e.replace(p);break}const s=p.children(),c=p.parent.name;p.unwrap();const m=ne(s,(t=>!e.schema.isValidChild(c,t.name)));tC(m,e.schema),GB(l.getNodeFilters(),l.getAttributeFilters(),o),t=u.serialize(o),r===n?A.setHTML(n,t):A.setOuterHTML(r,t)}else t=u.serialize(p),OC(e,t,r);return TC(e,c),IC(e,A.get("mce_marker")),NC(e.getBody()),UC(A,a.getStart()),t},RC=e=>e instanceof Uv,PC=e=>{nv(e)&&eh(e.getBody()).each((t=>{const n=t.getNode(),o=Pr(n)?eh(n).getOr(t):t;e.selection.setRng(o.toRange())}))},VC=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),!0!==n&&PC(e)},jC=(e,t,n,o)=>{if(0===n.length||/^\s+$/.test(n)){const r='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+r+"</li>");const s=nu(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),s.toLowerCase())?(n=r,n=e.dom.createHTML(s,ou(e),n)):n||(n=r),VC(e,n,o.no_selection),{content:n,html:n}}{"raw"!==o.format&&(n=Kv({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const r=Ms(io.fromDom(t))?n:dn.trim(n);return VC(e,r,o.no_selection),{content:r,html:r}}},zC=(e,t,n,o)=>{GB(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const r=Kv({validate:!1},e.schema).serialize(n),s=Ms(io.fromDom(t))?r:dn.trim(r);return VC(e,s,o.no_selection),{content:n,html:s}},KC=(e,t,n)=>z.from(e.getBody()).map((o=>RC(t)?zC(e,o,t,n):jC(e,o,t,n))).getOr({content:t,html:RC(n.content)?"":n.content}),WC=(e,t)=>cs(e,t).isSome(),GC=e=>E(e)?e:V,qC=(e,t,n)=>{let o=e.dom;const r=GC(n);while(o.parentNode){o=o.parentNode;const e=io.fromDom(o),n=t(e);if(n.isSome())return n;if(r(e))break}return z.none()},ZC=(e,t,n)=>{const o=t(e),r=GC(n);return o.orThunk((()=>r(e)?z.none():qC(e,t,r)))},XC=Zh,JC=(e,t,n)=>{const o=e.formatter.get(n);if(o)for(let r=0;r<o.length;r++){const n=o[r];if(og(n)&&!1===n.inherit&&e.dom.is(t,n.selector))return!0}return!1},YC=(e,t,n,o,r)=>{const s=e.dom.getRoot();return t!==s&&(t=e.dom.getParent(t,(t=>!!JC(e,t,n)||(t.parentNode===s||!!tx(e,t,n,o,!0)))),!!tx(e,t,n,o,r))},$C=(e,t,n)=>!(!rg(n)||!XC(t,n.inline))||(!(!ng(n)||!XC(t,n.block))||!!og(n)&&(Nr(t)&&e.is(t,n.selector))),ex=(e,t,n,o,r,s)=>{const i=n[o];if(E(n.onmatch))return n.onmatch(t,n,o);if(i)if(S(i.length)){for(const a in i)if(Le(i,a)){const A="attributes"===o?e.getAttrib(t,a):Jh(e,t,a),l=qh(i[a],s),c=F(A)||gt(A);if(c&&F(l))continue;if(r&&c&&!n.exact)return!1;if((!r||n.exact)&&!XC(A,Xh(l,a)))return!1}}else for(let a=0;a<i.length;a++)if("attributes"===o?e.getAttrib(t,i[a]):Jh(e,t,i[a]))return!0;return!0},tx=(e,t,n,o,r)=>{const s=e.formatter.get(n),i=e.dom;if(s&&t)for(let a=0;a<s.length;a++){const n=s[a];if($C(e.dom,t,n)&&ex(i,t,n,"attributes",r,o)&&ex(i,t,n,"styles",r,o)){const r=n.classes;if(r)for(let n=0;n<r.length;n++)if(!e.dom.hasClass(t,qh(r[n],o)))return;return n}}},nx=(e,t,n,o,r)=>{if(o)return YC(e,o,t,n,r);if(o=e.selection.getNode(),YC(e,o,t,n,r))return!0;const s=e.selection.getStart();return!(s===o||!YC(e,s,t,n,r))},ox=(e,t,n)=>{const o=[],r={},s=e.selection.getStart();return e.dom.getParent(s,(s=>{for(let i=0;i<t.length;i++){const a=t[i];!r[a]&&tx(e,s,a,n)&&(r[a]=!0,o.push(a))}}),e.dom.getRoot()),o},rx=(e,t)=>{const n=t=>mo(t,io.fromDom(e.getBody())),o=(t,n)=>tx(e,t.dom,n)?z.some(n):z.none();return z.from(e.selection.getStart(!0)).bind((e=>ZC(io.fromDom(e),(e=>ve(t,(t=>o(e,t)))),n))).getOrNull()},sx=(e,t)=>{const n=e.formatter.get(t),o=e.dom;if(n){const t=e.selection.getStart(),r=$h(o,t);for(let e=n.length-1;e>=0;e--){const t=n[e];if(!og(t))return!0;for(let e=r.length-1;e>=0;e--)if(o.is(r[e],t.selector))return!0}}return!1},ix=(e,t,n)=>re(n,((n,o)=>{const r=eg(e,o);return e.formatter.matchNode(t,o,{},r)?n.concat([o]):n}),[]),ax=ri,Ax="_mce_caret",lx=(e,t)=>e.importNode(t,!0),cx=e=>{const t=[];while(e){if(3===e.nodeType&&e.nodeValue!==ax||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},ux=e=>cx(e).length>0,dx=e=>{if(e){const t=new vs(e,e);for(e=t.current();e;e=t.next())if(zr(e))return e}return null},mx=e=>{const t=io.fromTag("span");return Nn(t,{id:Ax,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&nr(t,io.fromText(ax)),t},hx=e=>{const t=dx(e);return t&&t.nodeValue.charAt(0)===ax&&t.deleteData(0,1),t},gx=(e,t,n=!0)=>{const o=e.dom,r=e.selection;if(ux(t))Sy(e,!1,io.fromDom(t),n);else{const e=r.getRng(),n=o.getParent(t,o.isBlock),s=e.startContainer,i=e.startOffset,a=e.endContainer,A=e.endOffset,l=hx(t);o.remove(t,!0),s===l&&i>0&&e.setStart(l,i-1),a===l&&A>0&&e.setEnd(l,A-1),n&&o.isEmpty(n)&&ni(io.fromDom(n)),r.setRng(e)}},px=(e,t,n=!0)=>{const o=e.dom,r=e.selection;if(t)gx(e,t,n);else if(t=rh(e.getBody(),r.getStart()),!t)while(t=o.get(Ax))gx(e,t,!1)},fx=(e,t,n)=>{const o=e.dom,r=o.getParent(n,I(zh,e));r&&o.isEmpty(r)?n.parentNode.replaceChild(t,n):(ei(io.fromDom(n)),o.isEmpty(n)?n.parentNode.replaceChild(t,n):o.insertAfter(t,n))},bx=(e,t)=>(e.appendChild(t),t),vx=(e,t)=>{const n=oe(e,((e,t)=>bx(e,t.cloneNode(!1))),t);return bx(n,n.ownerDocument.createTextNode(ax))},wx=(e,t,n,o,r,s)=>{const i=e.formatter,a=e.dom,A=ne(ye(i.get()),(e=>e!==o&&!at(e,"removeformat"))),l=ix(e,n,A),c=ne(l,(t=>!tg(e,t,o)));if(c.length>0){const e=n.cloneNode(!1);return a.add(t,e),i.remove(o,r,e,s),a.remove(e),z.some(e)}return z.none()},yx=(e,t,n)=>{let o,r;const s=e.selection,i=s.getRng();let a=i.startOffset;const A=i.startContainer,l=A.nodeValue;o=rh(e.getBody(),s.getStart()),o&&(r=dx(o));const c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&a>0&&a<l.length&&c.test(l.charAt(a))&&c.test(l.charAt(a-1))){const o=s.getBookmark();i.collapse(!0);let r=Bg(e,i,e.formatter.get(t));r=Uf(r),e.formatter.apply(t,n,r),s.moveToBookmark(o)}else o&&r.nodeValue===ax||(o=lx(e.getDoc(),mx(!0).dom),r=o.firstChild,i.insertNode(o),a=1),e.formatter.apply(t,n,o),s.setCursorLocation(r,a)},Bx=(e,t,n,o)=>{const r=e.dom,s=e.selection;let i,a,A;const l=[],c=s.getRng(),u=c.startContainer,d=c.startOffset;a=u,3===u.nodeType&&(d!==u.nodeValue.length&&(i=!0),a=a.parentNode);while(a){if(tx(e,a,t,n,o)){A=a;break}a.nextSibling&&(i=!0),l.push(a),a=a.parentNode}if(A)if(i){const r=s.getBookmark();c.collapse(!0);let i=Bg(e,c,e.formatter.get(t),!0);i=Uf(i),e.formatter.remove(t,n,i,o),s.moveToBookmark(r)}else{const i=rh(e.getBody(),A),a=mx(!1).dom;fx(e,a,null!==i?i:A);const c=wx(e,a,A,t,n,o),u=vx(l.concat(c.toArray()),a);gx(e,i,!1),s.setCursorLocation(u,1),r.isEmpty(A)&&r.remove(A)}},Cx=(e,t)=>{const n=e.selection,o=e.getBody();px(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==ax||px(e,rh(o,n.getStart())),37!==t&&39!==t||px(e,rh(o,n.getStart()))},xx=e=>{e.on("mouseup keydown",(t=>{Cx(e,t.keyCode)}))},Sx=(e,t)=>{const n=mx(!1),o=vx(t,n.dom);return $o(io.fromDom(e),n),ar(io.fromDom(e)),zl(o,0)},Fx=(e,t)=>{const n=e.schema.getTextInlineElements();return Le(n,Cn(t))&&!oh(t.dom)&&!Mr(t.dom)},kx=e=>oh(e.dom)&&ux(e.dom),Ex={},_x=Pe,Ox=Me,Ux=(e,t)=>{const n=Ex[e];n||(Ex[e]=[]),Ex[e].push(t)},Tx=(e,t)=>{Ox(Ex[e],(e=>{e(t)}))};Ux("pre",(e=>{const t=e.selection.getRng();let n;const o=e=>s(e.previousSibling)&&-1!==Ve(n,e.previousSibling),r=(e,t)=>{const n=io.fromDom(t),o=po(n).dom;ar(n),sr(io.fromDom(e),[io.fromTag("br",o),io.fromTag("br",o),...ko(n)])},s=Qr(["pre"]);t.collapsed||(n=e.selection.getSelectedBlocks(),Ox(_x(_x(n,s),o),(e=>{r(e.previousSibling,e)})))}));const Lx=dn.each,Nx=e=>Nr(e)&&!Fh(e)&&!oh(e)&&!Mr(e),Qx=(e,t)=>{for(let n=e;n;n=n[t]){if(zr(n)&&ht(n.data))return e;if(Nr(n)&&!Fh(n))return n}return e},Dx=(e,t,n)=>{const o=Vv(e);if(t&&n&&(t=Qx(t,"previousSibling"),n=Qx(n,"nextSibling"),o.compare(t,n))){for(let e=t.nextSibling;e&&e!==n;){const n=e;e=e.nextSibling,t.appendChild(n)}return e.remove(n),dn.each(dn.grep(n.childNodes),(e=>{t.appendChild(e)})),t}return n},Ix=(e,t,n,o)=>{if(o&&!1!==t.merge_siblings){const t=Dx(e,jh(o),o);Dx(e,t,jh(t,!0))}},Hx=(e,t,n)=>{if(t.clear_child_styles){const o=t.links?"*:not(a)":"*";Lx(e.select(o,n),(n=>{Nx(n)&&Lx(t.styles,((t,o)=>{e.setStyle(n,o,"")}))}))}},Mx=(e,t,n)=>{Lx(e.childNodes,(e=>{Nx(e)&&(t(e)&&n(e),e.hasChildNodes()&&Mx(e,t,n))}))},Rx=(e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Px=(e,t)=>n=>!(!n||!Jh(e,n,t)),Vx=(e,t,n)=>o=>{e.setStyle(o,t,n),""===o.getAttribute("style")&&o.removeAttribute("style"),Rx(e,o)},jx=Oc.generate([{keep:[]},{rename:["name"]},{removed:[]}]),zx=/^(src|href|style)$/,Kx=dn.each,Wx=Zh,Gx=e=>/^(TR|TH|TD)$/.test(e.nodeName),qx=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),Zx=(e,t,n)=>{let o=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"];if(Nr(o)){const e=o.childNodes.length-1;!n&&r&&r--,o=o.childNodes[r>e?e:r]}return zr(o)&&n&&r>=o.nodeValue.length&&(o=new vs(o,e.getBody()).next()||o),zr(o)&&!n&&0===r&&(o=new vs(o,e.getBody()).prev()||o),o},Xx=(e,t)=>{const n=t?"firstChild":"lastChild";if(Gx(e)&&e[n]){const t=e[n];return"TR"===e.nodeName&&t[n]||t}return e},Jx=(e,t,n,o)=>{const r=e.create(n,o);return t.parentNode.insertBefore(r,t),r.appendChild(t),r},Yx=(e,t,n,o,r)=>{const s=io.fromDom(t),i=io.fromDom(e.create(o,r)),a=n?Fo(s):So(s);return sr(i,a),n?($o(s,i),tr(i,s)):(er(s,i),nr(i,s)),i.dom},$x=(e,t)=>t.links&&"A"===e.nodeName,eS=(e,t,n)=>{const o=t.parentNode;let r;const s=e.dom,i=nu(e);ng(n)&&o===s.getRoot()&&(n.list_block&&Wx(t,n.list_block)||$(be(t.childNodes),(t=>{Kh(e,i,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=Jx(s,t,i),s.setAttribs(r,ou(e))):r=null}))),sg(n)&&!Wx(n.inline,t)||s.remove(t,!0)},tS=(e,t,n,o,r)=>{let s;const i=e.dom;if(!$C(i,o,t)&&!$x(o,t))return jx.keep();const a=o;if(rg(t)&&"all"===t.remove&&B(t.preserve_attributes)){const e=ne(i.getAttribs(a),(e=>X(t.preserve_attributes,e.name.toLowerCase())));if(i.removeAllAttribs(a),$(e,(e=>i.setAttrib(a,e.name,e.value))),e.length>0)return jx.rename("span")}if("all"!==t.remove){Kx(t.styles,((e,o)=>{e=Xh(qh(e,n),o+""),_(o)&&(o=e,r=null),(t.remove_similar||!r||Wx(Jh(i,r,o),e))&&i.setStyle(a,o,""),s=!0})),s&&""===i.getAttrib(a,"style")&&(a.removeAttribute("style"),a.removeAttribute("data-mce-style")),Kx(t.attributes,((e,o)=>{let s;if(e=qh(e,n),_(o)&&(o=e,r=null),t.remove_similar||!r||Wx(i.getAttrib(r,o),e)){if("class"===o&&(e=i.getAttrib(a,o),e&&(s="",$(e.split(/\s+/),(e=>{/mce\-\w+/.test(e)&&(s+=(s?" ":"")+e)})),s)))return void i.setAttrib(a,o,s);if(zx.test(o)&&a.removeAttribute("data-mce-"+o),"style"===o&&Qr(["li"])(a)&&"none"===i.getStyle(a,"list-style-type"))return a.removeAttribute(o),void i.setStyle(a,"list-style-type","none");"class"===o&&a.removeAttribute("className"),a.removeAttribute(o)}})),Kx(t.classes,(e=>{e=qh(e,n),r&&!i.hasClass(r,e)||i.removeClass(a,e)}));const e=i.getAttribs(a);for(let t=0;t<e.length;t++){const n=e[t].nodeName;if(0!==n.indexOf("_")&&0!==n.indexOf("data-"))return jx.keep()}}return"none"!==t.remove?(eS(e,a,t),jx.removed()):jx.keep()},nS=(e,t,n,o,r)=>tS(e,t,n,o,r).fold(V,(t=>(e.dom.rename(o,t),!0)),j),oS=(e,t,n,o,r)=>{let s;return $($h(e.dom,t.parentNode).reverse(),(t=>{if(!s&&"_start"!==t.id&&"_end"!==t.id){const i=tx(e,t,n,o,r);i&&!1!==i.split&&(s=t)}})),s},rS=(e,t,n,o)=>tS(e,t,n,o,o).fold(N(o),(t=>{const n=e.dom.createFragment();return n.appendChild(o),e.dom.rename(o,t)}),N(null)),sS=(e,t,n,o,r,s,i,a)=>{let A,l,c;const u=e.dom;if(n){const d=n.parentNode;for(let n=o.parentNode;n&&n!==d;n=n.parentNode){A=u.clone(n,!1);for(let n=0;n<t.length;n++)if(A=rS(e,t[n],a,A),null===A)break;A&&(l&&A.appendChild(l),c||(c=A),l=A)}!s||i.mixed&&u.isBlock(n)||(o=u.split(n,o)),l&&(r.parentNode.insertBefore(l,r),c.appendChild(r),rg(i)&&Ix(u,i,a,l))}return o},iS=(e,t,n,o,r)=>{const s=e.formatter.get(t),i=s[0];let a=!0;const A=e.dom,l=e.selection,c=o=>{const a=oS(e,o,t,n,r);return sS(e,s,a,o,o,!0,i,n)},u=e=>Fh(e)&&Nr(e)&&("_start"===e.id||"_end"===e.id),d=t=>J(s,(o=>nS(e,o,n,t,t))),m=t=>{let n=!0,o=!1;Nr(t)&&A.getContentEditable(t)&&(n=a,a="true"===A.getContentEditable(t),o=!0);const r=be(t.childNodes);if(a&&!o){const e=d(t),n=e||J(s,(e=>$C(A,t,e))),o=t.parentNode;!n&&k(o)&&ig(i)&&d(o)}if(i.deep&&r.length){for(let e=0;e<r.length;e++)m(r[e]);o&&(a=n)}const l=["underline","line-through","overline"];$(l,(n=>{Nr(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&Yh(A,t.parentNode)===n&&nS(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)}))},h=e=>{const t=A.get(e?"_start":"_end");let n=t[e?"firstChild":"lastChild"];return u(n)&&(n=n[e?"firstChild":"lastChild"]),zr(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),A.remove(t,!0),n},g=t=>{let n,o,r=Bg(e,t,s,t.collapsed);if(i.split){if(r=Uf(r),n=Zx(e,r,!0),o=Zx(e,r),n!==o){if(n=Xx(n,!0),o=Xx(o,!1),qx(A,n,o)){const e=z.from(n.firstChild).getOr(n);return c(Yx(A,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(qx(A,o,n)){const e=z.from(o.lastChild).getOr(o);return c(Yx(A,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}n=Jx(A,n,"span",{id:"_start","data-mce-type":"bookmark"}),o=Jx(A,o,"span",{id:"_end","data-mce-type":"bookmark"});const e=A.createRng();e.setStartAfter(n),e.setEndBefore(o),Cg(A,e,(e=>{$(e,(e=>{Fh(e)||Fh(e.parentNode)||c(e)}))})),c(n),c(o),n=h(!0),o=h()}else n=o=c(n);r.startContainer=n.parentNode?n.parentNode:n,r.startOffset=A.nodeIndex(n),r.endContainer=o.parentNode?o.parentNode:o,r.endOffset=A.nodeIndex(o)+1}Cg(A,r,(e=>{$(e,m)}))};if(o){if(Rh(o)){const e=A.createRng();e.setStartBefore(o),e.setEndAfter(o),g(e)}else g(o);dp(e,t,o,n)}else if("false"!==A.getContentEditable(l.getNode()))l.isCollapsed()&&rg(i)&&!Og(e).length?Bx(e,t,n,r):(Rg(l,!0,(()=>{Mg(e,g)})),rg(i)&&nx(e,t,n,l.getStart())&&Vh(A,l,l.getRng()),e.nodeChanged()),dp(e,t,o,n);else{o=l.getNode();for(let t=0;t<s.length;t++)if(s[t].ceFalseOverride&&nS(e,s[t],n,o,o))break;dp(e,t,o,n)}},aS=dn.each,AS=(e,t,n,o)=>{const r=t=>{if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){const n=Yh(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(dn.walk(o,r,"childNodes"),r(o))},lS=(e,t,n,o)=>{t.styles&&t.styles.backgroundColor&&Mx(o,Px(e,"fontSize"),Vx(e,"backgroundColor",qh(t.styles.backgroundColor,n)))},cS=(e,t,n,o)=>{!rg(t)||"sub"!==t.inline&&"sup"!==t.inline||(Mx(o,Px(e,"fontSize"),Vx(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",o),!0))},uS=(e,t,n,o)=>{aS(t,(t=>{rg(t)&&aS(e.dom.select(t.inline,o),(o=>{Nx(o)&&nS(e,t,n,o,t.exact?o:null)})),Hx(e.dom,t,o)}))},dS=(e,t,n,o,r)=>{tx(e,r.parentNode,n,o)&&nS(e,t,o,r)||t.merge_with_parents&&e.dom.getParent(r.parentNode,(s=>{if(tx(e,s,n,o))return nS(e,t,o,r),!0}))},mS=dn.each,hS=e=>Nr(e)&&!Fh(e)&&!oh(e)&&!Mr(e),gS=(e,t,n,o)=>{if(Pu(e)&&rg(t)){const t=La(e.schema),r=WC(io.fromDom(n),(e=>oh(e.dom)));return Ne(t,o)&&Ji(io.fromDom(n.parentNode),!1)&&!r}return!1},pS=(e,t,n,o)=>{const r=e.formatter.get(t),s=r[0],i=!o&&e.selection.isCollapsed(),a=e.dom,A=e.selection,l=(e,t=s)=>{if(E(t.onformat)&&t.onformat(e,t,n,o),mS(t.styles,((t,o)=>{a.setStyle(e,o,qh(t,n))})),t.styles){const t=a.getAttrib(e,"style");t&&a.setAttrib(e,"data-mce-style",t)}mS(t.attributes,((t,o)=>{a.setAttrib(e,o,qh(t,n))})),mS(t.classes,(t=>{t=qh(t,n),a.hasClass(e,t)||a.addClass(e,t)}))},c=(e,t)=>{let n=!1;return mS(e,(e=>!!og(e)&&(k(e.collapsed)&&e.collapsed!==i?void 0:a.is(t,e.selector)&&!oh(t)?(l(t,e),n=!0,!1):void 0))),n},u=e=>{if(v(e)){const t=a.create(e);return l(t),t}return null},d=(o,i,a)=>{const A=[];let d=!0;const m=s.inline||s.block,h=u(m);Cg(o,i,(i=>{let u;const g=i=>{let p=!1,f=d;const b=i.nodeName.toLowerCase(),v=i.parentNode,w=v.nodeName.toLowerCase();if(Nr(i)&&o.getContentEditable(i)&&(f=d,d="true"===o.getContentEditable(i),p=!0),Xr(i)&&!gS(e,s,i,w))return u=null,void(ng(s)&&o.remove(i));if(ng(s)&&s.wrapper&&tx(e,i,t,n))u=null;else{if(d&&!p&&ng(s)&&!s.wrapper&&zh(e,b)&&Kh(e,w,m)){const e=o.rename(i,m);return l(e),A.push(e),void(u=null)}if(og(s)){let e=c(r,i);if(!e&&k(v)&&ig(s)&&(e=c(r,v)),!rg(s)||e)return void(u=null)}!d||p||!Kh(e,m,b)||!Kh(e,w,m)||!a&&zr(i)&&si(i.data)||oh(i)||rg(s)&&o.isBlock(i)?(u=null,$(be(i.childNodes),g),p&&(d=f),u=null):(u||(u=o.clone(h,!1),i.parentNode.insertBefore(u,i),A.push(u)),u.appendChild(i))}};$(i,g)})),!0===s.links&&$(A,(e=>{const t=e=>{"A"===e.nodeName&&l(e,s),$(be(e.childNodes),t)};t(e)})),$(A,(i=>{const a=e=>{let t=0;return $(e.childNodes,(e=>{Gh(e)||Fh(e)||t++})),t},c=e=>{const t=ie(e.childNodes,hS).filter((e=>$C(o,e,s)));return t.map((t=>{const n=o.clone(t,!1);return l(n),o.replace(n,e,!0),o.remove(t,!0),n})).getOr(e)},u=a(i);!(A.length>1)&&o.isBlock(i)||0!==u?(rg(s)||ng(s)&&s.wrapper)&&(s.exact||1!==u||(i=c(i)),uS(e,r,n,i),dS(e,s,t,n,i),lS(o,s,n,i),AS(o,s,n,i),cS(o,s,n,i),Ix(o,s,n,i)):o.remove(i,!0)}))};if("false"!==a.getContentEditable(A.getNode())){if(s){if(o)if(Rh(o)){if(!c(r,o)){const t=a.createRng();t.setStartBefore(o),t.setEndAfter(o),d(a,Bg(e,t,r),!0)}}else d(a,o,!0);else i&&rg(s)&&!Og(e).length?yx(e,t,n):(A.setRng(rC(A.getRng())),Rg(A,!0,(()=>{Mg(e,((t,n)=>{const o=n?t:Bg(e,t,r);d(a,o,!1)}))})),Vh(a,A,A.getRng()),e.nodeChanged());Tx(t,e)}up(e,t,o,n)}else{o=A.getNode();for(let e=0,t=r.length;e<t;e++){const t=r[e];if(t.ceFalseOverride&&og(t)&&a.is(o,t.selector)){l(o,t);break}}up(e,t,o,n)}},fS=e=>Le(e,"vars"),bS=(e,t)=>{e.set({}),t.on("NodeChange",(n=>{BS(t,n.element,e.get())})),t.on("FormatApply FormatRemove",(n=>{const o=z.from(n.node).map((e=>Rh(e)?e:e.startContainer)).bind((e=>Nr(e)?z.some(e):z.from(e.parentElement))).getOrThunk((()=>vS(t)));BS(t,o,e.get())}))},vS=e=>e.selection.getStart(),wS=(e,t,n,o,r)=>{const s=t=>{const s=e.formatter.matchNode(t,n,null!==r&&void 0!==r?r:{},o);return!S(s)},i=t=>!!JC(e,t,n)||!o&&k(e.formatter.matchNode(t,n,r,!0));return se(t,s,i)},yS=(e,t)=>{const n=null!==t&&void 0!==t?t:vS(e);return ne($h(e.dom,n),(e=>Nr(e)&&!Mr(e)))},BS=(e,t,n)=>{const o=yS(e,t);Ce(n,((n,r)=>{const s=n=>{const s=wS(e,o,r,n.similar,fS(n)?n.vars:void 0),i=s.isSome();if(n.state.get()!==i){n.state.set(i);const e=s.getOr(t);fS(n)?n.callback(i,{node:e,format:r,parents:o}):$(n.callbacks,(t=>t(i,{node:e,format:r,parents:o})))}};$([n.withSimilar,n.withoutSimilar],s),$(n.withVars,s)}))},CS=(e,t,n,o,r,s)=>{const i=t.get();$(n.split(","),(t=>{const n=Te(i,t).getOrThunk((()=>{const e={withSimilar:{state:hA(!1),similar:!0,callbacks:[]},withoutSimilar:{state:hA(!1),similar:!1,callbacks:[]},withVars:[]};return i[t]=e,e})),a=()=>{const n=yS(e);return wS(e,n,t,r,s).isSome()};if(S(s)){const e=r?n.withSimilar:n.withoutSimilar;e.callbacks.push(o),1===e.callbacks.length&&e.state.set(a())}else n.withVars.push({state:hA(a()),similar:r,vars:s,callback:o})})),t.set(i)},xS=(e,t,n)=>{const o=e.get();$(t.split(","),(e=>Te(o,e).each((t=>{o[e]={withSimilar:{...t.withSimilar,callbacks:ne(t.withSimilar.callbacks,(e=>e!==n))},withoutSimilar:{...t.withoutSimilar,callbacks:ne(t.withoutSimilar.callbacks,(e=>e!==n))},withVars:ne(t.withVars,(e=>e.callback!==n))}})))),e.set(o)},SS=(e,t,n,o,r,s)=>(null===t.get()&&bS(t,e),CS(e,t,n,o,r,s),{unbind:()=>xS(t,n,o)}),FS=(e,t,n,o)=>{const r=e.formatter.get(t);!nx(e,t,n,o)||"toggle"in r[0]&&!r[0].toggle?pS(e,t,n,o):iS(e,t,n,o)};function kS(e){return kS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kS(e)}function ES(e,t){return ES=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ES(e,t)}function _S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function OS(e,t,n){return OS=_S()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=Function.bind.apply(e,o),s=new r;return n&&ES(s,n.prototype),s},OS.apply(null,arguments)}function US(e){return TS(e)||LS(e)||NS(e)||DS()}function TS(e){if(Array.isArray(e))return QS(e)}function LS(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function NS(e,t){if(e){if("string"===typeof e)return QS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QS(e,t):void 0}}function QS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function DS(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var IS=Object.hasOwnProperty,HS=Object.setPrototypeOf,MS=Object.isFrozen,RS=Object.getPrototypeOf,PS=Object.getOwnPropertyDescriptor,VS=Object.freeze,jS=Object.seal,zS=Object.create,KS="undefined"!==typeof Reflect&&Reflect,WS=KS.apply,GS=KS.construct;WS||(WS=function(e,t,n){return e.apply(t,n)}),VS||(VS=function(e){return e}),jS||(jS=function(e){return e}),GS||(GS=function(e,t){return OS(e,US(t))});var qS=rF(Array.prototype.forEach),ZS=rF(Array.prototype.pop),XS=rF(Array.prototype.push),JS=rF(String.prototype.toLowerCase),YS=rF(String.prototype.match),$S=rF(String.prototype.replace),eF=rF(String.prototype.indexOf),tF=rF(String.prototype.trim),nF=rF(RegExp.prototype.test),oF=sF(TypeError);function rF(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return WS(e,t,o)}}function sF(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return GS(e,n)}}function iF(e,t){HS&&HS(e,null);var n=t.length;while(n--){var o=t[n];if("string"===typeof o){var r=JS(o);r!==o&&(MS(t)||(t[n]=r),o=r)}e[o]=!0}return e}function aF(e){var t,n=zS(null);for(t in e)WS(IS,e,[t])&&(n[t]=e[t]);return n}function AF(e,t){while(null!==e){var n=PS(e,t);if(n){if(n.get)return rF(n.get);if("function"===typeof n.value)return rF(n.value)}e=RS(e)}function o(e){return console.warn("fallback value for",e),null}return o}var lF=VS(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),cF=VS(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),uF=VS(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dF=VS(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mF=VS(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),hF=VS(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gF=VS(["#text"]),pF=VS(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),fF=VS(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),bF=VS(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),vF=VS(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wF=jS(/\{\{[\w\W]*|[\w\W]*\}\}/gm),yF=jS(/<%[\w\W]*|[\w\W]*%>/gm),BF=jS(/^data-[\-\w.\u00B7-\uFFFF]/),CF=jS(/^aria-[\-\w]+$/),xF=jS(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),SF=jS(/^(?:\w+script|data):/i),FF=jS(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),kF=jS(/^html$/i),EF=function(){return"undefined"===typeof window?null:window},_F=function(e,t){if("object"!==kS(e)||"function"!==typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(o)&&(n=t.currentScript.getAttribute(o));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(s){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function OF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EF(),t=function(e){return OF(e)};if(t.version="2.3.8",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,o=e.document,r=e.DocumentFragment,s=e.HTMLTemplateElement,i=e.Node,a=e.Element,A=e.NodeFilter,l=e.NamedNodeMap,c=void 0===l?e.NamedNodeMap||e.MozNamedAttrMap:l,u=e.HTMLFormElement,d=e.DOMParser,m=e.trustedTypes,h=a.prototype,g=AF(h,"cloneNode"),p=AF(h,"nextSibling"),f=AF(h,"childNodes"),b=AF(h,"parentNode");if("function"===typeof s){var v=o.createElement("template");v.content&&v.content.ownerDocument&&(o=v.content.ownerDocument)}var w=_F(m,n),y=w?w.createHTML(""):"",B=o,C=B.implementation,x=B.createNodeIterator,S=B.createDocumentFragment,F=B.getElementsByTagName,k=n.importNode,E={};try{E=aF(o).documentMode?o.documentMode:{}}catch(Pe){}var _={};t.isSupported="function"===typeof b&&C&&"undefined"!==typeof C.createHTMLDocument&&9!==E;var O,U,T=wF,L=yF,N=BF,Q=CF,D=SF,I=FF,H=xF,M=null,R=iF({},[].concat(US(lF),US(cF),US(uF),US(mF),US(gF))),P=null,V=iF({},[].concat(US(pF),US(fF),US(bF),US(vF))),j=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),z=null,K=null,W=!0,G=!0,q=!1,Z=!1,X=!1,J=!1,Y=!1,$=!1,ee=!1,te=!1,ne=!0,oe=!0,re=!1,se={},ie=null,ae=iF({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ae=null,le=iF({},["audio","video","img","source","image","track"]),ce=null,ue=iF({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),de="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",he="http://www.w3.org/1999/xhtml",ge=he,pe=!1,fe=["application/xhtml+xml","text/html"],be="text/html",ve=null,we=o.createElement("form"),ye=function(e){return e instanceof RegExp||e instanceof Function},Be=function(e){ve&&ve===e||(e&&"object"===kS(e)||(e={}),e=aF(e),M="ALLOWED_TAGS"in e?iF({},e.ALLOWED_TAGS):R,P="ALLOWED_ATTR"in e?iF({},e.ALLOWED_ATTR):V,ce="ADD_URI_SAFE_ATTR"in e?iF(aF(ue),e.ADD_URI_SAFE_ATTR):ue,Ae="ADD_DATA_URI_TAGS"in e?iF(aF(le),e.ADD_DATA_URI_TAGS):le,ie="FORBID_CONTENTS"in e?iF({},e.FORBID_CONTENTS):ae,z="FORBID_TAGS"in e?iF({},e.FORBID_TAGS):{},K="FORBID_ATTR"in e?iF({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,G=!1!==e.ALLOW_DATA_ATTR,q=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=e.SAFE_FOR_TEMPLATES||!1,X=e.WHOLE_DOCUMENT||!1,$=e.RETURN_DOM||!1,ee=e.RETURN_DOM_FRAGMENT||!1,te=e.RETURN_TRUSTED_TYPE||!1,Y=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,oe=!1!==e.KEEP_CONTENT,re=e.IN_PLACE||!1,H=e.ALLOWED_URI_REGEXP||H,ge=e.NAMESPACE||he,e.CUSTOM_ELEMENT_HANDLING&&ye(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ye(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),O=O=-1===fe.indexOf(e.PARSER_MEDIA_TYPE)?be:e.PARSER_MEDIA_TYPE,U="application/xhtml+xml"===O?function(e){return e}:JS,Z&&(G=!1),ee&&($=!0),se&&(M=iF({},US(gF)),P=[],!0===se.html&&(iF(M,lF),iF(P,pF)),!0===se.svg&&(iF(M,cF),iF(P,fF),iF(P,vF)),!0===se.svgFilters&&(iF(M,uF),iF(P,fF),iF(P,vF)),!0===se.mathMl&&(iF(M,mF),iF(P,bF),iF(P,vF))),e.ADD_TAGS&&(M===R&&(M=aF(M)),iF(M,e.ADD_TAGS)),e.ADD_ATTR&&(P===V&&(P=aF(P)),iF(P,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&iF(ce,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ie===ae&&(ie=aF(ie)),iF(ie,e.FORBID_CONTENTS)),oe&&(M["#text"]=!0),X&&iF(M,["html","head","body"]),M.table&&(iF(M,["tbody"]),delete z.tbody),VS&&VS(e),ve=e)},Ce=iF({},["mi","mo","mn","ms","mtext"]),xe=iF({},["foreignobject","desc","title","annotation-xml"]),Se=iF({},["title","style","font","a","script"]),Fe=iF({},cF);iF(Fe,uF),iF(Fe,dF);var ke=iF({},mF);iF(ke,hF);var Ee=function(e){var t=b(e);t&&t.tagName||(t={namespaceURI:he,tagName:"template"});var n=JS(e.tagName),o=JS(t.tagName);return e.namespaceURI===me?t.namespaceURI===he?"svg"===n:t.namespaceURI===de?"svg"===n&&("annotation-xml"===o||Ce[o]):Boolean(Fe[n]):e.namespaceURI===de?t.namespaceURI===he?"math"===n:t.namespaceURI===me?"math"===n&&xe[o]:Boolean(ke[n]):e.namespaceURI===he&&(!(t.namespaceURI===me&&!xe[o])&&(!(t.namespaceURI===de&&!Ce[o])&&(!ke[n]&&(Se[n]||!Fe[n]))))},_e=function(e){XS(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(Pe){try{e.outerHTML=y}catch(Pe){e.remove()}}},Oe=function(e,n){try{XS(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch(Pe){XS(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),"is"===e&&!P[e])if($||ee)try{_e(n)}catch(Pe){}else try{n.setAttribute(e,"")}catch(Pe){}},Ue=function(e){var t,n;if(Y)e="<remove></remove>"+e;else{var r=YS(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===O&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var s=w?w.createHTML(e):e;if(ge===he)try{t=(new d).parseFromString(s,O)}catch(Pe){}if(!t||!t.documentElement){t=C.createDocument(ge,"template",null);try{t.documentElement.innerHTML=pe?"":s}catch(Pe){}}var i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),ge===he?F.call(t,X?"html":"body")[0]:X?t.documentElement:i},Te=function(e){return x.call(e.ownerDocument||e,e,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT,null,!1)},Le=function(e){return e instanceof u&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof c)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore)},Ne=function(e){return"object"===kS(i)?e instanceof i:e&&"object"===kS(e)&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName},Qe=function(e,n,o){_[e]&&qS(_[e],(function(e){e.call(t,n,o,ve)}))},De=function(e){var n;if(Qe("beforeSanitizeElements",e,null),Le(e))return _e(e),!0;if(nF(/[\u0080-\uFFFF]/,e.nodeName))return _e(e),!0;var o=U(e.nodeName);if(Qe("uponSanitizeElement",e,{tagName:o,allowedTags:M}),e.hasChildNodes()&&!Ne(e.firstElementChild)&&(!Ne(e.content)||!Ne(e.content.firstElementChild))&&nF(/<[/\w]/g,e.innerHTML)&&nF(/<[/\w]/g,e.textContent))return _e(e),!0;if("select"===o&&nF(/<template/i,e.innerHTML))return _e(e),!0;if(!M[o]||z[o]){if(!z[o]&&He(o)){if(j.tagNameCheck instanceof RegExp&&nF(j.tagNameCheck,o))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(o))return!1}if(oe&&!ie[o]){var r=b(e)||e.parentNode,s=f(e)||e.childNodes;if(s&&r)for(var i=s.length,A=i-1;A>=0;--A)r.insertBefore(g(s[A],!0),p(e))}return _e(e),!0}return e instanceof a&&!Ee(e)?(_e(e),!0):"noscript"!==o&&"noembed"!==o||!nF(/<\/no(script|embed)/i,e.innerHTML)?(Z&&3===e.nodeType&&(n=e.textContent,n=$S(n,T," "),n=$S(n,L," "),e.textContent!==n&&(XS(t.removed,{element:e.cloneNode()}),e.textContent=n)),Qe("afterSanitizeElements",e,null),!1):(_e(e),!0)},Ie=function(e,t,n){if(ne&&("id"===t||"name"===t)&&(n in o||n in we))return!1;if(G&&!K[t]&&nF(N,t));else if(W&&nF(Q,t));else if(!P[t]||K[t]){if(!(He(e)&&(j.tagNameCheck instanceof RegExp&&nF(j.tagNameCheck,e)||j.tagNameCheck instanceof Function&&j.tagNameCheck(e))&&(j.attributeNameCheck instanceof RegExp&&nF(j.attributeNameCheck,t)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(t))||"is"===t&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&nF(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))))return!1}else if(ce[t]);else if(nF(H,$S(n,I,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==eF(n,"data:")||!Ae[e]){if(q&&!nF(D,$S(n,I,"")));else if(n)return!1}else;return!0},He=function(e){return e.indexOf("-")>0},Me=function(e){var t,n,o,r;Qe("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P};r=s.length;while(r--){t=s[r];var a=t,A=a.name,l=a.namespaceURI;n="value"===A?t.value:tF(t.value),o=U(A);var c=n;if(i.attrName=o,i.attrValue=n,i.keepAttr=!0,i.forceKeepAttr=void 0,Qe("uponSanitizeAttribute",e,i),n=i.attrValue,!i.forceKeepAttr)if(i.keepAttr)if(nF(/\/>/i,n))Oe(A,e);else{Z&&(n=$S(n,T," "),n=$S(n,L," "));var u=U(e.nodeName);if(Ie(u,o,n)){if(n!==c)try{l?e.setAttributeNS(l,A,n):e.setAttribute(A,n)}catch(Pe){Oe(A,e)}}else Oe(A,e)}else Oe(A,e)}Qe("afterSanitizeAttributes",e,null)}},Re=function e(t){var n,o=Te(t);Qe("beforeSanitizeShadowDOM",t,null);while(n=o.nextNode())Qe("uponSanitizeShadowNode",n,null),De(n)||(n.content instanceof r&&e(n.content),Me(n));Qe("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(o,s){var a,A,l,c,u;if(pe=!o,pe&&(o="\x3c!--\x3e"),"string"!==typeof o&&!Ne(o)){if("function"!==typeof o.toString)throw oF("toString is not a function");if(o=o.toString(),"string"!==typeof o)throw oF("dirty is not a string, aborting")}if(!t.isSupported){if("object"===kS(e.toStaticHTML)||"function"===typeof e.toStaticHTML){if("string"===typeof o)return e.toStaticHTML(o);if(Ne(o))return e.toStaticHTML(o.outerHTML)}return o}if(J||Be(s),t.removed=[],"string"===typeof o&&(re=!1),re){if(o.nodeName){var d=U(o.nodeName);if(!M[d]||z[d])throw oF("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof i)a=Ue("\x3c!----\x3e"),A=a.ownerDocument.importNode(o,!0),1===A.nodeType&&"BODY"===A.nodeName||"HTML"===A.nodeName?a=A:a.appendChild(A);else{if(!$&&!Z&&!X&&-1===o.indexOf("<"))return w&&te?w.createHTML(o):o;if(a=Ue(o),!a)return $?null:te?y:""}a&&Y&&_e(a.firstChild);var m=Te(re?o:a);while(l=m.nextNode())3===l.nodeType&&l===c||De(l)||(l.content instanceof r&&Re(l.content),Me(l),c=l);if(c=null,re)return o;if($){if(ee){u=S.call(a.ownerDocument);while(a.firstChild)u.appendChild(a.firstChild)}else u=a;return P.shadowroot&&(u=k.call(n,u,!0)),u}var h=X?a.outerHTML:a.innerHTML;return X&&M["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&nF(kF,a.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+h),Z&&(h=$S(h,T," "),h=$S(h,L," ")),w&&te?w.createHTML(h):h},t.setConfig=function(e){Be(e),J=!0},t.clearConfig=function(){ve=null,J=!1},t.isValidAttribute=function(e,t,n){ve||Be({});var o=U(e),r=U(t);return Ie(o,r,n)},t.addHook=function(e,t){"function"===typeof t&&(_[e]=_[e]||[],XS(_[e],t))},t.removeHook=function(e){if(_[e])return ZS(_[e])},t.removeHooks=function(e){_[e]&&(_[e]=[])},t.removeAllHooks=function(){_={}},t}var UF=OF();const TF=dn.explode,LF=()=>{const e={},t=(t,n)=>{$(TF(t),(t=>{Le(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)}))},n=()=>Ue(e),o=(t,n)=>{$(TF(t),(t=>{if(Le(e,t))if(k(n)){const o=e[t],r=ne(o.callbacks,(e=>e!==n));r.length>0?o.callbacks=r:delete e[t]}else delete e[t]}))};return{addFilter:t,getFilters:n,removeFilter:o}},NF=(e,t)=>{$(t,(t=>{e.attr(t,null)}))},QF=(e,t,n)=>{e.addNodeFilter("font",(e=>{$(e,(e=>{const o=t.parse(e.attr("style")),r=e.attr("color"),s=e.attr("face"),i=e.attr("size");r&&(o.color=r),s&&(o["font-family"]=s),i&&(o["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(o)),NF(e,["color","face","size"])}))}))},DF=(e,t,n)=>{e.addNodeFilter("strike",(e=>{const o="html4"!==t.type;$(e,(e=>{if(o)e.name="s";else{const t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}}))}))},IF=(e,t,n)=>{const o=Ia();t.convert_fonts_to_spans&&QF(e,o,dn.explode(t.font_size_legacy_values)),DF(e,n,o)},HF=(e,t,n)=>{t.inline_styles&&IF(e,t,n)},MF=e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`))),RF=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},PF=e=>{const[t,...n]=e.split(","),o=n.join(","),r=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(r){const e=";base64"===r[2],t=e?RF(o):decodeURIComponent(o);return z.some({type:r[1],data:t,base64Encoded:e})}return z.none()},VF=(e,t,n=!0)=>{let o=t;if(n)try{o=atob(t)}catch(s){return z.none()}const r=new Uint8Array(o.length);for(let i=0;i<r.length;i++)r[i]=o.charCodeAt(i);return z.some(new Blob([r],{type:e}))},jF=e=>new Promise(((t,n)=>{PF(e).bind((({type:e,data:t,base64Encoded:n})=>VF(e,t,n))).fold((()=>n("Invalid data URI")),t)})),zF=e=>At(e,"blob:")?MF(e):At(e,"data:")?jF(e):Promise.reject("Unknown URI format"),KF=e=>new Promise(((t,n)=>{const o=new FileReader;o.onloadend=()=>{t(o.result)},o.onerror=()=>{n(o.error.message)},o.readAsDataURL(e)}));let WF=0;const GF=e=>(e||"blobid")+WF++,qF=(e,t,n)=>PF(e).bind((({data:e,type:o,base64Encoded:r})=>{if(t&&!r)return z.none();{const t=r?e:btoa(e);return n(t,o)}})),ZF=(e,t,n)=>{const o=e.create(GF(),t,n);return e.add(o),o},XF=(e,t,n=!1)=>qF(t,n,((t,n)=>z.from(e.getByData(t,n)).orThunk((()=>VF(n,t).map((n=>ZF(e,n,t))))))),JF=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(At(t,"blob:")){const o=e.getByUri(t);return k(o)?Promise.resolve(o):zF(t).then((t=>KF(t).then((o=>qF(o,!1,(n=>z.some(ZF(e,t,n)))).getOrThunk(n)))))}return At(t,"data:")?XF(e,t).fold(n,(e=>Promise.resolve(e))):Promise.reject("Unknown image data format")},YF=e=>k(e.attr("data-mce-bogus")),$F=e=>e.attr("src")===en.transparentSrc||k(e.attr("data-mce-placeholder")),ek=(e,t)=>{const{blob_cache:n}=t,o=e=>{const t=e.attr("src");$F(e)||YF(e)||XF(n,t,!0).each((t=>{e.attr("src",t.blobUri())}))};n&&e.addAttributeFilter("src",(e=>$(e,o)))},tk=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",((e,o,r)=>{const s=dn.extend({},n.getBlockElements()),i=n.getNonEmptyElements(),a=n.getWhitespaceElements();s.body=1;for(let A=0,l=e.length;A<l;A++){let o=e[A],l=o.parent;if(s[o.parent.name]&&o===l.lastChild){let e=o.prev;while(e){const t=e.name;if("span"!==t||"bookmark"!==e.attr("data-mce-type")){"br"===t&&(o=null);break}e=e.prev}if(o&&(o.remove(),YB(n,i,a,l))){const e=n.getElementRule(l.name);e&&(e.removeEmpty?l.remove():e.paddEmpty&&qB(t,r,s,l))}}else{let e=o;while(l&&l.firstChild===e&&l.lastChild===e){if(e=l,s[l.name])break;l=l.parent}if(e===l){const e=new Uv("#text",3);e.value=zs,o.replace(e)}}}})),e.addAttributeFilter("href",(e=>{let n=e.length;const o=e=>{const t=e.split(" ").filter((e=>e.length>0));return t.concat(["noopener"]).sort().join(" ")},r=e=>{const t=e?dn.trim(e):"";return/\b(noopener)\b/g.test(t)?t:o(t)};if(!t.allow_unsafe_link_target)while(n--){const t=e[n];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",r(t.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(e=>{let t,n,o,r,s=e.length;while(s--)if(r=e[s],"a"===r.name&&r.firstChild&&!r.attr("href")){o=r.parent,t=r.lastChild;do{n=t.prev,o.insert(t,r),t=n}while(t)}})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(e=>{let t,n,o=e.length;while(o--)if(t=e[o],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new Uv("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(e=>{const t=n.getValidClasses();let o=e.length;while(o--){const n=e[o],r=n.attr("class").split(" ");let s="";for(let e=0;e<r.length;e++){const o=r[e];let i=!1,a=t["*"];a&&a[o]&&(i=!0),a=t[n.name],!i&&a&&a[o]&&(i=!0),i&&(s&&(s+=" "),s+=o)}s.length||(s=null),n.attr("class",s)}})),ek(e,t)},nk=dn.each,ok=dn.trim,rk="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),sk={ftp:21,http:80,https:443,mailto:25},ik=["img","video"],ak=(e,t)=>k(e)?!e:!k(t)||!X(ik,t),Ak=e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}},lk=(e,t,n)=>{const o=Ak(t);return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(o)||!e.allow_html_data_urls&&(/^data:image\//i.test(o)?ak(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o)))};class ck{constructor(e,t){e=ok(e),this.settings=t||{};const n=this.settings.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(o.source=e);const r=0===e.indexOf("//");if(0!==e.indexOf("/")||r||(e=(n&&n.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=this.settings.base_uri?this.settings.base_uri.path:new ck(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)e="//mce_host"+o.toAbsPath(t,e);else{const r=/([^#?]*)([#?]?.*)/.exec(e);e=(n&&n.protocol||"http")+"://mce_host"+o.toAbsPath(t,r[1])+r[2]}}e=e.replace(/@@/g,"(mce_at)");const s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);nk(rk,((e,t)=>{let n=s[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n})),n&&(o.protocol||(o.protocol=n.protocol),o.userInfo||(o.userInfo=n.userInfo),o.port||"mce_host"!==o.host||(o.port=n.port),o.host&&"mce_host"!==o.host||(o.host=n.host),o.source=""),r&&(o.protocol="")}static parseDataUri(e){let t;const n=decodeURIComponent(e).split(","),o=/data:([^;]+)/.exec(n[0]);return o&&(t=o[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){if(n.allow_script_urls)return!0;{const o=Ca.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!lk(n,o,t)}}static getDocumentBaseUrl(e){let t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()}toRelative(e){let t;if("./"===e)return e;const n=new ck(e,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();const o=this.getURI(),r=n.getURI();return o===r||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===r?o:(t=this.toRelPath(this.path,n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),t)}toAbsolute(e,t){const n=new ck(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=sk[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n,o,r=0,s="";const i=e.substring(0,e.lastIndexOf("/")).split("/"),a=t.split("/");if(i.length>=a.length)for(n=0,o=i.length;n<o;n++)if(n>=a.length||i[n]!==a[n]){r=n+1;break}if(i.length<a.length)for(n=0,o=a.length;n<o;n++)if(n>=i.length||i[n]!==a[n]){r=n+1;break}if(1===r)return t;for(n=0,o=i.length-(r-1);n<o;n++)s+="../";for(n=r-1,o=a.length;n<o;n++)s+=n!==r-1?"/"+a[n]:a[n];return s}toAbsPath(e,t){let n,o,r=0,s=[];const i=/\/$/.test(t)?"/":"";let a=e.split("/");const A=t.split("/");for(nk(a,(e=>{e&&s.push(e)})),a=s,n=A.length-1,s=[];n>=0;n--)0!==A[n].length&&"."!==A[n]&&(".."!==A[n]?r>0?r--:s.push(A[n]):r++);return n=a.length-r,o=n<=0?ue(s).join("/"):a.slice(0,n).join("/")+"/"+ue(s).join("/"),0!==o.indexOf("/")&&(o="/"+o),i&&o.lastIndexOf("/")!==o.length-1&&(o+=i),o}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const uk=dn.makeMap,dk=dn.extend,mk={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]},hk=dn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),gk="data-mce-type",pk=(e,t)=>{const n={...mk};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n},fk=(e,t)=>{const n=UF(),o=t.getSpecialElements(),r=e.validate;let s=0;return n.addHook("uponSanitizeElement",((n,i)=>{var a,A;n.nodeType===bn&&!e.allow_conditional_comments&&/^\[if/i.test(n.nodeValue)&&(n.nodeValue=" "+n.nodeValue);const l=i.tagName;if(n.nodeType!==yn||"body"===l)return;const c=io.fromDom(n),u=l.toLowerCase(),d=In(c,gk),m=Qn(c,"data-mce-bogus");if(!d&&v(m))return void("all"===m?ar(c):Ar(c));const h=t.getElementRule(u);if(!r||h){if(i.allowedTags[l]=!0,r&&!d){if($(null!==(a=h.attributesForced)&&void 0!==a?a:[],(e=>{Ln(c,e.name,"{$uid}"===e.value?"mce_"+s++:e.value)})),$(null!==(A=h.attributesDefault)&&void 0!==A?A:[],(e=>{In(c,e.name)||Ln(c,e.name,"{$uid}"===e.value?"mce_"+s++:e.value)})),h.attributesRequired&&!J(h.attributesRequired,(e=>In(c,e))))return void Ar(c);if(h.removeEmptyAttrs&&Mn(c))return void Ar(c);h.outputName&&h.outputName!==u&&nl(c,h.outputName)}}else Le(o,u)?ar(c):Ar(c)})),n.addHook("uponSanitizeAttribute",((n,o)=>{const s=n.tagName.toLowerCase(),{attrName:i,attrValue:a}=o;o.keepAttr=!r||t.isValid(s,i)||At(i,"data-")||At(i,"aria-"),i in hk&&lk(e,a,s)&&(o.keepAttr=!1),o.keepAttr?(o.allowedAttributes[i]=!0,i in t.getBoolAttrs()&&(o.attrValue=i),e.allow_svg_data_urls&&At(a,"data:image/svg+xml")&&(o.forceKeepAttr=!0)):!n.hasAttribute(gk)||"id"!==i&&"class"!==i&&"style"!==i||(o.forceKeepAttr=!0)})),n},bk=(e,t,n)=>{const o=e.name,r=o in n&&"title"!==o&&"textarea"!==o,s=t.childNodes;for(let i=0,a=s.length;i<a;i++){const t=s[i],o=new Uv(t.nodeName.toLowerCase(),t.nodeType);if(Nr(t)){const e=t.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];o.attr(n.name,n.value)}}else zr(t)?(o.value=t.data,r&&(o.raw=!0)):(Gr(t)||Kr(t)||Wr(t))&&(o.value=t.data);bk(o,t,n),e.append(o)}},vk=(e,t,n)=>{const o=[];for(let r=e,s=r;k(r);s=r,r=r.walk())$(t,(e=>e(r))),F(r.parent)&&r!==e?r=s:o.push(r);for(let r=o.length-1;r>=0;r--){const e=o[r];$(n,(t=>t(e)))}},wk=(e,t,n,o)=>{const r=n.validate,s=t.getNonEmptyElements(),i=t.getWhitespaceElements(),a=dk(uk("script,style,head,html,body,title,meta,param"),t.getBlockElements()),A=La(t),l=/[ \t\r\n]+/g,c=/^[ \t\r\n]+/,u=/[ \t\r\n]+$/,d=e=>{e=e.parent;while(k(e)){if(e.name in i)return!0;e=e.parent}return!1},m=e=>{let n=e;while(k(n)){if(n.name in A)return YB(t,s,i,n);n=n.parent}return!1},h=(t,n)=>{const r=n?t.prev:t.next;return!k(r)&&(t.parent.name in a&&(t.parent!==e||o.isRootContent))},g=e=>{if(3===e.type&&!d(e)){let t=e.value;t=t.replace(l," "),($B(e.prev,a)||h(e,!0))&&(t=t.replace(c,"")),0===t.length?e.remove():e.value=t}},p=e=>{var A;if(1===e.type){const A=t.getElementRule(e.name);if(r&&A){const r=YB(t,s,i,e);A.paddInEmptyBlock&&r&&m(e)?qB(n,o,a,e):A.removeEmpty&&r?a[e.name]?e.remove():e.unwrap():A.paddEmpty&&(r||ZB(e))&&qB(n,o,a,e)}}else if(3===e.type&&!d(e)){let t=e.value;(a[null===(A=e.next)||void 0===A?void 0:A.name]||h(e,!1))&&(t=t.replace(u,"")),0===t.length?e.remove():e.value=t}};return[g,p]},yk=(e,t)=>{var n;const o=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===o?"":!0===o?"p":o},Bk=(e={},t=Da())=>{const n=LF(),o=LF(),r={validate:!0,root_name:"body",...e},s=new DOMParser,i=fk(r,t),a=(e,n,o="html")=>{const a="xhtml"===o?"application/xhtml+xml":"text/html",A=Le(t.getSpecialElements(),n.toLowerCase()),l=A?`<${n}>${e}</${n}>`:e,c="xhtml"===o?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:`<body>${l}</body>`,u=s.parseFromString(c,a).body;return i.sanitize(u,pk(r,a)),i.removed=[],A?u.firstChild:u},A=n.addFilter,l=n.getFilters,c=n.removeFilter,u=o.addFilter,d=o.getFilters,m=o.removeFilter,h=(e,n)=>{const o=e.parent;o&&t.children[e.name]&&!t.isValidChild(o.name,e.name)&&n.push(e)},g=(e,n)=>{const o=dk(uk("script,style,head,html,body,title,meta,param"),t.getBlockElements()),s=/^[ \t\r\n]+/,i=/[ \t\r\n]+$/;let a=e.firstChild,A=null;const l=e=>{e&&(a=e.firstChild,a&&3===a.type&&(a.value=a.value.replace(s,"")),a=e.lastChild,a&&3===a.type&&(a.value=a.value.replace(i,"")))};if(t.isValidChild(e.name,n.toLowerCase())){while(a){const t=a.next;3===a.type||1===a.type&&"p"!==a.name&&!o[a.name]&&!a.attr(gk)?(A||(A=new Uv(n,1),A.attr(r.forced_root_block_attrs),e.insert(A,a)),A.append(a)):(l(A),A=null),a=t}l(A)}},p=(e,n={})=>{var o;const s=r.validate,i=null!==(o=n.context)&&void 0!==o?o:r.root_name,A=a(e,i,n.format),c=new Uv(i,11);bk(c,A,t.getSpecialElements());const[u,m]=wk(c,t,r,n),p=[],f=s?e=>h(e,p):U,b={nodes:{},attributes:{}},v=e=>zB(l(),d(),e,b);if(vk(c,[u,v],[m,f]),p.reverse(),s&&p.length>0)if(n.context){const{pass:e,fail:o}=te(p,(e=>e.parent===c));tC(o,t,v),n.invalid=e.length>0}else tC(p,t,v);const w=yk(r,n);return w&&("body"===c.name||n.isRootContent)&&g(c,w),n.invalid||WB(b,n),c},f={schema:t,addAttributeFilter:u,getAttributeFilters:d,removeAttributeFilter:m,addNodeFilter:A,getNodeFilters:l,removeNodeFilter:c,parse:p};return tk(f,r),HF(f,r,t),f},Ck=e=>RC(e)?Kv({validate:!1}).serialize(e):e,xk=(e,t)=>{const n=Ck(e),o=t(n);if(o.isDefaultPrevented())return o;if(RC(e)){if(o.content!==n){const t=Bk({validate:!1,forced_root_block:!1}).parse(o.content,{context:e.name});return{...o,content:t}}return{...o,content:e}}return o},Sk=(e,t)=>{if(t.no_events)return Ec.value(t);{const n=gp(e,t);return n.isDefaultPrevented()?Ec.error(pp(e,{content:"",...n}).content):Ec.value(n)}},Fk=(e,t,n)=>{if(n.no_events)return t;{const o=xk(t,(t=>pp(e,{...n,content:t})));return o.content}},kk=(e,t)=>{if(t.no_events)return Ec.value(t);{const n=xk(t.content,(n=>mp(e,{...t,content:n})));return n.isDefaultPrevented()?(hp(e,n),Ec.error(void 0)):Ec.value(n)}},Ek=(e,t,n)=>{n.no_events||hp(e,{...n,content:t})},_k=(e,t,n)=>({element:e,width:t,rows:n}),Ok=(e,t)=>({element:e,cells:t}),Uk=(e,t)=>({x:e,y:t}),Tk=(e,t)=>{const n=parseInt(Qn(e,t),10);return isNaN(n)?1:n},Lk=(e,t,n,o,r)=>{const s=Tk(r,"rowspan"),i=Tk(r,"colspan"),a=e.rows;for(let A=n;A<n+s;A++){a[A]||(a[A]=Ok(el(o),[]));for(let e=t;e<t+i;e++){const o=a[A].cells;o[e]=A===n&&e===t?r:$A(r)}}},Nk=(e,t,n)=>{const o=e.rows,r=o[n]?o[n].cells:[];return!!r[t]},Qk=(e,t,n)=>{while(Nk(e,t,n))t++;return t},Dk=e=>re(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),Ik=(e,t)=>{const n=e.rows;for(let o=0;o<n.length;o++){const e=n[o].cells;for(let n=0;n<e.length;n++)if(mo(e[n],t))return z.some(Uk(n,o))}return z.none()},Hk=(e,t,n,o,r)=>{const s=[],i=e.rows;for(let a=n;a<=r;a++){const e=i[a].cells,n=t<o?e.slice(t,o+1):e.slice(o,t+1);s.push(Ok(i[a].element,n))}return s},Mk=(e,t,n)=>{const o=t.x,r=t.y,s=n.x,i=n.y,a=r<i?Hk(e,o,r,s,i):Hk(e,o,i,s,r);return _k(e.element,Dk(a),a)},Rk=(e,t)=>{const n=$A(e.element),o=io.fromTag("tbody");return sr(o,t),nr(n,o),n},Pk=e=>Y(e.rows,(e=>{const t=Y(e.cells,(e=>{const t=el(e);return Hn(t,"colspan"),Hn(t,"rowspan"),t})),n=$A(e.element);return sr(n,t),n})),Vk=e=>{const t=_k($A(e),0,[]);return $(qs(e,"tr"),((e,n)=>{$(qs(e,"td,th"),((o,r)=>{Lk(t,Qk(t,r,n),n,e,o)}))})),_k(t.element,Dk(t.rows),t.rows)},jk=e=>Rk(e,Pk(e)),zk=(e,t,n)=>Ik(e,t).bind((t=>Ik(e,n).map((n=>Mk(e,t,n))))),Kk=e=>ie(e,(e=>"ul"===Cn(e)||"ol"===Cn(e))),Wk=(e,t)=>ie(e,(e=>"li"===Cn(e)&&Dg(e,t))).fold(N([]),(t=>Kk(e).map((e=>{const t=io.fromTag(Cn(e)),n=_e(Xo(e),((e,t)=>At(t,"list-style")));return Wo(t,n),[io.fromTag("li"),t]})).getOr([]))),Gk=(e,t)=>{const n=re(t,((e,t)=>(nr(t,e),t)),e);return t.length>0?mf([n]):n},qk=e=>Ds(e)?vo(e).filter(Qs).fold(N([]),(t=>[e,t])):Qs(e)?[e]:[],Zk=(e,t)=>{const n=io.fromDom(t.commonAncestorContainer),o=fw(n,e),r=ne(o,Ps),s=Wk(o,t),i=r.concat(s.length?s:qk(n));return Y(i,$A)},Xk=()=>mf([]),Jk=(e,t)=>Gk(io.fromDom(t.cloneContents()),Zk(e,t)),Yk=(e,t)=>ms(t,"table",I(mo,e)),$k=(e,t)=>Yk(e,t[0]).bind((e=>{const n=t[0],o=t[t.length-1],r=Vk(e);return zk(r,n,o).map((e=>mf([jk(e)])))})).getOrThunk(Xk),eE=(e,t)=>t.length>0&&t[0].collapsed?Xk():Jk(e,t[0]),tE=(e,t)=>{const n=_g(t,e);return n.length>0?$k(e,n):eE(e,t)},nE=(e,t)=>t>=0&&t<e.length&&_h(e.charAt(t)),oE=e=>ii(e.innerText),rE=e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase(),sE=e=>z.from(e.selection.getRng()).map((t=>{const n=z.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),o=e.getBody(),r=rE(n),s=e.dom.add(o,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),i=oE(s),a=ii(s.textContent);if(e.dom.remove(s),nE(a,0)||nE(a,a.length-1)){const e=n.getOr(o),t=oE(e),r=t.indexOf(i);if(-1===r)return i;{const e=nE(t,r-1),n=nE(t,r+i.length);return(e?" ":"")+i+(n?" ":"")}}return i})).getOr(""),iE=(e,t)=>{const n=e.selection.getRng(),o=e.dom.create("body"),r=e.selection.getSel(),s=hv(e,xg(r)),i=t.contextual?tE(io.fromDom(e.getBody()),s).dom:n.cloneContents();return i&&o.appendChild(i),e.selection.serializer.serialize(o,t)},aE=(e,t)=>{if("text"===t.format)return sE(e);{const n=iE(e,t);return"tree"===t.format?n:e.selection.isCollapsed()?"":n}},AE=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),lE=(e,t,n={})=>{const o=AE(n,t);return Sk(e,o).fold(Q,(t=>{const n=aE(e,t);return Fk(e,n,t)}))},cE=0,uE=1,dE=2,mE=(e,t)=>{const n=e.length+t.length+2,o=new Array(n),r=new Array(n),s=(e,t,n)=>({start:e,end:t,diag:n}),i=(n,o,r,s,a)=>{const l=A(n,o,r,s);if(null===l||l.start===o&&l.diag===o-s||l.end===n&&l.diag===n-r){let i=n,A=r;while(i<o||A<s)i<o&&A<s&&e[i]===t[A]?(a.push([cE,e[i]]),++i,++A):o-n>s-r?(a.push([dE,e[i]]),++i):(a.push([uE,t[A]]),++A)}else{i(n,l.start,r,l.start-l.diag,a);for(let t=l.start;t<l.end;++t)a.push([cE,e[t]]);i(l.end,o,l.end-l.diag,s,a)}},a=(n,o,r,i)=>{let a=n;while(a-o<i&&a<r&&e[a]===t[a-o])++a;return s(n,a,o)},A=(n,s,i,A)=>{const l=s-n,c=A-i;if(0===l||0===c)return null;const u=l-c,d=c+l,m=(d%2===0?d:d+1)/2;let h,g,p,f,b;for(o[1+m]=n,r[1+m]=s+1,h=0;h<=m;++h){for(g=-h;g<=h;g+=2){p=g+m,g===-h||g!==h&&o[p-1]<o[p+1]?o[p]=o[p+1]:o[p]=o[p-1]+1,f=o[p],b=f-n+i-g;while(f<s&&b<A&&e[f]===t[b])o[p]=++f,++b;if(u%2!==0&&u-h<=g&&g<=u+h&&r[p-u]<=o[p])return a(r[p-u],g+n-i,s,A)}for(g=u-h;g<=u+h;g+=2){p=g+m-u,g===u-h||g!==u+h&&r[p+1]<=r[p-1]?r[p]=r[p+1]-1:r[p]=r[p-1],f=r[p]-1,b=f-n+i-g;while(f>=n&&b>=i&&e[f]===t[b])r[p]=f--,b--;if(u%2===0&&-h<=g&&g<=h&&r[p]<=o[p+u])return a(r[p],g+n-i,s,A)}}},l=[];return i(0,e.length,0,t.length,l),l},hE=e=>Nr(e)?e.outerHTML:zr(e)?Ca.encodeRaw(e.data,!1):Gr(e)?"\x3c!--"+e.data+"--\x3e":"",gE=e=>{let t;const n=document.createElement("div"),o=document.createDocumentFragment();e&&(n.innerHTML=e);while(t=n.firstChild)o.appendChild(t);return o},pE=(e,t,n)=>{const o=gE(t);if(e.hasChildNodes()&&n<e.childNodes.length){const t=e.childNodes[n];t.parentNode.insertBefore(o,t)}else e.appendChild(o)},fE=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];n.parentNode.removeChild(n)}},bE=(e,t)=>{let n=0;$(e,(e=>{e[0]===cE?n++:e[0]===uE?(pE(t,e[1],n),n++):e[0]===dE&&fE(t,n)}))},vE=e=>ne(Y(be(e.childNodes),hE),(e=>e.length>0)),wE=(e,t)=>{const n=Y(be(t.childNodes),hE);return bE(mE(n,e),t),t},yE=We((()=>document.implementation.createHTMLDocument("undo"))),BE=e=>-1!==e.indexOf("</iframe>"),CE=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),xE=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),SE=e=>{const t=vE(e.getBody()),n=le(t,(t=>{const n=Dv(e.serializer,t);return n.length>0?[n]:[]})),o=n.join("");return BE(o)?CE(n):xE(o)},FE=(e,t,n)=>{const o=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?wE(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!k(o)||!lh(o)||!o.isFakeCaret}),e.selection.moveToBookmark(o)},kE=e=>"fragmented"===e.type?e.fragments.join(""):e.content,EE=e=>{const t=io.fromTag("body",yE());return dr(t,kE(e)),$(qs(t,"*[data-mce-bogus]"),Ar),ur(t)},_E=(e,t)=>kE(e)===kE(t),OE=(e,t)=>EE(e)===EE(t),UE=(e,t)=>!(!e||!t)&&(!!_E(e,t)||OE(e,t)),TE=e=>0===e.get(),LE=(e,t,n)=>{TE(n)&&(e.typing=t)},NE=(e,t)=>{e.typing&&(LE(e,!1,t),e.add())},QE=e=>{e.typing&&(e.typing=!1,e.add())},DE=(e,t,n)=>{TE(t)&&n.set(xc(e.selection))},IE=(e,t,n,o,r,s,i)=>{const a=SE(e);if(s=s||{},s=dn.extend(s,a),!1===TE(o)||e.removed)return null;const A=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:s,lastLevel:A,originalEvent:i}).isDefaultPrevented())return null;if(A&&UE(A,s))return null;t.data[n.get()]&&r.get().each((e=>{t.data[n.get()].beforeBookmark=e}));const l=qu(e);if(l&&t.data.length>l){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}s.bookmark=xc(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(s),n.set(t.data.length-1);const c={level:s,lastLevel:A,originalEvent:i};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",c),e.dispatch("change",c)):e.dispatch("AddUndo",c),s},HE=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},ME=(e,t,n,o,r)=>{if(t.transact(o)){const o=t.data[n.get()].bookmark,s=t.data[n.get()-1];FE(e,s,!0),t.transact(r)&&(t.data[n.get()-1].beforeBookmark=o)}},RE=(e,t,n)=>{let o;return t.get()<n.length-1&&(t.set(t.get()+1),o=n[t.get()],FE(e,o,!1),e.setDirty(!0),e.dispatch("Redo",{level:o})),o},PE=(e,t,n,o)=>{let r;return t.typing&&(t.add(),t.typing=!1,LE(t,!1,n)),o.get()>0&&(o.set(o.get()-1),r=t.data[o.get()],FE(e,r,!0),e.setDirty(!0),e.dispatch("Undo",{level:r})),r},VE=e=>{e.clear(),e.add()},jE=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!UE(SE(e),t.data[0]),zE=(e,t)=>t.get()<e.data.length-1&&!e.typing,KE=(e,t,n)=>(NE(e,t),e.beforeChange(),e.ignore(n),e.add()),WE=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},GE=(e,t)=>{const n=e.dom,o=k(t)?t:e.getBody();S(e.hasVisual)&&(e.hasVisual=td(e)),$(n.select("table,a",o),(t=>{switch(t.nodeName){case"TABLE":const o=nd(e),r=n.getAttrib(t,"border");r&&"0"!==r||!e.hasVisual?n.removeClass(t,o):n.addClass(t,o);break;case"A":if(!n.getAttrib(t,"href")){const o=n.getAttrib(t,"name")||t.id,r=od(e);o&&e.hasVisual?n.addClass(t,r):n.removeClass(t,r)}break}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},qE=e=>({init:{bindEvents:U},undoManager:{beforeChange:(t,n)=>DE(e,t,n),add:(t,n,o,r,s,i)=>IE(e,t,n,o,r,s,i),undo:(t,n,o)=>PE(e,t,n,o),redo:(t,n)=>RE(e,t,n),clear:(t,n)=>HE(e,t,n),reset:e=>VE(e),hasUndo:(t,n)=>jE(e,t,n),hasRedo:(e,t)=>zE(e,t),transact:(e,t,n)=>KE(e,t,n),ignore:(e,t)=>WE(e,t),extra:(t,n,o,r)=>ME(e,t,n,o,r)},formatter:{match:(t,n,o,r)=>nx(e,t,n,o,r),matchAll:(t,n)=>ox(e,t,n),matchNode:(t,n,o,r)=>tx(e,t,n,o,r),canApply:t=>sx(e,t),closest:t=>rx(e,t),apply:(t,n,o)=>pS(e,t,n,o),remove:(t,n,o,r)=>iS(e,t,n,o,r),toggle:(t,n,o)=>FS(e,t,n,o),formatChanged:(t,n,o,r,s)=>SS(e,t,n,o,r,s)},editor:{getContent:t=>Rv(e,t),setContent:(t,n)=>KC(e,t,n),insertContent:(t,n)=>MC(e,t,n),addVisual:t=>GE(e,t)},selection:{getContent:(t,n)=>lE(e,t,n)},autocompleter:{addDecoration:t=>Cv(e,t),removeDecoration:()=>Fv(e,io.fromDom(e.getBody()))},raw:{getModel:()=>z.none()}}),ZE=e=>{const t=e=>w(e)?e:{},{init:n,undoManager:o,formatter:r,editor:s,selection:i,autocompleter:a,raw:A}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:(e,t,n)=>o.transact(n),ignore:(e,t)=>o.ignore(t),extra:(e,t,n,r)=>o.extra(n,r)},formatter:{match:(e,n,o,s)=>r.match(e,t(n),s),matchAll:r.matchAll,matchNode:r.matchNode,canApply:e=>r.canApply(e),closest:e=>r.closest(e),apply:(e,n,o)=>r.apply(e,t(n)),remove:(e,n,o,s)=>r.remove(e,t(n)),toggle:(e,n,o)=>r.toggle(e,t(n)),formatChanged:(e,t,n,o,s)=>r.formatChanged(t,n,o,s)},editor:{getContent:e=>s.getContent(e),setContent:(e,t)=>({content:s.setContent(e,t),html:""}),insertContent:(e,t)=>(s.insertContent(e),""),addVisual:s.addVisual},selection:{getContent:(e,t)=>i.getContent(t)},autocompleter:{addDecoration:a.addDecoration,removeDecoration:a.removeDecoration},raw:{getModel:()=>z.some(A.getRawModel())}}},XE=()=>{const e=N(null),t=N("");return{init:{bindEvents:U},undoManager:{beforeChange:U,add:e,undo:e,redo:e,clear:U,reset:U,hasUndo:V,hasRedo:V,transact:e,ignore:U,extra:U},formatter:{match:V,matchAll:N([]),matchNode:N(void 0),canApply:V,closest:t,apply:U,remove:U,toggle:U,formatChanged:N({unbind:U})},editor:{getContent:t,setContent:N({content:"",html:""}),insertContent:N(""),addVisual:U},selection:{getContent:t},autocompleter:{addDecoration:U,removeDecoration:U},raw:{getModel:N(z.none())}}},JE=e=>Le(e.plugins,"rtc"),YE=e=>Te(e.plugins,"rtc").bind((e=>z.from(e.setup))),$E=e=>{const t=e;return YE(e).fold((()=>(t.rtcInstance=qE(e),z.none())),(e=>(t.rtcInstance=XE(),z.some((()=>e().then((e=>(t.rtcInstance=ZE(e),e.rtc.isRemote))))))))},e_=e=>e.rtcInstance?e.rtcInstance:qE(e),t_=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},n_=(e,t,n)=>{t_(e).undoManager.beforeChange(t,n)},o_=(e,t,n,o,r,s,i)=>t_(e).undoManager.add(t,n,o,r,s,i),r_=(e,t,n,o)=>t_(e).undoManager.undo(t,n,o),s_=(e,t,n)=>t_(e).undoManager.redo(t,n),i_=(e,t,n)=>{t_(e).undoManager.clear(t,n)},a_=(e,t)=>{t_(e).undoManager.reset(t)},A_=(e,t,n)=>t_(e).undoManager.hasUndo(t,n),l_=(e,t,n)=>t_(e).undoManager.hasRedo(t,n),c_=(e,t,n,o)=>t_(e).undoManager.transact(t,n,o),u_=(e,t,n)=>{t_(e).undoManager.ignore(t,n)},d_=(e,t,n,o,r)=>{t_(e).undoManager.extra(t,n,o,r)},m_=(e,t,n,o,r)=>t_(e).formatter.match(t,n,o,r),h_=(e,t,n)=>t_(e).formatter.matchAll(t,n),g_=(e,t,n,o,r)=>t_(e).formatter.matchNode(t,n,o,r),p_=(e,t)=>t_(e).formatter.canApply(t),f_=(e,t)=>t_(e).formatter.closest(t),b_=(e,t,n,o)=>{t_(e).formatter.apply(t,n,o)},v_=(e,t,n,o,r)=>{t_(e).formatter.remove(t,n,o,r)},w_=(e,t,n,o)=>{t_(e).formatter.toggle(t,n,o)},y_=(e,t,n,o,r,s)=>t_(e).formatter.formatChanged(t,n,o,r,s),B_=(e,t)=>e_(e).editor.getContent(t),C_=(e,t,n)=>e_(e).editor.setContent(t,n),x_=(e,t,n)=>e_(e).editor.insertContent(t,n),S_=(e,t,n)=>t_(e).selection.getContent(t,n),F_=(e,t)=>t_(e).editor.addVisual(t),k_=e=>t_(e).init.bindEvents(),E_=(e,t)=>t_(e).autocompleter.addDecoration(t),__=e=>t_(e).autocompleter.removeDecoration(),O_=(e,t={})=>{const n=t.format?t.format:"html";return S_(e,n,t)},U_=e=>0===e.dom.length?(ar(e),z.none()):z.some(e),T_=(e,t)=>e.filter((e=>Jg.isBookmarkNode(e.dom))).bind(t?xo:Co),L_=(e,t,n,o)=>{const r=e.dom,s=t.dom,i=o?r.length:s.length;o?(iy(r,s,!1,!o),n.setStart(s,i)):(iy(s,r,!1,!o),n.setEnd(s,i))},N_=(e,t)=>{vo(e).each((n=>{const o=e.dom;t&&Kw(n,zl(o,0))?ry(o,0):!t&&Gw(n,zl(o,o.length))&&sy(o,o.length)}))},Q_=(e,t,n,o)=>{e.bind((e=>{const r=o?sy:ry;return r(e.dom,o?e.dom.length:0),t.filter(En).map((t=>L_(e,t,n,o)))})).orThunk((()=>{const e=T_(t,o).or(t).filter(En);return e.map((e=>N_(e,o)))}))},D_=(e,t)=>{const n=z.from(t.firstChild).map(io.fromDom),o=z.from(t.lastChild).map(io.fromDom);e.deleteContents(),e.insertNode(t);const r=n.bind(Co).filter(En).bind(U_),s=o.bind(xo).filter(En).bind(U_);Q_(r,n,e,!0),Q_(s,o,e,!1),e.collapse(!1)},I_=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),H_=(e,t)=>{if("raw"!==t.format){const n=e.selection.getRng(),o=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),r=o?{context:o.nodeName.toLowerCase()}:{},s=e.parser.parse(t.content,{forced_root_block:!1,...r,...t});return Kv({validate:!1},e.schema).serialize(s)}return t.content},M_=(e,t,n={})=>{const o=I_(n,t);kk(e,o).each((t=>{const n=H_(e,t),o=e.selection.getRng();D_(o,o.createContextualFragment(n)),e.selection.setRng(o),cb(e,o),Ek(e,n,t)}))},R_=(e,t,n)=>{if(e&&Le(e,t)){const o=ne(e[t],(e=>e!==n));0===o.length?delete e[t]:e[t]=o}};var P_=(e,t)=>{let n,o;const r=(t,n)=>ie(n,(n=>e.is(n,t))),s=t=>e.getParents(t,null,e.getRoot());return{selectorChangedWithUnbind:(e,i)=>(n||(n={},o={},t.on("NodeChange",(e=>{const t=e.element,i=s(t),a={};dn.each(n,((e,t)=>{r(t,i).each((n=>{o[t]||($(e,(e=>{e(!0,{node:n,selector:t,parents:i})})),o[t]=e),a[t]=e}))})),dn.each(o,((e,n)=>{a[n]||(delete o[n],dn.each(e,(e=>{e(!1,{node:t,selector:n,parents:i})})))}))}))),n[e]||(n[e]=[]),n[e].push(i),r(e,s(t.selection.getStart())).each((()=>{o[e]=n[e]})),{unbind:()=>{R_(n,e,i),R_(o,e,i)}})}};const V_=e=>!(!e||!e.ownerDocument)&&ho(io.fromDom(e.ownerDocument),io.fromDom(e)),j_=e=>!!e&&(V_(e.startContainer)&&V_(e.endContainer)),z_=(e,t,n,o)=>{let r,s;const{selectorChangedWithUnbind:i}=P_(e,o),a=(t,n)=>{const r=e.createRng();k(t)&&k(n)?(r.setStart(t,n),r.setEnd(t,n),v(r),p(!1)):(Ig(e,r,o.getBody(),!0),v(r))},A=e=>O_(o,e),l=(e,t)=>M_(o,e,t),c=e=>Av(o.getBody(),b(),e),u=e=>lv(o.getBody(),b(),e),d=(e,t)=>L.getBookmark(e,t),m=e=>L.moveToBookmark(e),h=(t,n)=>(mv(e,t,n).each(v),t),g=()=>{const e=b(),t=f();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},p=e=>{const t=b();t.collapse(!!e),v(t)},f=()=>t.getSelection?t.getSelection():t.document.selection,b=()=>{let n,i,a;const A=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch(o){return-1}},l=t.document;if(void 0!==o.bookmark&&!1===nv(o)){const e=Fb(o);if(e.isSome())return e.map((e=>hv(o,[e])[0])).getOr(l.createRange())}try{(n=f())&&!Lr(n.anchorNode)&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():l.createRange(),i=hv(o,[i])[0])}catch(c){}return i||(i=l.createRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(a=e.getRoot(),i.setStart(a,0),i.setEnd(a,0)),r&&s&&(0===A(i.START_TO_START,i,r)&&0===A(i.END_TO_END,i,r)?i=s:(r=null,s=null)),i},v=(e,t)=>{let n;if(!j_(e))return;const i=f(),a=o.dispatch("SetSelectionRange",{range:e,forward:t});if(e=a.range,i){s=e;try{i.removeAllRanges(),i.addRange(e)}catch(A){}!1===t&&i.extend&&(i.collapse(e.endContainer,e.endOffset),i.extend(e.startContainer,e.startOffset)),r=i.rangeCount>0?i.getRangeAt(0):null}!e.collapsed&&e.startContainer===e.endContainer&&i.setBaseAndExtent&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset],n&&"IMG"===n.tagName&&(i.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),i.anchorNode===e.startContainer&&i.focusNode===e.endContainer||i.setBaseAndExtent(n,0,n,1))),o.dispatch("AfterSetSelectionRange",{range:e,forward:t})},w=t=>(l(e.getOuterHTML(t)),t),y=()=>uv(o.getBody(),b()),B=(t,n)=>dv(e,b(),t,n),C=()=>{const t=f(),n=null===t||void 0===t?void 0:t.anchorNode,o=null===t||void 0===t?void 0:t.focusNode;if(!t||!n||!o||Lr(n)||Lr(o))return!0;const r=e.createRng(),s=e.createRng();try{r.setStart(n,t.anchorOffset),r.collapse(!0),s.setStart(o,t.focusOffset),s.collapse(!0)}catch(i){return!0}return r.compareBoundaryPoints(r.START_TO_START,s)<=0},x=()=>{const t=b(),n=f();if(!Fg(n)&&Hg(o)){const n=_f(e,t);return n.each((e=>{v(e,C())})),n.getOr(t)}return t},S=(e,t)=>(i(e,t),T),F=()=>{let t,n=e.getRoot();while(n&&"BODY"!==n.nodeName){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},E=(e,t)=>{k(e)?lb(o,e,t):cb(o,b(),t)},_=(e,t)=>v(pf(e,t,o.getDoc())),O=()=>{const e=b();return e.collapsed?zl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},U=()=>{t=r=s=null,N.destroy()},T={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:o,collapse:p,setCursorLocation:a,getContent:A,setContent:l,getBookmark:d,moveToBookmark:m,select:h,isCollapsed:g,isForward:C,setNode:w,getNode:y,getSel:f,setRng:v,getRng:b,getStart:c,getEnd:u,getSelectedBlocks:B,normalize:x,selectorChanged:S,selectorChangedWithUnbind:i,getScrollContainer:F,scrollIntoView:E,placeCaretAt:_,getBoundingClientRect:O,destroy:U},L=Jg(T),N=Op(T,o);return T.bookmarkManager=L,T.controlSelection=N,T},K_=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let n=e.length;while(n--){const o=e[n];o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(t,null)}})),e.addAttributeFilter("src,href,style",((e,o)=>{const r="data-mce-"+o,s=t.url_converter,i=t.url_converter_scope;let a=e.length;while(a--){const t=e[a];let A=t.attr(r);void 0!==A?(t.attr(o,A.length>0?A:null),t.attr(r,null)):(A=t.attr(o),"style"===o?A=n.serializeStyle(n.parseStyle(A),t.name):s&&(A=s.call(i,A,o,t.name)),t.attr(o,A.length>0?A:null))}})),e.addAttributeFilter("class",(e=>{let t=e.length;while(t--){const n=e[t];let o=n.attr("class");o&&(o=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",o.length>0?o:null))}})),e.addAttributeFilter("data-mce-type",((e,t,n)=>{let o=e.length;while(o--){const t=e[o];if("bookmark"===t.attr("data-mce-type")&&!n.cleanup){const e=z.from(t.firstChild).exists((e=>!si(e.value)));e?t.unwrap():t.remove()}}})),e.addNodeFilter("noscript",(e=>{let t=e.length;while(t--){const n=e[t].firstChild;n&&(n.value=Ca.decode(n.value))}})),e.addNodeFilter("script,style",((e,n)=>{const o=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let r=e.length;while(r--){const s=e[r],i=s.firstChild?s.firstChild.value:"";if("script"===n){const e=s.attr("type");e&&s.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&i.length>0&&(s.firstChild.value="// <![CDATA[\n"+o(i)+"\n// ]]>")}else"xhtml"===t.element_format&&i.length>0&&(s.firstChild.value="\x3c!--\n"+o(i)+"\n--\x3e")}})),e.addNodeFilter("#comment",(e=>{let o=e.length;while(o--){const r=e[o];t.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))}})),e.addNodeFilter("xml:namespace,input",((e,t)=>{let n=e.length;while(n--){const o=e[n];7===o.type?o.remove():1===o.type&&("input"!==t||o.attr("type")||o.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(t=>{$(t,(t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let n=e.length;while(n--)e[n].attr(t,null)}))},W_=e=>{const t=e=>e&&"br"===e.name,n=e.lastChild;if(t(n)){const e=n.prev;t(e)&&(n.remove(),e.remove())}},G_=(e,t,n)=>{let o;const r=e.dom;let s=t.cloneNode(!0);const i=document.implementation;if(i.createHTMLDocument){const e=i.createHTMLDocument("");dn.each("BODY"===s.nodeName?s.childNodes:[s],(t=>{e.body.appendChild(e.importNode(t,!0))})),s="BODY"!==s.nodeName?e.body.firstChild:e.body,o=r.doc,r.doc=e}return $g(e,{...n,node:s}),o&&(r.doc=o),s},q_=(e,t)=>e&&e.hasEventListeners("PreProcess")&&!t.no_events,Z_=(e,t,n)=>q_(e,n)?G_(e,t,n):t,X_=(e,t,n)=>{-1===dn.inArray(t,n)&&(e.addAttributeFilter(n,((e,t)=>{let n=e.length;while(n--)e[n].attr(t,null)})),t.push(n))},J_=(e,t,n)=>{if(!t.no_events&&e){const o=ep(e,{...t,content:n});return o.content}return n},Y_=(e,t,n)=>{const o=ii(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Ms(io.fromDom(t))?o:dn.trim(o)},$_=(e,t,n)=>{const o=n.selection?{forced_root_block:!1,...n}:n,r=e.parse(t,o);return W_(r),r},eO=(e,t,n)=>{const o=Kv(e,t);return o.serialize(n)},tO=(e,t,n,o,r)=>{const s=eO(t,n,o);return J_(e,r,s)},nO=(e,t)=>{const n=["data-mce-selected"],o=t&&t.dom?t.dom:aA.DOM,r=t&&t.schema?t.schema:Da(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;const s=Bk(e,r);K_(s,e,o);const i=(n,i={})=>{const a={format:"html",...i},A=Z_(t,n,a),l=Y_(o,A,a),c=$_(s,l,a);return"tree"===a.format?c:tO(t,e,r,c,a)};return{schema:r,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:i,addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:I(X_,s,n),getTempAttrs:N(n),getNodeFilters:s.getNodeFilters,getAttributeFilters:s.getAttributeFilters,removeNodeFilter:s.removeNodeFilter,removeAttributeFilter:s.removeAttributeFilter}},oO=(e,t)=>{const n=nO(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},rO="html",sO=(e,t)=>({...e,format:t,get:!0,getInner:!0}),iO=(e,t={})=>{const n=t.format?t.format:rO,o=sO(t,n);return Sk(e,o).fold(Q,(t=>{const n=B_(e,t);return Fk(e,n,t)}))},aO="html",AO=(e,t)=>({format:aO,...e,set:!0,content:t}),lO=(e,t,n={})=>{const o=AO(n,t);return kk(e,o).map((t=>{const n=C_(e,t.content,t);return Ek(e,n.html,t),n.content})).getOr(t)},cO="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),uO="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),dO=e=>{const t=ne(cO,(t=>Le(e,t))),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),he(t)},mO=e=>{const t=dn.makeMap(e.plugins," "),n=e=>Le(t,e),o=ne(uO,n);return he(o)},hO=(e,t)=>{const n=dO(e),o=mO(t),r=o.length>0,s=n.length>0,i="mobile"===t.theme;if(r||s||i){const e="\n- ",t=i?`\n\nThemes:${e}mobile`:"",a=r?`\n\nPlugins:${e}${o.join(e)}`:"",A=s?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+a+A)}},gO=(e,t)=>{hO(e,t)},pO=aA.DOM,fO=e=>{pO.setStyle(e.id,"display",e.orgDisplay)},bO=e=>z.from(e).each((e=>e.destroy())),vO=e=>{e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},wO=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),pO.unbind(t,"submit reset",e.formEventDelegate))},yO=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,o=e.getBody(),r=e.getElement();o&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&r&&pO.remove(r.nextSibling),tp(e),e.editorManager.remove(e),!e.inline&&o&&fO(e),np(e),pO.remove(e.getContainer()),bO(t),bO(n),e.destroy()}},BO=(e,t)=>{const{selection:n,dom:o}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),bO(n),bO(o)),wO(e),vO(e),e.destroyed=!0):e.remove())},CO=()=>{const e={},t=(t,n)=>{e[t]=n},n=t=>e[t]?e[t]:{icons:{}},o=t=>Le(e,t);return{add:t,get:n,has:o}},xO=CO(),SO=EA.ModelManager,FO=(e,t)=>{const n=t.dom;return n[e]},kO=(e,t)=>parseInt(Go(t,e),10),EO=I(FO,"clientWidth"),_O=I(FO,"clientHeight"),OO=I(kO,"margin-top"),UO=I(kO,"margin-left"),TO=e=>e.dom.getBoundingClientRect(),LO=(e,t,n)=>{const o=EO(e),r=_O(e);return t>=0&&n>=0&&t<=o&&n<=r},NO=(e,t,n,o)=>{const r=TO(t),s=e?r.left+t.dom.clientLeft+UO(t):0,i=e?r.top+t.dom.clientTop+OO(t):0,a=n-s,A=o-i;return{x:a,y:A}},QO=(e,t,n)=>{const o=io.fromDom(e.getBody()),r=e.inline?o:fo(o),s=NO(e.inline,r,t,n);return LO(r,s.x,s.y)},DO=e=>z.from(e).map(io.fromDom),IO=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return DO(t).map(Vo).getOr(!1)},HO=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}},MO=e=>{const t=[],n=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():HO()},o=()=>z.from(t[0]),r=(e,t)=>e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout,s=()=>{$(t,(e=>{e.reposition()}))},i=e=>{t.push(e)},a=e=>{ae(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},A=(A,l=!0)=>{if(!e.removed&&IO(e))return l&&e.dispatch("BeforeOpenNotification",{notification:A}),ie(t,(e=>r(n().getArgs(e),A))).getOrThunk((()=>{e.editorManager.setActive(e);const t=n().open(A,(()=>{a(t),s(),o().fold((()=>e.focus()),(e=>ub(io.fromDom(e.getEl()))))}));return i(t),s(),e.dispatch("OpenNotification",{notification:{...t}}),t}))},l=()=>{o().each((e=>{n().close(e),a(e),s()}))},c=N(t),u=e=>{e.on("SkinLoaded",(()=>{const t=Lu(e);t&&A({text:t,type:"warning",timeout:0},!1),s()})),e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(s)})),e.on("remove",(()=>{$(t.slice(),(e=>{n().close(e)}))}))};return u(e),{open:A,close:l,getNotifications:c}},RO=EA.PluginManager,PO=EA.ThemeManager;var VO=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}};const jO=e=>{let t=[];const n=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():VO()},o=(e,t)=>(...n)=>t?t.apply(e,n):void 0,r=t=>{e.dispatch("OpenWindow",{dialog:t})},s=t=>{e.dispatch("CloseWindow",{dialog:t})},i=e=>{t.push(e),r(e)},a=n=>{s(n),t=ne(t,(e=>e!==n)),0===t.length&&e.focus()},A=()=>z.from(t[t.length-1]),l=t=>{e.editorManager.setActive(e),Sb(e),e.ui.show();const n=t();return i(n),n},c=(e,t)=>l((()=>n().open(e,t,a))),u=e=>l((()=>n().openUrl(e,a))),d=(e,t,r)=>{const s=n();s.alert(e,o(r||s,t))},m=(e,t,r)=>{const s=n();s.confirm(e,o(r||s,t))},h=()=>{A().each((e=>{n().close(e),a(e)}))};return e.on("remove",(()=>{$(t,(e=>{n().close(e)}))})),{open:c,openUrl:u,alert:d,confirm:m,close:h}},zO=(e,t)=>{e.notificationManager.open({type:"error",text:t})},KO=(e,t)=>{e._skinLoaded?zO(e,t):e.on("SkinLoaded",(()=>{zO(e,t)}))},WO=(e,t)=>{KO(e,kA.translate(["Failed to upload image: {0}",t]))},GO=(e,t,n)=>{cp(e,t,{message:n}),console.error(n)},qO=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,ZO=(e,t,n)=>{GO(e,"PluginLoadError",qO("plugin",t,n))},XO=(e,t,n)=>{GO(e,"IconsLoadError",qO("icons",t,n))},JO=(e,t,n)=>{GO(e,"LanguageLoadError",qO("language",t,n))},YO=(e,t,n)=>{GO(e,"ThemeLoadError",qO("theme",t,n))},$O=(e,t,n)=>{GO(e,"ModelLoadError",qO("model",t,n))},eU=(e,t,n)=>{const o=kA.translate(["Failed to initialize plugin: {0}",t]);cp(e,"PluginLoadError",{message:o}),tU(o,n),KO(e,o)},tU=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},nU=e=>/^[a-z0-9\-]+$/i.test(e),oU=e=>sU(e,xu(e)),rU=e=>sU(e,Fu(e)),sU=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",o=e.editorManager.suffix,r=`content${o}.css`,s=!0===e.inline;return Y(t,(t=>nU(t)&&!s?`${n}/${t}/${r}`:e.documentBaseURI.toAbsolute(t)))},iU=e=>{e.contentCSS=e.contentCSS.concat(oU(e),rU(e))},aU=j,AU=(e,t,n)=>br(e,t,aU,n),lU=e=>e?be(e.getElementsByTagName("img")):[],cU=(e,t)=>{const n={},o=(o,r=j)=>{const s=ne(lU(o),(t=>{const n=t.src;return!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===en.transparentSrc)&&(At(n,"blob:")?!e.isUploaded(n)&&r(t):!!At(n,"data:")&&r(t))))})),i=Y(s,(e=>{const o=e.src;if(Le(n,o))return n[o].then((t=>v(t)?t:{image:e,blobInfo:t.blobInfo}));{const r=JF(t,o).then((t=>(delete n[o],{image:e,blobInfo:t}))).catch((e=>(delete n[o],e)));return n[o]=r,r}}));return Promise.all(i)};return{findAll:o}},uU=()=>{const e=1,t=2;let n={};const o=(e,t)=>({status:e,resultUri:t}),r=e=>e in n,s=e=>{const t=n[e];return t?t.resultUri:null},i=t=>!!r(t)&&n[t].status===e,a=e=>!!r(e)&&n[e].status===t,A=t=>{n[t]=o(e,null)},l=(e,r)=>{n[e]=o(t,r)},c=e=>{delete n[e]},u=()=>{n={}};return{hasBlobUri:r,getResultUri:s,isPending:i,isUploaded:a,markPending:A,markUploaded:l,removeFailed:c,destroy:u}};let dU=0;const mU=()=>{const e=()=>Math.round(4294967295*Math.random()).toString(36),t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()},hU=e=>e+dU+++mU(),gU=()=>{let e=[];const t=e=>{const t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return t[e.toLowerCase()]||"dat"},n=(e,t,n,r,s)=>{if(v(e)){const i=e;return o({id:i,name:r,filename:s,blob:t,base64:n})}if(w(e))return o(e);throw new Error("Unknown input type")},o=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const n=e.id||hU("blobid"),o=e.name||n,r=e.blob;return{id:N(n),name:N(o),filename:N(e.filename||o+"."+t(r.type)),blob:N(r),base64:N(e.base64),blobUri:N(e.blobUri||URL.createObjectURL(r)),uri:N(e.uri)}},r=t=>{i(t.id())||e.push(t)},s=t=>ie(e,t).getOrUndefined(),i=e=>s((t=>t.id()===e)),a=e=>s((t=>t.blobUri()===e)),A=(e,t)=>s((n=>n.base64()===e&&n.blob().type===t)),l=t=>{e=ne(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},c=()=>{$(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]};return{create:n,add:r,get:i,getByUri:a,getByData:A,findFirst:s,removeByUri:l,destroy:c}},pU=(e,t)=>{const n={},o=(e,t)=>e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t,r=(e,n)=>new Promise(((r,s)=>{const i=new XMLHttpRequest;i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=e=>{n(e.loaded/e.total*100)},i.onerror=()=>{s("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=()=>{if(i.status<200||i.status>=300)return void s("HTTP Error: "+i.status);const e=JSON.parse(i.responseText);e&&v(e.location)?r(o(t.basePath,e.location)):s("Invalid JSON: "+i.responseText)};const a=new FormData;a.append("file",e.blob(),e.filename()),i.send(a)})),s=()=>new Promise((e=>{e([])})),i=(e,t)=>({url:t,blobInfo:e,status:!0}),a=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),A=(e,t)=>{dn.each(n[e],(e=>{e(t)})),delete n[e]},l=(t,n,o)=>(e.markPending(t.blobUri()),new Promise((r=>{let s,l;try{const c=()=>{s&&(s.close(),l=U)},u=n=>{c(),e.markUploaded(t.blobUri(),n),A(t.blobUri(),i(t,n)),r(i(t,n))},d=n=>{c(),e.removeFailed(t.blobUri()),A(t.blobUri(),a(t,n)),r(a(t,n))};l=e=>{e<0||e>100||z.from(s).orThunk((()=>z.from(o).map(R))).each((t=>{s=t,t.progressBar.value(e)}))},n(t,l).then(u,(e=>{d(v(e)?{message:e}:e)}))}catch(c){r(a(t,c))}}))),c=e=>e===r,u=e=>{const t=e.blobUri();return new Promise((e=>{n[t]=n[t]||[],n[t].push(e)}))},d=(n,o)=>(n=dn.grep(n,(t=>!e.isUploaded(t.blobUri()))),Promise.all(dn.map(n,(n=>e.isPending(n.blobUri())?u(n):l(n,t.handler,o))))),m=(e,n)=>!t.url&&c(t.handler)?s():d(e,n);return!1===E(t.handler)&&(t.handler=r),{upload:m}},fU=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),bU=(e,t)=>pU(t,{url:hu(e),basePath:gu(e),credentials:pu(e),handler:fu(e)}),vU=e=>{const t=uU(),n=bU(e,t);return{upload:(t,o=!0)=>n.upload(t,o?fU(e):void 0)}},wU=e=>{const t=gU();let n,o;const r=uU(),s=[],i=t=>n=>e.selection?t(n):[],a=e=>e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime(),A=(e,t,n)=>{let o=0;do{o=e.indexOf(t,o),-1!==o&&(e=e.substring(0,o)+n+e.substr(o+t.length),o+=n.length-t.length+1)}while(-1!==o);return e},l=(e,t,n)=>{const o=`src="${n}"${n===en.transparentSrc?' data-mce-placeholder="1"':""}`;return e=A(e,`src="${t}"`,o),e=A(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"'),e},c=(t,n)=>{$(e.undoManager.data,(e=>{"fragmented"===e.type?e.fragments=Y(e.fragments,(e=>l(e,t,n))):e.content=l(e.content,t,n)}))},u=(t,n)=>{const o=e.convertURL(n,"src");c(t.src,n),Nn(io.fromDom(t),{src:cu(e)?a(n):n,"data-mce-src":o})},d=()=>(n||(n=bU(e,r)),p().then(i((o=>{const r=Y(o,(e=>e.blobInfo));return n.upload(r,fU(e)).then(i((n=>{const r=[];let s=!1;const i=Y(n,((n,i)=>{const a=o[i].blobInfo,A=o[i].image;let l=!1;return n.status&&uu(e)?(n.url&&!at(A.src,n.url)&&(s=!0),t.removeByUri(A.src),JE(e)||u(A,n.url)):n.error&&(n.error.remove&&(c(A.getAttribute("src"),en.transparentSrc),r.push(A),l=!0),WO(e,n.error.message)),{element:A,status:n.status,uploadUri:n.url,blobInfo:a,removed:l}}));return r.length>0&&!JE(e)?e.undoManager.transact((()=>{$(r,(n=>{e.dom.remove(n),t.removeByUri(n.src)}))})):s&&e.undoManager.dispatchChange(),i})))})))),m=()=>lu(e)?d():Promise.resolve([]),h=e=>ce(s,(t=>t(e))),g=e=>{s.push(e)},p=()=>(o||(o=cU(r,t)),o.findAll(e.getBody(),h).then(i((t=>{const n=ne(t,(t=>!v(t)||(KO(e,t),!1)));return JE(e)||$(n,(e=>{c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),n})))),f=()=>{t.destroy(),r.destroy(),o=n=null},b=n=>n.replace(/src="(blob:[^"]+)"/g,((n,o)=>{const s=r.getResultUri(o);if(s)return'src="'+s+'"';let i=t.getByUri(o);if(i||(i=re(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(o)),null)),i){const e=i.blob();return'src="data:'+e.type+";base64,"+i.base64()+'"'}return n}));return e.on("SetContent",(()=>{lu(e)?m():p()})),e.on("RawSaveContent",(e=>{e.content=b(e.content)})),e.on("GetContent",(e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=b(e.content))})),e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{$(e,(e=>{const n=e.attr("src");if(t.getByUri(n))return;const o=r.getResultUri(n);o&&e.attr("src",o)}))}))})),{blobCache:t,addFilter:g,uploadImages:d,uploadImagesAuto:m,scanForImages:p,destroy:f}},yU=e=>{const t=e.dom,n=e.schema.type,o={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},o={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[o,e,t]:[e,o,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,n)=>Nr(e)&&e.hasAttribute("href"),onformat:(e,n,o)=>{dn.each(o,((n,o)=>{t.setAttrib(e,o,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return dn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{o[e]={block:e,remove:"all"}})),o},BU={remove_similar:!0,inherit:!1},CU={selector:"td,th",...BU},xU={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...CU},tablecellverticalalign:{styles:{"vertical-align":"%value"},...CU},tablecellbordercolor:{styles:{borderColor:"%value"},...CU},tablecellclass:{classes:["%value"],...CU},tableclass:{selector:"table",classes:["%value"],...BU},tablecellborderstyle:{styles:{borderStyle:"%value"},...CU},tablecellborderwidth:{styles:{borderWidth:"%value"},...CU}},SU=N(xU),FU=e=>{const t={},n=e=>k(e)?t[e]:t,o=e=>Le(t,e),r=(e,n)=>{e&&(v(e)?(B(n)||(n=[n]),$(n,(e=>{S(e.deep)&&(e.deep=!og(e)),S(e.split)&&(e.split=!og(e)||rg(e)),S(e.remove)&&og(e)&&!rg(e)&&(e.remove="none"),og(e)&&rg(e)&&(e.mixed=!0,e.block_expand=!0),v(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=n):Ce(e,((e,t)=>{r(t,e)})))},s=e=>(e&&t[e]&&delete t[e],t);return r(yU(e)),r(SU()),r(Mu(e)),{get:n,has:o,register:r,unregister:s}},kU=dn.each,EU=aA.DOM,_U=(e,t)=>{let n,o,r;const s=t&&t.schema||Da({}),i=(e,t)=>{t.classes.length&&EU.addClass(e,t.classes.join(" ")),EU.setAttribs(e,t.attrs)},a=e=>{o="string"===typeof e?{name:e,classes:[],attrs:{}}:e;const t=EU.create(o.name);return i(t,o),t},A=(e,t)=>{const n="string"!==typeof e?e.nodeName.toLowerCase():e,o=s.getElementRule(n),r=o&&o.parentsRequired;return!(!r||!r.length)&&(t&&-1!==dn.inArray(r,t)?t:r[0])},l=(e,t,n)=>{let o,r;const s=t.length>0&&t[0],i=s&&s.name,c=A(e,i);if(c)i===c?(r=t[0],t=t.slice(1)):r=c;else if(s)r=t[0],t=t.slice(1);else if(!n)return e;return r&&(o=a(r),o.appendChild(e)),n&&(o||(o=EU.create("div"),o.appendChild(e)),dn.each(n,(t=>{const n=a(t);o.insertBefore(n,e)}))),l(o,t,r&&r.siblings)};return e&&e.length?(o=e[0],n=a(o),r=EU.create("div"),r.appendChild(l(n,e.slice(1),o.siblings)),r):""},OU=e=>{let t;const n={classes:[],attrs:{}};return e=n.selector=dn.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,o,r,s)=>{switch(t){case"#":n.attrs.id=o;break;case".":n.classes.push(o);break;case":":-1!==dn.inArray("checked disabled enabled read-only required".split(" "),o)&&(n.attrs[o]=o);break}if("["===r){const e=s.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return""}))),n.name=t||"div",n},UU=e=>e&&"string"===typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),dn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=dn.map(e.split(/(?:~\+|~|\+)/),OU),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[],TU=(e,t)=>{let n,o,r,s="",i=Ru(e);if(""===i)return"";const a=e=>e.replace(/%(\w+)/g,"");if("string"===typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}if("preview"in t){const e=Te(t,"preview");if(mn(e,!1))return"";i=e.getOr(i)}n=t.block||t.inline||"span";const A=UU(t.selector);A.length?(A[0].name||(A[0].name=n),n=t.selector,o=_U(A,e)):o=_U([n],e);const l=EU.select(n,o)[0]||o.firstChild;return kU(t.styles,((e,t)=>{const n=a(e);n&&EU.setStyle(l,t,n)})),kU(t.attributes,((e,t)=>{const n=a(e);n&&EU.setAttrib(l,t,n)})),kU(t.classes,(e=>{const t=a(e);EU.hasClass(l,t)||EU.addClass(l,t)})),e.dispatch("PreviewFormats"),EU.setStyles(o,{position:"absolute",left:-65535}),e.getBody().appendChild(o),r=EU.getStyle(e.getBody(),"fontSize",!0),r=/px$/.test(r)?parseInt(r,10):0,kU(i.split(" "),(t=>{let n=EU.getStyle(l,t,!0);if(("background-color"!==t||!/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)||(n=EU.getStyle(e.getBody(),t,!0),"#ffffff"!==Mh(n).toLowerCase()))&&("color"!==t||"#000000"!==Mh(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===r)return;const e=parseFloat(n)/(/%$/.test(n)?100:1);n=e*r+"px"}"border"===t&&n&&(s+="padding:0 2px;"),s+=t+":"+n+";"}})),e.dispatch("AfterPreviewFormats"),EU.remove(o),s},LU=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},NU=e=>{const t=FU(e),n=hA(null);return LU(e),xx(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,o)=>{b_(e,t,n,o)},remove:(t,n,o,r)=>{v_(e,t,n,o,r)},toggle:(t,n,o)=>{w_(e,t,n,o)},match:(t,n,o,r)=>m_(e,t,n,o,r),closest:t=>f_(e,t),matchAll:(t,n)=>h_(e,t,n),matchNode:(t,n,o,r)=>g_(e,t,n,o,r),canApply:t=>p_(e,t),formatChanged:(t,o,r,s)=>y_(e,n,t,o,r,s),getCssText:I(TU,e)}},QU=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},DU=(e,t,n)=>{const o=hA(!1),r=e=>{LE(t,!1,n),t.add({},e)};e.on("init",(()=>{t.add()})),e.on("BeforeExecCommand",(e=>{const o=e.command;QU(o)||(NE(t,n),t.beforeChange())})),e.on("ExecCommand",(e=>{const t=e.command;QU(t)||r(e)})),e.on("ObjectResizeStart cut",(()=>{t.beforeChange()})),e.on("SaveContent ObjectResized blur",r),e.on("dragend",r),e.on("keyup",(n=>{const s=n.keyCode;n.isDefaultPrevented()||((s>=33&&s<=36||s>=37&&s<=40||45===s||n.ctrlKey)&&(r(),e.nodeChanged()),46!==s&&8!==s||e.nodeChanged(),o.get()&&t.typing&&!1===UE(SE(e),t.data[0])&&(!1===e.isDirty()&&e.setDirty(!0),e.dispatch("TypingUndo"),o.set(!1),e.nodeChanged()))})),e.on("keydown",(e=>{const s=e.keyCode;if(e.isDefaultPrevented())return;if(s>=33&&s<=36||s>=37&&s<=40||45===s)return void(t.typing&&r(e));const i=e.ctrlKey&&!e.altKey||e.metaKey;!(s<16||s>20)||224===s||91===s||t.typing||i||(t.beforeChange(),LE(t,!0,n),t.add({},e),o.set(!0))})),e.on("mousedown",(e=>{t.typing&&r(e)}));const s=e=>"insertReplacementText"===e.inputType,i=e=>"insertText"===e.inputType&&null===e.data,a=e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType;e.on("input",(e=>{e.inputType&&(s(e)||i(e)||a(e))&&r(e)})),e.on("AddUndo Undo Redo ClearUndos",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))},IU=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},HU=e=>{const t=OA(),n=hA(0),o=hA(0),r={data:[],typing:!1,beforeChange:()=>{n_(e,n,t)},add:(s,i)=>o_(e,r,o,n,t,s,i),dispatchChange:()=>{e.setDirty(!0),e.dispatch("change",{level:SE(e),lastLevel:ge(r.data,o.get()).getOrUndefined()})},undo:()=>r_(e,r,n,o),redo:()=>s_(e,o,r.data),clear:()=>{i_(e,r,o)},reset:()=>{a_(e,r)},hasUndo:()=>A_(e,r,o),hasRedo:()=>l_(e,r,o),transact:t=>c_(e,r,n,t),ignore:t=>{u_(e,n,t)},extra:(t,n)=>{d_(e,r,o,t,n)}};return JE(e)||DU(e,r,n),IU(e),r},MU=[9,27,Cp.HOME,Cp.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Cp.DOWN,Cp.UP,Cp.LEFT,Cp.RIGHT].concat(en.browser.isFirefox()?[224]:[]),RU="data-mce-placeholder",PU=e=>"keydown"===e.type||"keyup"===e.type,VU=e=>{const t=e.keyCode;return t===Cp.BACKSPACE||t===Cp.DELETE},jU=e=>{if(PU(e)){const t=e.keyCode;return!VU(e)&&(Cp.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||X(MU,t))}return!1},zU=e=>PU(e)&&!(VU(e)||"keyup"===e.type&&229===e.keyCode),KU=(e,t,n)=>{if(Ji(io.fromDom(t),!1)){const o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&n===o.nodeName.toLowerCase()}return!1},WU=e=>{const t=e.dom,n=nu(e),o=Uu(e),r=(s,i)=>{if(jU(s))return;const a=e.getBody(),A=!zU(s)&&KU(t,a,n),l=""!==t.getAttrib(a,RU);(l!==A||i)&&(t.setAttrib(a,RU,A?o:null),t.setAttrib(a,"aria-placeholder",A?o:null),lp(e,A),e.on(A?"keydown":"keyup",r),e.off(A?"keyup":"keydown",r))};o&&e.on("init",(t=>{r(t,!0),e.on("change SetContent ExecCommand",r),e.on("paste",(t=>Tb.setEditorTimeout(e,(()=>r(t)))))}))},GU=(e,t)=>({block:e,position:t}),qU=(e,t)=>({from:e,to:t}),ZU=(e,t)=>{const n=io.fromDom(e),o=io.fromDom(t.container());return Vy(n,o).map((e=>GU(e,t)))},XU=e=>!1===mo(e.from.block,e.to.block),JU=e=>vo(e.from.block).bind((t=>vo(e.to.block).filter((e=>mo(t,e))))).isSome(),YU=e=>!1===$r(e.from.block.dom)&&!1===$r(e.to.block.dom),$U=(e,t,n)=>Xr(n.position.getNode())&&!1===Ji(n.block)?Jm(!1,n.block.dom).bind((o=>o.isEqual(n.position)?qm(t,e,o).bind((t=>ZU(e,t))):z.some(n))).getOr(n):n,eT=(e,t,n)=>{const o=ZU(e,zl.fromRangeStart(n)),r=o.bind((n=>qm(t,e,n.position).bind((n=>ZU(e,n).map((n=>$U(e,t,n)))))));return gn(o,r,qU).filter((e=>XU(e)&&JU(e)&&YU(e)))},tT=(e,t,n)=>n.collapsed?eT(e,t,n):z.none(),nT=e=>{const t=ko(e);return ae(t,Os).fold(N(t),(e=>t.slice(0,e)))},oT=e=>{const t=nT(e);return $(t,ar),t},rT=(e,t)=>{const n=fw(t,e);return ie(n.reverse(),(e=>Ji(e))).each(ar)},sT=e=>0===ne(So(e),(e=>!Ji(e))).length,iT=(e,t,n,o)=>{if(Ji(n))return ni(n),eh(n.dom);sT(o)&&Ji(t)&&$o(o,io.fromTag("br"));const r=$m(n.dom,zl.before(o.dom));return $(oT(t),(e=>{$o(o,e)})),rT(e,t),r},aT=(e,t,n)=>{if(Ji(n))return ar(n),Ji(t)&&ni(t),eh(t.dom);const o=th(n.dom);return $(oT(t),(e=>{nr(n,e)})),rT(e,t),o},AT=(e,t)=>{const n=fw(t,e);return z.from(n[n.length-1])},lT=(e,t)=>ho(t,e)?AT(t,e):z.none(),cT=(e,t)=>{Jm(e,t.dom).map((e=>e.getNode())).map(io.fromDom).filter(Ls).each(ar)},uT=(e,t,n)=>(cT(!0,t),cT(!1,n),lT(t,n).fold(I(aT,e,t,n),I(iT,e,t,n))),dT=(e,t,n,o)=>t?uT(e,o,n):uT(e,n,o),mT=(e,t)=>{const n=io.fromDom(e.getBody()),o=tT(n.dom,t,e.selection.getRng()).map((o=>()=>{dT(n,t,o.from.block,o.to.block).each((t=>{e.selection.setRng(t.toRange())}))}));return o},hT=(e,t)=>{const n=t.getRng();return gn(Vy(e,io.fromDom(n.startContainer)),Vy(e,io.fromDom(n.endContainer)),((o,r)=>!1===mo(o,r)?z.some((()=>{n.deleteContents(),dT(e,!0,o,r).each((e=>{t.setRng(e.toRange())}))})):z.none())).getOr(z.none())},gT=(e,t)=>{const n=io.fromDom(t),o=I(mo,e);return As(n,Hs,o).isSome()},pT=(e,t)=>gT(e,t.startContainer)||gT(e,t.endContainer),fT=(e,t)=>{const n=$m(e.dom,zl.fromRangeStart(t)).isNone(),o=Ym(e.dom,zl.fromRangeEnd(t)).isNone();return!pT(e,t)&&n&&o},bT=e=>z.some((()=>{e.setContent(""),e.selection.setCursorLocation()})),vT=e=>{const t=io.fromDom(e.getBody()),n=e.selection.getRng();return fT(t,n)?bT(e):hT(t,e.selection)},wT=(e,t)=>e.selection.isCollapsed()?z.none():vT(e),yT=Yr,BT=$r,CT=(e,t,n,o,r)=>z.from(t._selectionOverrides.showCaret(e,n,o,r)),xT=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},ST=(e,t)=>{const n=e.dispatch("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?z.none():z.some(xT(t))},FT=(e,t,n)=>{const o=wm(1,e.getBody(),t),r=zl.fromRangeStart(o),s=r.getNode();if(Jd(s))return CT(1,e,s,!r.isAtEnd(),!1);const i=r.getNode(!0);if(Jd(i))return CT(1,e,i,!1,!1);const a=e.dom.getParent(r.getNode(),(e=>BT(e)||yT(e)));return Jd(a)?CT(1,e,a,!1,n):z.none()},kT=(e,t,n)=>t.collapsed?FT(e,t,n).getOr(t):t,ET=e=>dw(e)||Aw(e),_T=e=>mw(e)||lw(e),OT=(e,t)=>{zr(t)&&0===t.data.length&&e.remove(t)},UT=(e,t,n,o,r,s)=>{CT(o,e,s.getNode(!r),r,!0).each((n=>{if(t.collapsed){const e=t.cloneRange();r?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),OT(e.dom,n)},TT=(e,t)=>{const n=e.selection.getRng();if(!zr(n.commonAncestorContainer))return z.none();const o=t?km.Forwards:km.Backwards,r=Rm(e.getBody()),s=I(Sm,t?r.next:r.prev),i=t?ET:_T,a=Bm(o,e.getBody(),n),A=Ny(t,s(a));if(!A||!Fm(a,A))return z.none();if(i(A))return z.some((()=>UT(e,n,a.getNode(),o,t,A)));const l=s(A);return l&&i(l)&&Fm(A,l)?z.some((()=>UT(e,n,a.getNode(),o,t,l))):z.none()},LT=(e,t)=>TT(e,t),NT=(e,t)=>{const n=e.getBody();return t?eh(n).filter(dw):th(n).filter(mw)},QT=e=>{const t=e.selection.getRng();return!t.collapsed&&(NT(e,!0).exists((e=>e.isEqual(zl.fromRangeStart(t))))||NT(e,!1).exists((e=>e.isEqual(zl.fromRangeEnd(t)))))},DT=e=>Hs(io.fromDom(e))||Ds(io.fromDom(e)),IT=Oc.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),HT=(e,t)=>{const n=t.getNode(!1===e),o=e?"after":"before";return Nr(n)&&n.getAttribute("data-mce-caret")===o},MT=(e,t,n,o)=>{const r=t=>Ts(io.fromDom(t))&&!mm(n,o,e);return ym(!t,n).fold((()=>ym(t,o).fold(V,r)),r)},RT=(e,t,n,o)=>{const r=o.getNode(!1===t);return Vy(io.fromDom(e),io.fromDom(n.getNode())).map((e=>Ji(e)?IT.remove(e.dom):IT.moveToElement(r))).orThunk((()=>z.some(IT.moveToElement(r))))},PT=(e,t,n)=>qm(t,e,n).bind((o=>DT(o.getNode())||MT(e,t,n,o)?z.none():t&&$r(o.getNode())||!1===t&&$r(o.getNode(!0))?RT(e,t,n,o):t&&mw(n)||!1===t&&dw(n)?z.some(IT.moveToPosition(o)):z.none())),VT=(e,t)=>e&&$r(t.nextSibling)?z.some(IT.moveToElement(t.nextSibling)):!1===e&&$r(t.previousSibling)?z.some(IT.moveToElement(t.previousSibling)):z.none(),jT=(e,t,n)=>n.fold((e=>z.some(IT.remove(e))),(e=>z.some(IT.moveToElement(e))),(n=>mm(t,n,e)?z.none():z.some(IT.moveToPosition(n)))),zT=(e,t,n)=>HT(t,n)?VT(t,n.getNode(!1===t)).fold((()=>PT(e,t,n)),z.some):PT(e,t,n).bind((t=>jT(e,n,t))),KT=(e,t,n)=>{const o=wm(t?1:-1,e,n),r=zl.fromRangeStart(o),s=io.fromDom(e);return!1===t&&mw(r)?z.some(IT.remove(r.getNode(!0))):t&&dw(r)?z.some(IT.remove(r.getNode())):!1===t&&dw(r)&&_w(s,r)?Ow(s,r).map((e=>IT.remove(e.getNode()))):t&&mw(r)&&Ew(s,r)?Uw(s,r).map((e=>IT.remove(e.getNode()))):zT(e,t,r)},WT=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Sy(e,t,io.fromDom(n)),!0),GT=(e,t)=>n=>{const o=t?zl.before(n):zl.after(n);return e.selection.setRng(o.toRange()),!0},qT=e=>t=>(e.selection.setRng(t.toRange()),!0),ZT=(e,t)=>z.from(VB(e.getBody(),t)),XT=(e,t)=>{const n=e.selection.getNode();return ZT(e,n).filter($r).fold((()=>KT(e.getBody(),t,e.selection.getRng()).map((n=>()=>n.fold(WT(e,t),GT(e,t),qT(e))))),(()=>z.some(U)))},JT=e=>{$(qs(e,".mce-offscreen-selection"),ar)},YT=(e,t)=>{const n=e.selection.getNode();if($r(n)&&!es(n)){const o=ZT(e,n.parentNode).filter($r);return o.fold((()=>z.some((()=>{JT(io.fromDom(e.getBody())),Sy(e,t,io.fromDom(e.selection.getNode())),jy(e)}))),(()=>z.some(U)))}return QT(e)?z.some((()=>{Wy(e,e.selection.getRng(),io.fromDom(e.getBody()))})):z.none()},$T=e=>{const t=e.dom,n=e.selection,o=VB(e.getBody(),n.getNode());if(Yr(o)&&t.isBlock(o)&&t.isEmpty(o)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(o,""),o.appendChild(e),n.setRng(zl.before(e).toRange())}return!0},eL=(e,t)=>e.selection.isCollapsed()?XT(e,t):YT(e,t),tL=(e,t)=>{const n=zl.fromRangeStart(e.selection.getRng());return qm(t,e.getBody(),n).filter((e=>t?iw(e):aw(e))).bind((e=>z.from(hm(t?0:-1,e)))).map((t=>()=>e.selection.select(t)))},nL=(e,t)=>e.selection.isCollapsed()?tL(e,t):z.none(),oL=zr,rL=e=>oL(e)&&e.data[0]===ri,sL=e=>oL(e)&&e.data[e.data.length-1]===ri,iL=e=>e.ownerDocument.createTextNode(ri),aL=e=>{if(oL(e.previousSibling))return sL(e.previousSibling)||e.previousSibling.appendData(ri),e.previousSibling;if(oL(e))return rL(e)||e.insertData(0,ri),e;{const t=iL(e);return e.parentNode.insertBefore(t,e),t}},AL=e=>{if(oL(e.nextSibling))return rL(e.nextSibling)||e.nextSibling.insertData(0,ri),e.nextSibling;if(oL(e))return sL(e)||e.appendData(ri),e;{const t=iL(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}},lL=(e,t)=>e?aL(t):AL(t),cL=I(lL,!0),uL=I(lL,!1),dL=(e,t)=>zr(e.container())?lL(t,e.container()):lL(t,e.getNode()),mL=(e,t)=>{const n=t.get();return n&&e.container()===n&&ci(n)},hL=(e,t)=>t.fold((t=>{Vd(e.get());const n=cL(t);return e.set(n),z.some(zl(n,n.length-1))}),(t=>eh(t).map((t=>{if(mL(t,e))return zl(e.get(),1);{Vd(e.get());const n=dL(t,!0);return e.set(n),zl(n,1)}}))),(t=>th(t).map((t=>{if(mL(t,e))return zl(e.get(),e.get().length-1);{Vd(e.get());const n=dL(t,!1);return e.set(n),zl(n,n.length-1)}}))),(t=>{Vd(e.get());const n=uL(t);return e.set(n),z.some(zl(n,1))})),gL=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n].apply(null,t);if(o.isSome())return o}return z.none()},pL=Oc.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),fL=(e,t)=>{const n=dm(t,e);return n||e},bL=(e,t,n)=>{const o=Qy(n),r=fL(t,o.container());return Uy(e,r,o).fold((()=>Ym(r,o).bind(I(Uy,e,r)).map((e=>pL.before(e)))),z.none)},vL=(e,t)=>null===rh(e,t),wL=(e,t,n)=>Uy(e,t,n).filter(I(vL,t)),yL=(e,t,n)=>{const o=Dy(n);return wL(e,t,o).bind((e=>{const t=$m(e,o);return t.isNone()?z.some(pL.start(e)):z.none()}))},BL=(e,t,n)=>{const o=Qy(n);return wL(e,t,o).bind((e=>{const t=Ym(e,o);return t.isNone()?z.some(pL.end(e)):z.none()}))},CL=(e,t,n)=>{const o=Dy(n),r=fL(t,o.container());return Uy(e,r,o).fold((()=>$m(r,o).bind(I(Uy,e,r)).map((e=>pL.after(e)))),z.none)},xL=e=>!1===_y(FL(e)),SL=(e,t,n)=>{const o=gL([bL,yL,BL,CL],[e,t,n]);return o.filter(xL)},FL=e=>e.fold(Q,Q,Q,Q),kL=e=>e.fold(N("before"),N("start"),N("end"),N("after")),EL=e=>e.fold(pL.before,pL.before,pL.after,pL.after),_L=e=>e.fold(pL.start,pL.start,pL.end,pL.end),OL=(e,t)=>kL(e)===kL(t)&&FL(e)===FL(t),UL=(e,t,n,o,r,s)=>gn(Uy(t,n,o),Uy(t,n,r),((t,o)=>t!==o&&Ty(n,t,o)?pL.after(e?t:o):s)).getOr(s),TL=(e,t)=>e.fold(j,(e=>!OL(e,t))),LL=(e,t,n,o,r)=>{const s=Ny(e,r),i=qm(e,n,s).map(I(Ny,e)),a=i.fold((()=>o.map(EL)),(r=>SL(t,n,r).map(I(UL,e,t,n,s,r)).filter(I(TL,o))));return a.filter(xL)},NL=(e,t)=>e?t.fold(T(z.some,pL.start),z.none,T(z.some,pL.after),z.none):t.fold(z.none,T(z.some,pL.before),z.none,T(z.some,pL.end)),QL=(e,t,n,o)=>{const r=Ny(e,o),s=SL(t,n,r);return SL(t,n,r).bind(I(NL,e)).orThunk((()=>LL(e,t,n,s,o)))},DL=e=>E(e.selection.getSel().modify),IL=(e,t,n)=>{const o=e?1:-1;return t.setRng(zl(n.container(),n.offset()+o).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},HL=(e,t)=>{const n=t.selection.getRng(),o=e?zl.fromRangeEnd(n):zl.fromRangeStart(n);return!!DL(t)&&(e&&hi(o)?IL(!0,t.selection,o):!(e||!gi(o))&&IL(!1,t.selection,o))};var ML;(function(e){e[e["Br"]=0]="Br",e[e["Block"]=1]="Block",e[e["Wrap"]=2]="Wrap",e[e["Eol"]=3]="Eol"})(ML||(ML={}));const RL=(e,t)=>e===km.Backwards?ue(t):t,PL=(e,t,n)=>e===km.Forwards?t.next(n):t.prev(n),VL=(e,t,n,o)=>Xr(o.getNode(t===km.Forwards))?ML.Br:!1===mm(n,o)?ML.Block:ML.Wrap,jL=(e,t,n,o)=>{const r=Rm(n);let s=o;const i=[];while(s){const o=PL(t,r,s);if(!o)break;if(Xr(o.getNode(!1)))return t===km.Forwards?{positions:RL(t,i).concat([o]),breakType:ML.Br,breakAt:z.some(o)}:{positions:RL(t,i),breakType:ML.Br,breakAt:z.some(o)};if(o.isVisible()){if(e(s,o)){const e=VL(n,t,s,o);return{positions:RL(t,i),breakType:e,breakAt:z.some(o)}}i.push(o),s=o}else s=o}return{positions:RL(t,i),breakType:ML.Eol,breakAt:z.none()}},zL=(e,t,n,o)=>t(n,o).breakAt.map((o=>{const r=t(n,o).positions;return e===km.Backwards?r.concat(o):[o].concat(r)})).getOr([]),KL=(e,t)=>re(e,((e,n)=>e.fold((()=>z.some(n)),(o=>gn(pe(o.getClientRects()),pe(n.getClientRects()),((e,r)=>{const s=Math.abs(t-e.left),i=Math.abs(t-r.left);return i<=s?n:o})).or(e)))),z.none()),WL=(e,t)=>pe(t.getClientRects()).bind((t=>KL(e,t.left))),GL=I(jL,zl.isAbove,-1),qL=I(jL,zl.isBelow,1),ZL=I(zL,-1,GL),XL=I(zL,1,qL),JL=(e,t)=>GL(e,t).breakAt.isNone(),YL=(e,t)=>qL(e,t).breakAt.isNone(),$L=e=>eh(e).map((t=>[t].concat(qL(e,t).positions))).getOr([]),eN=e=>th(e).map((t=>GL(e,t).positions.concat(t))).getOr([]),tN=(e,t)=>WL(ZL(e,t),t),nN=(e,t)=>WL(XL(e,t),t),oN=$r,rN=(e,t)=>Math.abs(e.left-t),sN=(e,t)=>Math.abs(e.right-t),iN=e=>Ne(e,"node"),aN=(e,t)=>je(e,((e,n)=>{const o=Math.min(rN(e,t),sN(e,t)),r=Math.min(rN(n,t),sN(n,t));return r===o&&iN(n)&&oN(n.node)||r<o?n:e})),AN=e=>{const t=t=>Y(t,(t=>{const n=il(t);return n.node=e,n}));if(Nr(e))return t(e.getClientRects());if(zr(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},lN=e=>le(e,AN);var cN;(function(e){e[e["Up"]=-1]="Up",e[e["Down"]=1]="Down"})(cN||(cN={}));const uN=(e,t,n,o)=>{while(o=cm(o,e,Di,t))if(n(o))return},dN=(e,t,n,o,r,s)=>{let i=0;const a=[],A=o=>{let s=lN([o]);-1===e&&(s=s.reverse());for(let e=0;e<s.length;e++){const o=s[e];if(!n(o,l)){if(a.length>0&&t(o,Ke(a))&&i++,o.line=i,r(o))return!0;a.push(o)}}},l=Ke(s.getClientRects());if(!l)return a;const c=s.getNode();return A(c),uN(e,o,A,c),a},mN=(e,t)=>t.line>e,hN=(e,t)=>t.line===e,gN=I(dN,cN.Up,cl,ul),pN=I(dN,cN.Down,ul,cl),fN=(e,t,n,o)=>{const r=Rm(t);let s,i,a,A;const l=[];let c=0;const u=e=>Ke(e.getClientRects());1===e?(s=r.next,i=ul,a=cl,A=zl.after(o)):(s=r.prev,i=cl,a=ul,A=zl.before(o));const d=u(A);do{if(!A.isVisible())continue;const e=u(A);if(a(e,d))continue;l.length>0&&i(e,Ke(l))&&c++;const t=il(e);if(t.position=A,t.line=c,n(t))return l;l.push(t)}while(A=s(A));return l},bN=e=>t=>mN(e,t),vN=e=>t=>hN(e,t),wN=(e,t)=>{e.selection.setRng(t),cb(e,e.selection.getRng())},yN=(e,t,n)=>z.some(kT(e,t,n)),BN=(e,t,n,o,r,s)=>{const i=t===km.Forwards,a=Rm(e.getBody()),A=I(Sm,i?a.next:a.prev),l=i?o:r;if(!n.collapsed){const o=fl(n);if(s(o))return CT(t,e,o,t===km.Backwards,!1);if(QT(e)){const e=n.cloneRange();return e.collapse(t===km.Backwards),z.from(e)}}const c=Bm(t,e.getBody(),n);if(l(c))return ST(e,c.getNode(!i));const u=Ny(i,A(c)),d=yi(n);if(!u)return d?z.some(n):z.none();if(l(u))return CT(t,e,u.getNode(!i),i,!1);const m=A(u);return m&&l(m)&&Fm(u,m)?CT(t,e,m.getNode(!i),i,!1):d?yN(e,u.toRange(),!1):z.none()},CN=(e,t,n,o,r,s)=>{const i=Bm(t,e.getBody(),n),a=Ke(i.getClientRects()),A=t===cN.Down,l=e.getBody();if(!a)return z.none();if(QT(e)){const e=A?zl.fromRangeEnd(n):zl.fromRangeStart(n),t=A?nN:tN;return t(l,e).orThunk((()=>z.from(e))).map((e=>e.toRange()))}const c=A?pN:gN,u=c(l,bN(1),i),d=ne(u,vN(1)),m=a.left,h=aN(d,m);if(h&&s(h.node)){const n=Math.abs(m-h.left),o=Math.abs(m-h.right);return CT(t,e,h.node,n<o,!1)}let g;if(g=o(i)?i.getNode():r(i)?i.getNode(!0):fl(n),g){const n=fN(t,l,bN(1),g);let o=aN(ne(n,vN(1)),m);if(o)return yN(e,o.position.toRange(),!1);if(o=Ke(ne(n,vN(0))),o)return yN(e,o.position.toRange(),!1)}return 0===d.length?xN(e,A).filter(A?r:o).map((t=>kT(e,t.toRange(),!1))):z.none()},xN=(e,t)=>{const n=e.selection.getRng(),o=t?zl.fromRangeEnd(n):zl.fromRangeStart(n),r=um(o.container(),e.getBody());if(t){const e=qL(r,o);return fe(e.positions)}{const e=GL(r,o);return pe(e.positions)}},SN=(e,t,n)=>xN(e,t).filter(n).exists((t=>(e.selection.setRng(t.toRange()),!0))),FN=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},kN=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},EN=(e,t,n)=>hL(t,n).map((t=>(FN(e,t),n))),_N=(e,t,n)=>{const o=zl.fromRangeStart(e);if(e.collapsed)return o;{const r=zl.fromRangeEnd(e);return n?$m(t,r).getOr(r):Ym(t,o).getOr(o)}},ON=(e,t,n)=>{const o=e.getBody(),r=_N(e.selection.getRng(),o,n),s=I(Ey,e),i=QL(n,s,o,r);return i.bind((n=>EN(e,t,n)))},UN=(e,t,n)=>{const o=Y(qs(io.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom)),r=ne(o,e),s=ne(n,e);$(de(r,s),I(kN,!1)),$(de(s,r),I(kN,!0))},TN=(e,t)=>{if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){const n=zl.fromRangeStart(e.selection.getRng());zl.isTextPosition(n)&&!1===Ly(n)&&(FN(e,Pd(t.get(),n)),t.set(null))}},LN=(e,t,n,o)=>{if(t.selection.isCollapsed()){const r=ne(o,e);$(r,(o=>{const r=zl.fromRangeStart(t.selection.getRng());SL(e,t.getBody(),r).bind((e=>EN(t,n,e)))}))}},NN=(e,t,n)=>!!Hu(e)&&ON(e,t,n).isSome(),QN=(e,t,n)=>!!Hu(t)&&HL(e,t),DN=e=>{const t=hA(null),n=I(Ey,e);return e.on("NodeChange",(o=>{Hu(e)&&(UN(n,e.dom,o.parents),TN(e,t),LN(n,e,t,o.parents))})),t},IN=I(QN,!0),HN=I(QN,!1),MN=(e,t,n)=>{if(Hu(e)){const o=xN(e,t).getOrThunk((()=>{const n=e.selection.getRng();return t?zl.fromRangeEnd(n):zl.fromRangeStart(n)}));return SL(I(Ey,e),e.getBody(),o).exists((t=>{const o=EL(t);return hL(n,o).exists((t=>(FN(e,t),!0)))}))}return!1},RN=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},PN=e=>gn(eh(e),th(e),((t,n)=>{const o=Ny(!0,t),r=Ny(!1,n);return Ym(e,o).forall((e=>e.isEqual(r)))})).getOr(!0),VN=(e,t)=>n=>hL(t,n).map((t=>()=>FN(e,t))),jN=(e,t,n,o)=>{const r=e.getBody(),s=I(Ey,e);e.undoManager.ignore((()=>{e.selection.setRng(RN(n,o)),Hy(e),SL(s,r,zl.fromRangeStart(e.selection.getRng())).map(_L).bind(VN(e,t)).each(P)})),e.nodeChanged()},zN=(e,t)=>{const n=dm(t,e);return n||e},KN=(e,t,n,o)=>{const r=zN(e.getBody(),o.container()),s=I(Ey,e),i=SL(s,r,o),a=i.bind((e=>n?e.fold(N(z.some(_L(e))),z.none,N(z.some(EL(e))),z.none):e.fold(z.none,N(z.some(EL(e))),z.none,N(z.some(_L(e))))));return a.map(VN(e,t)).getOrThunk((()=>{const a=Zm(n,r,o),A=a.bind((e=>SL(s,r,e)));return gn(i,A,(()=>Uy(s,r,o).bind((t=>PN(t)?z.some((()=>{Sy(e,n,io.fromDom(t))})):z.none())))).getOrThunk((()=>A.bind((()=>a.map((r=>()=>{n?jN(e,t,o,r):jN(e,t,r,o)}))))))}))},WN=(e,t,n)=>{if(e.selection.isCollapsed()&&Hu(e)){const o=zl.fromRangeStart(e.selection.getRng());return KN(e,t,n,o)}return z.none()},GN=(e,t)=>{const n=fw(t,e);return ae(n,Os).fold(N(n),(e=>n.slice(0,e)))},qN=e=>1===Uo(e),ZN=(e,t,n,o)=>{const r=I(Fx,t),s=Y(ne(o,r),(e=>e.dom));if(0===s.length)Sy(t,e,n);else{const e=Sx(n.dom,s);t.selection.setRng(e.toRange())}},XN=(e,t)=>{const n=io.fromDom(e.getBody()),o=io.fromDom(e.selection.getStart()),r=ne(GN(n,o),qN);return fe(r).bind((n=>{const o=zl.fromRangeStart(e.selection.getRng());return zy(t,o,n.dom)&&!kx(n)?z.some((()=>ZN(t,e,n,r))):z.none()}))},JN=(e,t)=>e.selection.isCollapsed()?XN(e,t):z.none(),YN=(e,t,n)=>z.some((()=>{e._selectionOverrides.hideFakeCaret(),Sy(e,t,io.fromDom(n))})),$N=(e,t)=>{const n=t?Aw:lw,o=t?km.Forwards:km.Backwards,r=Bm(o,e.getBody(),e.selection.getRng());return n(r)?YN(e,t,r.getNode(!t)):z.from(Ny(t,r)).filter((e=>n(e)&&Fm(r,e))).map((n=>()=>YN(e,t,n.getNode(!t))))},eQ=(e,t)=>{const n=e.selection.getNode();return ts(n)?YN(e,t,n):z.none()},tQ=(e,t)=>e.selection.isCollapsed()?$N(e,t):eQ(e,t),nQ=e=>ls(e,(e=>Yr(e.dom)||$r(e.dom))).exists((e=>Yr(e.dom))),oQ=e=>{const t=parseInt(e,10);return isNaN(t)?0:t},rQ=(e,t)=>{const n=e||Us(t)?"margin":"padding",o="rtl"===Go(t,"direction")?"-right":"-left";return n+o},sQ=(e,t,n,o,r,s)=>{const i=rQ(n,io.fromDom(s));if("outdent"===t){const t=Math.max(0,oQ(s.style[i])-o);e.setStyle(s,i,t?t+r:"")}else{const t=oQ(s.style[i])+o+r;e.setStyle(s,i,t)}},iQ=(e,t)=>ce(t,(t=>{const n=rQ(Bu(e),t),o=Zo(t,n).map(oQ).getOr(0),r=e.dom.getContentEditable(t.dom);return"false"!==r&&o>0})),aQ=e=>{const t=cQ(e);return!e.mode.isReadOnly()&&(t.length>1||iQ(e,t))},AQ=e=>Qs(e)||Ds(e),lQ=e=>vo(e).exists(AQ),cQ=e=>ne(cr(e.selection.getSelectedBlocks()),(e=>!AQ(e)&&!lQ(e)&&nQ(e))),uQ=(e,t)=>{const{dom:n}=e,o=Cu(e),r=/[a-z%]+$/i.exec(o)[0],s=parseInt(o,10),i=Bu(e);$(cQ(e),(e=>{sQ(n,t,i,s,r,e.dom)}))},dQ=e=>uQ(e,"indent"),mQ=e=>uQ(e,"outdent"),hQ=e=>{if(e.selection.isCollapsed()&&aQ(e)){const t=e.dom,n=e.selection.getRng(),o=zl.fromRangeStart(n),r=t.getParent(n.startContainer,t.isBlock);if(null!==r&&Bw(io.fromDom(r),o))return z.some((()=>mQ(e)))}return z.none()},gQ=(e,t,n)=>ve([hQ,eL,LT,(e,n)=>WN(e,t,n),mT,PB,nL,tQ,wT,JN],(t=>t(e,n))),pQ=(e,t)=>{const n=gQ(e,t,!1);n.fold((()=>{Hy(e),jy(e)}),P)},fQ=(e,t)=>{const n=gQ(e,t,!0);n.fold((()=>My(e)),P)},bQ=(e,t)=>{e.addCommand("delete",(()=>{pQ(e,t)})),e.addCommand("forwardDelete",(()=>{fQ(e,t)}))},vQ=5,wQ=400,yQ=e=>void 0===e.touches||1!==e.touches.length?z.none():z.some(e.touches[0]),BQ=(e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>vQ||o>vQ},CQ=e=>{const t=OA(),n=hA(!1),o=TA((t=>{e.dispatch("longpress",{...t,type:"longpress"}),n.set(!0)}),wQ);e.on("touchstart",(e=>{yQ(e).each((r=>{o.cancel();const s={x:r.clientX,y:r.clientY,target:e.target};o.throttle(e),n.set(!1),t.set(s)}))}),!0),e.on("touchmove",(r=>{o.cancel(),yQ(r).each((o=>{t.on((r=>{BQ(o,r)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(r=>{o.cancel(),"touchcancel"!==r.type&&t.get().filter((e=>e.target.isEqualNode(r.target))).each((()=>{n.get()?r.preventDefault():e.dispatch("tap",{...r,type:"tap"})}))}),!0)},xQ=(e,t)=>Le(e,t.nodeName),SQ=(e,t)=>!!zr(t)||!!Nr(t)&&(!xQ(e,t)&&!Fh(t)),FQ=(e,t,n)=>J(pw(io.fromDom(n),io.fromDom(t)),(t=>xQ(e,t.dom))),kQ=(e,t)=>{if(zr(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||xQ(e,t.nextSibling)))return!0}return!1},EQ=e=>e.dom.create(nu(e),ou(e)),_Q=e=>{const t=e.dom,n=e.selection,o=e.schema,r=o.getBlockElements();let s=n.getStart();const i=e.getBody();let a,A,l;const c=nu(e);if(!s||!Nr(s))return;const u=i.nodeName.toLowerCase();if(!o.isValidChild(u,c.toLowerCase())||FQ(r,i,s))return;const d=n.getRng(),m=d.startContainer,h=d.startOffset,g=d.endContainer,p=d.endOffset,f=nv(e);s=i.firstChild;while(s)if(SQ(r,s)){if(kQ(r,s)){A=s,s=s.nextSibling,t.remove(A);continue}a||(a=EQ(e),s.parentNode.insertBefore(a,s),l=!0),A=s,s=s.nextSibling,a.appendChild(A)}else a=null,s=s.nextSibling;l&&f&&(d.setStart(m,h),d.setEnd(g,p),n.setRng(d),e.nodeChanged())},OQ=(e,t,n)=>{const o=io.fromDom(EQ(e)),r=ti();nr(o,r),n(t,o);const s=document.createRange();return s.setStartBefore(r.dom),s.setEndBefore(r.dom),s},UQ=e=>{e.on("NodeChange",I(_Q,e))},TQ=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),LQ=(e,t,n)=>function(o){const r=arguments,s=r[r.length-2],i=s>0?t.charAt(s-1):"";if('"'===i)return o;if(">"===i){const e=t.lastIndexOf("<",s);if(-1!==e){const n=t.substring(e,s);if(-1!==n.indexOf('contenteditable="false"'))return o}}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(r[0])+'">'+e.dom.encode("string"===typeof r[1]?r[1]:r[0])+"</span>"},NQ=(e,t,n)=>{let o=t.length,r=n.content;if("raw"!==n.format){while(o--)r=r.replace(t[o],LQ(e,r,Cd(e)));n.content=r}},QQ=e=>{const t="contenteditable",n=" "+dn.trim(xd(e))+" ",o=" "+dn.trim(Cd(e))+" ",r=TQ(n),s=TQ(o),i=Sd(e);i.length>0&&e.on("BeforeSetContent",(t=>{NQ(e,i,t)})),e.parser.addAttributeFilter("class",(e=>{let n=e.length;while(n--){const o=e[n];r(o)?o.attr(t,"true"):s(o)&&o.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(e=>{let n=e.length;while(n--){const o=e[n];(r(o)||s(o))&&(i.length>0&&o.attr("data-mce-content")?(o.name="#text",o.type=3,o.raw=!0,o.value=o.attr("data-mce-content")):o.attr(t,null))}}))},DQ=e=>hs(io.fromDom(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull(),IQ=(e,t)=>{t.hasAttribute("data-mce-caret")&&(wi(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},HQ=(e,t)=>{const n=DQ(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void IQ(e,n)):void(di(n)&&(IQ(e,n),e.undoManager.add()))},MQ=e=>{e.on("keyup compositionstart",I(HQ,e))},RQ=$r,PQ=(e,t,n)=>BN(t,e,n,dw,mw,RQ),VQ=(e,t,n)=>{const o=e=>dw(e)||cw(e),r=e=>mw(e)||uw(e);return CN(t,e,n,o,r,RQ)},jQ=e=>{const t=e.dom.create(nu(e));return t.innerHTML='<br data-mce-bogus="1">',t},zQ=(e,t,n)=>{const o=Rm(e.getBody()),r=I(Sm,1===t?o.next:o.prev);if(n.collapsed){const o=e.dom.getParent(n.startContainer,"PRE");if(!o)return;const s=r(zl.fromRangeStart(n));if(!s){const n=io.fromDom(jQ(e));1===t?er(io.fromDom(o),n):$o(io.fromDom(o),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},KQ=(e,t)=>{const n=t?km.Forwards:km.Backwards,o=e.selection.getRng();return PQ(n,e,o).orThunk((()=>(zQ(e,n,o),z.none())))},WQ=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return VQ(n,e,o).orThunk((()=>(zQ(e,n,o),z.none())))},GQ=(e,t)=>KQ(e,t).exists((t=>(wN(e,t),!0))),qQ=(e,t)=>WQ(e,t).exists((t=>(wN(e,t),!0))),ZQ=(e,t)=>{const n=t?mw:dw;return SN(e,t,n)},XQ=(e,t)=>NT(e,!t).map((n=>{const o=n.toRange(),r=e.selection.getRng();return t?o.setStart(r.startContainer,r.startOffset):o.setEnd(r.endContainer,r.endOffset),o})).exists((t=>(wN(e,t),!0))),JQ=e=>X(["figcaption"],Cn(e)),YQ=(e,t)=>{const n=I(mo,t);return ls(io.fromDom(e.container()),Os,n).filter(JQ)},$Q=(e,t,n)=>t?YL(e.dom,n):JL(e.dom,n),eD=(e,t)=>{const n=io.fromDom(e.getBody()),o=zl.fromRangeStart(e.selection.getRng());return YQ(o,n).exists((()=>{if($Q(n,t,o)){const o=t?nr:tr,r=OQ(e,n,o);return e.selection.setRng(r),!0}return!1}))},tD=(e,t)=>!!e.selection.isCollapsed()&&eD(e,t),nD={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},oD=e=>Y(e,(e=>({...nD,action:U,...e}))),rD=e=>Y(e,(e=>({...nD,action:()=>z.none(),...e}))),sD=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,iD=(e,t)=>le(oD(e),(e=>sD(e,t)?[e]:[])),aD=(e,t)=>le(rD(e),(e=>sD(e,t)?[e]:[])),AD=(e,...t)=>()=>e.apply(null,t),lD=(e,t)=>ie(iD(e,t),(e=>e.action())),cD=(e,t)=>ve(aD(e,t),(e=>e.action())),uD=(e,t)=>{const n=t?km.Forwards:km.Backwards,o=e.selection.getRng();return BN(e,n,o,Aw,lw,ts).exists((t=>(wN(e,t),!0)))},dD=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return CN(e,n,o,Aw,lw,ts).exists((t=>(wN(e,t),!0)))},mD=(e,t)=>{const n=t?lw:Aw;return SN(e,t,n)},hD=Oc.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),gD=e=>hD.none(e),pD={...hD,none:gD},fD=(e,t)=>bD(e,t,j),bD=(e,t,n)=>le(ko(e),(e=>Ao(e,t)?n(e)?[e]:[]:bD(e,t,n))),vD=(e,t,n=V)=>{if(n(t))return z.none();if(X(e,Cn(t)))return z.some(t);const o=e=>Ao(e,"table")||n(e);return ms(t,e.join(","),o)},wD=(e,t)=>vD(["td","th"],e,t),yD=e=>fD(e,"th,td"),BD=(e,t)=>gs(e,"table",t),CD=(e,t,n,o,r=j)=>{const s=1===o;if(!s&&n<=0)return pD.first(e[0]);if(s&&n>=e.length-1)return pD.last(e[e.length-1]);{const s=n+o,i=e[s];return r(i)?pD.middle(t,i):CD(e,t,s,o,r)}},xD=(e,t)=>BD(e,t).bind((t=>{const n=yD(t),o=ae(n,(t=>mo(e,t)));return o.map((e=>({index:e,all:n})))})),SD=(e,t,n)=>{const o=xD(e,n);return o.fold((()=>pD.none(e)),(n=>CD(n.all,e,n.index,1,t)))},FD=(e,t,n)=>{const o=xD(e,n);return o.fold((()=>pD.none()),(n=>CD(n.all,e,n.index,-1,t)))},kD=e=>gs(e,"[contenteditable]"),ED=(e,t=!1)=>Vo(e)?e.dom.isContentEditable:kD(e).fold(N(t),(e=>"true"===_D(e))),_D=e=>e.dom.contentEditable,OD=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}),UD=(e,t)=>le(t,(t=>{const n=OD(il(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})),TD=(e,t,n)=>re(e,((e,o)=>e.fold((()=>z.some(o)),(e=>{const r=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),s=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n));return z.some(s<r?o:e)}))),z.none()),LD=(e,t,n,o,r)=>{const s=qs(io.fromDom(n),"td,th,caption").map((e=>e.dom)),i=ne(UD(e,s),(e=>t(e,r)));return TD(i,o,r).map((e=>e.cell))},ND=e=>e.bottom,QD=e=>e.top,DD=(e,t)=>e.y<t,ID=(e,t)=>e.y>t,HD=I(LD,ND,DD),MD=I(LD,QD,ID),RD=(e,t)=>pe(t.getClientRects()).bind((t=>HD(e,t.left,t.top))).bind((e=>WL(eN(e),t))),PD=(e,t)=>fe(t.getClientRects()).bind((t=>MD(e,t.left,t.top))).bind((e=>WL($L(e),t))),VD=(e,t,n)=>n.breakAt.exists((n=>e(t,n).breakAt.isSome())),jD=e=>e.breakType===ML.Wrap&&0===e.positions.length,zD=e=>e.breakType===ML.Br&&1===e.positions.length,KD=(e,t,n)=>{const o=e(t,n);return jD(o)||!Xr(n.getNode())&&zD(o)?!VD(e,t,o):o.breakAt.isNone()},WD=I(KD,GL),GD=I(KD,qL),qD=(e,t,n)=>{const o=zl.fromRangeStart(t);return Jm(!e,n).exists((e=>e.isEqual(o)))},ZD=(e,t,n,o)=>{const r=e.selection.getRng(),s=t?1:-1;return!(!Xd()||!qD(t,r,n))&&(CT(s,e,n,!t,!1).each((t=>{wN(e,t)})),!0)},XD=(e,t,n)=>RD(t,n).orThunk((()=>pe(n.getClientRects()).bind((n=>KL(ZL(e,zl.before(t)),n.left))))).getOr(zl.before(t)),JD=(e,t,n)=>PD(t,n).orThunk((()=>pe(n.getClientRects()).bind((n=>KL(XL(e,zl.after(t)),n.left))))).getOr(zl.after(t)),YD=(e,t)=>{const n=t.getNode(e);return Pr(n)?z.some(n):z.none()},$D=(e,t,n)=>{t.undoManager.transact((()=>{const o=e?er:$o,r=OQ(t,io.fromDom(n),o);wN(t,r)}))},eI=(e,t,n)=>{const o=YD(!!t,n),r=!1===t;o.fold((()=>wN(e,n.toRange())),(o=>Jm(r,e.getBody()).filter((e=>e.isEqual(n))).fold((()=>wN(e,n.toRange())),(n=>$D(t,e,o)))))},tI=(e,t,n,o)=>{const r=e.selection.getRng(),s=zl.fromRangeStart(r),i=e.getBody();if(!t&&WD(o,s)){const o=XD(i,n,s);return eI(e,t,o),!0}if(t&&GD(o,s)){const o=JD(i,n,s);return eI(e,t,o),!0}return!1},nI=(e,t,n)=>z.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((o=>z.from(e.dom.getParent(o,"table")).map((r=>n(e,t,r,o))))).getOr(!1),oI=(e,t)=>nI(e,t,ZD),rI=(e,t)=>nI(e,t,tI),sI=e=>{const t=Af.exact(e,0,e,0);return hf(t)},iI=(e,t,n)=>n.fold(z.none,z.none,((e,t)=>vv(t).map((e=>sI(e)))),(n=>(e.execCommand("mceTableInsertRowAfter"),aI(e,t,n)))),aI=(e,t,n)=>iI(e,t,SD(n,ED)),AI=(e,t,n)=>iI(e,t,FD(n,ED)),lI=(e,t)=>{const n=["table","li","dl"],o=io.fromDom(e.getBody()),r=e=>{const t=Cn(e);return mo(e,o)||X(n,t)},s=e.selection.getRng(),i=io.fromDom(t?s.endContainer:s.startContainer);return wD(i,r).map((n=>{BD(n,r).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t);const o=t?aI:AI,s=o(e,r,n);return s.each((t=>{e.selection.setRng(t)})),!0})).getOr(!1)},cI=(e,t,n)=>{const o=en.os.isMacOS()||en.os.isiOS();lD([{keyCode:Cp.RIGHT,action:AD(GQ,e,!0)},{keyCode:Cp.LEFT,action:AD(GQ,e,!1)},{keyCode:Cp.UP,action:AD(qQ,e,!1)},{keyCode:Cp.DOWN,action:AD(qQ,e,!0)},...o?[{keyCode:Cp.UP,action:AD(XQ,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Cp.DOWN,action:AD(XQ,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Cp.RIGHT,action:AD(oI,e,!0)},{keyCode:Cp.LEFT,action:AD(oI,e,!1)},{keyCode:Cp.UP,action:AD(rI,e,!1)},{keyCode:Cp.DOWN,action:AD(rI,e,!0)},{keyCode:Cp.RIGHT,action:AD(uD,e,!0)},{keyCode:Cp.LEFT,action:AD(uD,e,!1)},{keyCode:Cp.UP,action:AD(dD,e,!1)},{keyCode:Cp.DOWN,action:AD(dD,e,!0)},{keyCode:Cp.RIGHT,action:AD(NN,e,t,!0)},{keyCode:Cp.LEFT,action:AD(NN,e,t,!1)},{keyCode:Cp.RIGHT,ctrlKey:!o,altKey:o,action:AD(IN,e,t)},{keyCode:Cp.LEFT,ctrlKey:!o,altKey:o,action:AD(HN,e,t)},{keyCode:Cp.UP,action:AD(tD,e,!1)},{keyCode:Cp.DOWN,action:AD(tD,e,!0)}],n).each((e=>{n.preventDefault()}))},uI=(e,t)=>{e.on("keydown",(n=>{!1===n.isDefaultPrevented()&&cI(e,t,n)}))},dI=(e,t)=>({container:e,offset:t}),mI=aA.DOM,hI=e=>t=>e===t?-1:0,gI=e=>t=>e.isBlock(t)||X(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t),pI=(e,t,n)=>{if(zr(e)&&t>=0)return z.some(dI(e,t));{const o=rl(mI);return z.from(o.backwards(e,t,hI(e),n)).map((e=>dI(e.container,e.container.data.length)))}},fI=(e,t,n)=>{if(zr(e)&&t>=e.length)return z.some(dI(e,t));{const o=rl(mI);return z.from(o.forwards(e,t,hI(e),n)).map((e=>dI(e.container,0)))}},bI=(e,t,n)=>{if(!zr(e))return z.none();const o=e.textContent;if(t>=0&&t<=o.length)return z.some(dI(e,t));{const o=rl(mI);return z.from(o.backwards(e,t,hI(e),n)).bind((e=>{const o=e.container.data;return bI(e.container,t+o.length,n)}))}},vI=(e,t,n)=>{if(!zr(e))return z.none();const o=e.textContent;if(t<=o.length)return z.some(dI(e,t));{const r=rl(mI);return z.from(r.forwards(e,t,hI(e),n)).bind((e=>vI(e.container,t-o.length,n)))}},wI=(e,t,n,o,r)=>{const s=rl(e,gI(e));return z.from(s.backwards(t,n,o,r))},yI=e=>e.collapsed&&3===e.startContainer.nodeType,BI=e=>e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,""),CI=e=>""!==e&&-1!=="  \f\n\r\t\v".indexOf(e),xI=(e,t)=>e.substring(t.length),SI=(e,t,n)=>{let o;for(o=t-1;o>=0;o--){const t=e.charAt(o);if(CI(t))return z.none();if(t===n)break}return z.some(o)},FI=(e,t,n,o=0)=>{if(!yI(t))return z.none();const r=(e,t,o)=>SI(o,t,n).getOr(t),s=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return wI(e,t.startContainer,t.startOffset,r,s).bind((e=>{const r=t.cloneRange();if(r.setStart(e.container,e.offset),r.setEnd(t.endContainer,t.endOffset),r.collapsed)return z.none();const s=BI(r),i=s.lastIndexOf(n);return 0!==i||xI(s,n).length<o?z.none():z.some({text:xI(s,n),range:r,triggerChar:n})}))},kI=(e,t,n,o=0)=>xv(io.fromDom(t.startContainer)).fold((()=>FI(e,t,n,o)),(t=>{const o=e.createRng();o.selectNode(t.dom);const r=BI(o);return z.some({range:o,text:xI(r,n),triggerChar:n})})),EI=e=>e.nodeType===Bn,_I=e=>e.nodeType===yn,OI=e=>{if(EI(e))return dI(e,e.data.length);{const t=e.childNodes;return t.length>0?OI(t[t.length-1]):dI(e,t.length)}},UI=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?UI(n[t],0):n.length>0&&_I(e)&&n.length===t?OI(n[n.length-1]):dI(e,t)},TI=(e,t)=>{const n=e.getParent(t.container,e.isBlock);return wI(e,t.container,t.offset,((e,t)=>0===t?-1:t),n).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!CI(t)})).isSome()},LI=e=>t=>{const n=UI(t.startContainer,t.startOffset);return!TI(e,n)},NI=(e,t,n)=>ve(n.triggerChars,(n=>kI(e,t,n))),QI=(e,t)=>{const n=t(),o=e.selection.getRng();return NI(e.dom,o,n).bind((n=>DI(e,t,n)))},DI=(e,t,n,o={})=>{const r=t(),s=e.selection.getRng(),i=s.startContainer.nodeValue,a=ne(r.lookupByChar(n.triggerChar),(t=>n.text.length>=t.minChars&&t.matches.getOrThunk((()=>LI(e.dom)))(n.range,i,n.text)));if(0===a.length)return z.none();const A=Promise.all(Y(a,(e=>{const t=e.fetch(n.text,e.maxResults,o);return t.then((t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn})))})));return z.some({lookupData:A,context:n})};var II;(function(e){e[e["Error"]=0]="Error",e[e["Value"]=1]="Value"})(II||(II={}));const HI=(e,t,n)=>e.stype===II.Error?t(e.serror):n(e.svalue),MI=e=>{const t=[],n=[];return $(e,(e=>{HI(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}},RI=(e,t)=>e.stype===II.Error?{stype:II.Error,serror:t(e.serror)}:e,PI=(e,t)=>e.stype===II.Value?{stype:II.Value,svalue:t(e.svalue)}:e,VI=(e,t)=>e.stype===II.Value?t(e.svalue):e,jI=(e,t)=>e.stype===II.Error?t(e.serror):e,zI=e=>({stype:II.Value,svalue:e}),KI=e=>({stype:II.Error,serror:e}),WI=e=>HI(e,Ec.error,Ec.value),GI=e=>e.fold(KI,zI),qI={fromResult:GI,toResult:WI,svalue:zI,partition:MI,serror:KI,bind:VI,bindError:jI,map:PI,mapError:RI,fold:HI},ZI=e=>w(e)&&ye(e).length>100?" removed due to size":JSON.stringify(e,null,2),XI=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:N("... (only showing first ten failures)")}]):e;return Y(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))},JI=(e,t)=>qI.serror([{path:e,getErrorInfo:t}]),YI=(e,t,n)=>JI(e,(()=>'Could not find valid *required* value for "'+t+'" in '+ZI(n))),$I=(e,t)=>JI(e,(()=>'Choice schema did not contain choice key: "'+t+'"')),eH=(e,t,n)=>JI(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+ZI(t))),tH=(e,t)=>JI(e,N(t)),nH=(e,t,n,o)=>{const r=Te(n,o);return r.fold((()=>eH(e,n,o)),(n=>n.extract(e.concat(["branch: "+o]),t)))},oH=(e,t)=>{const n=(n,o)=>{const r=Te(o,e);return r.fold((()=>$I(n,e)),(e=>nH(n,o,t,e)))},o=()=>"chooseOn("+e+"). Possible values: "+ye(t);return{extract:n,toString:o}},rH=(e,t)=>t,sH=(e,t)=>{const n=y(e)&&y(t);return n?aH(e,t):t},iH=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const r=t[o];for(const t in r)Le(r,t)&&(n[t]=e(n[t],r[t]))}return n},aH=iH(sH),AH=iH(rH),lH=()=>({tag:"required",process:{}}),cH=e=>({tag:"defaultedThunk",process:e}),uH=e=>cH(N(e)),dH=()=>({tag:"option",process:{}}),mH=(e,t)=>e.length>0?qI.svalue(aH(t,AH.apply(void 0,e))):qI.svalue(t),hH=e=>T(qI.serror,Ae)(e),gH=(e,t)=>{const n=qI.partition(e);return n.errors.length>0?hH(n.errors):mH(n.values,t)},pH=e=>{const t=qI.partition(e);return t.errors.length>0?hH(t.errors):qI.svalue(t.values)},fH={consolidateObj:gH,consolidateArr:pH},bH=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),vH=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),wH=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},yH=e=>{const t=(t,n)=>qI.bindError(e(n),(e=>tH(t,e))),n=N("val");return{extract:t,toString:n}},BH=yH(qI.svalue),CH=(e,t,n,o)=>Te(t,n).fold((()=>YI(e,n,t)),o),xH=(e,t,n,o)=>{const r=Te(e,t).getOrThunk((()=>n(e)));return o(r)},SH=(e,t,n)=>n(Te(e,t)),FH=(e,t,n,o)=>{const r=Te(e,t).map((t=>!0===t?n(e):t));return o(r)},kH=(e,t,n,o,r)=>{const s=e=>r.extract(t.concat([o]),e),i=e=>e.fold((()=>qI.svalue(z.none())),(e=>{const n=r.extract(t.concat([o]),e);return qI.map(n,z.some)}));switch(e.tag){case"required":return CH(t,n,o,s);case"defaultedThunk":return xH(n,o,e.process,s);case"option":return SH(n,o,i);case"defaultedOptionThunk":return FH(n,o,e.process,i);case"mergeWithThunk":return xH(n,o,N({}),(t=>{const o=aH(e.process(n),t);return s(o)}))}},EH=(e,t,n)=>{const o={},r=[];for(const s of n)wH(s,((n,s,i,a)=>{const A=kH(i,e,t,n,a);qI.fold(A,(e=>{r.push(...e)}),(e=>{o[s]=e}))}),((e,n)=>{o[e]=n(t)}));return r.length>0?qI.serror(r):qI.svalue(o)},_H=e=>{const t=(t,n)=>EH(t,n,e),n=()=>{const t=Y(e,(e=>wH(e,((e,t,n,o)=>e+" -> "+o.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:n}},OH=e=>{const t=(t,n)=>{const o=Y(n,((n,o)=>e.extract(t.concat(["["+o+"]"]),n)));return fH.consolidateArr(o)},n=()=>"array("+e.toString()+")";return{extract:t,toString:n}},UH=e=>yH((t=>e(t).fold(qI.serror,qI.svalue))),TH=(e,t,n)=>{const o=t.extract([e],n);return qI.mapError(o,(e=>({input:n,errors:e})))},LH=(e,t,n)=>qI.toResult(TH(e,t,n)),NH=e=>"Errors: \n"+XI(e.errors).join("\n")+"\n\nInput object: "+ZI(e.input),QH=(e,t)=>oH(e,xe(t,_H)),DH=N(BH),IH=(e,t)=>yH((n=>{const o=typeof n;return e(n)?qI.svalue(n):qI.serror(`Expected type: ${t} but got: ${o}`)})),HH=IH(_,"number"),MH=IH(v,"string"),RH=IH(x,"boolean"),PH=IH(E,"function"),VH=bH,jH=vH,zH=e=>UH((t=>X(e,t)?Ec.value(t):Ec.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),KH=(e,t)=>VH(e,e,lH(),t),WH=e=>KH(e,MH),GH=e=>KH(e,PH),qH=(e,t)=>VH(e,e,lH(),OH(t)),ZH=(e,t)=>VH(e,e,dH(),t),XH=e=>ZH(e,MH),JH=e=>ZH(e,PH),YH=(e,t)=>VH(e,e,uH(t),DH()),$H=(e,t,n)=>VH(e,e,uH(t),n),eM=(e,t)=>$H(e,t,HH),tM=(e,t)=>$H(e,t,MH),nM=(e,t,n)=>$H(e,t,zH(n)),oM=(e,t)=>$H(e,t,RH),rM=(e,t)=>$H(e,t,PH),sM=(e,t,n)=>$H(e,t,OH(n)),iM=WH("type"),aM=GH("fetch"),AM=GH("onAction"),lM=rM("onSetup",(()=>U)),cM=XH("text"),uM=XH("icon"),dM=XH("tooltip"),mM=XH("label"),hM=oM("active",!1),gM=oM("enabled",!0),pM=oM("primary",!1),fM=e=>YH("columns",e),bM=e=>tM("type",e),vM=_H([iM,WH("ch"),eM("minChars",1),fM(1),eM("maxResults",10),JH("matches"),aM,AM,sM("highlightOn",[],MH)]),wM=e=>LH("Autocompleter",vM,e),yM=[gM,dM,uM,cM,lM],BM=[hM].concat(yM),CM=[rM("predicate",V),nM("scope","node",["node","editor"]),nM("position","selection",["node","selection","line"])],xM=yM.concat([bM("contextformbutton"),pM,AM,jH("original",Q)]),SM=BM.concat([bM("contextformbutton"),pM,AM,jH("original",Q)]),FM=yM.concat([bM("contextformbutton")]),kM=BM.concat([bM("contextformtogglebutton")]),EM=QH("type",{contextformbutton:xM,contextformtogglebutton:SM});_H([bM("contextform"),rM("initValue",N("")),mM,qH("commands",EM),ZH("launch",QH("type",{contextformbutton:FM,contextformtogglebutton:kM}))].concat(CM));const _M=e=>{const t=e.ui.registry.getAll().popups,n=xe(t,(e=>wM(e).fold((e=>{throw new Error(NH(e))}),Q))),o=De(Oe(n,(e=>e.ch))),r=Ue(n),s=e=>ne(r,(t=>t.ch===e));return{dataset:n,triggerChars:o,lookupByChar:s}},OM=(e,t)=>{const n=TA(t.load,50);e.on("keypress compositionend",(e=>{27!==e.which&&n.throttle()})),e.on("keydown",(e=>{const o=e.which;8===o?n.throttle():27===o&&t.cancelIfNecessary()})),e.on("remove",n.cancel)},UM=e=>{const t=OA(),n=hA(!1),o=t.isSet,r=()=>{o()&&(__(e),vp(e),n.set(!1),t.clear())},s=n=>{o()||(E_(e,n.range),t.set({triggerChar:n.triggerChar,matchLength:n.text.length}))},i=We((()=>_M(e))),a=n=>t.get().map((t=>kI(e.dom,e.selection.getRng(),t.triggerChar).bind((t=>DI(e,i,t,n))))).getOrThunk((()=>QI(e,i))),A=o=>{a(o).fold(r,(o=>{s(o.context),o.lookupData.then((s=>{t.get().map((i=>{const a=o.context;i.triggerChar===a.triggerChar&&(a.text.length-i.matchLength>=10?r():(t.set({...i,matchLength:a.text.length}),n.get()?bp(e,{lookupData:s}):(n.set(!0),fp(e,{lookupData:s}))))}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const n=w(t)?t.fetchOptions:{};A(n)})),e.addCommand("mceAutocompleterClose",r),OM(e,{cancelIfNecessary:r,load:A})},TM=e=>(t,n,o={})=>{const r=t.getBody(),s={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:r,currentTarget:r,eventPhase:Event.AT_TARGET,originalTarget:r,explicitOriginalTarget:r,isTrusted:!1,srcElement:r,cancelable:!1,preventDefault:U,inputType:n},i=Va(new InputEvent(e));return t.dispatch(e,{...i,...s,...o})},LM=TM("input"),NM=TM("beforeinput"),QM=(e,t,n)=>{const o=n.keyCode===Cp.BACKSPACE?"deleteContentBackward":"deleteContentForward";cD([{keyCode:Cp.BACKSPACE,action:AD(hQ,e)},{keyCode:Cp.BACKSPACE,action:AD(eL,e,!1)},{keyCode:Cp.DELETE,action:AD(eL,e,!0)},{keyCode:Cp.BACKSPACE,action:AD(LT,e,!1)},{keyCode:Cp.DELETE,action:AD(LT,e,!0)},{keyCode:Cp.BACKSPACE,action:AD(WN,e,t,!1)},{keyCode:Cp.DELETE,action:AD(WN,e,t,!0)},{keyCode:Cp.BACKSPACE,action:AD(PB,e,!1)},{keyCode:Cp.DELETE,action:AD(PB,e,!0)},{keyCode:Cp.BACKSPACE,action:AD(nL,e,!1)},{keyCode:Cp.DELETE,action:AD(nL,e,!0)},{keyCode:Cp.BACKSPACE,action:AD(tQ,e,!1)},{keyCode:Cp.DELETE,action:AD(tQ,e,!0)},{keyCode:Cp.BACKSPACE,action:AD(wT,e,!1)},{keyCode:Cp.DELETE,action:AD(wT,e,!0)},{keyCode:Cp.BACKSPACE,action:AD(mT,e,!1)},{keyCode:Cp.DELETE,action:AD(mT,e,!0)},{keyCode:Cp.BACKSPACE,action:AD(JN,e,!1)},{keyCode:Cp.DELETE,action:AD(JN,e,!0)}],n).each((t=>{n.preventDefault();const r=NM(e,o);r.isDefaultPrevented()||(t(),LM(e,o))}))},DM=(e,t)=>{lD([{keyCode:Cp.BACKSPACE,action:AD($T,e)},{keyCode:Cp.DELETE,action:AD($T,e)}],t)},IM=(e,t)=>{e.on("keydown",(n=>{!1===n.isDefaultPrevented()&&QM(e,t,n)})),e.on("keyup",(t=>{!1===t.isDefaultPrevented()&&DM(e,t)}))},HM=e=>{while(e){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},MM=(e,t)=>{let n,o=t;const r=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=HM(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(r.doc.createTextNode(zs),t.firstChild)}const i=r.createRng();if(t.normalize(),t.hasChildNodes()){const e=new vs(t,t);while(n=e.current()){if(zr(n)){i.setStart(n,0),i.setEnd(n,0);break}if(s[n.nodeName.toLowerCase()]){i.setStartBefore(n),i.setEndBefore(n);break}o=n,n=e.next()}n||(i.setStart(o,0),i.setEnd(o,0))}else Xr(t)?t.nextSibling&&r.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),cb(e,i)},RM=(e,t)=>{const n=e.getRoot();let o,r;o=t;while(o!==n&&"false"!==e.getContentEditable(o))"true"===e.getContentEditable(o)&&(r=o),o=o.parentNode;return o!==n?r:n},PM=e=>z.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),VM=e=>PM(e).fold(N(""),(e=>e.nodeName.toUpperCase())),jM=e=>PM(e).filter((e=>Ds(io.fromDom(e)))).isSome(),zM=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,KM=e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e},WM=(e,t)=>e&&e.parentNode&&e.parentNode.nodeName===t,GM=e=>e&&/^(OL|UL|LI)$/.test(e.nodeName),qM=e=>GM(e)&&GM(e.parentNode),ZM=e=>{const t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},XM=(e,t,n)=>{let o=e[n?"firstChild":"lastChild"];while(o){if(Nr(o))break;o=o[n?"nextSibling":"previousSibling"]}return o===t},JM=(e,t,n,o,r)=>{const s=e.dom,i=e.selection.getRng();if(n===e.getBody())return;qM(n)&&(r="LI");let a=t(r);if(XM(n,o,!0)&&XM(n,o,!1))if(WM(n,"LI")){const e=ZM(n);s.insertAfter(a,e),KM(n)?s.remove(e):s.remove(n)}else s.replace(a,n);else if(XM(n,o,!0))WM(n,"LI")?(s.insertAfter(a,ZM(n)),a.appendChild(s.doc.createTextNode(" ")),a.appendChild(n)):n.parentNode.insertBefore(a,n),s.remove(o);else if(XM(n,o,!1))s.insertAfter(a,ZM(n)),s.remove(o);else{n=ZM(n);const e=i.cloneRange();e.setStartAfter(o),e.setEndAfter(n);const t=e.extractContents();"LI"===r&&zM(t,"LI")?(a=t.firstChild,s.insertAfter(t,n)):(s.insertAfter(t,n),s.insertAfter(a,n)),s.remove(o)}MM(e,a)},YM=e=>{$(Gs(io.fromDom(e),En),(e=>{const t=e.dom;t.nodeValue=ii(t.nodeValue)}))},$M=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),eR=e=>e&&/^(TD|TH|CAPTION)$/.test(e.nodeName),tR=e=>{e.innerHTML='<br data-mce-bogus="1">'},nR=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,oR=(e,t)=>t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t),rR=(e,t,n)=>{let o=n;const r=[];let s;if(o){while(o=o.firstChild){if(e.isBlock(o))return;Nr(o)&&!t[o.nodeName.toLowerCase()]&&r.push(o)}s=r.length;while(s--)o=r[s],(!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue||$M(e,o))&&e.remove(o)}},sR=(e,t,n)=>!1===zr(t)?n:e?1===n&&t.data.charAt(n-1)===ri?0:n:n===t.data.length-1&&t.data.charAt(n)===ri?t.data.length:n,iR=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,sR(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,sR(!1,e.endContainer,e.endOffset)),t},aR=e=>{do{zr(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)},AR=(e,t)=>{const n=e.getRoot();let o,r;o=t;while(o!==n&&"false"!==e.getContentEditable(o))"true"===e.getContentEditable(o)&&(r=o),o=o.parentNode;return o!==n?r:n},lR=(e,t,n)=>{const o=e.dom;z.from(n.style).map(o.parseStyle).each((e=>{const n=Xo(io.fromDom(t)),r={...n,...e};o.setStyles(t,r)}));const r=z.from(n.class).map((e=>e.split(/\s+/))),s=z.from(t.className).map((e=>ne(e.split(/\s+/),(e=>""!==e))));gn(r,s,((e,n)=>{const r=ne(n,(t=>!X(e,t))),s=[...e,...r];o.setAttrib(t,"class",s.join(" "))}));const i=["style","class"],a=_e(n,((e,t)=>!X(i,t)));o.setAttribs(t,a)},cR=(e,t)=>{const n=nu(e);if(n.toLowerCase()===t.tagName.toLowerCase()){const n=ou(e);lR(e,t,n)}},uR=(e,t,n,o,r)=>{let s,i,a,A,l,c;const u=e.dom,d=AR(u,o);if(i=u.getParent(o,u.isBlock),!i||!oR(u,i)){if(i=i||d,c=i===e.getBody()||eR(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return s=u.create(t),cR(e,s),i.appendChild(s),n.setStart(s,0),n.setEnd(s,0),s;A=o;while(A.parentNode!==i)A=A.parentNode;while(A&&!u.isBlock(A))a=A,A=A.previousSibling;if(a&&e.schema.isValidChild(c,t.toLowerCase())){s=u.create(t),cR(e,s),a.parentNode.insertBefore(s,a),A=a;while(A&&!u.isBlock(A))l=A.nextSibling,s.appendChild(A),A=l;n.setStart(o,r),n.setEnd(o,r)}}return o},dR=(e,t)=>{t.normalize();const n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},mR=(e,t)=>{const n=Au(e);return!F(t)&&(v(n)?X(dn.explode(n),t.nodeName.toLowerCase()):n)},hR=(e,t)=>{let n,o,r,s,i,a,A,l,c;const u=e.dom,d=e.schema,m=d.getNonEmptyElements(),h=e.selection.getRng(),g=nu(e),p=t=>{let n,r,i,a=o;const A=d.getTextInlineElements();if(n=t||"TABLE"===l||"HR"===l?u.create(t||g):s.cloneNode(!1),i=n,!1===au(e))u.setAttrib(n,"style",null),u.setAttrib(n,"class",null);else do{if(A[a.nodeName]){if(oh(a)||Fh(a))continue;r=a.cloneNode(!1),u.setAttrib(r,"id",""),n.hasChildNodes()?(r.appendChild(n.firstChild),n.appendChild(r)):(i=r,n.appendChild(r))}}while((a=a.parentNode)&&a!==y);return cR(e,n),tR(i),n},f=e=>{let t,n;const i=sR(e,o,r);if(zr(o)&&(e?i>0:i<o.nodeValue.length))return!1;if(o.parentNode===s&&c&&!e)return!0;if(e&&Nr(o)&&o===s.firstChild)return!0;if(nR(o,"TABLE")||nR(o,"HR"))return c&&!e||!c&&e;const a=new vs(o,s);zr(o)&&(e&&0===i?a.prev():e||i!==o.nodeValue.length||a.next());while(t=a.current()){if(Nr(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),m[n]&&"br"!==n))return!1}else if(zr(t)&&!Hi(t.nodeValue))return!1;e?a.prev():a.next()}return!0},b=()=>{i=/^(H[1-6]|PRE|FIGURE)$/.test(l)&&"HGROUP"!==B?p(g):p(),mR(e,A)&&oR(u,A)&&u.isEmpty(s)?i=u.split(A,s):u.insertAfter(i,s),MM(e,i)};_f(u,h).each((e=>{h.setStart(e.startContainer,e.startOffset),h.setEnd(e.endContainer,e.endOffset)})),o=h.startContainer,r=h.startOffset;const v=!(!t||!t.shiftKey),w=!(!t||!t.ctrlKey);Nr(o)&&o.hasChildNodes()&&(c=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,r=c&&zr(o)?o.nodeValue.length:0);const y=AR(u,o);if(!y)return;v||(o=uR(e,g,h,o,r)),s=u.getParent(o,u.isBlock),A=s?u.getParent(s.parentNode,u.isBlock):null,l=s?s.nodeName.toUpperCase():"";const B=A?A.nodeName.toUpperCase():"";"LI"!==B||w||(s=A,A=A.parentNode,l=B),/^(LI|DT|DD)$/.test(l)&&u.isEmpty(s)?JM(e,p,A,s,g):s!==e.getBody()&&(li(s)?(i=wi(s),u.isEmpty(s)&&tR(s),cR(e,i),MM(e,i)):f()?b():f(!0)?(i=s.parentNode.insertBefore(p(),s),MM(e,nR(s,"HR")?i:s)):(n=iR(h).cloneRange(),n.setEndAfter(s),a=n.extractContents(),YM(a),aR(a),i=a.firstChild,u.insertAfter(a,s),rR(u,m,i),dR(u,s),u.isEmpty(s)&&tR(s),i.normalize(),u.isEmpty(i)?(u.remove(i),b()):(cR(e,i),MM(e,i))),u.setAttrib(i,"id",""),e.dispatch("NewBlock",{newBlock:i}))},gR="insertParagraph",pR={insert:hR,fakeEventName:gR},fR=(e,t,n)=>{const o=new vs(t,n);let r;const s=e.getNonEmptyElements();while(r=o.next())if(s[r.nodeName.toLowerCase()]||r.length>0)return!0},bR=(e,t,n)=>{const o=e.dom.createRng();n?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),e.selection.setRng(o),cb(e,o)},vR=(e,t)=>{const n=e.selection,o=e.dom,r=n.getRng();let s,i;_f(o,r).each((e=>{r.setStart(e.startContainer,e.startOffset),r.setEnd(e.endContainer,e.endOffset)}));let a=r.startOffset,A=r.startContainer;if(1===A.nodeType&&A.hasChildNodes()){const e=a>A.childNodes.length-1;A=A.childNodes[Math.min(a,A.childNodes.length-1)]||A,a=e&&3===A.nodeType?A.nodeValue.length:0}let l=o.getParent(A,o.isBlock);const c=l?o.getParent(l.parentNode,o.isBlock):null,u=c?c.nodeName.toUpperCase():"",d=!(!t||!t.ctrlKey);"LI"!==u||d||(l=c),A&&3===A.nodeType&&a>=A.nodeValue.length&&(fR(e.schema,A,l)||(s=o.create("br"),r.insertNode(s),r.setStartAfter(s),r.setEndAfter(s),i=!0)),s=o.create("br"),ql(o,r,s),bR(e,s,i),e.undoManager.add()},wR=(e,t)=>{const n=io.fromTag("br");$o(io.fromDom(t),n),e.undoManager.add()},yR=(e,t)=>{CR(e.getBody(),t)||er(io.fromDom(t),io.fromTag("br"));const n=io.fromTag("br");er(io.fromDom(t),n),bR(e,n.dom,!1),e.undoManager.add()},BR=e=>Xr(e.getNode()),CR=(e,t)=>!!BR(zl.after(t))||Ym(e,zl.after(t)).map((e=>Xr(e.getNode()))).getOr(!1),xR=e=>e&&"A"===e.nodeName&&"href"in e,SR=e=>e.fold(V,xR,xR,V),FR=e=>{const t=I(Ey,e),n=zl.fromRangeStart(e.selection.getRng());return SL(t,e.getBody(),n).filter(SR)},kR=(e,t)=>{t.fold(U,I(wR,e),I(yR,e),U)},ER=(e,t)=>{const n=FR(e);n.isSome()?n.each(I(kR,e)):vR(e,t)},_R="insertLineBreak",OR={insert:ER,fakeEventName:_R},UR=(e,t)=>PM(e).filter((e=>t.length>0&&Ao(io.fromDom(e),t))).isSome(),TR=e=>UR(e,su(e)),LR=e=>UR(e,iu(e)),NR=Oc.generate([{br:[]},{block:[]},{none:[]}]),QR=(e,t)=>LR(e),DR=e=>(t,n)=>jM(t)===e,IR=(e,t)=>(n,o)=>{const r=VM(n)===e.toUpperCase();return r===t},HR=e=>IR("pre",e),MR=()=>IR("summary",!0),RR=e=>(t,n)=>tu(t)===e,PR=(e,t)=>TR(e),VR=(e,t)=>t,jR=e=>{const t=nu(e),n=RM(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t)},zR=(e,t)=>(n,o)=>{const r=re(e,((e,t)=>e&&t(n,o)),!0);return r?z.some(t):z.none()},KR=(e,t)=>gL([zR([QR],NR.none()),zR([MR()],NR.br()),zR([HR(!0),RR(!1),VR],NR.br()),zR([HR(!0),RR(!1)],NR.block()),zR([HR(!0),RR(!0),VR],NR.block()),zR([HR(!0),RR(!0)],NR.br()),zR([DR(!0),VR],NR.br()),zR([DR(!0)],NR.block()),zR([PR],NR.br()),zR([VR],NR.br()),zR([jR],NR.block())],[e,!(!t||!t.shiftKey)]).getOr(NR.none()),WR=(e,t,n)=>{if(t.selection.isCollapsed()||Hy(t),k(n)){const n=NM(t,e.fakeEventName);if(n.isDefaultPrevented())return}e.insert(t,n),k(n)&&LM(t,e.fakeEventName)},GR=(e,t)=>{const n=()=>WR(OR,e,t),o=()=>WR(pR,e,t),r=KR(e,t);switch(ru(e)){case"linebreak":r.fold(n,n,U);break;case"block":r.fold(o,o,U);break;case"invert":r.fold(o,n,U);break;default:r.fold(n,o,U);break}},qR=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),QE(e.undoManager),e.undoManager.transact((()=>{GR(e,t)})))},ZR=e=>{e.on("keydown",(t=>{t.keyCode===Cp.ENTER&&qR(e,t)}))},XR=(e,t,n)=>{const o=en.os.isMacOS()||en.os.isiOS();lD([{keyCode:Cp.END,action:AD(ZQ,e,!0)},{keyCode:Cp.HOME,action:AD(ZQ,e,!1)},...o?[]:[{keyCode:Cp.HOME,action:AD(XQ,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Cp.END,action:AD(XQ,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Cp.END,action:AD(mD,e,!0)},{keyCode:Cp.HOME,action:AD(mD,e,!1)},{keyCode:Cp.END,action:AD(MN,e,!0,t)},{keyCode:Cp.HOME,action:AD(MN,e,!1,t)}],n).each((e=>{n.preventDefault()}))},JR=(e,t)=>{e.on("keydown",(n=>{!1===n.isDefaultPrevented()&&XR(e,t,n)}))},YR=e=>{e.on("input",(t=>{!1===t.isComposing&&ny(e)}))},$R=Gt(),eP=(e,t,n)=>{lD([{keyCode:Cp.PAGE_UP,action:AD(MN,e,!1,t)},{keyCode:Cp.PAGE_DOWN,action:AD(MN,e,!0,t)}],n)},tP=e=>e.stopImmediatePropagation(),nP=e=>e.keyCode===Cp.PAGE_UP||e.keyCode===Cp.PAGE_DOWN,oP=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",tP,!0):!n&&e.get()&&t.off("NodeChange",tP),e.set(n)},rP=(e,t)=>{if($R.os.isMacOS())return;const n=hA(!1);e.on("keydown",(t=>{nP(t)&&oP(n,e,!0)})),e.on("keyup",(o=>{!1===o.isDefaultPrevented()&&eP(e,t,o),nP(o)&&n.get()&&(oP(n,e,!1),e.nodeChanged())}))},sP=(e,t)=>{const n=t.container(),o=t.offset();return zr(n)?(n.insertData(o,e),z.some(zl(n,o+e.length))):Cm(t).map((n=>{const o=io.fromText(e);return t.isAtEnd()?er(n,o):$o(n,o),zl(o.dom,e.length)}))},iP=I(sP,zs),aP=I(sP," "),AP=e=>t=>t.fold((t=>$m(e.dom,zl.before(t))),(e=>eh(e)),(e=>th(e)),(t=>Ym(e.dom,zl.after(t)))),lP=(e,t)=>n=>zw(e,n)?iP(t):aP(t),cP=e=>t=>(e.selection.setRng(t.toRange()),e.nodeChanged(),!0),uP=e=>{const t=zl.fromRangeStart(e.selection.getRng()),n=io.fromDom(e.getBody());if(e.selection.isCollapsed()){const o=I(Ey,e),r=zl.fromRangeStart(e.selection.getRng());return SL(o,e.getBody(),r).bind(AP(n)).map((o=>()=>lP(n,t)(o).each(cP(e))))}return z.none()},dP=(e,t)=>{cD([{keyCode:Cp.SPACEBAR,action:AD(uP,e)}],t).each((n=>{t.preventDefault();const o=NM(e,"insertText",{data:" "});o.isDefaultPrevented()||(n(),LM(e,"insertText",{data:" "}))}))},mP=e=>{e.on("keydown",(t=>{!1===t.isDefaultPrevented()&&dP(e,t)}))},hP=e=>Od(e)?[{keyCode:Cp.TAB,action:AD(lI,e,!0)},{keyCode:Cp.TAB,shiftKey:!0,action:AD(lI,e,!1)}]:[],gP=(e,t)=>{lD([...hP(e)],t).each((e=>{t.preventDefault()}))},pP=e=>{e.on("keydown",(t=>{!1===t.isDefaultPrevented()&&gP(e,t)}))},fP=e=>{if(e.addShortcut("Meta+P","","mcePrint"),UM(e),JE(e))return hA(null);{const t=DN(e);return MQ(e),uI(e,t),IM(e,t),ZR(e),mP(e),YR(e),pP(e),JR(e,t),rP(e,t),t}};class bP{constructor(e){let t;this.lastPath=[],this.editor=e;const n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(n=>{const o=e.selection.getRng(),r={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};"nodechange"!==n.type&&ff(r,t)||e.dispatch("SelectionChange"),t=r})),e.on("contextmenu",(()=>{e.dispatch("SelectionChange")})),e.on("SelectionChange",(()=>{const t=e.selection.getStart(!0);t&&Hg(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(t=>{!t.isDefaultPrevented()&&Hg(e)&&("IMG"===e.selection.getNode().nodeName?Tb.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e){const t=this.editor.selection;let n,o,r;this.editor.initialized&&t&&!Zu(this.editor)&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),n=t.getStart(!0)||r,n.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,r)||(n=r),o=[],this.editor.dom.getParent(n,(e=>{if(e===r)return!0;o.push(e)})),e=e||{},e.element=n,e.parents=o,this.editor.dispatch("NodeChange",e))}isSameElementPath(e){let t;const n=this.editor,o=ue(n.dom.getParents(e,j,n.getBody()));if(o.length===this.lastPath.length){for(t=o.length;t>=0;t--)if(o[t]!==this.lastPath[t])break;if(-1===t)return this.lastPath=o,!0}return this.lastPath=o,!1}}const vP="x-tinymce/html",wP=N(vP),yP="\x3c!-- "+vP+" --\x3e",BP=e=>yP+e,CP=e=>e.replace(yP,""),xP=e=>-1!==e.indexOf(yP),SP=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),FP=(e,t)=>{let n="<"+e;const o=Oe(t,((e,t)=>t+'="'+Ca.encodeAllRaw(e)+'"'));return o.length&&(n+=" "+o.join(" ")),n+">"},kP=(e,t,n)=>{const o=e.split(/\n\n/),r=FP(t,n),s="</"+t+">",i=Y(o,(e=>e.split(/\n/).join("<br />"))),a=e=>r+e+s;return 1===i.length?i[0]:Y(i,a).join("")},EP="%MCEPASTEBIN%",_P=(e,t)=>{const{dom:n,selection:o}=e,r=e.getBody();t.set(o.getRng());const s=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},EP);en.browser.isFirefox()&&n.setStyle(s,"left","rtl"===n.getStyle(r,"direction",!0)?65535:-65535),n.bind(s,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()})),s.focus(),o.select(s,!0)},OP=(e,t)=>{const n=e.dom;if(UP(e)){let o;const r=t.get();while(o=UP(e))n.remove(o),n.unbind(o);r&&e.selection.setRng(r)}t.set(null)},UP=e=>e.dom.get("mcepastebin"),TP=e=>e&&"mcepastebin"===e.id,LP=e=>{const t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[o,...r]=ne(e.getBody().childNodes,TP);$(r,(e=>{n(o,e)}));const s=t.select("div[id=mcepastebin]",o);for(let i=s.length-1;i>=0;i--){const e=t.create("div");o.insertBefore(e,s[i]),n(e,s[i])}return o?o.innerHTML:""},NP=e=>e===EP,QP=e=>{const t=hA(null);return{create:()=>_P(e,t),remove:()=>OP(e,t),getEl:()=>UP(e),getHtml:()=>LP(e),getLastRng:t.get}},DP=(e,t)=>(dn.each(t,(t=>{e=b(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e),IP=e=>{const t=Da(),n=Bk({},t);let o="";const r=t.getVoidElements(),s=dn.makeMap("script noscript style textarea video audio iframe object"," "),i=t.getBlockElements(),a=e=>{const n=e.name,A=e;if("br"!==n){if("wbr"!==n)if(r[n]&&(o+=" "),s[n])o+=" ";else{if(3===e.type&&(o+=e.value),!(e.name in t.getVoidElements())&&(e=e.firstChild))do{a(e)}while(e=e.next);i[n]&&A.next&&(o+="\n","p"===n&&(o+="\n"))}}else o+="\n"};return e=DP(e,[/<!\[[^\]]+\]>/g]),a(n.parse(e)),o},HP=e=>{const t=(e,t,n)=>t||n?zs:" ";return e=DP(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e},MP=e=>{let t=0;return()=>e+t++},RP=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return dn.hasOwn(n,t)?"image/"+n[t]:"image/"+t},PP=(e,t)=>{const n=Bk({},e.schema);n.addNodeFilter("meta",(e=>{dn.each(e,(e=>{e.remove()}))}));const o=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Kv({validate:!0},e.schema).serialize(o)},VP=(e,t)=>({content:e,cancelled:t}),jP=(e,t,n)=>{const o=e.dom.create("div",{style:"display:none"},t),r=yp(e,o,n);return VP(r.node.innerHTML,r.isDefaultPrevented())},zP=(e,t,n)=>{const o=wp(e,t,n),r=PP(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?jP(e,r,n):VP(r,o.isDefaultPrevented())},KP=(e,t,n)=>zP(e,t,n),WP=(e,t)=>(e.insertContent(t,{merge:fd(e),paste:!0}),!0),GP=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),qP=(e,t)=>GP(t)&&J(_d(e),(e=>lt(t.toLowerCase(),`.${e.toLowerCase()}`))),ZP=(e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')})),!0),XP=(e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.execCommand("mceInsertLink",!1,t)})),!0),JP=(e,t,n)=>!(e.selection.isCollapsed()||!GP(t))&&XP(e,t,n),YP=(e,t,n)=>!!qP(e,t)&&ZP(e,t,n),$P=(e,t)=>{dn.each([JP,YP,WP],(n=>!0!==n(e,t,WP)))},eV=(e,t,n)=>{n||!bd(e)?WP(e,t):$P(e,t)},tV=MP("mceclip"),nV=(e,t,n,o)=>{const r=KP(e,t,n);!1===r.cancelled&&eV(e,r.content,o)},oV=(e,t,n)=>{const o=n||xP(t);nV(e,CP(t),o,!1)},rV=(e,t)=>{const n=e.dom.encode(t).replace(/\r\n/g,"\n"),o=Vi(n,wd(e)),r=kP(o,nu(e),ou(e));nV(e,r,!1,!0)},sV=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{t[r]=e.getData(r)}catch(n){t[r]=""}}return t},iV=(e,t)=>t in e&&e[t].length>0,aV=e=>iV(e,"text/html")||iV(e,"text/plain"),AV=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return k(n)?e.dom.encode(n[1]):null},lV=(e,t,n,o)=>{const r=tV(),s=cu(e)&&k(n.name),i=s?AV(e,n.name):r,a=s?n.name:void 0,A=t.create(r,n,o,i,a);return t.add(A),A},cV=(e,t)=>{PF(t.uri).each((({data:n,type:o,base64Encoded:r})=>{const s=r?n:btoa(n),i=t.file,a=e.editorUpload.blobCache,A=a.getByData(s,o),l=null!==A&&void 0!==A?A:lV(e,a,i,s);oV(e,`<img src="${l.blobUri()}">`,!1)}))},uV=e=>"paste"===e.type,dV=e=>Promise.all(Y(e,(e=>KF(e).then((t=>({file:e,uri:t})))))),mV=e=>{const t=_d(e);return e=>At(e.type,"image/")&&J(t,(t=>RP(t)===e.type))},hV=(e,t)=>{const n=t.items?le(be(t.items),(e=>"file"===e.kind?[e.getAsFile()]:[])):[],o=t.files?be(t.files):[];return ne(n.length>0?n:o,mV(e))},gV=(e,t,n)=>{const o=uV(t)?t.clipboardData:t.dataTransfer;if(dd(e)&&o){const r=hV(e,o);if(r.length>0)return t.preventDefault(),dV(r).then((t=>{n&&e.selection.setRng(n),$(t,(t=>{cV(e,t)}))})),!0}return!1},pV=e=>{var t,n;return en.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)},fV=e=>Cp.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode,bV=(e,t,n,o)=>{let r=HP(n);const s=iV(t,wP())||xP(n),i=!s&&SP(r),a=GP(r);(NP(r)||!r.length||i&&!a)&&(o=!0),(o||a)&&(r=iV(t,"text/plain")&&i?t["text/plain"]:IP(r)),NP(r)||(o?rV(e,r):oV(e,r,s))},vV=(e,t,n)=>{let o;const r=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",(e=>{fV(e)&&!e.isDefaultPrevented()&&(o=e.shiftKey&&86===e.keyCode)})),e.on("paste",(s=>{if(s.isDefaultPrevented()||pV(s))return;const i="text"===n.get()||o;o=!1;const a=sV(s.clipboardData);!aV(a)&&gV(e,s,r())||(iV(a,"text/html")?(s.preventDefault(),bV(e,a,a["text/html"],i)):(t.create(),Tb.setEditorTimeout(e,(()=>{const n=t.getHtml();t.remove(),bV(e,a,n,i)}),0)))}))},wV=e=>{const t=e=>At(e,"webkit-fake-url"),n=e=>At(e,"data:"),o=e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)};e.parser.addNodeFilter("img",((r,s,i)=>{if(!dd(e)&&o(i))for(const o of r){const r=o.attr("src");v(r)&&!o.attr("data-mce-object")&&r!==en.transparentSrc&&(t(r)||!yd(e)&&n(r))&&o.remove()}}))},yV=(e,t,n)=>{vV(e,t,n),wV(e)},BV=(e,t)=>{"text"===t.get()?(t.set("html"),Bp(e,!1)):(t.set("text"),Bp(e,!0)),e.focus()},CV=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{BV(e,t)})),e.addCommand("mceInsertClipboardContent",((t,n)=>{n.html&&oV(e,n.html,n.internal),n.text&&rV(e,n.text)}))},xV=(e,t,n)=>{try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(wP(),t),!0}catch(o){return!1}},SV=(e,t,n,o)=>{xV(e.clipboardData,t.html,t.text)?(e.preventDefault(),o()):n(t.html,o)},FV=e=>(t,n)=>{const{dom:o,selection:r}=e,s=o.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=o.create("div",{contenteditable:"true"},t);o.setStyles(s,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),s.appendChild(i),o.add(e.getBody(),s);const a=r.getRng();i.focus();const A=o.createRng();A.selectNodeContents(i),r.setRng(A),Tb.setEditorTimeout(e,(()=>{r.setRng(a),o.remove(s),n()}),0)},kV=e=>({html:BP(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),EV=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),_V=e=>!e.selection.isCollapsed()||EV(e),OV=e=>t=>{!t.isDefaultPrevented()&&_V(e)&&SV(t,kV(e),FV(e),(()=>{if(en.browser.isChromium()||en.browser.isFirefox()){const t=e.selection.getRng();Tb.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))},UV=e=>t=>{!t.isDefaultPrevented()&&_V(e)&&SV(t,kV(e),FV(e),U)},TV=e=>{e.on("cut",OV(e)),e.on("copy",UV(e))},LV=(e,t)=>{var n,o;return Tf.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(o=t.clientY)&&void 0!==o?o:0,e.getDoc())},NV=e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")},QV=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},DV=e=>J(e.files,(e=>/^image\//.test(e.type))),IV=(e,t)=>{ud(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault(),e.stopPropagation()})),dd(e)||e.on("drop",(e=>{const t=e.dataTransfer;t&&DV(t)&&e.preventDefault()})),e.on("drop",(n=>{if(n.isDefaultPrevented()||t.get())return;const o=LV(e,n);if(F(o))return;const r=sV(n.dataTransfer),s=iV(r,wP());if((!aV(r)||NV(r))&&gV(e,n,o))return;const i=r[wP()],a=i||r["text/html"]||r["text/plain"];a&&(n.preventDefault(),Tb.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{i&&e.execCommand("Delete"),QV(e,o);const t=HP(a);r["text/html"]?oV(e,t,s):rV(e,t)}))})))})),e.on("dragstart",(e=>{t.set(!0)})),e.on("dragover dragend",(n=>{dd(e)&&!1===t.get()&&(n.preventDefault(),QV(e,LV(e,n))),"dragend"===n.type&&t.set(!1)}))},HV=e=>{const t=t=>n=>{t(e,n)},n=md(e);E(n)&&e.on("PastePreProcess",t(n));const o=hd(e);E(o)&&e.on("PastePostProcess",t(o))},MV=(e,t)=>{e.on("PastePreProcess",(n=>{n.content=t(e,n.content,n.internal)}))},RV=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,PV=e=>dn.trim(e).replace(RV,Mh).toLowerCase(),VV=(e,t,n)=>{const o=gd(e);if(n||"all"===o||!pd(e))return t;const r=o?o.split(/[, ]/):[];if(r&&"none"!==o){const n=e.dom,o=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,s,i)=>{const a=n.parseStyle(n.decode(s)),A={};for(let c=0;c<r.length;c++){const e=a[r[c]];let t=e,s=n.getStyle(o,r[c],!0);/color/.test(r[c])&&(t=PV(t),s=PV(s)),s!==t&&(A[r[c]]=e)}const l=n.serializeStyle(A,"span");return l?t+' style="'+l+'"'+i:t+i}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,n,o)=>t+' style="'+n+'"'+o)),t},jV=e=>{(en.browser.isChromium()||en.browser.isSafari())&&MV(e,VV)},zV=e=>{const t=hA(!1),n=hA(vd(e)?"text":"html"),o=QP(e);jV(e),CV(e,n),HV(e),e.on("PreInit",(()=>{TV(e),IV(e,t),yV(e,o,n)}))},KV=e=>{e.on("click",(t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()}))},WV=e=>{e.parser.addNodeFilter("details",(e=>{$(e,(e=>{e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(e=>{$(e,(e=>{const t=e.attr("data-mce-open");e.attr("open",v(t)?t:null),e.attr("data-mce-open",null)}))}))},GV=e=>{KV(e),WV(e)},qV=Xr,ZV=zr,XV=e=>$r(e.dom),JV=e=>Yr(e.dom),YV=e=>t=>mo(io.fromDom(e),t),$V=(e,t)=>ls(io.fromDom(e),(e=>JV(e)||Os(e)),YV(t)).getOr(io.fromDom(t)).dom,ej=(e,t)=>ls(io.fromDom(e),XV,YV(t)),tj=(e,t,n)=>{const o=new vs(e,t),r=n?o.next.bind(o):o.prev.bind(o);let s=e;for(let i=n?e:r();i&&!qV(i);i=r())Oi(i)&&(s=i);return s},nj=(e,t)=>{const n=zl.fromRangeStart(e),o=n.getNode(),r=$V(o,t),s=tj(o,r,!1),i=tj(o,r,!0),a=document.createRange();return ej(s,r).fold((()=>{ZV(s)?a.setStart(s,0):a.setStartBefore(s)}),(e=>a.setStartBefore(e.dom))),ej(i,r).fold((()=>{ZV(i)?a.setEnd(i,i.data.length):a.setEndAfter(i)}),(e=>a.setEndAfter(e.dom))),a},oj=e=>{const t=nj(e.selection.getRng(),e.getBody());e.selection.setRng(rC(t))},rj=e=>{e.on("mousedown",(t=>{t.detail>=3&&(t.preventDefault(),oj(e))}))};var sj;(function(e){e["Before"]="before",e["After"]="after"})(sj||(sj={}));const ij=(e,t)=>Math.abs(e.left-t),aj=(e,t)=>Math.abs(e.right-t),Aj=(e,t)=>e>=t.top&&e<=t.bottom,lj=(e,t)=>e.top<t.bottom&&e.bottom>t.top,cj=(e,t)=>{const n=gl(e,t)/Math.min(e.height,t.height);return lj(e,t)&&n>.5},uj=(e,t)=>{const n=ne(e,(e=>Aj(t,e)));return ml(n).fold((()=>[[],e]),(t=>{const{pass:n,fail:o}=te(e,(e=>cj(e,t)));return[n,o]}))},dj=(e,t)=>({node:e.node,position:ij(e,t)<aj(e,t)?sj.Before:sj.After}),mj=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),hj=(e,t,n)=>{const o=e=>Oi(e.node)?z.some(e):Nr(e.node)?hj(be(e.node.childNodes),t,n):z.none(),r=(e,r)=>{if(e.length>=2){const s=o(e[0]).getOr(e[0]),i=o(e[1]).getOr(e[1]),a=Math.abs(r(s,t,n)-r(i,t,n));if(a<2){if(zr(s.node))return z.some(s);if(zr(i.node))return z.some(i)}}return z.none()},s=(e,s)=>{const i=he(e,((e,o)=>s(e,t,n)-s(o,t,n)));return r(i,s).orThunk((()=>ve(i,o)))},[i,a]=uj(lN(e),n),{pass:A,fail:l}=te(a,(e=>e.top<n));return s(i,mj).orThunk((()=>s(l,hl))).orThunk((()=>s(A,hl)))},gj=(e,t,n,o)=>{const r=(t,s)=>s.fold((()=>hj(be(t.dom.childNodes),n,o)),(e=>{const r=ne(be(t.dom.childNodes),(t=>t!==e.dom));return hj(r,n,o)})).orThunk((()=>{const n=mo(t,e)?z.none():wo(t);return n.bind((e=>r(e,z.some(t))))}));return r(t,z.none())},pj=(e,t,n)=>{const o=io.fromDom(e),r=po(o),s=io.fromPoint(r,t,n).filter((e=>ho(o,e))),i=s.getOr(o);return gj(o,i,t,n)},fj=(e,t,n)=>pj(e,t,n).filter((e=>Yd(e.node))).map((e=>dj(e,t))),bj=e=>{const t=e.getBoundingClientRect(),n=e.ownerDocument,o=n.documentElement,r=n.defaultView;return{top:t.top+r.pageYOffset-o.clientTop,left:t.left+r.pageXOffset-o.clientLeft}},vj=e=>e.inline?bj(e.getBody()):{left:0,top:0},wj=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},yj=e=>{const t=e.getBody(),n=e.getDoc().documentElement,o={left:t.scrollLeft,top:t.scrollTop},r={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?o:r},Bj=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=bj(e.getContentAreaContainer()),o=yj(e);return{left:t.pageX-n.left+o.left,top:t.pageY-n.top+o.top}}return{left:t.pageX,top:t.pageY}},Cj=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),xj=(e,t)=>Cj(vj(e),wj(e),Bj(e,t)),Sj=$r,Fj=Yr,kj=(e,t)=>Sj(t)&&t!==e,Ej=(e,t,n)=>t!==n&&!e.dom.isChildOf(t,n)&&!Sj(t),_j=e=>{const t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},Oj=(e,t,n,o)=>{const r=e.dom,s=t.cloneNode(!0);r.setStyles(s,{width:n,height:o}),r.setAttrib(s,"data-mce-selected",null);const i=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return r.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:o}),r.setStyles(s,{margin:0,boxSizing:"border-box"}),i.appendChild(s),i},Uj=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},Tj=(e,t,n,o,r,s)=>{let i=0,a=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>r&&(i=t.pageX+n-r),t.pageY+o>s&&(a=t.pageY+o-s),e.style.width=n-i+"px",e.style.height=o-a+"px"},Lj=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Nj=e=>0===e.button,Qj=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Dj=(e,t)=>n=>{if(Nj(n)){const o=ie(t.dom.getParents(n.target),Bl(Sj,Fj)).getOr(null);if(kj(t.getBody(),o)){const r=t.dom.getPos(o),s=t.getBody(),i=t.getDoc().documentElement;e.set({element:o,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?s.scrollWidth:i.offsetWidth)-2,maxY:(t.inline?s.scrollHeight:i.offsetHeight)-2,relX:n.pageX-r.x,relY:n.pageY-r.y,width:o.offsetWidth,height:o.offsetHeight,ghost:Oj(t,o,o.offsetWidth,o.offsetHeight)})}}},Ij=(e,t)=>{const n=UA(((e,n)=>{t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return t.on("remove",n.cancel),o=>e.on((e=>{const r=Math.max(Math.abs(o.screenX-e.screenX),Math.abs(o.screenY-e.screenY));if(!e.dragging&&r>10){const n=t.dispatch("dragstart",{target:e.element});if(n.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const r=Qj(e,xj(t,o));Uj(e.ghost,t.getBody()),Tj(e.ghost,r,e.width,e.height,e.maxX,e.maxY),n.throttle(o.clientX,o.clientY)}}))},Hj=e=>{const t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},Mj=(e,t)=>n=>{e.on((e=>{if(e.dragging){if(Ej(t,Hj(t.selection),e.element)){const o=_j(e.element),r=t.dispatch("drop",{clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||t.undoManager.transact((()=>{Lj(e.element),t.insertContent(t.dom.getOuterHTML(o)),t._selectionOverrides.hideFakeCaret()}))}t.dispatch("dragend")}})),Pj(e)},Rj=(e,t)=>()=>{e.on((e=>{e.dragging&&t.dispatch("dragend")})),Pj(e)},Pj=e=>{e.on((e=>{Lj(e.ghost)})),e.clear()},Vj=e=>{const t=OA(),n=aA.DOM,o=document,r=Dj(t,e),s=Ij(t,e),i=Mj(t,e),a=Rj(t,e);e.on("mousedown",r),e.on("mousemove",s),e.on("mouseup",i),n.bind(o,"mousemove",s),n.bind(o,"mouseup",a),e.on("remove",(()=>{n.unbind(o,"mousemove",s),n.unbind(o,"mouseup",a)})),e.on("keydown",(e=>{e.keyCode===Cp.ESC&&a()}))},jj=e=>{const t=t=>{if(!t.isDefaultPrevented()){const n=t.dataTransfer;n&&(X(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&KO(e,"Dropped file type is not supported"))}},n=n=>{Vb(e,n.target)&&t(n)},o=()=>{const o=aA.DOM,r=e.dom,s=document,i=e.inline?e.getBody():e.getDoc(),a=["drop","dragover"];$(a,(e=>{o.bind(s,e,n),r.bind(i,e,t)})),e.on("remove",(()=>{$(a,(e=>{o.unbind(s,e,n),r.unbind(i,e,t)}))}))};e.on("init",(()=>{Tb.setEditorTimeout(e,o,0)}))},zj=e=>{Vj(e),ed(e)&&jj(e)},Kj=e=>{const t=UA((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const n=kT(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(()=>{t.throttle()})),e.on("blur",(()=>{t.cancel()}))},Wj=e=>{e.on("init",(()=>{e.on("focusin",(t=>{const n=t.target;if(ts(n)){const t=VB(e.getBody(),n),o=$r(t)?t:n;e.selection.getNode()!==o&&ST(e,o).each((t=>e.selection.setRng(t)))}}))}))},Gj=$r,qj=(e,t)=>VB(e.getBody(),t),Zj=e=>{const t=e.selection,n=e.dom,o=n.isBlock,r=e.getBody(),s=Zd(e,r,o,(()=>nv(e))),i="sel-"+n.uniqueId(),a="data-mce-selected";let A;const l=e=>n.hasClass(e,"mce-offscreen-selection"),c=e=>e!==r&&(Gj(e)||ts(e))&&n.isChildOf(e,r),u=e=>{e&&t.setRng(e)},d=(n,o,r,i=!0)=>{const a=e.dispatch("ShowCaret",{target:o,direction:n,before:r});return a.isDefaultPrevented()?null:(i&&t.scrollIntoView(o,-1===n),s.show(r,o))},m=e=>{e.hasAttribute("data-mce-caret")&&(wi(e),t.scrollIntoView(e))},h=()=>{e.on("click",(t=>{const n=qj(e,t.target);n&&Gj(n)&&(t.preventDefault(),e.focus())})),e.on("blur NewBlock",y),e.on("ResizeWindow FullscreenStateChanged",s.reposition),e.on("tap",(t=>{const n=t.target,o=qj(e,n);Gj(o)?(t.preventDefault(),ST(e,o).each(w)):c(n)&&ST(e,n).each(w)}),!0),e.on("mousedown",(t=>{const o=t.target;if(o!==r&&"HTML"!==o.nodeName&&!n.isChildOf(o,r))return;if(!1===QO(e,t.clientX,t.clientY))return;y(),C();const s=qj(e,o);Gj(s)?(t.preventDefault(),ST(e,s).each(w)):fj(r,t.clientX,t.clientY).each((n=>{t.preventDefault();const o=d(1,n.node,n.position===sj.Before,!1);u(o),Nr(s)?s.focus():e.getBody().focus()}))})),e.on("keypress",(e=>{Cp.modifierPressed(e)||Gj(t.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(e=>{let t=e.range;if(A){if(!A.parentNode)return void(A=null);t=t.cloneRange(),t.selectNode(A),e.range=t}})),e.on("SetSelectionRange",(e=>{e.range=f(e.range);const t=w(e.range,e.forward);t&&(e.range=t)}));const o=e=>"mcepastebin"===e.id;e.on("AfterSetSelectionRange",(e=>{const t=e.range,n=t.startContainer.parentNode;p(t)||o(n)||C(),l(n)||y()})),zj(e),Kj(e),Wj(e)},g=e=>ui(e)||fi(e)||bi(e),p=e=>g(e.startContainer)||g(e.endContainer),f=t=>{const o=e.schema.getVoidElements(),r=n.createRng(),s=t.startContainer,i=t.startOffset,a=t.endContainer,A=t.endOffset;return Le(o,s.nodeName.toLowerCase())?0===i?r.setStartBefore(s):r.setStartAfter(s):r.setStart(s,i),Le(o,a.nodeName.toLowerCase())?0===A?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,A),r},b=(o,r)=>{const s=io.fromDom(e.getBody()),a=e.getDoc(),A=hs(s,"#"+i).getOrThunk((()=>{const e=io.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',a);return Ln(e,"id",i),nr(s,e),e})),l=n.createRng();ir(A),sr(A,[io.fromText(zs,a),io.fromDom(r),io.fromText(zs,a)]),l.setStart(A.dom.firstChild,1),l.setEnd(A.dom.lastChild,0),Wo(A,{top:n.getPos(o,e.getBody()).y+"px"}),ub(A);const c=t.getSel();return c.removeAllRanges(),c.addRange(l),l},v=t=>{const o=t.cloneNode(!0),r=e.dispatch("ObjectSelected",{target:t,targetClone:o});if(r.isDefaultPrevented())return null;const s=b(t,r.targetClone),i=io.fromDom(t);return $(qs(io.fromDom(e.getBody()),`*[${a}]`),(e=>{mo(i,e)||Hn(e,a)})),n.getAttrib(t,a)||t.setAttribute(a,"1"),A=t,C(),s},w=(e,t)=>{if(!e)return null;if(e.collapsed){if(!p(e)){const n=t?1:-1,o=Bm(n,r,e),s=o.getNode(!t);if(Yd(s))return d(n,s,!!t&&!o.isAtEnd(),!1);const i=o.getNode(t);if(Yd(i))return d(n,i,!t&&!o.isAtEnd(),!1)}return null}let o=e.startContainer,s=e.startOffset;const i=e.endOffset;if(3===o.nodeType&&0===s&&Gj(o.parentNode)&&(o=o.parentNode,s=n.nodeIndex(o),o=o.parentNode),1!==o.nodeType)return null;if(i===s+1&&o===e.endContainer){const e=o.childNodes[s];if(c(e))return v(e)}return null},y=()=>{A&&A.removeAttribute(a),hs(io.fromDom(e.getBody()),"#"+i).each(ar),A=null},B=()=>{s.destroy(),A=null},C=()=>{s.hide()};return JE(e)||h(),{showCaret:d,showBlockCaretContainer:m,hideFakeCaret:C,destroy:B}},Xj=(e,t,n)=>{if(zr(t)&&(n<0||n>t.data.length))return[];const o=[n];let r=t;while(r!==e&&r.parentNode){const e=r.parentNode;for(let t=0;t<e.childNodes.length;t++)if(e.childNodes[t]===r){o.push(t);break}r=e}return r===e?o.reverse():[]},Jj=(e,t,n,o,r)=>{const s=Xj(e,t,n),i=Xj(e,o,r);return{start:s,end:i}},Yj=(e,t)=>{const n=t.slice(),o=n.pop(),r=re(n,((e,t)=>e.bind((e=>z.from(e.childNodes[t])))),z.some(e));return r.bind((e=>zr(e)&&(o<0||o>e.data.length)?z.none():z.some({node:e,offset:o})))},$j=(e,t)=>Yj(e,t.start).bind((({node:n,offset:o})=>Yj(e,t.end).map((({node:e,offset:t})=>{const r=document.createRange();return r.setStart(n,o),r.setEnd(e,t),r})))),ez=(e,t)=>Jj(e,t.startContainer,t.startOffset,t.endContainer,t.endOffset),tz=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const o=t.parentNode;e.remove(t),tz(e,o,n)}},nz=(e,t,n,o=!0)=>{const r=t.startContainer.parentNode,s=t.endContainer.parentNode;t.deleteContents(),o&&!n(t.startContainer)&&(zr(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),zr(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),tz(e,r,n),r!==s&&tz(e,s,n))},oz=(e,t)=>z.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),rz=(e,t,n)=>{const o=fI(t,0,t);o.each((o=>{const r=o.container;vI(r,n.start.length,t).each((n=>{const o=e.createRng();o.setStart(r,0),o.setEnd(n.container,n.offset),nz(e,o,(e=>e===t))}))}))},sz=(e,t)=>{const n=e.dom,o=t.pattern,r=$j(n.getRoot(),t.range).getOrDie("Unable to resolve path range"),s=(e,t)=>{const n=t.get(e);return B(n)&&pe(n).exists((e=>Le(e,"block")))};return oz(e,r).each((t=>{"block-format"===o.type?s(o.format,e.formatter)&&e.undoManager.transact((()=>{rz(e.dom,t,o),e.formatter.apply(o.format)})):"block-command"===o.type&&e.undoManager.transact((()=>{rz(e.dom,t,o),e.execCommand(o.cmd,!1,o.value)}))})),!0},iz=(e,t)=>{const n=t.replace(zs," ");return ie(e,(e=>0===t.indexOf(e.start)||0===n.indexOf(e.start)))},az=(e,t)=>{const n=e.dom,o=e.selection.getRng();return oz(e,o).filter((t=>{const o=nu(e),r=n.is(t,o);return null!==t&&r})).bind((e=>{const o=e.textContent,r=iz(t,o);return r.map((t=>dn.trim(o).length===t.start.length?[]:[{pattern:t,range:Jj(n.getRoot(),e,0,e,0)}]))})).getOr([])},Az=(e,t)=>{if(0===t.length)return;const n=e.selection.getBookmark();$(t,(t=>sz(e,t))),e.selection.moveToBookmark(n)},lz=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),cz=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},uz=(e,t,n)=>{const o=$j(e.getRoot(),n).getOrDie("Unable to resolve path range"),r=o.startContainer,s=o.endContainer,i=0===o.endOffset?s:s.splitText(o.endOffset),a=0===o.startOffset?r:r.splitText(o.startOffset);return{prefix:t,end:i.parentNode.insertBefore(lz(e,t+"-end"),i),start:a.parentNode.insertBefore(lz(e,t+"-start"),a)}},dz=(e,t,n)=>{tz(e,e.get(t.prefix+"-end"),n),tz(e,e.get(t.prefix+"-start"),n)},mz=e=>0===e.start.length,hz=e=>(t,n)=>{const o=t.data,r=o.substring(0,n),s=r.lastIndexOf(e.charAt(e.length-1)),i=r.lastIndexOf(e);return-1!==i?i+e.length:-1!==s?s+1:-1},gz=(e,t,n,o)=>{const r=t.start,s=wI(e,o.container,o.offset,hz(r),n);return s.bind((o=>{if(o.offset>=r.length){const t=e.createRng();return t.setStart(o.container,o.offset-r.length),t.setEnd(o.container,o.offset),z.some(t)}{const s=o.offset-r.length;return bI(o.container,s,n).map((t=>{const n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(o.container,o.offset),n})).filter((e=>e.toString()===r)).orThunk((()=>gz(e,t,n,dI(o.container,0))))}}))},pz=(e,t,n,o,r,s=!1)=>{if(0===t.start.length&&!s){const t=e.createRng();return t.setStart(n,o),t.setEnd(n,o),z.some(t)}return pI(n,o,r).bind((n=>{const o=gz(e,t,r,n);return o.bind((e=>{if(s){if(e.endContainer===n.container&&e.endOffset===n.offset)return z.none();if(0===n.offset&&e.endContainer.textContent.length===e.endOffset)return z.none()}return z.some(e)}))}))},fz=(e,t,n)=>{const o=e.dom,r=o.getRoot(),s=n.pattern,i=n.position.container,a=n.position.offset;return bI(i,a-n.pattern.end.length,t).bind((A=>{const l=Jj(r,A.container,A.offset,i,a);if(mz(s))return z.some({matches:[{pattern:s,startRng:l,endRng:l}],position:A});{const i=bz(e,n.remainingPatterns,A.container,A.offset,t),a=i.getOr({matches:[],position:A}),c=a.position,u=pz(o,s,c.container,c.offset,t,i.isNone());return u.map((e=>{const t=ez(r,e);return{matches:a.matches.concat([{pattern:s,startRng:t,endRng:l}]),position:dI(e.startContainer,e.startOffset)}}))}}))},bz=(e,t,n,o,r)=>{const s=e.dom;return pI(n,o,s.getRoot()).bind((i=>{const a=s.createRng();a.setStart(r,0),a.setEnd(n,o);const A=a.toString();for(let n=0;n<t.length;n++){const o=t[n];if(!lt(A,o.end))continue;const s=t.slice();s.splice(n,1);const a=fz(e,r,{pattern:o,remainingPatterns:s,position:i});if(a.isSome())return a}return z.none()}))},vz=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?$(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},wz=(e,t,n,o)=>{const r=cz(e.dom,n);nz(e.dom,r,o),vz(e,t,r)},yz=(e,t,n,o,r)=>{const s=e.dom,i=cz(s,o),a=cz(s,n);nz(s,a,r),nz(s,i,r);const A={prefix:n.prefix,start:n.end,end:o.start},l=cz(s,A);vz(e,t,l)},Bz=(e,t)=>{const n=ZA("mce_textpattern"),o=oe(t,((t,o)=>{const r=uz(e,n+`_end${t.length}`,o.endRng);return t.concat([{...o,endMarker:r}])}),[]);return oe(o,((t,r)=>{const s=o.length-t.length-1,i=mz(r.pattern)?r.endMarker:uz(e,n+`_start${s}`,r.startRng);return t.concat([{...r,startMarker:i}])}),[])},Cz=(e,t,n)=>{const o=e.selection.getRng();return!1===o.collapsed?[]:oz(e,o).bind((r=>{const s=Math.max(0,o.startOffset-(n?1:0));return bz(e,t,o.startContainer,s,r)})).fold((()=>[]),(e=>e.matches))},xz=(e,t)=>{if(0===t.length)return;const n=e.dom,o=e.selection.getBookmark(),r=Bz(n,t);$(r,(t=>{const o=n.getParent(t.startMarker.start,n.isBlock),r=e=>e===o;mz(t.pattern)?wz(e,t.pattern,t.endMarker,r):yz(e,t.pattern,t.startMarker,t.endMarker,r),dz(n,t.endMarker,r),dz(n,t.startMarker,r)})),e.selection.moveToBookmark(o)},Sz=e=>e.inlinePatterns.length>0||e.blockPatterns.length>0,Fz=(e,t)=>{if(!e.selection.isCollapsed()||!Sz(t))return!1;const n=Cz(e,t.inlinePatterns,!1),o=az(e,t.blockPatterns);return(o.length>0||n.length>0)&&(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{e.insertContent(js),xz(e,n),Az(e,o);const t=e.selection.getRng(),r=pI(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),r.each((t=>{const n=t.container;n.data.charAt(t.offset-1)===js&&(n.deleteData(t.offset-1,1),tz(e.dom,n.parentNode,(t=>t===e.dom.getRoot())))}))})),!0)},kz=(e,t)=>{if(t.length>0){const n=Cz(e,t,!0);n.length>0&&e.undoManager.transact((()=>{xz(e,n)}))}},Ez=(e,t,n)=>{for(let o=0;o<e.length;o++)if(n(e[o],t))return!0;return!1},_z=(e,t)=>Ez(e,t,((e,t)=>e===t.keyCode&&!1===Cp.modifierPressed(t))),Oz=(e,t)=>Ez(e,t,((e,t)=>e.charCodeAt(0)===t.charCode)),Uz=e=>{const t=[",",".",";",":","!","?"],n=[32],o=()=>Hc(Bd(e)),r=()=>Ic(Bd(e));e.on("keydown",(t=>{13!==t.keyCode||Cp.modifierPressed(t)||Fz(e,o())&&t.preventDefault()}),!0),e.on("keyup",(t=>{_z(n,t)&&kz(e,r())})),e.on("keypress",(n=>{Oz(t,n)&&Tb.setEditorTimeout(e,(()=>{kz(e,r())}))}))},Tz=e=>{Uz(e)},Lz=e=>{const t=dn.each,n=Cp.BACKSPACE,o=Cp.DELETE,r=e.dom,s=e.selection,i=e.parser,a=en.browser,A=a.isFirefox(),l=a.isChromium()||a.isSafari(),c=en.deviceType.isiPhone()||en.deviceType.isiPad(),u=en.os.isMacOS()||en.os.isiOS(),d=(t,n)=>{try{e.getDoc().execCommand(t,!1,n)}catch(o){}},m=e=>e.isDefaultPrevented(),h=()=>{const t=e=>{const t=r.create("body"),n=e.cloneContents();return t.appendChild(n),s.serializer.serialize(t,{format:"html"})},i=n=>{const o=t(n),s=r.createRng();s.selectNode(e.getBody());const i=t(s);return o===i};e.on("keydown",(t=>{const s=t.keyCode;let a,A;if(!m(t)&&(s===o||s===n)){if(a=e.selection.isCollapsed(),A=e.getBody(),a&&!r.isEmpty(A))return;if(!a&&!i(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),A.firstChild&&r.isBlock(A.firstChild)?e.selection.setCursorLocation(A.firstChild,0):e.selection.setCursorLocation(A,0),e.nodeChanged()}}))},g=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},p=()=>{e.inline||r.bind(e.getDoc(),"mousedown mouseup",(t=>{let n;if(t.target===e.getDoc().documentElement)if(n=s.getRng(),e.getBody().focus(),"mousedown"===t.type){if(ui(n.startContainer))return;s.placeCaretAt(t.clientX,t.clientY)}else s.setRng(n)}))},f=()=>{e.on("keydown",(t=>{if(!m(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(s.isCollapsed()&&0===s.getRng().startOffset){const e=s.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return r.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(r.remove(n),t.preventDefault())}}}))},b=()=>{Range.prototype.getClientRects||e.on("mousedown",(t=>{if(!m(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),Tb.setEditorTimeout(e,(()=>{t.focus()}))}}))},v=()=>{const t=od(e);e.on("click",(n=>{const o=n.target;/^(IMG|HR)$/.test(o.nodeName)&&"false"!==r.getContentEditableParent(o)&&(n.preventDefault(),e.selection.select(o),e.nodeChanged()),"A"===o.nodeName&&r.hasClass(o,t)&&0===o.childNodes.length&&(n.preventDefault(),s.select(o))}))},w=()=>{const n=()=>{const n=r.getAttribs(s.getStart().cloneNode(!1));return()=>{const o=s.getStart();o!==e.getBody()&&(r.setAttrib(o,"style",null),t(n,(e=>{o.setAttributeNode(e.cloneNode(!0))})))}},o=()=>!s.isCollapsed()&&r.getParent(s.getStart(),r.isBlock)!==r.getParent(s.getEnd(),r.isBlock);e.on("keypress",(t=>{let r;if(!m(t)&&(8===t.keyCode||46===t.keyCode)&&o())return r=n(),e.getDoc().execCommand("delete",!1,null),r(),t.preventDefault(),!1})),r.bind(e.getDoc(),"cut",(t=>{let r;!m(t)&&o()&&(r=n(),Tb.setEditorTimeout(e,(()=>{r()})))}))},y=()=>{e.on("keydown",(e=>{if(!m(e)&&e.keyCode===n&&s.isCollapsed()&&0===s.getRng().startOffset){const t=s.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))},B=()=>{e.on("keydown",(t=>{let n,o;if(m(t)||t.keyCode!==Cp.BACKSPACE)return;n=s.getRng();const i=n.startContainer,a=n.startOffset,A=r.getRoot();if(o=i,n.collapsed&&0===a){while(o&&o.parentNode&&o.parentNode.firstChild===o&&o.parentNode!==A)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(e.formatter.toggle("blockquote",null,o),n=r.createRng(),n.setStart(i,0),n.setEnd(i,0),s.setRng(n))}}))},C=()=>{const t=()=>{d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),_u(e)||d("enableObjectResizing",!1)};Xu(e)||e.on("BeforeExecCommand mousedown",t)},x=()=>{const n=()=>{t(r.select("a"),(e=>{let t=e.parentNode;const n=r.getRoot();if(t.lastChild===e){while(t&&!r.isBlock(t)){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}r.add(t,"br",{"data-mce-bogus":1})}}))};e.on("SetContent ExecCommand",(e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()}))},S=()=>{e.on("init",(()=>{d("DefaultParagraphSeparator",nu(e))}))},F=e=>{const t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&0===n.startOffset&&n.endOffset===t.childNodes.length},k=()=>{e.on("keyup focusin mouseup",(t=>{Cp.modifierPressed(t)||F(e)||s.normalize()}),!0)},E=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},_=()=>{e.inline||e.on("keydown",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},O=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(t=>{let n;"HTML"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())})))},T=()=>{u&&e.on("keydown",(t=>{if(Cp.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();const n=e.selection.getSel();n.modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))},L=()=>{e.on("click",(e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},N=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))},Q=()=>{i.addNodeFilter("br",(e=>{let t=e.length;while(t--)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}))},D=U,I=()=>{if(!A||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount},H=()=>{l&&(p(),v(),N(),g(),c&&(_(),O(),L())),A&&(b(),C(),E(),T())},M=()=>{B(),h(),en.windowsPhone||k(),l&&(p(),v(),S(),N(),y(),Q(),c?(_(),O(),L()):g()),A&&(f(),b(),w(),C(),x(),E(),T(),y())};return JE(e)?H():M(),{refreshContentEditable:D,isHidden:I}},Nz=aA.DOM,Qz=(e,t)=>{const n=io.fromDom(e.getBody()),o=Io(Do(n)),r=io.fromTag("style");Ln(r,"type","text/css"),nr(r,io.fromText(t)),nr(o,r),e.on("remove",(()=>{ar(r)}))},Dz=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,Iz=e=>_e(e,(e=>!1===S(e))),Hz=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return Iz({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:Dz(e),validate:!0,blob_cache:n,document:e.getDoc()})},Mz=e=>{const t=e.options.get;return Iz({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Rz=e=>{const t=e.options.get;return{...Hz(e),...Mz(e),...Iz({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},Pz=e=>{const t=Bk(Hz(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",((t,n)=>{let o,r,s=t.length;const i=e.dom,a="data-mce-"+n;while(s--)if(o=t[s],r=o.attr(n),r&&!o.attr(a)){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?(r=i.serializeStyle(i.parseStyle(r),o.name),r.length||(r=null),o.attr(a,r),o.attr(n,r)):"tabindex"===n?(o.attr(a,r),o.attr(n,null)):o.attr(a,e.convertURL(r,n,o.name))}})),t.addNodeFilter("script",(e=>{let t=e.length;while(t--){const n=e[t],o=n.attr("type")||"no/type";0!==o.indexOf("mce-")&&n.attr("type","mce-"+o)}})),e.options.get("preserve_cdata")&&t.addNodeFilter("#cdata",(t=>{let n=t.length;while(n--){const o=t[n];o.type=8,o.name="#comment",o.value="[CDATA["+e.dom.encode(o.value)+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let n=t.length;const o=e.schema.getNonEmptyElements();while(n--){const e=t[n];e.isEmpty(o)&&0===e.getAll("br").length&&e.append(new Uv("br",1))}})),t},Vz=e=>{const t=Ad(e);t&&Tb.setEditorTimeout(e,(()=>{let n;n=!0===t?e:e.editorManager.get(t),n.destroyed||n.focus()}),100)},jz=e=>{const t=e.dom.getRoot();e.inline||Hg(e)&&e.selection.getStart(!0)!==t||eh(t).each((t=>{const n=t.getNode(),o=Pr(n)?eh(n).getOr(t):t;e.selection.setRng(o.toRange())}))},zz=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Ap(e),e.focus(!0),jz(e),e.nodeChanged({initial:!0});const t=id(e);E(t)&&t.call(e,e),Vz(e)},Kz=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Wz=(e,t,n)=>{const o=[Kz(e).loadAll(t)];return e.inline?o:o.concat([e.ui.styleSheetLoader.loadAll(n)])},Gz=e=>{const t=Kz(e),n=Fu(e),o=e.contentCSS,r=()=>{t.unloadAll(o),e.inline||e.ui.styleSheetLoader.unloadAll(n)},s=()=>{e.removed?r():e.on("remove",r)};if(e.contentStyles.length>0){let t="";dn.each(e.contentStyles,(e=>{t+=e+"\r\n"})),e.dom.addStyle(t)}const i=Promise.all(Wz(e,o,n)).then(s).catch(s),a=Su(e);return a&&Qz(e,a),i},qz=e=>{const t=e.getDoc(),n=e.getBody();ip(e),ld(e)||(t.body.spellcheck=!1,Nz.setAttrib(n,"spellcheck","false")),e.quirks=Lz(e),ap(e);const o=ku(e);void 0!==o&&(n.dir=o);const r=cd(e);r&&e.on("BeforeSetContent",(e=>{dn.each(r,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))})),e.on("SetContent",(()=>{e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(t=>{e.composing="compositionstart"===t.type}))},Zz=e=>{JE(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},Xz=e=>{!0!==e.removed&&(Zz(e),zz(e))},Jz=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(Nz.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const o=e.getBody();o.disabled=!0,e.readonly=Xu(e),e.readonly||(e.inline&&"static"===Nz.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable="true"),o.disabled=!1,e.editorUpload=wU(e),e.schema=Da(Mz(e)),e.dom=aA(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:()=>e.inline,schema:e.schema,contentCssCors:bu(e),referrerPolicy:vu(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}}),e.parser=Pz(e),e.serializer=oO(Rz(e),e),e.selection=z_(e.dom,e.getWin(),e.serializer,e),e.annotator=Xg(e),e.formatter=NU(e),e.undoManager=HU(e),e._nodeChangeDispatcher=new bP(e),e._selectionOverrides=Zj(e),CQ(e),GV(e),QQ(e),JE(e)||(rj(e),Tz(e));const r=fP(e);bQ(e,r),UQ(e),WU(e),zV(e);const s=$E(e);qz(e),s.fold((()=>{Gz(e).then((()=>Xz(e)))}),(t=>{e.setProgressState(!0),Gz(e).then((()=>{t().then((t=>{e.setProgressState(!1),Xz(e),k_(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)}),Xz(e),k_(e)}))}))}))},Yz=(e,t)=>{if(e.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline)Jz(e);else{const t=e.iframeElement,n=AU(io.fromDom(t),"load",(()=>{n.unbind(),e.contentDocument=t.contentDocument,Jz(e)}));if(en.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close()}else t.srcdoc=e.iframeHTML}},$z=aA.DOM,eK=(e,t,n,o)=>{const r=io.fromTag("iframe");return o.each((e=>Ln(r,"tabindex",e))),Nn(r,n),Nn(r,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Zn(r,"tox-edit-area__iframe"),r},tK=e=>{let t=Xc(e)+"<html><head>";Jc(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=Yc(e),o=$c(e),r=e.translate(rd(e));return eu(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+eu(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${o}" data-id="${e.id}" aria-label="${r}"><br></body></html>`,t},nK=(e,t)=>{const n=e.translate("Rich Text Area"),o=Dn(io.fromDom(e.getElement()),"tabindex").bind(ft),r=eK(e.id,n,Zc(e),o).dom;r.onload=()=>{r.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=tK(e),$z.add(t.iframeContainer,r)},oK=(e,t)=>{nK(e,t),t.editorContainer&&($z.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=$z.isHidden(t.editorContainer)),e.getElement().style.display="none",$z.setAttrib(e.id,"aria-hidden","true"),Yz(e)},rK=aA.DOM,sK=(e,t,n)=>{const o=RO.get(n),r=RO.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=dn.trim(n),o&&-1===dn.inArray(t,n)){if(e.plugins[n])return;try{const s=o(e,r)||{};e.plugins[n]=s,E(s.init)&&(s.init(e,r),t.push(n))}catch(s){eU(e,n,s)}}},iK=e=>e.replace(/^\-/,""),aK=e=>{const t=[];$(Yu(e),(n=>{sK(e,t,iK(n))}))},AK=e=>{const t=dn.trim(du(e)),n=e.ui.registry.getAll().icons,o={...xO.get("default").icons,...xO.get(t).icons};Ce(o,((t,o)=>{Le(n,o)||e.ui.registry.addIcon(o,t)}))},lK=e=>{const t=Nu(e);if(v(t)){const n=PO.get(t);e.theme=n(e,PO.urls[t])||{},E(e.theme.init)&&e.theme.init(e,PO.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},cK=e=>{const t=Du(e),n=SO.get(t);e.model=n(e,SO.urls[t])},uK=e=>e.theme.renderUI(),dK=e=>{const t=e.getElement(),n=Nu(e),o=n(e,t);return o.editorContainer.nodeType&&(o.editorContainer.id=o.editorContainer.id||e.id+"_parent"),o.iframeContainer&&o.iframeContainer.nodeType&&(o.iframeContainer.id=o.iframeContainer.id||e.id+"_iframecontainer"),o.height=o.iframeHeight?o.iframeHeight:t.offsetHeight,o},mK=e=>({editorContainer:e,iframeContainer:e,api:{}}),hK=e=>{const t=rK.create("div");return rK.insertAfter(t,e),mK(t)},gK=e=>{const t=e.getElement();return e.inline?mK(null):hK(t)},pK=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,v(Nu(e))?uK(e):E(Nu(e))?dK(e):gK(e)},fK=(e,t)=>{const n={show:z.from(t.show).getOr(U),hide:z.from(t.hide).getOr(U),isEnabled:z.from(t.isEnabled).getOr(j),setEnabled:n=>{e.mode.isReadOnly()||z.from(t.setEnabled).each((e=>e(n)))}};e.ui={...e.ui,...n}},bK=e=>{e.dispatch("ScriptsLoaded"),AK(e),lK(e),cK(e),aK(e);const t=pK(e);fK(e,z.from(t.api).getOr({}));const n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,iU(e),e.inline?Yz(e):oK(e,n)},vK=aA.DOM,wK=e=>"-"===e.charAt(0),yK=(e,t)=>{const n=wu(t),o=yu(t);if(!1===kA.hasCode(n)&&"en"!==n){const r=ht(o)?o:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(r).catch((()=>{JO(t,r,n)}))}},BK=(e,t)=>{const n=Nu(e);if(v(n)&&!wK(n)&&!Le(PO.urls,n)){const o=Qu(e),r=o?e.documentBaseURI.toAbsolute(o):`themes/${n}/theme${t}.js`;PO.load(n,r).catch((()=>{YO(e,r,n)}))}},CK=(e,t)=>{const n=Du(e);if("plugin"!==n&&!Le(SO.urls,n)){const o=Iu(e),r=v(o)?e.documentBaseURI.toAbsolute(o):`models/${n}/model${t}.js`;SO.load(n,r).catch((()=>{$O(e,r,n)}))}},xK=e=>z.from(mu(e)).filter(ht).map((e=>({url:e,name:z.none()}))),SK=(e,t,n)=>z.from(t).filter((e=>ht(e)&&!xO.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:z.some(t)}))),FK=(e,t,n)=>{const o=SK(t,"default",n),r=xK(t).orThunk((()=>SK(t,du(t),"")));$(hn([o,r]),(n=>{e.add(n.url).catch((()=>{XO(t,n.url,n.name.getOrUndefined())}))}))},kK=(e,t)=>{const n=(t,n)=>{RO.load(t,n).catch((()=>{ZO(e,n,t)}))};Ce($u(e),((t,o)=>{n(o,t),e.options.set("plugins",Yu(e).concat(o))})),$(Yu(e),(e=>{e=dn.trim(e),!e||RO.urls[e]||wK(e)||n(e,`plugins/${e}/plugin${t}.js`)}))},EK=e=>{const t=Nu(e);return!v(t)||k(PO.get(t))},_K=e=>{const t=Du(e);return k(SO.get(t))},OK=(e,t)=>{const n=mA.ScriptLoader,o=()=>{!e.removed&&EK(e)&&_K(e)&&bK(e)};BK(e,t),CK(e,t),yK(n,e),FK(n,e,t),kK(e,t),n.loadQueue().then(o,o)},UK=(e,t)=>bs.forElement(e,{contentCssCors:Ju(t),referrerPolicy:vu(t)}),TK=e=>{const t=e.id;kA.setCode(wu(e));const n=()=>{vK.unbind(window,"ready",n),e.render()};if(!Ja.Event.domLoaded)return void vK.bind(window,"ready",n);if(!e.getElement())return;const o=io.fromDom(e.getElement()),r=Rn(o);e.on("remove",(()=>{ee(o.dom.attributes,(e=>Hn(o,e.name))),Nn(o,r)})),e.ui.styleSheetLoader=UK(o,e),ju(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const s=e.getElement().form||vK.getParent(t,"form");s&&(e.formElement=s,zu(e)&&!jr(e.getElement())&&(vK.insertAfter(vK.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},vK.bind(s,"submit reset",e.formEventDelegate),e.on("reset",(()=>{e.resetContent()})),!Ku(e)||s.submit.nodeType||s.submit.length||s._mceOldSubmit||(s._mceOldSubmit=s.submit,s.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),s._mceOldSubmit(s)))),e.windowManager=jO(e),e.notificationManager=MO(e),Ed(e)&&e.on("GetContent",(e=>{e.save&&(e.content=vK.encode(e.content))})),Wu(e)&&e.on("submit",(()=>{e.initialized&&e.save()})),Gu(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),OK(e,e.suffix)},LK=(e,t)=>({sections:N(e),options:N(t)}),NK=Gt().deviceType,QK=NK.isPhone(),DK=NK.isTablet(),IK=e=>{if(F(e))return[];{const t=B(e)?e:e.split(/[ ,]/),n=Y(t,ut);return ne(n,ht)}},HK=(e,t)=>{const n=Ee(t,((t,n)=>X(e,n)));return LK(n.t,n.f)},MK=(e,t,n={})=>{const o=e.sections(),r=Te(o,t).getOr({});return dn.extend({},n,r)},RK=(e,t)=>Le(e.sections(),t),PK=(e,t)=>RK(e,t)?e.sections()[t]:{},VK=(e,t)=>{const n={table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Te(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},o={menubar:!1};return{...n,...t?o:{}}},jK=(e,t)=>{var n;const o=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?dn.extend({},e.external_plugins,o):o},zK=(e,t)=>[].concat(IK(e)).concat(IK(t)),KK=(e,t,n,o)=>e&&RK(t,"mobile")?o:n,WK=(e,t,n,o)=>{const r=IK(n.forced_plugins),s=IK(o.plugins),i=PK(t,"mobile"),a=i.plugins?IK(i.plugins):s,A=KK(e,t,s,a),l=zK(r,A);return dn.extend(o,{forced_plugins:r,plugins:l})},GK=(e,t)=>e&&RK(t,"mobile"),qK=(e,t,n,o,r)=>{var s;const i=e?{mobile:VK(null!==(s=r.mobile)&&void 0!==s?s:{},t)}:{},a=HK(["mobile"],aH(i,r)),A=dn.extend(n,o,a.options(),GK(e,a)?MK(a,"mobile"):{},{external_plugins:jK(o,a.options())});return WK(e,a,o,A)},ZK=(e,t)=>qK(QK||DK,QK,t,e,t),XK=(e,t)=>F_(e,t),JK=e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()},n=n=>()=>{$("left,center,right,justify".split(","),(t=>{n!==t&&e.formatter.remove("align"+t)})),"none"!==n&&t("align"+n)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},YK=e=>{const t=t=>()=>{const n=e.selection,o=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return J(o,(n=>k(e.formatter.matchNode(n,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},$K=e=>{JK(e),YK(e)},eW=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let o;try{n.execCommand(t)}catch(r){o=!0}if("paste"!==t||n.queryCommandEnabled(t)||(o=!0),o||!n.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(en.os.isMacOS()||en.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:t,type:"error"})}}})},tW=(e,t,n)=>{const o=io.fromDom(e.getRoot());return n=Kw(o,zl.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),n=Gw(o,zl.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},nW=e=>{if("string"!==typeof e){const t=dn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},oW=(e,t)=>{const n=e.selection,o=e.dom;return/^ | $/.test(t)?tW(o,n.getRng(),t):t},rW=(e,t)=>{const{content:n,details:o}=nW(t);kk(e,{content:oW(e,n),format:"html",set:!1,selection:!0,paste:o.paste}).each((t=>{const n=x_(e,t.content,o);Ek(e,n,t),e.addVisual()}))},sW=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,o)=>{rW(e,e.dom.createHTML("img",{src:o}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,o)=>{rW(e,e.dom.encode(o))},insertHTML:(t,n,o)=>{rW(e,o)},mceInsertContent:(t,n,o)=>{rW(e,o)},mceSetContent:(t,n,o)=>{e.setContent(o)},mceReplaceContent:(t,n,o)=>{e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},iW={"font-size":"size","font-family":"face"},aW=(e,t,n)=>{const o=t=>Zo(t,e).orThunk((()=>"font"===Cn(t)?Te(iW,e).bind((e=>Dn(t,e))):z.none())),r=e=>mo(io.fromDom(t),e);return ZC(io.fromDom(n),(e=>o(e)),r)},AW=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),lW=(e,t)=>z.from(aA.DOM.getStyle(t,e,!0)),cW=e=>(t,n)=>z.from(n).map(io.fromDom).filter(kn).bind((n=>aW(e,t,n.dom).or(lW(e,n.dom)))).getOr(""),uW=cW("font-size"),dW=T(AW,cW("font-family")),mW=e=>eh(e.getBody()).map((e=>{const t=e.container();return zr(t)?t.parentNode:t})),hW=e=>z.from(e.selection.getRng()).bind((t=>{const n=e.getBody(),o=t.startContainer===n&&0===t.startOffset;return o?z.none():z.from(e.selection.getStart(!0))})),gW=(e,t)=>hW(e).orThunk(I(mW,e)).map(io.fromDom).filter(kn).bind(t),pW=(e,t)=>gW(e,L(z.some,t)),fW=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const o=Fd(e),r=kd(e);return r?r[n-1]||t:o[n-1]||t}return t}return t},bW=e=>{const t=e.split(/\s*,\s*/);return Y(t,(e=>-1===e.indexOf(" ")||At(e,'"')||At(e,"'")?e:`'${e}'`)).join(",")},vW=(e,t)=>{const n=fW(e,t);e.formatter.toggle("fontname",{value:bW(n)}),e.nodeChanged()},wW=e=>pW(e,(t=>dW(e.getBody(),t.dom))).getOr(""),yW=(e,t)=>{e.formatter.toggle("fontsize",{value:fW(e,t)}),e.nodeChanged()},BW=e=>pW(e,(t=>uW(e.getBody(),t.dom))).getOr(""),CW=e=>pW(e,(t=>{const n=io.fromDom(e.getBody()),o=ZC(t,(e=>Zo(e,"line-height")),I(mo,n)),r=()=>{const e=parseFloat(Go(t,"line-height")),n=parseFloat(Go(t,"font-size"));return String(e/n)};return o.getOrThunk(r)})).getOr(""),xW=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},SW=e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,o)=>{t(e,{value:o})},BackColor:(e,n,o)=>{t("hilitecolor",{value:o})},FontName:(t,n,o)=>{vW(e,o)},FontSize:(t,n,o)=>{yW(e,o)},LineHeight:(t,n,o)=>{xW(e,o)},Lang:(e,n,o)=>{t(e,{value:o.code,customValue:o.customCode})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,n,o)=>{t(v(o)?o:"p")},mceToggleFormat:(e,n,o)=>{t(o)}})},FW=e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",(()=>wW(e))),e.editorCommands.addQueryValueHandler("FontSize",(()=>BW(e))),e.editorCommands.addQueryValueHandler("LineHeight",(()=>CW(e)))},kW=e=>{SW(e),FW(e)},EW=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},_W=e=>{e.editorCommands.addCommands({Indent:()=>{dQ(e)},Outdent:()=>{mQ(e)}}),e.editorCommands.addCommands({Outdent:()=>aQ(e)},"state")},OW=e=>{const t=(t,n,o)=>{const r=v(o)?{href:o}:o,s=e.dom.getParent(e.selection.getNode(),"a");w(r)&&v(r.href)&&(r.href=r.href.replace(/ /g,"%20"),s&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,s))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},mceInsertLink:t,createLink:t})},UW=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const t=n.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const o=e.selection.getBookmark();e.dom.split(t,n),e.selection.moveToBookmark(o)}}}})},TW=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state")},LW=e=>{UW(e),TW(e)},NW=e=>{e.editorCommands.addCommands({insertParagraph:()=>{WR(pR,e)},mceInsertNewLine:(t,n,o)=>{GR(e,o)},InsertLineBreak:(t,n,o)=>{WR(OR,e)}})},QW=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,o)=>{let r=0;e.dom.getParent(e.selection.getNode(),(t=>{if(1===t.nodeType&&r++===o)return e.selection.select(t),!1}),e.getBody())},mceSelectNode:(t,n,o)=>{e.selection.select(o)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Yr);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},DW=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,o)=>{const r=null!==o&&void 0!==o?o:e.selection.getNode();if(r!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(r,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,o)=>{iv(e,o)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},IW=e=>{$K(e),eW(e),EW(e),QW(e),sW(e),OW(e),_W(e),NW(e),LW(e),kW(e),DW(e)};class HW{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t,n,o){const r=this.editor,s=e.toLowerCase(),i=null===o||void 0===o?void 0:o.skip_focus;if(r.removed)return!1;"mcefocus"!==s&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(s)||i?kb(r):r.focus());const a=r.dispatch("BeforeExecCommand",{command:e,ui:t,value:n});if(a.isDefaultPrevented())return!1;const A=this.commands.exec[s];return!!E(A)&&(A(s,t,n),r.dispatch("ExecCommand",{command:e,ui:t,value:n}),!0)}queryCommandState(e){if(this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),n=this.commands.state[t];return!!E(n)&&n(t)}queryCommandValue(e){if(this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),n=this.commands.value[t];return E(n)?n(t):""}addCommands(e,t="exec"){const n=this.commands;Ce(e,((e,o)=>{$(o.toLowerCase().split(","),(o=>{n[t][o]=e}))}))}addCommand(e,t,n){const o=e.toLowerCase();this.commands.exec[o]=(e,o,r)=>t.call(null!==n&&void 0!==n?n:this.editor,o,r)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(null!==n&&void 0!==n?n:this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(null!==n&&void 0!==n?n:this.editor)}}const MW="data-mce-contenteditable",RW=(e,t,n)=>{$n(e,t)&&!1===n?Jn(e,t):n&&Zn(e,t)},PW=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(o){}},VW=(e,t)=>{e.dom.contentEditable=t?"true":"false"},jW=e=>{$(qs(e,'*[contenteditable="true"]'),(e=>{Ln(e,MW,"true"),VW(e,!1)}))},zW=e=>{$(qs(e,`*[${MW}="true"]`),(e=>{Hn(e,MW),VW(e,!0)}))},KW=e=>{z.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))},WW=e=>{e.selection.setRng(e.selection.getRng())},GW=(e,t)=>{const n=io.fromDom(e.getBody());RW(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),KW(e),e.readonly=!0,VW(n,!1),jW(n)):(e.readonly=!1,VW(n,!0),zW(n),PW(e,"StyleWithCSS",!1),PW(e,"enableInlineTableEditing",!1),PW(e,"enableObjectResizing",!1),ov(e)&&e.focus(),WW(e),e.nodeChanged())},qW=e=>e.readonly,ZW=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{qW(e)&&$(t,(e=>{e.attr(MW,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(MW,(t=>{qW(e)&&$(t,(e=>{e.attr("contenteditable",e.attr(MW))}))})),e.serializer.addTempAttr(MW)},XW=e=>{e.serializer?ZW(e):e.on("PreInit",(()=>{ZW(e)}))},JW=e=>"click"===e.type,YW=["copy"],$W=e=>X(YW,e.type),eG=(e,t)=>{const n=t=>mo(t,io.fromDom(e.getBody()));return gs(t,"a",n).bind((e=>Dn(e,"href")))},tG=(e,t)=>{if(JW(t)&&!Cp.metaKeyPressed(t)){const n=io.fromDom(t.target);eG(e,n).each((n=>{if(t.preventDefault(),/^#/.test(n)){const t=e.dom.select(`${n},[name="${it(n,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else $W(t)&&e.dispatch(t.type,t)},nG=e=>{e.on("ShowCaret",(t=>{qW(e)&&t.preventDefault()})),e.on("ObjectSelected",(t=>{qW(e)&&t.preventDefault()}))},oG=dn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class rG{constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||V}static isNative(e){return!!oG[e.toLowerCase()]}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const n=e.toLowerCase(),o=ja(n,null!==t&&void 0!==t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const r=this.bindings[n];if(r)for(let s=0,i=r.length;s<i;s++){const e=r[s];if(!e.removed){if(e.once&&this.off(n,e.func),o.isImmediatePropagationStopped())return o;if(!1===e.func.call(this.scope,o))return o.preventDefault(),o}}return o}on(e,t,n,o){if(!1===t&&(t=V),t){const r={func:t,removed:!1};o&&dn.extend(r,o);const s=e.toLowerCase().split(" ");let i=s.length;while(i--){const e=s[i];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[r,...t]:[...t,r],this.bindings[e]=t}}return this}off(e,t){if(e){const n=e.toLowerCase().split(" ");let o=n.length;while(o--){const r=n[o];let s=this.bindings[r];if(!r)return Ce(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(s){if(t){const e=te(s,(e=>e.func===t));s=e.fail,this.bindings[r]=s,$(e.pass,(e=>{e.removed=!0}))}else s.length=0;s.length||(this.toggleEvent(e,!1),delete this.bindings[r])}}}else Ce(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)}}const sG=e=>(e._eventDispatcher||(e._eventDispatcher=new rG({scope:e,toggleEvent:(t,n)=>{rG.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),iG={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const o=this;if(o.removed&&"remove"!==e&&"detach"!==e)return ja(e.toLowerCase(),null!==t&&void 0!==t?t:{},o);const r=sG(o).dispatch(e,t);if(!1!==n&&o.parent){let t=o.parent();while(t&&!r.isPropagationStopped())t.dispatch(e,r,!1),t=t.parent()}return r},on(e,t,n){return sG(this).on(e,t,n)},off(e,t){return sG(this).off(e,t)},once(e,t){return sG(this).once(e,t)},hasEventListeners(e){return sG(this).has(e)}},aG=aA.DOM;let AG;const lG=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;const n=Tu(e);return n?(e.eventRoot||(e.eventRoot=aG.select(n)[0]),e.eventRoot):e.getBody()},cG=e=>!e.hidden&&!qW(e),uG=(e,t,n)=>{cG(e)?e.dispatch(t,n):qW(e)&&tG(e,n)},dG=(e,t)=>{let n;if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=lG(e,t);if(Tu(e)){if(AG||(AG={},e.editorManager.on("removeEditor",(()=>{e.editorManager.activeEditor||AG&&(Ce(AG,((t,n)=>{e.dom.unbind(lG(e,n))})),AG=null)}))),AG[t])return;n=n=>{const o=n.target,r=e.editorManager.get();let s=r.length;while(s--){const e=r[s].getBody();(e===o||aG.isChildOf(o,e))&&uG(r[s],t,n)}},AG[t]=n,aG.bind(o,t,n)}else n=n=>{uG(e,t,n)},aG.bind(o,t,n),e.delegates[t]=n},mG={...iG,bindPendingEventDelegates(){const e=this;dn.each(e._pendingNativeEvents,(t=>{dG(e,t)}))},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?dG(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(lG(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Ce(e.delegates,((t,n)=>{e.dom.unbind(lG(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},hG=e=>v(e)?{value:e.split(/[ ,]/),valid:!0}:O(e,v)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},gG=e=>{const t=(()=>{switch(e){case"array":return B;case"boolean":return x;case"function":return E;case"number":return _;case"object":return w;case"string":return v;case"string[]":return hG;case"object[]":return e=>O(e,w);case"regexp":return e=>b(e,RegExp)}})();return n=>vG(n,t,`The value must be a ${e}.`)},pG=e=>v(e.processor),fG=(e,t)=>{const n=gt(t.message)?"":`. ${t.message}`;return e+n},bG=e=>e.valid,vG=(e,t,n="")=>{const o=t(e);return x(o)?o?{value:e,valid:!0}:{valid:!1,message:n}:o},wG=(e,t,n)=>{if(!S(t)){const o=vG(t,n);if(bG(o))return o.value;console.error(fG(`Invalid default value passed for the "${e}" option`,o))}},yG=(e,t)=>{const n={},o={},r=(e,t,n)=>{const r=vG(t,n);return bG(r)?(o[e]=r.value,!0):(console.warn(fG(`Invalid value passed for the ${e} option`,r)),!1)},s=(e,s)=>{const i=pG(s)?gG(s.processor):s.processor,a=wG(e,s.default,i);n[e]={...s,default:a,processor:i};const A=Te(o,e).orThunk((()=>Te(t,e)));A.each((t=>r(e,t,i)))},i=e=>Le(n,e),a=e=>Te(o,e).orThunk((()=>Te(n,e).map((e=>e.default)))).getOrUndefined(),A=(e,t)=>{if(i(e)){const o=n[e];return o.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):r(e,t,o.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},l=e=>{const t=i(e);return t&&delete o[e],t},c=e=>Le(o,e);return{register:s,isRegistered:i,get:a,set:A,unset:l,isSet:c}},BG=["design","readonly"],CG=(e,t,n,o)=>{const r=n[t.get()],s=n[o];try{s.activate()}catch(i){return void console.error(`problem while activating editor mode ${o}:`,i)}r.deactivate(),r.editorReadOnly!==s.editorReadOnly&&GW(e,s.editorReadOnly),t.set(o),op(e,o)},xG=(e,t,n,o)=>{if(o!==n.get()){if(!Le(t,o))throw new Error(`Editor mode '${o}' is invalid`);e.initialized?CG(e,n,t,o):e.on("init",(()=>CG(e,n,t,o)))}},SG=(e,t,n)=>{if(X(BG,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}},FG=e=>{const t=hA("design"),n=hA({design:{activate:U,deactivate:U,editorReadOnly:!1},readonly:{activate:U,deactivate:U,editorReadOnly:!0}});return XW(e),nG(e),{isReadOnly:()=>qW(e),set:o=>xG(e,n.get(),t,o),get:()=>t.get(),register:(e,t)=>{n.set(SG(n.get(),e,t))}}},kG=dn.each,EG=dn.explode,_G={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},OG=dn.makeMap("alt,ctrl,shift,meta,access"),UG=e=>{let t;const n={},o=en.os.isMacOS()||en.os.isiOS();kG(EG(e.toLowerCase(),"+"),(e=>{e in OG?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=_G[e]||e.toUpperCase().charCodeAt(0))}));const r=[n.keyCode];for(t in OG)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class TG{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(kG(t.shortcuts,(n=>{if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,n,o){const r=this,s=r.normalizeCommandFunc(n);return kG(EG(dn.trim(e)),(e=>{const n=r.createShortcut(e,t,s,o);r.shortcuts[n.id]=n})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,n=e;return"string"===typeof n?()=>{t.editor.execCommand(n,!1,null)}:dn.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,o){const r=dn.map(EG(e,">"),UG);return r[r.length-1]=dn.extend(r[r.length-1],{func:n,scope:o||this.editor}),dn.extend(r[0],{desc:this.editor.translate(t),subpatterns:r.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const LG=()=>{const e={},t={},n={},o={},r={},s={},i={},a=(e,t)=>(n,o)=>e[n.toLowerCase()]={...o,type:t},A=(e,t)=>o[e.toLowerCase()]=t;return{addButton:a(e,"button"),addGroupToolbarButton:a(e,"grouptoolbarbutton"),addToggleButton:a(e,"togglebutton"),addMenuButton:a(e,"menubutton"),addSplitButton:a(e,"splitbutton"),addMenuItem:a(t,"menuitem"),addNestedMenuItem:a(t,"nestedmenuitem"),addToggleMenuItem:a(t,"togglemenuitem"),addAutocompleter:a(n,"autocompleter"),addContextMenu:a(r,"contextmenu"),addContextToolbar:a(s,"contexttoolbar"),addContextForm:a(s,"contextform"),addSidebar:a(i,"sidebar"),addIcon:A,getAll:()=>({buttons:e,menuItems:t,icons:o,popups:n,contextMenus:r,contextToolbars:s,sidebars:i})}},NG=()=>{const e=LG();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},QG=aA.DOM,DG=dn.extend,IG=dn.each;class HG{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,DG(this,mG);const o=this;this.id=e,this.hidden=!1;const r=ZK(n.defaultOptions,t);this.options=yG(o,r),qc(o);const s=this.options.get;s("deprecation_warnings")&&gO(t,r);const i=s("suffix");i&&(n.suffix=i),this.suffix=n.suffix;const a=s("base_url");a&&n._setBaseUrl(a),this.baseUri=n.baseURI;const A=vu(o);A&&(mA.ScriptLoader._setReferrerPolicy(A),aA.DOM.styleSheetLoader._setReferrerPolicy(A)),EA.languageLoad=s("language_load"),EA.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new ck(Jc(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=ju(o),this.shortcuts=new TG(this),this.editorCommands=new HW(this),IW(this);const l=s("cache_suffix");l&&(en.cacheSuffix=l.replace(/^[\?\&]+/,"")),this.ui={registry:NG(),styleSheetLoader:void 0,show:U,hide:U,setEnabled:U,isEnabled:j},this.mode=FG(o),n.dispatch("SetupEditor",{editor:this});const c=sd(o);E(c)&&c.call(o,o)}render(){TK(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return nv(this)}translate(e){return kA.translate(e)}getParam(e,t,n){const o=this.options;return o.isRegistered(e)||(k(n)?o.register(e,{processor:n,default:t}):o.register(e,{processor:j,default:t})),o.isSet(e)||S(t)?o.get(e):t}hasPlugin(e,t){const n=X(Yu(this),e);return!!n&&(!t||void 0!==RO.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,o){this.shortcuts.add(e,t,n,o)}execCommand(e,t,n,o){return this.editorCommands.execCommand(e,t,n,o)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(QG.show(e.getContainer()),QG.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(QG.hide(e.getContainer()),QG.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e){const t=this;let n,o=t.getElement();if(t.removed)return"";if(o){e=e||{},e.load=!0;const r=jr(o)?o.value:o.innerHTML;return n=t.setContent(r,e),e.element=o,e.no_events||t.dispatch("LoadContent",e),e.element=o=null,n}}save(e){const t=this;let n,o,r=t.getElement();if(r&&t.initialized&&!t.removed)return e=e||{},e.save=!0,e.element=r,n=e.content=t.getContent(e),e.no_events||t.dispatch("SaveContent",e),"raw"===e.format&&t.dispatch("RawSaveContent",e),n=e.content,jr(r)?r.value=n:(!e.is_removing&&t.inline||(r.innerHTML=n),(o=QG.getParent(t.id,"form"))&&IG(o.elements,(e=>{if(e.name===t.id)return e.value=n,!1}))),e.element=r=null,!1!==e.set_dirty&&t.setDirty(!1),n}setContent(e,t){return lO(this,e,t)}getContent(e){return iO(this,e)}insertContent(e,t){t&&(e=DG({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?lO(this,this.startContent,{format:"raw"}):lO(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=QG.get(e.editorContainer||e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=QG.get(this.id)),this.targetElm}getWin(){const e=this;let t;return e.contentWindow||(t=e.iframeElement,t&&(e.contentWindow=t.contentWindow)),e.contentWindow}getDoc(){const e=this;let t;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument}getBody(){const e=this.getDoc();return this.bodyElement||(e?e.body:null)}convertURL(e,t,n){const o=this,r=o.options.get,s=ad(o);return E(s)?s.call(o,e,n,!0,t):!r("convert_urls")||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r("relative_urls")?o.documentBaseURI.toRelative(e):(e=o.documentBaseURI.toAbsolute(e,r("remove_script_host")),e)}addVisual(e){XK(this,e)}remove(){yO(this)}destroy(e){BO(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const MG=aA.DOM,RG=dn.each;let PG,VG=!1,jG=[];const zG=e=>{const t=e.type;RG(ZG.get(),(n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}}))},KG=e=>{if(e!==VG){const t=aA.DOM;e?(t.bind(window,"resize",zG),t.bind(window,"scroll",zG)):(t.unbind(window,"resize",zG),t.unbind(window,"scroll",zG)),VG=e}},WG=e=>{const t=jG;return jG=ne(jG,(t=>e!==t)),ZG.activeEditor===e&&(ZG.activeEditor=jG.length>0?jG[0]:null),ZG.focusedEditor===e&&(ZG.focusedEditor=null),t.length!==jG.length},GG=e=>(e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(WG(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e),qG="CSS1Compat"!==document.compatMode,ZG={...iG,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"1.2",releaseDate:"2022-07-29",i18n:kA,activeEditor:null,focusedEditor:null,setup(){const e=this;let t,n,o="";n=ck.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));const r=window.tinymce||window.tinyMCEPreInit;if(r)t=r.base||r.baseURL,o=r.suffix;else{const e=document.getElementsByTagName("script");for(let n=0;n<e.length;n++){const r=e[n].src||"";if(""===r)continue;const s=r.substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!==s.indexOf(".min")&&(o=".min"),t=r.substring(0,r.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(o=".min"),t=e.substring(0,e.lastIndexOf("/"))}}e.baseURL=new ck(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new ck(e.baseURL),e.suffix=o,Wb(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;e.suffix&&(this.suffix=n),this.defaultOptions=e;const o=e.plugin_base_urls;void 0!==o&&Ce(o,((e,t)=>{EA.PluginManager.urls[t]=e}))},init(e){const t=this;let n;const o=dn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),r=(e,t)=>e.inline&&t.tagName.toLowerCase()in o,s=e=>{let t=e.id;return t||(t=Te(e,"name").filter((e=>!MG.get(e))).getOrThunk(MG.uniqueId),e.setAttribute("id",t)),t},i=n=>{const o=e[n];if(o)return o.apply(t,[])},a=e=>en.browser.isIE()||en.browser.isEdge()?(tU("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):qG?(tU("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):v(e.selector)?MG.select(e.selector):k(e.target)?[e.target]:[];let A=e=>{n=e};const l=()=>{let n=0;const o=[];let c;const u=(e,r,s)=>{const i=new HG(e,r,t);o.push(i),i.on("init",(()=>{++n===c.length&&A(o)})),i.targetElm=i.targetElm||s,i.render()};MG.unbind(window,"ready",l),i("onpageload"),c=we(a(e)),dn.each(c,(e=>{GG(t.get(e.id))})),c=dn.grep(c,(e=>!t.get(e.id))),0===c.length?A([]):RG(c,(t=>{r(e,t)?tU("Could not initialize inline editor on invalid inline target element",t):u(s(t),e,t)}))};return MG.bind(window,"ready",l),new Promise((e=>{n?e(n):A=t=>{e(t)}}))},get(e){return 0===arguments.length?jG.slice(0):v(e)?ie(jG,(t=>t.id===e)).getOr(null):_(e)&&jG[e]?jG[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&jG.push(e),KG(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),PG||(PG=e=>{const n=t.dispatch("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",PG))),e},createEditor(e,t){return this.add(new HG(e,t,this))},remove(e){const t=this;let n,o;if(e){if(!v(e))return o=e,C(t.get(o.id))?null:(WG(o)&&t.dispatch("RemoveEditor",{editor:o}),0===jG.length&&window.removeEventListener("beforeunload",PG),o.remove(),KG(jG.length>0),o);RG(MG.select(e),(e=>{o=t.get(e.id),o&&t.remove(o)}))}else for(n=jG.length-1;n>=0;n--)t.remove(jG[n])},execCommand(e,t,n){var o;const r=this,s=w(n)?null!==(o=n.id)&&void 0!==o?o:n.index:n;switch(e){case"mceAddEditor":if(!r.get(s)){const e=n.options;new HG(s,e,r).render()}return!0;case"mceRemoveEditor":{const e=r.get(s);return e&&e.remove(),!0}case"mceToggleEditor":{const e=r.get(s);return e?(e.isHidden()?e.show():e.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:()=>{RG(jG,(e=>{e.save()}))},addI18n:(e,t)=>{kA.add(e,t)},translate:e=>kA.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new ck(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ck(this.baseURL)}};ZG.setup();const XG=()=>{const e=OA(),t=e=>({items:e,types:ye(e),getType:t=>Te(e,t).getOrUndefined()}),n=t=>{e.set(t)},o=()=>e.get().getOrUndefined(),r=e.clear;return{FakeClipboardItem:t,write:n,read:o,clear:r}},JG=XG(),YG=Math.min,$G=Math.max,eq=Math.round,tq=(e,t,n)=>{let o=t.x,r=t.y;const s=e.w,i=e.h,a=t.w,A=t.h,l=(n||"").split("");return"b"===l[0]&&(r+=A),"r"===l[1]&&(o+=a),"c"===l[0]&&(r+=eq(A/2)),"c"===l[1]&&(o+=eq(a/2)),"b"===l[3]&&(r-=i),"r"===l[4]&&(o-=s),"c"===l[3]&&(r-=eq(i/2)),"c"===l[4]&&(o-=eq(s/2)),iq(o,r,s,i)},nq=(e,t,n,o)=>{let r,s;for(s=0;s<o.length;s++)if(r=tq(e,t,o[s]),r.x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return o[s];return null},oq=(e,t,n)=>iq(e.x-t,e.y-n,e.w+2*t,e.h+2*n),rq=(e,t)=>{const n=$G(e.x,t.x),o=$G(e.y,t.y),r=YG(e.x+e.w,t.x+t.w),s=YG(e.y+e.h,t.y+t.h);return r-n<0||s-o<0?null:iq(n,o,r-n,s-o)},sq=(e,t,n)=>{let o=e.x,r=e.y,s=e.x+e.w,i=e.y+e.h;const a=t.x+t.w,A=t.y+t.h,l=$G(0,t.x-o),c=$G(0,t.y-r),u=$G(0,s-a),d=$G(0,i-A);return o+=l,r+=c,n&&(s+=l,i+=c,o-=u,r-=d),s-=u,i-=d,iq(o,r,s-o,i-r)},iq=(e,t,n,o)=>({x:e,y:t,w:n,h:o}),aq=e=>iq(e.left,e.top,e.width,e.height),Aq={inflate:oq,relativePosition:tq,findBestRelativePosition:nq,intersect:rq,clamp:sq,create:iq,fromClientRect:aq},lq=(e,t,n=1e3)=>{let o=!1,r=null;const s=e=>(...t)=>{o||(o=!0,null!==r&&(clearTimeout(r),r=null),e.apply(null,t))},i=s(e),a=s(t),A=(...e)=>{o||null!==r||(r=setTimeout((()=>a.apply(null,e)),n))};return{start:A,resolve:i,reject:a}},cq=()=>{const e={},t={},n=(n,o)=>{const r=`Script at URL "${o}" failed to load`,s=`Script at URL "${o}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(void 0!==e[n])return e[n];{const i=new Promise(((e,i)=>{const a=lq(e,i);t[n]=a.resolve,mA.ScriptLoader.loadScript(o).then((()=>a.start(s)),(()=>a.reject(r)))}));return e[n]=i,i}},o=(n,o)=>{void 0!==t[n]&&(t[n](o),delete t[n]),e[n]=Promise.resolve(o)},r=t=>{delete e[t]};return{load:n,add:o,unload:r}},uq=cq(),dq=()=>(()=>{let e={},t=[];const n={getItem:t=>{const n=e[t];return n||null},setItem:(n,o)=>{t.push(n),e[n]=String(o)},key:e=>t[e],removeItem:n=>{t=t.filter((e=>e===n)),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let mq;try{const e="__storage_test__";mq=window.localStorage,mq.setItem(e,e),mq.removeItem(e)}catch(vq){mq=dq()}var hq=mq;const gq={geom:{Rect:Aq},util:{Delay:Tb,Tools:dn,VK:Cp,URI:ck,EventDispatcher:rG,Observable:iG,I18n:kA,LocalStorage:hq,ImageUploader:vU},dom:{EventUtils:Ja,TreeWalker:vs,TextSeeker:rl,DOMUtils:aA,ScriptLoader:mA,RangeUtils:Tf,Serializer:oO,StyleSheetLoader:ps,ControlSelection:Op,BookmarkManager:Jg,Selection:z_,Event:Ja.Event},html:{Styles:Ia,Entities:Ca,Node:Uv,Schema:Da,DomParser:Bk,Writer:zv,Serializer:Kv},Env:en,AddOnManager:EA,Annotator:Xg,Formatter:NU,UndoManager:HU,EditorCommands:HW,WindowManager:jO,NotificationManager:MO,EditorObservable:mG,Shortcuts:TG,Editor:HG,FocusManager:_b,EditorManager:ZG,DOM:aA.DOM,ScriptLoader:mA.ScriptLoader,PluginManager:RO,ThemeManager:PO,ModelManager:SO,IconManager:xO,Resource:uq,FakeClipboard:JG,trim:dn.trim,isArray:dn.isArray,is:dn.is,toArray:dn.toArray,makeMap:dn.makeMap,each:dn.each,map:dn.map,grep:dn.grep,inArray:dn.inArray,extend:dn.extend,walk:dn.walk,resolve:dn.resolve,explode:dn.explode,_addCacheSuffix:dn._addCacheSuffix},pq=dn.extend(ZG,gq),fq=t=>{try{e.exports=t}catch(n){}},bq=e=>{window.tinymce=e,window.tinyMCE=e};bq(pq),fq(pq)})()},6262:function(e,t){"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n}},6790:function(e,t,n){"use strict";n.r(t);var o=n(4692),r=n.n(o),s=n(4213),i=n.n(s);"undefined"!==typeof r()&&"undefined"!==typeof i()?function(e){e.fn.wordExport=function(){var t={mhtml:{body:"<!DOCTYPE html><html><head><meta charset='UTF-8'></head>_body_</html>"}},n={maxWidth:749},o=e(this).clone();o.each((function(){var t=e(this);t.is(":hidden")&&t.remove()}));for(var r=Array(),s=o.find("img"),i=0;i<s.length;i++){var a=Math.min(s[i].width,n.maxWidth),A=s[i].height*(a/s[i].width),l=document.createElement("CANVAS");l.width=a,l.height=A;var c=l.getContext("2d");c.drawImage(s[i],0,0,a,A);var u=l.toDataURL("image/png");console.log(u),e(s[i]).attr("src",u),s[i].width=a,s[i].height=A,r[i]={type:u.substring(u.indexOf(":")+1,u.indexOf(";")),encoding:u.substring(u.indexOf(";")+1,u.indexOf(",")),location:e(s[i]).attr("src"),data:u.substring(u.indexOf(",")+1)}}var d=t.mhtml.body.replace("_body_",o.html()),m=new Blob([d],{type:"application/msword;charset=utf-8"});return m}}(r()):("undefined"===typeof r()&&console.error("jQuery Word Export: missing dependency (jQuery)"),"undefined"===typeof i()&&console.error("jQuery Word Export: missing dependency (FileSaver.js)"))},9274:function(t){"use strict";t.exports=e},2284:function(e,t,n){"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}n.d(t,{A:function(){return o}})}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}};return t[e].call(s.exports,s,s.exports,o),s.exports}o.m=t,function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var s=Object.create(null);o.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){i[e]=function(){return n[e]}}));return i["default"]=function(){return n},o.d(s,i),s}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))}}(),function(){o.u=function(e){return"index.umd.min."+e+".js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="index:";o.l=function(n,r,s,i){if(e[n])e[n].push(r);else{var a,A;if(void 0!==s)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){a=u;break}}a||(A=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",t+s),a.src=n),e[n]=[r];var d=function(t,o){a.onerror=a.onload=null,clearTimeout(m);var r=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((function(e){return e(o)})),t)return t(o)},m=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),A&&document.head.appendChild(a)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p=""}(),function(){var e={775:0};o.f.j=function(t,n){var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise((function(n,o){r=e[t]=[n,o]}));n.push(r[2]=s);var i=o.p+o.u(t),a=new Error,A=function(n){if(o.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",a.name="ChunkLoadError",a.type=s,a.request=i,r[1](a)}};o.l(i,A,"chunk-"+t,t)}};var t=function(t,n){var r,s,i=n[0],a=n[1],A=n[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(A)A(o)}for(t&&t(n);l<i.length;l++)s=i[l],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=("undefined"!==typeof self?self:this)["webpackChunkindex"]=("undefined"!==typeof self?self:this)["webpackChunkindex"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var r={};return function(){"use strict";if(o.r(r),o.d(r,{default:function(){return ro}}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(o.p=t[1])}var n=o(9274);const s={style:{height:"calc(100%)"}};function i(e,t,o,r,i,a){const A=(0,n.resolveComponent)("editor");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[((0,n.openBlock)(),(0,n.createBlock)(A,{id:"tinymce",modelValue:i.articleContent,"onUpdate:modelValue":t[0]||(t[0]=e=>i.articleContent=e),init:i.editorInit,key:i.tinymceFlag},null,8,["modelValue","init"]))])}var a=o(5199),A=o.n(a),l=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],c=function(e){return-1!==l.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},u=function(e,t,n){Object.keys(t).filter(c).forEach((function(o){var r=t[o];"function"===typeof r&&("onInit"===o?r(e,n):n.on(o.substring(2),(function(e){return r(e,n)})))}))},d=function(e,t,o,r){var s=e.modelEvents?e.modelEvents:null,i=Array.isArray(s)?s.join(" "):s;(0,n.watch)(r,(function(t,n){o&&"string"===typeof t&&t!==n&&t!==o.getContent({format:e.outputFormat})&&o.setContent(t)})),o.on(i||"change input undo redo",(function(){t.emit("update:modelValue",o.getContent({format:e.outputFormat}))}))},m=function(e,t,n,o,r,s){o.setContent(s()),n.attrs["onUpdate:modelValue"]&&d(t,n,o,r),u(e,n.attrs,o)},h=0,g=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return h++,e+"_"+n+h+String(t)},p=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},f=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},b=function(e,t){return f(e).concat(f(t))},v=function(e){return null===e||void 0===e},w=function(){return{listeners:[],scriptId:g("tiny-script"),scriptLoaded:!1}},y=function(){var e=w(),t=function(e,t,n,o){var r=t.createElement("script");r.referrerPolicy="origin",r.type="application/javascript",r.id=e,r.src=n;var s=function(){r.removeEventListener("load",s),o()};r.addEventListener("load",s),t.head&&t.head.appendChild(r)},n=function(n,o,r){e.scriptLoaded?r():(e.listeners.push(r),n.getElementById(e.scriptId)||t(e.scriptId,n,o,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0})))},o=function(){e=w()};return{load:n,reinitialize:o}},B=y(),C=function(){return"undefined"!==typeof window?window:o.g},x=function(){var e=C();return e&&e.tinymce?e.tinymce:null},S={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},F=function(){return F=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},F.apply(this,arguments)},k=function(e,t,n,o){return e(o||"div",{id:t,ref:n})},E=function(e,t,n){return e("textarea",{id:t,visibility:"hidden",ref:n})},_=(0,n.defineComponent)({props:S,setup:function(e,t){var o=e.init?F({},e.init):{},r=(0,n.toRefs)(e),s=r.disabled,i=r.modelValue,a=r.tagName,A=(0,n.ref)(null),l=null,c=e.id||g("tiny-vue"),u=e.init&&e.init.inline||e.inline,d=!!t.attrs["onUpdate:modelValue"],h=!0,f=e.initialValue?e.initialValue:"",w="",y=function(e){return d?function(){return(null===i||void 0===i?void 0:i.value)?i.value:""}:function(){return e?f:w}},C=function(){var n=y(h),r=F(F({},o),{readonly:e.disabled,selector:"#"+c,plugins:b(o.plugins,e.plugins),toolbar:e.toolbar||o.toolbar,inline:u,setup:function(r){l=r,r.on("init",(function(o){return m(o,e,t,r,i,n)})),"function"===typeof o.setup&&o.setup(r)}});p(A.value)&&(A.value.style.visibility=""),x().init(r),h=!1};(0,n.watch)(s,(function(e){var t;null!==l&&("function"===typeof(null===(t=l.mode)||void 0===t?void 0:t.set)?l.mode.set(e?"readonly":"design"):l.setMode(e?"readonly":"design"))})),(0,n.watch)(a,(function(e){var t;d||(w=l.getContent()),null===(t=x())||void 0===t||t.remove(l),(0,n.nextTick)((function(){return C()}))})),(0,n.onMounted)((function(){if(null!==x())C();else if(A.value&&A.value.ownerDocument){var t=e.cloudChannel?e.cloudChannel:"6",n=e.apiKey?e.apiKey:"no-api-key",o=v(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+t+"/tinymce.min.js":e.tinymceScriptSrc;B.load(A.value.ownerDocument,o,C)}})),(0,n.onBeforeUnmount)((function(){null!==x()&&x().remove(l)})),u||((0,n.onActivated)((function(){h||C()})),(0,n.onDeactivated)((function(){var e;d||(w=l.getContent()),null===(e=x())||void 0===e||e.remove(l)})));var S=function(e){var t;w=l.getContent(),null===(t=x())||void 0===t||t.remove(l),o=F(F({},o),e),(0,n.nextTick)((function(){return C()}))};return t.expose({rerender:S}),function(){return u?k(n.h,c,A,e.tagName):E(n.h,c,A)}}}),O=_,U=o(4692),T=o.n(U),L=(o(2983),o(6075),o(7336),o(5791),o(378),o(3847),o(1694),o(5775),o(5081),o(9311),o(9638),o(7726),o(354)),N=o.n(L),Q=o(2284),D=Uint8Array,I=Uint16Array,H=Uint32Array,M=new D([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),R=new D([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),P=new D([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V=function(e,t){for(var n=new I(31),o=0;o<31;++o)n[o]=t+=1<<e[o-1];var r=new H(n[30]);for(o=1;o<30;++o)for(var s=n[o];s<n[o+1];++s)r[s]=s-n[o]<<5|o;return[n,r]},j=V(M,2),z=j[0],K=j[1];z[28]=258,K[258]=28;for(var W=V(R,0),G=W[0],q=W[1],Z=new I(32768),X=0;X<32768;++X){var J=(43690&X)>>>1|(21845&X)<<1;J=(52428&J)>>>2|(13107&J)<<2,J=(61680&J)>>>4|(3855&J)<<4,Z[X]=((65280&J)>>>8|(255&J)<<8)>>>1}var Y=function(e,t,n){for(var o=e.length,r=0,s=new I(t);r<o;++r)++s[e[r]-1];var i,a=new I(t);for(r=0;r<t;++r)a[r]=a[r-1]+s[r-1]<<1;if(n){i=new I(1<<t);var A=15-t;for(r=0;r<o;++r)if(e[r])for(var l=r<<4|e[r],c=t-e[r],u=a[e[r]-1]++<<c,d=u|(1<<c)-1;u<=d;++u)i[Z[u]>>>A]=l}else for(i=new I(o),r=0;r<o;++r)i[r]=Z[a[e[r]-1]++]>>>15-e[r];return i},$=new D(288);for(X=0;X<144;++X)$[X]=8;for(X=144;X<256;++X)$[X]=9;for(X=256;X<280;++X)$[X]=7;for(X=280;X<288;++X)$[X]=8;var ee=new D(32);for(X=0;X<32;++X)ee[X]=5;var te=Y($,9,0),ne=Y($,9,1),oe=Y(ee,5,0),re=Y(ee,5,1),se=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ie=function(e,t,n){var o=t/8|0;return(e[o]|e[o+1]<<8)>>>(7&t)&n},ae=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>>(7&t)},Ae=function(e){return(e/8|0)+(7&e&&1)},le=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var o=new(e instanceof I?I:e instanceof H?H:D)(n-t);return o.set(e.subarray(t,n)),o},ce=function(e,t,n){var o=e.length,r=!t||n,s=!n||n.i;n||(n={}),t||(t=new D(3*o));var i=function(e){var n=t.length;if(e>n){var o=new D(Math.max(2*n,e));o.set(t),t=o}},a=n.f||0,A=n.p||0,l=n.b||0,c=n.l,u=n.d,d=n.m,m=n.n,h=8*o;do{if(!c){n.f=a=ie(e,A,1);var g=ie(e,A+1,3);if(A+=3,!g){var p=Ae(A)+4,f=e[p-4]|e[p-3]<<8,b=p+f;if(b>o){if(s)throw"unexpected EOF";break}r&&i(l+f),t.set(e.subarray(p,b),l),n.b=l+=f,n.p=A=8*b;continue}if(1==g)c=ne,u=re,d=9,m=5;else{if(2!=g)throw"invalid block type";var v=ie(e,A,31)+257,w=ie(e,A+10,15)+4,y=v+ie(e,A+5,31)+1;A+=14;for(var B=new D(y),C=new D(19),x=0;x<w;++x)C[P[x]]=ie(e,A+3*x,7);A+=3*w;var S=se(C),F=(1<<S)-1;if(!s&&A+y*(S+7)>h)break;var k=Y(C,S,1);for(x=0;x<y;){var E=k[ie(e,A,F)];A+=15&E;p=E>>>4;if(p<16)B[x++]=p;else{var _=0,O=0;16==p?(O=3+ie(e,A,3),A+=2,_=B[x-1]):17==p?(O=3+ie(e,A,7),A+=3):18==p&&(O=11+ie(e,A,127),A+=7);while(O--)B[x++]=_}}var U=B.subarray(0,v),T=B.subarray(v);d=se(U),m=se(T),c=Y(U,d,1),u=Y(T,m,1)}if(A>h)throw"unexpected EOF"}r&&i(l+131072);var L=(1<<d)-1,N=(1<<m)-1,Q=d+m+18;while(s||A+Q<h){_=c[ae(e,A)&L];var I=_>>>4;if(A+=15&_,A>h)throw"unexpected EOF";if(!_)throw"invalid length/literal";if(I<256)t[l++]=I;else{if(256==I){c=null;break}var H=I-254;if(I>264){x=I-257;var V=M[x];H=ie(e,A,(1<<V)-1)+z[x],A+=V}var j=u[ae(e,A)&N],K=j>>>4;if(!j)throw"invalid distance";A+=15&j;T=G[K];if(K>3){V=R[K];T+=ae(e,A)&(1<<V)-1,A+=V}if(A>h)throw"unexpected EOF";r&&i(l+131072);for(var W=l+H;l<W;l+=4)t[l]=t[l-T],t[l+1]=t[l+1-T],t[l+2]=t[l+2-T],t[l+3]=t[l+3-T];l=W}}n.l=c,n.p=A,n.b=l,c&&(a=1,n.m=d,n.d=u,n.n=m)}while(!a);return l==t.length?t:le(t,0,l)},ue=function(e,t,n){n<<=7&t;var o=t/8|0;e[o]|=n,e[o+1]|=n>>>8},de=function(e,t,n){n<<=7&t;var o=t/8|0;e[o]|=n,e[o+1]|=n>>>8,e[o+2]|=n>>>16},me=function(e,t){for(var n=[],o=0;o<e.length;++o)e[o]&&n.push({s:o,f:e[o]});var r=n.length,s=n.slice();if(!r)return[new D(0),0];if(1==r){var i=new D(n[0].s+1);return i[n[0].s]=1,[i,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],A=n[1],l=0,c=1,u=2;n[0]={s:-1,f:a.f+A.f,l:a,r:A};while(c!=r-1)a=n[n[l].f<n[u].f?l++:u++],A=n[l!=c&&n[l].f<n[u].f?l++:u++],n[c++]={s:-1,f:a.f+A.f,l:a,r:A};var d=s[0].s;for(o=1;o<r;++o)s[o].s>d&&(d=s[o].s);var m=new I(d+1),h=he(n[c-1],m,0);if(h>t){o=0;var g=0,p=h-t,f=1<<p;for(s.sort((function(e,t){return m[t.s]-m[e.s]||e.f-t.f}));o<r;++o){var b=s[o].s;if(!(m[b]>t))break;g+=f-(1<<h-m[b]),m[b]=t}g>>>=p;while(g>0){var v=s[o].s;m[v]<t?g-=1<<t-m[v]++-1:++o}for(;o>=0&&g;--o){var w=s[o].s;m[w]==t&&(--m[w],++g)}h=t}return[new D(m),h]},he=function(e,t,n){return-1==e.s?Math.max(he(e.l,t,n+1),he(e.r,t,n+1)):t[e.s]=n},ge=function(e){var t=e.length;while(t&&!e[--t]);for(var n=new I(++t),o=0,r=e[0],s=1,i=function(e){n[o++]=e},a=1;a<=t;++a)if(e[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(r),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}while(s--)i(r);s=1,r=e[a]}return[n.subarray(0,o),t]},pe=function(e,t){for(var n=0,o=0;o<t.length;++o)n+=e[o]*t[o];return n},fe=function(e,t,n){var o=n.length,r=Ae(t+2);e[r]=255&o,e[r+1]=o>>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var s=0;s<o;++s)e[r+s+4]=n[s];return 8*(r+4+o)},be=function(e,t,n,o,r,s,i,a,A,l,c){ue(t,c++,n),++r[256];for(var u=me(r,15),d=u[0],m=u[1],h=me(s,15),g=h[0],p=h[1],f=ge(d),b=f[0],v=f[1],w=ge(g),y=w[0],B=w[1],C=new I(19),x=0;x<b.length;++x)C[31&b[x]]++;for(x=0;x<y.length;++x)C[31&y[x]]++;for(var S=me(C,7),F=S[0],k=S[1],E=19;E>4&&!F[P[E-1]];--E);var _,O,U,T,L=l+5<<3,N=pe(r,$)+pe(s,ee)+i,Q=pe(r,d)+pe(s,g)+i+14+3*E+pe(C,F)+(2*C[16]+3*C[17]+7*C[18]);if(L<=N&&L<=Q)return fe(t,c,e.subarray(A,A+l));if(ue(t,c,1+(Q<N)),c+=2,Q<N){_=Y(d,m,0),O=d,U=Y(g,p,0),T=g;var D=Y(F,k,0);ue(t,c,v-257),ue(t,c+5,B-1),ue(t,c+10,E-4),c+=14;for(x=0;x<E;++x)ue(t,c+3*x,F[P[x]]);c+=3*E;for(var H=[b,y],V=0;V<2;++V){var j=H[V];for(x=0;x<j.length;++x){var z=31&j[x];ue(t,c,D[z]),c+=F[z],z>15&&(ue(t,c,j[x]>>>5&127),c+=j[x]>>>12)}}}else _=te,O=$,U=oe,T=ee;for(x=0;x<a;++x)if(o[x]>255){z=o[x]>>>18&31;de(t,c,_[z+257]),c+=O[z+257],z>7&&(ue(t,c,o[x]>>>23&31),c+=M[z]);var K=31&o[x];de(t,c,U[K]),c+=T[K],K>3&&(de(t,c,o[x]>>>5&8191),c+=R[K])}else de(t,c,_[o[x]]),c+=O[o[x]];return de(t,c,_[256]),c+O[256]},ve=new H([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),we=new D(0),ye=function(e,t,n,o,r,s){var i=e.length,a=new D(o+i+5*(1+Math.floor(i/7e3))+r),A=a.subarray(o,a.length-r),l=0;if(!t||i<8)for(var c=0;c<=i;c+=65535){var u=c+65535;u<i?l=fe(A,l,e.subarray(c,u)):(A[c]=s,l=fe(A,l,e.subarray(c,i)))}else{for(var d=ve[t-1],m=d>>>13,h=8191&d,g=(1<<n)-1,p=new I(32768),f=new I(g+1),b=Math.ceil(n/3),v=2*b,w=function(t){return(e[t]^e[t+1]<<b^e[t+2]<<v)&g},y=new H(25e3),B=new I(288),C=new I(32),x=0,S=0,F=(c=0,0),k=0,E=0;c<i;++c){var _=w(c),O=32767&c,U=f[_];if(p[O]=U,f[_]=O,k<=c){var T=i-c;if((x>7e3||F>24576)&&T>423){l=be(e,A,0,y,B,C,S,F,E,c-E,l),F=x=S=0,E=c;for(var L=0;L<286;++L)B[L]=0;for(L=0;L<30;++L)C[L]=0}var N=2,Q=0,P=h,V=O-U&32767;if(T>2&&_==w(c-V)){var j=Math.min(m,T)-1,z=Math.min(32767,c),W=Math.min(258,T);while(V<=z&&--P&&O!=U){if(e[c+N]==e[c+N-V]){for(var G=0;G<W&&e[c+G]==e[c+G-V];++G);if(G>N){if(N=G,Q=V,G>j)break;var Z=Math.min(V,G-2),X=0;for(L=0;L<Z;++L){var J=c-V+L+32768&32767,Y=p[J],$=J-Y+32768&32767;$>X&&(X=$,U=J)}}}O=U,U=p[O],V+=O-U+32768&32767}}if(Q){y[F++]=268435456|K[N]<<18|q[Q];var ee=31&K[N],te=31&q[Q];S+=M[ee]+R[te],++B[257+ee],++C[te],k=c+N,++x}else y[F++]=e[c],++B[e[c]]}}l=be(e,A,s,y,B,C,S,F,E,c-E,l),s||(l=fe(A,l,we))}return le(a,0,o+Ae(l)+r)},Be=function(){var e=1,t=0;return{p:function(n){for(var o=e,r=t,s=n.length,i=0;i!=s;){for(var a=Math.min(i+5552,s);i<a;++i)o+=n[i],r+=o;o%=65521,r%=65521}e=o,t=r},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+2*((255&e)<<23)}}},Ce=function(e,t,n,o,r){return ye(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,o,!r)},xe=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Se=function(e,t){var n=t.level,o=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=o<<6|(o?32-2*o:1)},Fe=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function ke(e,t){void 0===t&&(t={});var n=Be();n.p(e);var o=Ce(e,t,2,4);return Se(o,t),xe(o,o.length-4,n.d()),o}function Ee(e,t){return ce((Fe(e),e.subarray(2,-4)),t)}
/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */
var _e=function(){return"undefined"!=typeof window?window:"undefined"!=typeof o.g?o.g:"undefined"!=typeof self?self:this}();function Oe(){_e.console&&"function"==typeof _e.console.log&&_e.console.log.apply(_e.console,arguments)}var Ue={log:Oe,warn:function(e){_e.console&&("function"==typeof _e.console.warn?_e.console.warn.apply(_e.console,arguments):Oe.call(null,arguments))},error:function(e){_e.console&&("function"==typeof _e.console.error?_e.console.error.apply(_e.console,arguments):Oe(e))}};function Te(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){Ie(o.response,t,n)},o.onerror=function(){Ue.error("could not download file")},o.send()}function Le(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function Ne(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Qe,De,Ie=_e.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,Q.A)(window))||window!==_e?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var o=_e.URL||_e.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener","string"==typeof e?(r.href=e,r.origin!==location.origin?Le(r.href)?Te(e,t,n):Ne(r,r.target="_blank"):Ne(r)):(r.href=o.createObjectURL(e),setTimeout((function(){o.revokeObjectURL(r.href)}),4e4),setTimeout((function(){Ne(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(Le(e))Te(e,t,n);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){Ne(o)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,Q.A)(t)&&(Ue.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return Te(e,t,n);var r="application/octet-stream"===e.type,s=/constructor/i.test(_e.HTMLElement)||_e.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||r&&s)&&"object"===("undefined"==typeof FileReader?"undefined":(0,Q.A)(FileReader))){var a=new FileReader;a.onloadend=function(){var e=a.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},a.readAsDataURL(e)}else{var A=_e.URL||_e.webkitURL,l=A.createObjectURL(e);o?o.location=l:location.href=l,o=null,setTimeout((function(){A.revokeObjectURL(l)}),4e4)}});
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function He(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],o=0;o<n.length;o++){var r=n[o].re,s=n[o].process,i=r.exec(e);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n
/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */}}function Me(e,t){var n=e[0],o=e[1],r=e[2],s=e[3];n=Pe(n,o,r,s,t[0],7,-680876936),s=Pe(s,n,o,r,t[1],12,-389564586),r=Pe(r,s,n,o,t[2],17,606105819),o=Pe(o,r,s,n,t[3],22,-1044525330),n=Pe(n,o,r,s,t[4],7,-176418897),s=Pe(s,n,o,r,t[5],12,1200080426),r=Pe(r,s,n,o,t[6],17,-1473231341),o=Pe(o,r,s,n,t[7],22,-45705983),n=Pe(n,o,r,s,t[8],7,1770035416),s=Pe(s,n,o,r,t[9],12,-1958414417),r=Pe(r,s,n,o,t[10],17,-42063),o=Pe(o,r,s,n,t[11],22,-1990404162),n=Pe(n,o,r,s,t[12],7,1804603682),s=Pe(s,n,o,r,t[13],12,-40341101),r=Pe(r,s,n,o,t[14],17,-1502002290),n=Ve(n,o=Pe(o,r,s,n,t[15],22,1236535329),r,s,t[1],5,-165796510),s=Ve(s,n,o,r,t[6],9,-1069501632),r=Ve(r,s,n,o,t[11],14,643717713),o=Ve(o,r,s,n,t[0],20,-373897302),n=Ve(n,o,r,s,t[5],5,-701558691),s=Ve(s,n,o,r,t[10],9,38016083),r=Ve(r,s,n,o,t[15],14,-660478335),o=Ve(o,r,s,n,t[4],20,-405537848),n=Ve(n,o,r,s,t[9],5,568446438),s=Ve(s,n,o,r,t[14],9,-1019803690),r=Ve(r,s,n,o,t[3],14,-187363961),o=Ve(o,r,s,n,t[8],20,1163531501),n=Ve(n,o,r,s,t[13],5,-1444681467),s=Ve(s,n,o,r,t[2],9,-51403784),r=Ve(r,s,n,o,t[7],14,1735328473),n=je(n,o=Ve(o,r,s,n,t[12],20,-1926607734),r,s,t[5],4,-378558),s=je(s,n,o,r,t[8],11,-2022574463),r=je(r,s,n,o,t[11],16,1839030562),o=je(o,r,s,n,t[14],23,-35309556),n=je(n,o,r,s,t[1],4,-1530992060),s=je(s,n,o,r,t[4],11,1272893353),r=je(r,s,n,o,t[7],16,-155497632),o=je(o,r,s,n,t[10],23,-1094730640),n=je(n,o,r,s,t[13],4,681279174),s=je(s,n,o,r,t[0],11,-358537222),r=je(r,s,n,o,t[3],16,-722521979),o=je(o,r,s,n,t[6],23,76029189),n=je(n,o,r,s,t[9],4,-640364487),s=je(s,n,o,r,t[12],11,-421815835),r=je(r,s,n,o,t[15],16,530742520),n=ze(n,o=je(o,r,s,n,t[2],23,-995338651),r,s,t[0],6,-198630844),s=ze(s,n,o,r,t[7],10,1126891415),r=ze(r,s,n,o,t[14],15,-1416354905),o=ze(o,r,s,n,t[5],21,-57434055),n=ze(n,o,r,s,t[12],6,1700485571),s=ze(s,n,o,r,t[3],10,-1894986606),r=ze(r,s,n,o,t[10],15,-1051523),o=ze(o,r,s,n,t[1],21,-2054922799),n=ze(n,o,r,s,t[8],6,1873313359),s=ze(s,n,o,r,t[15],10,-30611744),r=ze(r,s,n,o,t[6],15,-1560198380),o=ze(o,r,s,n,t[13],21,1309151649),n=ze(n,o,r,s,t[4],6,-145523070),s=ze(s,n,o,r,t[11],10,-1120210379),r=ze(r,s,n,o,t[2],15,718787259),o=ze(o,r,s,n,t[9],21,-343485551),e[0]=Ye(n,e[0]),e[1]=Ye(o,e[1]),e[2]=Ye(r,e[2]),e[3]=Ye(s,e[3])}function Re(e,t,n,o,r,s){return t=Ye(Ye(t,e),Ye(o,s)),Ye(t<<r|t>>>32-r,n)}function Pe(e,t,n,o,r,s,i){return Re(t&n|~t&o,e,t,r,s,i)}function Ve(e,t,n,o,r,s,i){return Re(t&o|n&~o,e,t,r,s,i)}function je(e,t,n,o,r,s,i){return Re(t^n^o,e,t,r,s,i)}function ze(e,t,n,o,r,s,i){return Re(n^(t|~o),e,t,r,s,i)}function Ke(e){var t,n=e.length,o=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Me(o,We(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(Me(o,r),t=0;t<16;t++)r[t]=0;return r[14]=8*n,Me(o,r),o}function We(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Qe=_e.atob.bind(_e),De=_e.btoa.bind(_e);var Ge="0123456789abcdef".split("");function qe(e){for(var t="",n=0;n<4;n++)t+=Ge[e>>8*n+4&15]+Ge[e>>8*n&15];return t}function Ze(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Xe(e){return Ke(e).map(Ze).join("")}var Je="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=qe(e[t]);return e.join("")}(Ke("hello"));function Ye(e,t){if(Je){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}
/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $e(e,t){var n,o,r,s;if(e!==n){for(var i=(r=e,s=1+(256/e.length|0),new Array(s+1).join(r)),a=[],A=0;A<256;A++)a[A]=A;var l=0;for(A=0;A<256;A++){var c=a[A];l=(l+c+i.charCodeAt(A))%256,a[A]=a[l],a[l]=c}n=e,o=a}else a=o;var u=t.length,d=0,m=0,h="";for(A=0;A<u;A++)m=(m+(c=a[d=(d+1)%256]))%256,a[d]=a[m],a[m]=c,i=a[(a[d]+a[m])%256],h+=String.fromCharCode(t.charCodeAt(A)^i);return h}
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var et={print:4,modify:8,copy:16,"annot-forms":32};function tt(e,t,n,o){this.v=1,this.r=2;var r=192;e.forEach((function(e){if(void 0!==et.perm)throw new Error("Invalid permission: "+e);r+=et[e]})),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),i=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^r)),this.encryptionKey=Xe(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=$e(this.encryptionKey,this.padding)}function nt(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,o=0;o<n;o++){var r=e.charCodeAt(o);t+=r<33||35===r||37===r||40===r||41===r||47===r||60===r||62===r||91===r||93===r||123===r||125===r||r>126?"#"+("0"+r.toString(16)).slice(-2):e[o]}return t}function ot(e){if("object"!==(0,Q.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,o){if(o=o||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof o)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var r=Math.random().toString(35);return t[e][r]=[n,!!o],r},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var o=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[n]){var i=t[n][s];try{i[0].apply(e,o)}catch(n){_e.console&&Ue.error("jsPDF PubSub Error",n.message,n)}i[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function rt(e){if(!(this instanceof rt))return new rt(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function st(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function it(e,t,n,o,r){if(!(this instanceof it))return new it(e,t,n,o,r);this.type="axial"===e?2:3,this.coords=t,this.colors=n,st.call(this,o,r)}function at(e,t,n,o,r){if(!(this instanceof at))return new at(e,t,n,o,r);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,st.call(this,o,r)}function At(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",o=arguments[1],r=arguments[2],s=arguments[3],i=[],a=1,A=16,l="S",c=null;"object"===(0,Q.A)(e=e||{})&&(n=e.orientation,o=e.unit||o,r=e.format||r,s=e.compress||e.compressPdf||s,null!==(c=e.encryption||null)&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(A=e.floatPrecision),l=e.defaultPathOperation||"S"),i=e.filters||(!0===s?["FlateEncode"]:i),o=o||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,d={},m={internal:{},__private__:{}};m.__private__.PubSub=ot;var h="1.3",g=m.__private__.getPdfVersion=function(){return h};m.__private__.setPdfVersion=function(e){h=e};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return p};var f=m.__private__.getPageFormat=function(e){return p[e]};r=r||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},v=b.COMPAT;function w(){this.saveGraphicsState(),$(new Qe(he,0,0,-he,0,Rn()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),l="n",v=b.ADVANCED}function y(){this.restoreGraphicsState(),l="S",v=b.COMPAT}var B=m.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};m.advancedAPI=function(e){var t=v===b.COMPAT;return t&&w.call(this),"function"!=typeof e||(e(this),t&&y.call(this)),this},m.compatAPI=function(e){var t=v===b.ADVANCED;return t&&y.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},m.isAdvancedAPI=function(){return v===b.ADVANCED};var C,x=function(e){if(v!==b.ADVANCED)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=m.roundToPrecision=m.__private__.roundToPrecision=function(e,n){var o=t||n;if(isNaN(e)||isNaN(o))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(o).replace(/0+$/,"")};C=m.hpf=m.__private__.hpf="number"==typeof A?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,A)}:"smart"===A?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,16)};var F=m.f2=m.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return S(e,2)},k=m.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return S(e,3)},E=m.scale=m.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return v===b.COMPAT?e*he:v===b.ADVANCED?e:void 0},_=function(e){return v===b.COMPAT?Rn()-e:v===b.ADVANCED?e:void 0},O=function(e){return E(_(e))};m.__private__.setPrecision=m.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var U,T="00000000000000000000000000000000",L=m.__private__.getFileId=function(){return T},N=m.__private__.setFileId=function(e){return T=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():T.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==c&&(Gt=new tt(c.userPermissions,c.userPassword,c.ownerPassword,T)),T};m.setFileId=function(e){return N(e),this},m.getFileId=function(){return L()};var D=m.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",o=Math.floor(Math.abs(t/60)),r=Math.abs(t%60),s=[n,P(o),"'",P(r),"'"].join("");return["D:",e.getFullYear(),P(e.getMonth()+1),P(e.getDate()),P(e.getHours()),P(e.getMinutes()),P(e.getSeconds()),s].join("")},I=m.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,o=parseInt(e.substr(8,2),10),r=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),i=parseInt(e.substr(14,2),10);return new Date(t,n,o,r,s,i,0)},H=m.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=D(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return U=t},M=m.__private__.getCreationDate=function(e){var t=U;return"jsDate"===e&&(t=I(U)),t};m.setCreationDate=function(e){return H(e),this},m.getCreationDate=function(e){return M(e)};var R,P=m.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},V=m.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},j=0,z=[],K=[],W=0,G=[],q=[],Z=!1,X=K,J=function(){j=0,W=0,K=[],z=[],G=[],We=je(),Ge=je()};m.__private__.setCustomOutputDestination=function(e){Z=!0,X=e};var Y=function(e){Z||(X=e)};m.__private__.resetCustomOutputDestination=function(){Z=!1,X=K};var $=m.__private__.out=function(e){return e=e.toString(),W+=e.length+1,X.push(e),X},ee=m.__private__.write=function(e){return $(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},te=m.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),o=new Uint8Array(n);t--;)o[t]=e.charCodeAt(t);return n},ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ne};var oe=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(e){return oe=v===b.ADVANCED?e/he:e,this};var re,se=m.__private__.getFontSize=m.getFontSize=function(){return v===b.COMPAT?oe:oe*he},ie=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(e){return ie=e,this},m.__private__.getR2L=m.getR2L=function(){return ie};var ae,Ae=m.__private__.setZoomMode=function(e){var t=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))re=e;else if(isNaN(e)){if(-1===t.indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');re=e}else re=parseInt(e,10)};m.__private__.getZoomMode=function(){return re};var le,ce=m.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ae=e};m.__private__.getPageMode=function(){return ae};var ue=m.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');le=e};m.__private__.getLayoutMode=function(){return le},m.__private__.setDisplayMode=m.setDisplayMode=function(e,t,n){return Ae(e),ue(t),ce(n),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(e){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[e]},m.__private__.getDocumentProperties=function(){return de},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(e){for(var t in de)de.hasOwnProperty(t)&&e[t]&&(de[t]=e[t]);return this},m.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[e]=t};var me,he,ge,pe,fe,be={},ve={},we=[],ye={},Be={},Ce={},xe={},Se=null,Fe=0,ke=[],Ee=new ot(m),Oe=e.hotfixes||[],Te={},Le={},Ne=[],Qe=function e(t,n,o,r,s,i){if(!(this instanceof e))return new e(t,n,o,r,s,i);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(o)&&(o=0),isNaN(r)&&(r=1),isNaN(s)&&(s=0),isNaN(i)&&(i=0),this._matrix=[t,n,o,r,s,i]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Qe.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(e)},Qe.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,o=e.shx*this.sx+e.sy*this.shx,r=e.shx*this.shy+e.sy*this.sy,s=e.tx*this.sx+e.ty*this.shx+this.tx,i=e.tx*this.shy+e.ty*this.sy+this.ty;return new Qe(t,n,o,r,s,i)},Qe.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,o=this.sy,r=this.tx,s=this.ty,i=Math.sqrt(e*e+t*t),a=(e/=i)*n+(t/=i)*o;n-=e*a,o-=t*a;var A=Math.sqrt(n*n+o*o);return a/=A,e*(o/=A)<t*(n/=A)&&(e=-e,t=-t,a=-a,i=-i),{scale:new Qe(i,0,0,A,0,0),translate:new Qe(1,0,0,1,r,s),rotate:new Qe(e,t,-t,e,0,0),skew:new Qe(1,0,a,1,0,0)}},Qe.prototype.toString=function(e){return this.join(" ")},Qe.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,o=this.sy,r=this.tx,s=this.ty,i=1/(e*o-t*n),a=o*i,A=-t*i,l=-n*i,c=e*i;return new Qe(a,A,l,c,-a*r-l*s,-A*r-c*s)},Qe.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new Tn(t,n)},Qe.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new Tn(e.x+e.w,e.y+e.h));return new Ln(t.x,t.y,n.x-t.x,n.y-t.y)},Qe.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,o=this.sy,r=this.tx,s=this.ty;return new Qe(e,t,n,o,r,s)},m.Matrix=Qe;var Me=m.matrixMult=function(e,t){return t.multiply(e)},Re=new Qe(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Re;var Pe=function(e,t){if(!Be[e]){var n=(t instanceof it?"Sh":"P")+(Object.keys(ye).length+1).toString(10);t.id=n,Be[e]=n,ye[n]=t,Ee.publish("addPattern",t)}};m.ShadingPattern=it,m.TilingPattern=at,m.addShadingPattern=function(e,t){return x("addShadingPattern()"),Pe(e,t),this},m.beginTilingPattern=function(e){x("beginTilingPattern()"),Qn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},m.endTilingPattern=function(e,t){x("endTilingPattern()"),t.stream=q[R].join("\n"),Pe(e,t),Ee.publish("endTilingPattern",t),Ne.pop().restore()};var Ve=m.__private__.newObject=function(){var e=je();return ze(e,!0),e},je=m.__private__.newObjectDeferred=function(){return j++,z[j]=function(){return W},j},ze=function(e,t){return t="boolean"==typeof t&&t,z[e]=W,t&&$(e+" 0 obj"),e},Ke=m.__private__.newAdditionalObject=function(){var e={objId:je(),content:""};return G.push(e),e},We=je(),Ge=je(),qe=m.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var o="#",r=0;r<3;r++)o+=("0"+Math.floor(255*parseFloat(t[r])).toString(16)).slice(-2);return o},Ze=m.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,o=e.ch2,r=e.ch3,s=e.ch4,i="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var a=new He(n);if(a.ok)n=a.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var A=parseInt(n.substr(1),16);n=A>>16&255,o=A>>8&255,r=255&A}if(void 0===o||void 0===s&&n===o&&o===r)if("string"==typeof n)t=n+" "+i[0];else switch(e.precision){case 2:t=F(n/255)+" "+i[0];break;case 3:default:t=k(n/255)+" "+i[0]}else if(void 0===s||"object"===(0,Q.A)(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",i[1]].join(" ");if("string"==typeof n)t=[n,o,r,i[1]].join(" ");else switch(e.precision){case 2:t=[F(n/255),F(o/255),F(r/255),i[1]].join(" ");break;default:case 3:t=[k(n/255),k(o/255),k(r/255),i[1]].join(" ")}}else if("string"==typeof n)t=[n,o,r,s,i[2]].join(" ");else switch(e.precision){case 2:t=[F(n),F(o),F(r),F(s),i[2]].join(" ");break;case 3:default:t=[k(n),k(o),k(r),k(s),i[2]].join(" ")}return t},Xe=m.__private__.getFilters=function(){return i},Je=m.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||Xe(),o=e.alreadyAppliedFilters||[],r=e.addLength1||!1,s=t.length,i=e.objectId,a=function(e){return e};if(null!==c&&void 0===i)throw new Error("ObjectId must be passed to putStream for file encryption");null!==c&&(a=Gt.encryptor(i,0));var A={};!0===n&&(n=["FlateEncode"]);var l=e.additionalKeyValues||[],u=(A=void 0!==At.API.processDataByFilters?At.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(o)?o.join(" "):o.toString());if(0!==A.data.length&&(l.push({key:"Length",value:A.data.length}),!0===r&&l.push({key:"Length1",value:s})),0!=u.length)if(u.split("/").length-1==1)l.push({key:"Filter",value:u});else{l.push({key:"Filter",value:"["+u+"]"});for(var d=0;d<l.length;d+=1)if("DecodeParms"===l[d].key){for(var m=[],h=0;h<A.reverseChain.split("/").length-1;h+=1)m.push("null");m.push(l[d].value),l[d].value="["+m.join(" ")+"]"}}$("<<");for(var g=0;g<l.length;g++)$("/"+l[g].key+" "+l[g].value);$(">>"),0!==A.data.length&&($("stream"),$(a(A.data)),$("endstream"))},Ye=m.__private__.putPage=function(e){var t=e.number,n=e.data,o=e.objId,r=e.contentsObjId;ze(o,!0),$("<</Type /Page"),$("/Parent "+e.rootDictionaryObjId+" 0 R"),$("/Resources "+e.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(C(e.mediaBox.bottomLeftX))+" "+parseFloat(C(e.mediaBox.bottomLeftY))+" "+C(e.mediaBox.topRightX)+" "+C(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&$("/CropBox ["+C(e.cropBox.bottomLeftX)+" "+C(e.cropBox.bottomLeftY)+" "+C(e.cropBox.topRightX)+" "+C(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&$("/BleedBox ["+C(e.bleedBox.bottomLeftX)+" "+C(e.bleedBox.bottomLeftY)+" "+C(e.bleedBox.topRightX)+" "+C(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&$("/TrimBox ["+C(e.trimBox.bottomLeftX)+" "+C(e.trimBox.bottomLeftY)+" "+C(e.trimBox.topRightX)+" "+C(e.trimBox.topRightY)+"]"),null!==e.artBox&&$("/ArtBox ["+C(e.artBox.bottomLeftX)+" "+C(e.artBox.bottomLeftY)+" "+C(e.artBox.topRightX)+" "+C(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&$("/UserUnit "+e.userUnit),Ee.publish("putPage",{objId:o,pageContext:ke[t],pageNumber:t,page:n}),$("/Contents "+r+" 0 R"),$(">>"),$("endobj");var s=n.join("\n");return v===b.ADVANCED&&(s+="\nQ"),ze(r,!0),Je({data:s,filters:Xe(),objectId:r}),$("endobj"),o},$e=m.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Fe;e++)ke[e].objId=je(),ke[e].contentsObjId=je();for(e=1;e<=Fe;e++)n.push(Ye({number:e,data:q[e],objId:ke[e].objId,contentsObjId:ke[e].contentsObjId,mediaBox:ke[e].mediaBox,cropBox:ke[e].cropBox,bleedBox:ke[e].bleedBox,trimBox:ke[e].trimBox,artBox:ke[e].artBox,userUnit:ke[e].userUnit,rootDictionaryObjId:We,resourceDictionaryObjId:Ge}));ze(We,!0),$("<</Type /Pages");var o="/Kids [";for(t=0;t<Fe;t++)o+=n[t]+" 0 R ";$(o+"]"),$("/Count "+Fe),$(">>"),$("endobj"),Ee.publish("postPutPages")},et=function(e){Ee.publish("putFont",{font:e,out:$,newObject:Ve,putStream:Je}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ve(),$("<<"),$("/Type /Font"),$("/BaseFont /"+nt(e.postScriptName)),$("/Subtype /Type1"),"string"==typeof e.encoding&&$("/Encoding /"+e.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},st=function(){for(var e in be)be.hasOwnProperty(e)&&(!1===u||!0===u&&d.hasOwnProperty(e))&&et(be[e])},lt=function(e){e.objectNumber=Ve();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[C(e.x),C(e.y),C(e.x+e.width),C(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");Je({data:n,additionalKeyValues:t,objectId:e.objectNumber}),$("endobj")},ct=function(){for(var e in Te)Te.hasOwnProperty(e)&&lt(Te[e])},ut=function(e,t){var n,o=[],r=1/(t-1);for(n=0;n<1;n+=r)o.push(n);if(o.push(1),0!=e[0].offset){var s={offset:0,color:e[0].color};e.unshift(s)}if(1!=e[e.length-1].offset){var i={offset:1,color:e[e.length-1].color};e.push(i)}for(var a="",A=0,l=0;l<o.length;l++){for(n=o[l];n>e[A+1].offset;)A++;var c=e[A].offset,u=(n-c)/(e[A+1].offset-c),d=e[A].color,m=e[A+1].color;a+=V(Math.round((1-u)*d[0]+u*m[0]).toString(16))+V(Math.round((1-u)*d[1]+u*m[1]).toString(16))+V(Math.round((1-u)*d[2]+u*m[2]).toString(16))}return a.trim()},dt=function(e,t){t||(t=21);var n=Ve(),o=ut(e.colors,t),r=[];r.push({key:"FunctionType",value:"0"}),r.push({key:"Domain",value:"[0.0 1.0]"}),r.push({key:"Size",value:"["+t+"]"}),r.push({key:"BitsPerSample",value:"8"}),r.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),r.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Je({data:o,additionalKeyValues:r,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),$("endobj"),e.objectNumber=Ve(),$("<< /ShadingType "+e.type),$("/ColorSpace /DeviceRGB");var s="/Coords ["+C(parseFloat(e.coords[0]))+" "+C(parseFloat(e.coords[1]))+" ";2===e.type?s+=C(parseFloat(e.coords[2]))+" "+C(parseFloat(e.coords[3])):s+=C(parseFloat(e.coords[2]))+" "+C(parseFloat(e.coords[3]))+" "+C(parseFloat(e.coords[4]))+" "+C(parseFloat(e.coords[5])),$(s+="]"),e.matrix&&$("/Matrix ["+e.matrix.toString()+"]"),$("/Function "+n+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},mt=function(e,t){var n=je(),o=Ve();t.push({resourcesOid:n,objectOid:o}),e.objectNumber=o;var r=[];r.push({key:"Type",value:"/Pattern"}),r.push({key:"PatternType",value:"1"}),r.push({key:"PaintType",value:"1"}),r.push({key:"TilingType",value:"1"}),r.push({key:"BBox",value:"["+e.boundingBox.map(C).join(" ")+"]"}),r.push({key:"XStep",value:C(e.xStep)}),r.push({key:"YStep",value:C(e.yStep)}),r.push({key:"Resources",value:n+" 0 R"}),e.matrix&&r.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Je({data:e.stream,additionalKeyValues:r,objectId:e.objectNumber}),$("endobj")},ht=function(e){var t;for(t in ye)ye.hasOwnProperty(t)&&(ye[t]instanceof it?dt(ye[t]):ye[t]instanceof at&&mt(ye[t],e))},gt=function(e){for(var t in e.objectNumber=Ve(),$("<<"),e)switch(t){case"opacity":$("/ca "+F(e[t]));break;case"stroke-opacity":$("/CA "+F(e[t]))}$(">>"),$("endobj")},pt=function(){var e;for(e in Ce)Ce.hasOwnProperty(e)&&gt(Ce[e])},ft=function(){for(var e in $("/XObject <<"),Te)Te.hasOwnProperty(e)&&Te[e].objectNumber>=0&&$("/"+e+" "+Te[e].objectNumber+" 0 R");Ee.publish("putXobjectDict"),$(">>")},bt=function(){Gt.oid=Ve(),$("<<"),$("/Filter /Standard"),$("/V "+Gt.v),$("/R "+Gt.r),$("/U <"+Gt.toHexString(Gt.U)+">"),$("/O <"+Gt.toHexString(Gt.O)+">"),$("/P "+Gt.P),$(">>"),$("endobj")},vt=function(){for(var e in $("/Font <<"),be)be.hasOwnProperty(e)&&(!1===u||!0===u&&d.hasOwnProperty(e))&&$("/"+e+" "+be[e].objectNumber+" 0 R");$(">>")},wt=function(){if(Object.keys(ye).length>0){for(var e in $("/Shading <<"),ye)ye.hasOwnProperty(e)&&ye[e]instanceof it&&ye[e].objectNumber>=0&&$("/"+e+" "+ye[e].objectNumber+" 0 R");Ee.publish("putShadingPatternDict"),$(">>")}},yt=function(e){if(Object.keys(ye).length>0){for(var t in $("/Pattern <<"),ye)ye.hasOwnProperty(t)&&ye[t]instanceof m.TilingPattern&&ye[t].objectNumber>=0&&ye[t].objectNumber<e&&$("/"+t+" "+ye[t].objectNumber+" 0 R");Ee.publish("putTilingPatternDict"),$(">>")}},Bt=function(){if(Object.keys(Ce).length>0){var e;for(e in $("/ExtGState <<"),Ce)Ce.hasOwnProperty(e)&&Ce[e].objectNumber>=0&&$("/"+e+" "+Ce[e].objectNumber+" 0 R");Ee.publish("putGStateDict"),$(">>")}},Ct=function(e){ze(e.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),vt(),wt(),yt(e.objectOid),Bt(),ft(),$(">>"),$("endobj")},xt=function(){var e=[];st(),pt(),ct(),ht(e),Ee.publish("putResources"),e.forEach(Ct),Ct({resourcesOid:Ge,objectOid:Number.MAX_SAFE_INTEGER}),Ee.publish("postPutResources")},St=function(){Ee.publish("putAdditionalObjects");for(var e=0;e<G.length;e++){var t=G[e];ze(t.objId,!0),$(t.content),$("endobj")}Ee.publish("postPutAdditionalObjects")},Ft=function(e){ve[e.fontName]=ve[e.fontName]||{},ve[e.fontName][e.fontStyle]=e.id},kt=function(e,t,n,o,r){var s={id:"F"+(Object.keys(be).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:o,isStandardFont:r||!1,metadata:{}};return Ee.publish("addFont",{font:s,instance:this}),be[s.id]=s,Ft(s),s.id},Et=function(e){for(var t=0,n=ne.length;t<n;t++){var o=kt.call(this,e[t][0],e[t][1],e[t][2],ne[t][3],!0);!1===u&&(d[o]=!0);var r=e[t][0].split("-");Ft({id:o,fontName:r[0],fontStyle:r[1]||""})}Ee.publish("addFonts",{fonts:be,dictionary:ve})},_t=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(e){var t=e.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var n="Error in function "+t.split("\n")[0].split("<")[0]+": "+e.message;if(!_e.console)throw new Error(n);_e.console.error(n,e),_e.alert&&alert(n)}},e.foo.bar=e,e.foo},Ot=function(e,t){var n,o,r,s,i,a,A,l,c;if(r=(t=t||{}).sourceEncoding||"Unicode",i=t.outputEncoding,(t.autoencode||i)&&be[me].metadata&&be[me].metadata[r]&&be[me].metadata[r].encoding&&(s=be[me].metadata[r].encoding,!i&&be[me].encoding&&(i=be[me].encoding),!i&&s.codePages&&(i=s.codePages[0]),"string"==typeof i&&(i=s[i]),i)){for(A=!1,a=[],n=0,o=e.length;n<o;n++)(l=i[e.charCodeAt(n)])?a.push(String.fromCharCode(l)):a.push(e[n]),a[n].charCodeAt(0)>>8&&(A=!0);e=a.join("")}for(n=e.length;void 0===A&&0!==n;)e.charCodeAt(n-1)>>8&&(A=!0),n--;if(!A)return e;for(a=t.noBOM?[]:[254,255],n=0,o=e.length;n<o;n++){if((c=(l=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(c),a.push(l-(c<<8))}return String.fromCharCode.apply(void 0,a)},Ut=m.__private__.pdfEscape=m.pdfEscape=function(e,t){return Ot(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tt=m.__private__.beginPage=function(e){q[++Fe]=[],ke[Fe]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},Qt(Fe),Y(q[R])},Lt=function(e,t){var o,s,i;switch(n=t||n,"string"==typeof e&&(o=f(e.toLowerCase()),Array.isArray(o)&&(s=o[0],i=o[1])),Array.isArray(e)&&(s=e[0]*he,i=e[1]*he),isNaN(s)&&(s=r[0],i=r[1]),(s>14400||i>14400)&&(Ue.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),i=Math.min(14400,i)),r=[s,i],n.substr(0,1)){case"l":i>s&&(r=[i,s]);break;case"p":s>i&&(r=[i,s])}Tt(r),gn(mn),$(Cn),0!==_n&&$(_n+" J"),0!==On&&$(On+" j"),Ee.publish("addPage",{pageNumber:Fe})},Nt=function(e){e>0&&e<=Fe&&(q.splice(e,1),ke.splice(e,1),Fe--,R>Fe&&(R=Fe),this.setPage(R))},Qt=function(e){e>0&&e<=Fe&&(R=e)},Dt=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return q.length-1},It=function(e,t,n){var o,r=void 0;return n=n||{},e=void 0!==e?e:be[me].fontName,t=void 0!==t?t:be[me].fontStyle,o=e.toLowerCase(),void 0!==ve[o]&&void 0!==ve[o][t]?r=ve[o][t]:void 0!==ve[e]&&void 0!==ve[e][t]?r=ve[e][t]:!1===n.disableWarning&&Ue.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),r||n.noFallback||null==(r=ve.times[t])&&(r=ve.times.normal),r},Ht=m.__private__.putInfo=function(){var e=Ve(),t=function(e){return e};for(var n in null!==c&&(t=Gt.encryptor(e,0)),$("<<"),$("/Producer ("+Ut(t("jsPDF "+At.version))+")"),de)de.hasOwnProperty(n)&&de[n]&&$("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+Ut(t(de[n]))+")");$("/CreationDate ("+Ut(t(U))+")"),$(">>"),$("endobj")},Mt=m.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||We;switch(Ve(),$("<<"),$("/Type /Catalog"),$("/Pages "+t+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+re;"%"===n.substr(n.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&$("/OpenAction [3 0 R /XYZ null null "+F(re)+"]")}switch(le||(le="continuous"),le){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}ae&&$("/PageMode /"+ae),Ee.publish("putCatalog"),$(">>"),$("endobj")},Rt=m.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(j+1)),$("/Root "+j+" 0 R"),$("/Info "+(j-1)+" 0 R"),null!==c&&$("/Encrypt "+Gt.oid+" 0 R"),$("/ID [ <"+T+"> <"+T+"> ]"),$(">>")},Pt=m.__private__.putHeader=function(){$("%PDF-"+h),$("%ºß¬à")},Vt=m.__private__.putXRef=function(){var e="0000000000";$("xref"),$("0 "+(j+1)),$("0000000000 65535 f ");for(var t=1;t<=j;t++)"function"==typeof z[t]?$((e+z[t]()).slice(-10)+" 00000 n "):void 0!==z[t]?$((e+z[t]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},jt=m.__private__.buildDocument=function(){J(),Y(K),Ee.publish("buildDocument"),Pt(),$e(),St(),xt(),null!==c&&bt(),Ht(),Mt();var e=W;return Vt(),Rt(),$("startxref"),$(""+e),$("%%EOF"),Y(q[R]),K.join("\n")},zt=m.__private__.getBlob=function(e){return new Blob([te(e)],{type:"application/pdf"})},Kt=m.output=m.__private__.output=_t((function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return jt();case"save":m.save(t.filename);break;case"arraybuffer":return te(jt());case"blob":return zt(jt());case"bloburi":case"bloburl":if(void 0!==_e.URL&&"function"==typeof _e.URL.createObjectURL)return _e.URL&&_e.URL.createObjectURL(zt(jt()))||void 0;Ue.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",o=jt();try{n=De(o)}catch(e){n=De(unescape(encodeURIComponent(o)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(_e)){var r="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(r=t.pdfObjectUrl,s="");var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+r+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",a=_e.open();return null!==a&&a.document.write(i),a}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(_e)){var A='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',l=_e.open();if(null!==l){l.document.write(A);var c=this;l.document.documentElement.querySelector("#pdfViewer").onload=function(){l.document.title=t.filename,l.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(c.output("bloburl"))}}return l}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(_e))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',d=_e.open();if(null!==d&&(d.document.write(u),d.document.title=t.filename),d||"undefined"==typeof safari)return d;break;case"datauri":case"dataurl":return _e.document.location.href=this.output("datauristring",t);default:return null}})),Wt=function(e){return!0===Array.isArray(Oe)&&Oe.indexOf(e)>-1};switch(o){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==Wt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof o)throw new Error("Invalid unit: "+o);he=o}var Gt=null;H(),N();var qt=function(e){return null!==c?Gt.encryptor(e,0):function(e){return e}},Zt=m.__private__.getPageInfo=m.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ke[e].objId,pageNumber:e,pageContext:ke[e]}},Xt=m.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in ke)if(ke[t].objId===e)break;return Zt(t)},Jt=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ke[R].objId,pageNumber:R,pageContext:ke[R]}};m.addPage=function(){return Lt.apply(this,arguments),this},m.setPage=function(){return Qt.apply(this,arguments),Y.call(this,q[R]),this},m.insertPage=function(e){return this.addPage(),this.movePage(R,e),this},m.movePage=function(e,t){var n,o;if(e>t){n=q[e],o=ke[e];for(var r=e;r>t;r--)q[r]=q[r-1],ke[r]=ke[r-1];q[t]=n,ke[t]=o,this.setPage(t)}else if(e<t){n=q[e],o=ke[e];for(var s=e;s<t;s++)q[s]=q[s+1],ke[s]=ke[s+1];q[t]=n,ke[t]=o,this.setPage(t)}return this},m.deletePage=function(){return Nt.apply(this,arguments),this},m.__private__.text=m.text=function(e,t,n,o,r){var s,i,a,A,l,c,u,m,h,g=(o=o||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var p=n;n=t,t=e,e=p}if(arguments[3]instanceof Qe==0?(a=arguments[4],A=arguments[5],"object"===(0,Q.A)(u=arguments[3])&&null!==u||("string"==typeof a&&(A=a,a=null),"string"==typeof u&&(A=u,u=null),"number"==typeof u&&(a=u,u=null),o={flags:u,angle:a,align:A})):(x("The transform parameter of text() with a Matrix value"),h=r),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return g;var f="",w=!1,y="number"==typeof o.lineHeightFactor?o.lineHeightFactor:dn,B=g.internal.scaleFactor;function S(e){return e=e.split("\t").join(Array(o.TabLen||9).join(" ")),Ut(e,u)}function F(e){for(var t,n=e.concat(),o=[],r=n.length;r--;)"string"==typeof(t=n.shift())?o.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?o.push(t[0]):o.push([t[0],t[1],t[2]]);return o}function k(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var o,r,s=e.concat(),i=[],a=s.length;a--;)"string"==typeof(o=s.shift())?i.push(t(o)[0]):Array.isArray(o)&&"string"==typeof o[0]&&(r=t(o[0],o[1],o[2]),i.push([r[0],r[1],r[2]]));n=i}return n}var _=!1,O=!0;if("string"==typeof e)_=!0;else if(Array.isArray(e)){var U=e.concat();i=[];for(var T,L=U.length;L--;)("string"!=typeof(T=U.shift())||Array.isArray(T)&&"string"!=typeof T[0])&&(O=!1);_=O}if(!1===_)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var N=oe/g.internal.scaleFactor,D=N*(y-1);switch(o.baseline){case"bottom":n-=D;break;case"top":n+=N-D;break;case"hanging":n+=N-2*D;break;case"middle":n+=N/2-D}if((c=o.maxWidth||0)>0&&("string"==typeof e?e=g.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(g.splitTextToSize(t,c))}),[]))),s={text:e,x:t,y:n,options:o,mutex:{pdfEscape:Ut,activeFontKey:me,fonts:be,activeFontSize:oe}},Ee.publish("preProcessText",s),e=s.text,a=(o=s.options).angle,h instanceof Qe==0&&a&&"number"==typeof a){a*=Math.PI/180,0===o.rotationDirection&&(a=-a),v===b.ADVANCED&&(a=-a);var I=Math.cos(a),H=Math.sin(a);h=new Qe(I,H,-H,I,0,0)}else a&&a instanceof Qe&&(h=a);v!==b.ADVANCED||h||(h=Re),void 0!==(l=o.charSpace||kn)&&(f+=C(E(l))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(m=o.horizontalScale)&&(f+=C(100*m)+" Tz\n"),o.lang;var M=-1,R=void 0!==o.renderingMode?o.renderingMode:o.stroke,P=g.internal.getCurrentPageInfo().pageContext;switch(R){case 0:case!1:case"fill":M=0;break;case 1:case!0:case"stroke":M=1;break;case 2:case"fillThenStroke":M=2;break;case 3:case"invisible":M=3;break;case 4:case"fillAndAddForClipping":M=4;break;case 5:case"strokeAndAddPathForClipping":M=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":M=6;break;case 7:case"addToPathForClipping":M=7}var V=void 0!==P.usedRenderingMode?P.usedRenderingMode:-1;-1!==M?f+=M+" Tr\n":-1!==V&&(f+="0 Tr\n"),-1!==M&&(P.usedRenderingMode=M),A=o.align||"left";var j,z=oe*y,K=g.internal.pageSize.getWidth(),W=be[me];l=o.charSpace||kn,c=o.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},o.flags);var G=[];if("[object Array]"===Object.prototype.toString.call(e)){var q;i=F(e),"left"!==A&&(j=i.map((function(e){return g.getStringUnitWidth(e,{font:W,charSpace:l,fontSize:oe,doKerning:!1})*oe/B})));var Z,X=0;if("right"===A){t-=j[0],e=[],L=i.length;for(var J=0;J<L;J++)0===J?(Z=vn(t),q=wn(n)):(Z=E(X-j[J]),q=-z),e.push([i[J],Z,q]),X=j[J]}else if("center"===A){t-=j[0]/2,e=[],L=i.length;for(var Y=0;Y<L;Y++)0===Y?(Z=vn(t),q=wn(n)):(Z=E((X-j[Y])/2),q=-z),e.push([i[Y],Z,q]),X=j[Y]}else if("left"===A){e=[],L=i.length;for(var ee=0;ee<L;ee++)e.push(i[ee])}else{if("justify"!==A)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');e=[],L=i.length,c=0!==c?c:K;for(var te=0;te<L;te++)q=0===te?wn(n):-z,Z=0===te?vn(t):0,te<L-1?G.push(C(E((c-j[te])/(i[te].split(" ").length-1)))):G.push(0),e.push([i[te],Z,q])}}var ne="boolean"==typeof o.R2L?o.R2L:ie;!0===ne&&(e=k(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),s={text:e,x:t,y:n,options:o,mutex:{pdfEscape:Ut,activeFontKey:me,fonts:be,activeFontSize:oe}},Ee.publish("postProcessText",s),e=s.text,w=s.mutex.isHex||!1;var re=be[me].encoding;"WinAnsiEncoding"!==re&&"StandardEncoding"!==re||(e=k(e,(function(e,t,n){return[S(e),t,n]}))),i=F(e),e=[];for(var se,ae,Ae,le=0,ce=1,ue=Array.isArray(i[0])?ce:le,de="",he=function(e,t,n){var r="";return n instanceof Qe?(n="number"==typeof o.angle?Me(n,new Qe(1,0,0,1,e,t)):Me(new Qe(1,0,0,1,e,t),n),v===b.ADVANCED&&(n=Me(new Qe(1,0,0,-1,0,0),n)),r=n.join(" ")+" Tm\n"):r=C(e)+" "+C(t)+" Td\n",r},ge=0;ge<i.length;ge++){switch(de="",ue){case ce:Ae=(w?"<":"(")+i[ge][0]+(w?">":")"),se=parseFloat(i[ge][1]),ae=parseFloat(i[ge][2]);break;case le:Ae=(w?"<":"(")+i[ge]+(w?">":")"),se=vn(t),ae=wn(n)}void 0!==G&&void 0!==G[ge]&&(de=G[ge]+" Tw\n"),0===ge?e.push(de+he(se,ae,h)+Ae):ue===le?e.push(de+Ae):ue===ce&&e.push(de+he(se,ae,h)+Ae)}e=ue===le?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var pe="BT\n/";return pe+=me+" "+oe+" Tf\n",pe+=C(oe*y)+" TL\n",pe+=Sn+"\n",pe+=f,pe+=e,$(pe+="ET"),d[me]=!0,g};var Yt=m.__private__.clip=m.clip=function(e){return $("evenodd"===e?"W*":"W"),this};m.clipEvenOdd=function(){return Yt("evenodd")},m.__private__.discardPath=m.discardPath=function(){return $("n"),this};var $t=m.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(e){return $t(e)&&(l=e),this};var en=m.__private__.getStyle=m.getStyle=function(e){var t=l;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},tn=m.close=function(){return $("h"),this};m.stroke=function(){return $("S"),this},m.fill=function(e){return nn("f",e),this},m.fillEvenOdd=function(e){return nn("f*",e),this},m.fillStroke=function(e){return nn("B",e),this},m.fillStrokeEvenOdd=function(e){return nn("B*",e),this};var nn=function(e,t){"object"===(0,Q.A)(t)?sn(t,e):$(e)},on=function(e){null===e||v===b.ADVANCED&&void 0===e||(e=en(e),$(e))};function rn(e,t,n,o,r){var s=new at(t||this.boundingBox,n||this.xStep,o||this.yStep,this.gState,r||this.matrix);s.stream=this.stream;var i=e+"$$"+this.cloneIndex+++"$$";return Pe(i,s),s}var sn=function(e,t){var n=Be[e.key],o=ye[n];if(o instanceof it)$("q"),$(an(t)),o.gState&&m.setGState(o.gState),$(e.matrix.toString()+" cm"),$("/"+n+" sh"),$("Q");else if(o instanceof at){var r=new Qe(1,0,0,-1,0,Rn());e.matrix&&(r=r.multiply(e.matrix||Re),n=rn.call(o,e.key,e.boundingBox,e.xStep,e.yStep,r).id),$("q"),$("/Pattern cs"),$("/"+n+" scn"),o.gState&&m.setGState(o.gState),$(t),$("Q")}},an=function(e){switch(e){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},An=m.moveTo=function(e,t){return $(C(E(e))+" "+C(O(t))+" m"),this},ln=m.lineTo=function(e,t){return $(C(E(e))+" "+C(O(t))+" l"),this},cn=m.curveTo=function(e,t,n,o,r,s){return $([C(E(e)),C(O(t)),C(E(n)),C(O(o)),C(E(r)),C(O(s)),"c"].join(" ")),this};m.__private__.line=m.line=function(e,t,n,o,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(o)||!$t(r))throw new Error("Invalid arguments passed to jsPDF.line");return v===b.COMPAT?this.lines([[n-e,o-t]],e,t,[1,1],r||"S"):this.lines([[n-e,o-t]],e,t,[1,1]).stroke()},m.__private__.lines=m.lines=function(e,t,n,o,r,s){var i,a,A,l,c,u,d,m,h,g,p,f;if("number"==typeof e&&(f=n,n=t,t=e,e=f),o=o||[1,1],s=s||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(o)||!$t(r)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(An(t,n),i=o[0],a=o[1],l=e.length,g=t,p=n,A=0;A<l;A++)2===(c=e[A]).length?(g=c[0]*i+g,p=c[1]*a+p,ln(g,p)):(u=c[0]*i+g,d=c[1]*a+p,m=c[2]*i+g,h=c[3]*a+p,g=c[4]*i+g,p=c[5]*a+p,cn(u,d,m,h,g,p));return s&&tn(),on(r),this},m.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=n.c;switch(n.op){case"m":An(o[0],o[1]);break;case"l":ln(o[0],o[1]);break;case"c":cn.apply(this,o);break;case"h":tn()}}return this},m.__private__.rect=m.rect=function(e,t,n,o,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(o)||!$t(r))throw new Error("Invalid arguments passed to jsPDF.rect");return v===b.COMPAT&&(o=-o),$([C(E(e)),C(O(t)),C(E(n)),C(E(o)),"re"].join(" ")),on(r),this},m.__private__.triangle=m.triangle=function(e,t,n,o,r,s,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(o)||isNaN(r)||isNaN(s)||!$t(i))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,o-t],[r-n,s-o],[e-r,t-s]],e,t,[1,1],i,!0),this},m.__private__.roundedRect=m.roundedRect=function(e,t,n,o,r,s,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(o)||isNaN(r)||isNaN(s)||!$t(i))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return r=Math.min(r,.5*n),s=Math.min(s,.5*o),this.lines([[n-2*r,0],[r*a,0,r,s-s*a,r,s],[0,o-2*s],[0,s*a,-r*a,s,-r,s],[2*r-n,0],[-r*a,0,-r,-s*a,-r,-s],[0,2*s-o],[0,-s*a,r*a,-s,r,-s]],e+r,t,[1,1],i,!0),this},m.__private__.ellipse=m.ellipse=function(e,t,n,o,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(o)||!$t(r))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,i=4/3*(Math.SQRT2-1)*o;return An(e+n,t),cn(e+n,t-i,e+s,t-o,e,t-o),cn(e-s,t-o,e-n,t-i,e-n,t),cn(e-n,t+i,e-s,t+o,e,t+o),cn(e+s,t+o,e+n,t+i,e+n,t),on(r),this},m.__private__.circle=m.circle=function(e,t,n,o){if(isNaN(e)||isNaN(t)||isNaN(n)||!$t(o))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,o)},m.setFont=function(e,t,n){return n&&(t=B(t,n)),me=It(e,t,{disableWarning:!1}),this};var un=m.__private__.getFont=m.getFont=function(){return be[It.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var e,t,n={};for(e in ve)if(ve.hasOwnProperty(e))for(t in n[e]=[],ve[e])ve[e].hasOwnProperty(t)&&n[e].push(t);return n},m.addFont=function(e,t,n,o,r){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?r=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=B(n,o)),r=r||"Identity-H",kt.call(this,e,t,n,r)};var dn,mn=e.lineWidth||.200025,hn=m.__private__.getLineWidth=m.getLineWidth=function(){return mn},gn=m.__private__.setLineWidth=m.setLineWidth=function(e){return mn=e,$(C(E(e))+" w"),this};m.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return C(E(e))})).join(" "),t=C(E(t)),$("["+e+"] "+t+" d"),this};var pn=m.__private__.getLineHeight=m.getLineHeight=function(){return oe*dn};m.__private__.getLineHeight=m.getLineHeight=function(){return oe*dn};var fn=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(dn=e),this},bn=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return dn};fn(e.lineHeight);var vn=m.__private__.getHorizontalCoordinate=function(e){return E(e)},wn=m.__private__.getVerticalCoordinate=function(e){return v===b.ADVANCED?e:ke[R].mediaBox.topRightY-ke[R].mediaBox.bottomLeftY-E(e)},yn=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(e){return C(vn(e))},Bn=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(e){return C(wn(e))},Cn=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return qe(Cn)},m.__private__.setStrokeColor=m.setDrawColor=function(e,t,n,o){return Cn=Ze({ch1:e,ch2:t,ch3:n,ch4:o,pdfColorType:"draw",precision:2}),$(Cn),this};var xn=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return qe(xn)},m.__private__.setFillColor=m.setFillColor=function(e,t,n,o){return xn=Ze({ch1:e,ch2:t,ch3:n,ch4:o,pdfColorType:"fill",precision:2}),$(xn),this};var Sn=e.textColor||"0 g",Fn=m.__private__.getTextColor=m.getTextColor=function(){return qe(Sn)};m.__private__.setTextColor=m.setTextColor=function(e,t,n,o){return Sn=Ze({ch1:e,ch2:t,ch3:n,ch4:o,pdfColorType:"text",precision:3}),this};var kn=e.charSpace,En=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(kn||0)};m.__private__.setCharSpace=m.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return kn=e,this};var _n=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(e){var t=m.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _n=t,$(t+" J"),this};var On=0;m.__private__.setLineJoin=m.setLineJoin=function(e){var t=m.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return On=t,$(t+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(C(E(e))+" M"),this},m.GState=rt,m.setGState=function(e){(e="string"==typeof e?Ce[xe[e]]:Un(null,e)).equals(Se)||($("/"+e.id+" gs"),Se=e)};var Un=function(e,t){if(!e||!xe[e]){var n=!1;for(var o in Ce)if(Ce.hasOwnProperty(o)&&Ce[o].equals(t)){n=!0;break}if(n)t=Ce[o];else{var r="GS"+(Object.keys(Ce).length+1).toString(10);Ce[r]=t,t.id=r}return e&&(xe[e]=t.id),Ee.publish("addGState",t),t}};m.addGState=function(e,t){return Un(e,t),this},m.saveGraphicsState=function(){return $("q"),we.push({key:me,size:oe,color:Sn}),this},m.restoreGraphicsState=function(){$("Q");var e=we.pop();return me=e.key,oe=e.size,Sn=e.color,Se=null,this},m.setCurrentTransformationMatrix=function(e){return $(e.toString()+" cm"),this},m.comment=function(e){return $("#"+e),this};var Tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var o=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}});var r="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return r},set:function(e){r=e.toString()}}),this},Ln=function(e,t,n,o){Tn.call(this,e,t),this.type="rect";var r=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var s=o||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}}),this},Nn=function(){this.page=Fe,this.currentPage=R,this.pages=q.slice(0),this.pagesContext=ke.slice(0),this.x=ge,this.y=pe,this.matrix=fe,this.width=Hn(R),this.height=Rn(R),this.outputDestination=X,this.id="",this.objectNumber=-1};Nn.prototype.restore=function(){Fe=this.page,R=this.currentPage,ke=this.pagesContext,q=this.pages,ge=this.x,pe=this.y,fe=this.matrix,Mn(R,this.width),Pn(R,this.height),X=this.outputDestination};var Qn=function(e,t,n,o,r){Ne.push(new Nn),Fe=R=0,q=[],ge=e,pe=t,fe=r,Tt([n,o])},Dn=function(e){if(Le[e])Ne.pop().restore();else{var t=new Nn,n="Xo"+(Object.keys(Te).length+1).toString(10);t.id=n,Le[e]=n,Te[n]=t,Ee.publish("addFormObject",t),Ne.pop().restore()}};for(var In in m.beginFormObject=function(e,t,n,o,r){return Qn(e,t,n,o,r),this},m.endFormObject=function(e){return Dn(e),this},m.doFormObject=function(e,t){var n=Te[Le[e]];return $("q"),$(t.toString()+" cm"),$("/"+n.id+" Do"),$("Q"),this},m.getFormObject=function(e){var t=Te[Le[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},m.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Ie(zt(jt()),e),"function"==typeof Ie.unload&&_e.setTimeout&&setTimeout(Ie.unload,911),this):new Promise((function(t,n){try{var o=Ie(zt(jt()),e);"function"==typeof Ie.unload&&_e.setTimeout&&setTimeout(Ie.unload,911),t(o)}catch(e){n(e.message)}}))},At.API)At.API.hasOwnProperty(In)&&("events"===In&&At.API.events.length?function(e,t){var n,o,r;for(r=t.length-1;-1!==r;r--)n=t[r][0],o=t[r][1],e.subscribe.apply(e,[n].concat("function"==typeof o?[o]:o))}(Ee,At.API.events):m[In]=At.API[In]);var Hn=m.getPageWidth=function(e){return(ke[e=e||R].mediaBox.topRightX-ke[e].mediaBox.bottomLeftX)/he},Mn=m.setPageWidth=function(e,t){ke[e].mediaBox.topRightX=t*he+ke[e].mediaBox.bottomLeftX},Rn=m.getPageHeight=function(e){return(ke[e=e||R].mediaBox.topRightY-ke[e].mediaBox.bottomLeftY)/he},Pn=m.setPageHeight=function(e,t){ke[e].mediaBox.topRightY=t*he+ke[e].mediaBox.bottomLeftY};return m.internal={pdfEscape:Ut,getStyle:en,getFont:un,getFontSize:se,getCharSpace:En,getTextColor:Fn,getLineHeight:pn,getLineHeightFactor:bn,getLineWidth:hn,write:ee,getHorizontalCoordinate:vn,getVerticalCoordinate:wn,getCoordinateString:yn,getVerticalCoordinateString:Bn,collections:{},newObject:Ve,newAdditionalObject:Ke,newObjectDeferred:je,newObjectDeferredBegin:ze,getFilters:Xe,putStream:Je,events:Ee,scaleFactor:he,pageSize:{getWidth:function(){return Hn(R)},setWidth:function(e){Mn(R,e)},getHeight:function(){return Rn(R)},setHeight:function(e){Pn(R,e)}},encryptionOptions:c,encryption:Gt,getEncryptor:qt,output:Kt,getNumberOfPages:Dt,pages:q,out:$,f2:F,f3:k,getPageInfo:Zt,getPageInfoByObjId:Xt,getCurrentPageInfo:Jt,getPDFVersion:g,Point:Tn,Rectangle:Ln,Matrix:Qe,hasHotfix:Wt},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Hn(R)},set:function(e){Mn(R,e)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Rn(R)},set:function(e){Pn(R,e)},enumerable:!0,configurable:!0}),Et.call(m,ne),me="F1",Lt(r,n),Ee.publish("initialized"),m}tt.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},tt.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},tt.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},tt.prototype.processOwnerPassword=function(e,t){return $e(Xe(t).substr(0,5),e)},tt.prototype.encryptor=function(e,t){var n=Xe(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return $e(n,e)}},rt.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,Q.A)(e)!==(0,Q.A)(this))return!1;var o=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;o++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&o--;return 0===o},At.API={events:[]},At.version="2.5.1";var lt=At.API,ct=1,ut=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dt=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mt=function(e){return e.toFixed(2)},ht=function(e){return e.toFixed(5)};lt.__acroform__={};var gt=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},pt=function(e){return e*ct},ft=function(e){var t=new Qt,n=Zt.internal.getHeight(e)||0,o=Zt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(mt(o)),Number(mt(n))],t},bt=lt.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},vt=lt.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},wt=lt.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},yt=lt.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wt(e,t-1)},Bt=lt.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return bt(e,t-1)},Ct=lt.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vt(e,t-1)},xt=lt.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,o=t.internal.getVerticalCoordinate,r=e[0],s=e[1],i=e[2],a=e[3],A={};return A.lowerLeft_X=n(r)||0,A.lowerLeft_Y=o(s+a)||0,A.upperRight_X=n(r+i)||0,A.upperRight_Y=o(s)||0,[Number(mt(A.lowerLeft_X)),Number(mt(A.lowerLeft_Y)),Number(mt(A.upperRight_X)),Number(mt(A.upperRight_Y))]},St=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,o=Ft(e,n),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+mt(o.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ft(e);return s.scope=e.scope,s.stream=t.join("\n"),s}},Ft=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,o={text:"",fontSize:""},r=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");r=e.multiline?r.map((function(e){return e.split("\n")})):r.map((function(e){return[e]}));var s=n,i=Zt.internal.getHeight(e)||0;i=i<0?-i:i;var a=Zt.internal.getWidth(e)||0;a=a<0?-a:a;var A=function(t,n,o){if(t+1<r.length){var s=n+" "+r[t+1][0];return kt(s,e,o).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var l,c,u=kt("3",e,s).height,d=e.multiline?i-s:(i-u)/2,m=d+=2,h=0,g=0,p=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+kt(t,e,s=12).width+", FieldWidth:"+a+"\n";break}for(var f="",b=0,v=0;v<r.length;v++)if(r.hasOwnProperty(v)){var w=!1;if(1!==r[v].length&&p!==r[v].length-1){if((u+2)*(b+2)+2>i)continue e;f+=r[v][p],w=!0,g=v,v--}else{f=" "==(f+=r[v][p]+" ").substr(f.length-1)?f.substr(0,f.length-1):f;var y=parseInt(v),B=A(y,f,s),C=v>=r.length-1;if(B&&!C){f+=" ",p=0;continue}if(B||C){if(C)g=y;else if(e.multiline&&(u+2)*(b+2)+2>i)continue e}else{if(!e.multiline)continue e;if((u+2)*(b+2)+2>i)continue e;g=y}}for(var x="",S=h;S<=g;S++){var F=r[S];if(e.multiline){if(S===g){x+=F[p]+" ",p=(p+1)%F.length;continue}if(S===h){x+=F[F.length-1]+" ";continue}}x+=F[0]+" "}switch(x=" "==x.substr(x.length-1)?x.substr(0,x.length-1):x,c=kt(x,e,s).width,e.textAlign){case"right":l=a-c-2;break;case"center":l=(a-c)/2;break;case"left":default:l=2}t+=mt(l)+" "+mt(m)+" Td\n",t+="("+ut(x)+") Tj\n",t+=-mt(l)+" 0 Td\n",m=-(s+2),c=0,h=w?g:g+1,b++,f=""}break}return o.text=t,o.fontSize=s,o},kt=function(e,t,n){var o=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(e,{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},Et={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_t=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===n.type&&e.object===n.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Ot=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var o=n,r=e[n];t.internal.newObjectDeferredBegin(r.objId,!0),"object"===(0,Q.A)(r)&&"function"==typeof r.putStream&&r.putStream(),delete e[o]}},Ut=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(It.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Et)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ct=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Dt,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){!function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}(e)})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];o.objId=void 0,o.hasAnnotation&&_t(o,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var n=!e;for(var o in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(o)){var r=e[o],s=[],i=r.Rect;if(r.Rect&&(r.Rect=xt(r.Rect,t)),t.internal.newObjectDeferredBegin(r.objId,!0),r.DA=Zt.createDefaultAppearanceStream(r),"object"===(0,Q.A)(r)&&"function"==typeof r.getKeyValueListForStream&&(s=r.getKeyValueListForStream()),r.Rect=i,r.hasAppearanceStream&&!r.appearanceStreamContent){var a=St(r);s.push({key:"AP",value:"<</N "+a+">>"}),t.internal.acroformPlugin.xForms.push(a)}if(r.appearanceStreamContent){var A="";for(var l in r.appearanceStreamContent)if(r.appearanceStreamContent.hasOwnProperty(l)){var c=r.appearanceStreamContent[l];if(A+="/"+l+" ",A+="<<",Object.keys(c).length>=1||Array.isArray(c)){for(var o in c)if(c.hasOwnProperty(o)){var u=c[o];"function"==typeof u&&(u=u.call(t,r)),A+="/"+o+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=c)&&(u=u.call(t,r)),A+="/"+o+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);A+=">>"}s.push({key:"AP",value:"<<\n"+A+">>"})}t.internal.putStream({additionalKeyValues:s,objectId:r.objId}),t.internal.out("endobj")}n&&Ot(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}},Tt=lt.__acroform__.arrayToPdfArray=function(e,t,n){var o=function(e){return e};if(Array.isArray(e)){for(var r="[",s=0;s<e.length;s++)switch(0!==s&&(r+=" "),(0,Q.A)(e[s])){case"boolean":case"number":case"object":r+=e[s].toString();break;case"string":"/"!==e[s].substr(0,1)?(void 0!==t&&n&&(o=n.internal.getEncryptor(t)),r+="("+ut(o(e[s].toString()))+")"):r+=e[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Lt=function(e,t,n){var o=function(e){return e};return void 0!==t&&n&&(o=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+ut(o(e))+")"},Nt=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nt.prototype.toString=function(){return this.objId+" 0 R"},Nt.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Nt.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var o=t[n],r=this[o];r&&(Array.isArray(r)?e.push({key:o,value:Tt(r,this.objId,this.scope)}):r instanceof Nt?(r.scope=this.scope,e.push({key:o,value:r.objId+" 0 R"})):"function"!=typeof r&&e.push({key:o,value:r}))}return e};var Qt=function(){Nt.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};gt(Qt,Nt);var Dt=function(){Nt.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ut(t(e))+")"}},set:function(t){e=t}})};gt(Dt,Nt);var It=function e(){Nt.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(t,3))},set:function(e){!0===Boolean(e)?this.F=Bt(t,3):this.F=Ct(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==o.length)return o},set:function(e){o=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(e){o[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(e){o[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(e){o[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(e){o[3]=e}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Kt)return;s="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ut(t(s))+")"},set:function(e){s=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(e){s=e}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(e){A=e}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===l?50/ct:l},set:function(e){l=e}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Kt||this instanceof Gt))return Lt(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Vt==0?Lt(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof Vt==0?"("===e.substr(0,1)?dt(e.substr(1,e.length-2)):dt(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vt==1?dt(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof Vt==1?"/"+e:e}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Vt==0?Lt(m,this.objId,this.scope):m},set:function(e){e=e.toString(),m=this instanceof Vt==0?"("===e.substr(0,1)?dt(e.substr(1,e.length-2)):dt(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vt==1?dt(m.substr(1,m.length-1)):m},set:function(e){e=e.toString(),m=this instanceof Vt==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var h,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(e){e=Boolean(e),g=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(h)return h},set:function(e){h=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,1):this.Ff=Ct(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,2):this.Ff=Ct(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,3):this.Ff=Ct(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==p)return p},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');p=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(p){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:p=2;break;case"center":case 1:p=1;break;case"left":case 0:default:p=0}}})};gt(It,Nt);var Ht=function(){It.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Tt(t,this.objId,this.scope)},set:function(e){var n,o;o=[],"string"==typeof(n=e)&&(o=function(e,t,n){n||(n=1);for(var o,r=[];o=t.exec(e);)r.push(o[n]);return r}(n,/\((.*?)\)/g)),t=o}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,18):this.Ff=Ct(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=Bt(this.Ff,19):this.Ff=Ct(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Bt(this.Ff,20),t.sort()):this.Ff=Ct(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,22):this.Ff=Ct(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,23):this.Ff=Ct(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,27):this.Ff=Ct(this.Ff,27)}}),this.hasAppearanceStream=!1};gt(Ht,It);var Mt=function(){Ht.call(this),this.fontName="helvetica",this.combo=!1};gt(Mt,Ht);var Rt=function(){Mt.call(this),this.combo=!0};gt(Rt,Mt);var Pt=function(){Rt.call(this),this.edit=!0};gt(Pt,Rt);var Vt=function(){It.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,15):this.Ff=Ct(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,16):this.Ff=Ct(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,17):this.Ff=Ct(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,26):this.Ff=Ct(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,o=[];for(n in o.push("<<"),t)o.push("/"+n+" ("+ut(e(t[n]))+")");return o.push(">>"),o.join("\n")}},set:function(e){"object"===(0,Q.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};gt(Vt,It);var jt=function(){Vt.call(this),this.pushButton=!0};gt(jt,Vt);var zt=function(){Vt.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};gt(zt,Vt);var Kt=function(){var e,t;It.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),o)n.push("/"+t+" ("+ut(e(o[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,Q.A)(e)&&(o=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(e){"string"==typeof e&&(o.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};gt(Kt,It),zt.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},zt.prototype.createOption=function(e){var t=new Kt;return t.Parent=this,t.optionName=e,this.Kids.push(t),Xt.call(this.scope,t),t};var Wt=function(){Vt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Zt.CheckBox.createAppearanceStream()};gt(Wt,Vt);var Gt=function(){It.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,13):this.Ff=Ct(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,21):this.Ff=Ct(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,23):this.Ff=Ct(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,24):this.Ff=Ct(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,25):this.Ff=Ct(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,26):this.Ff=Ct(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};gt(Gt,It);var qt=function(){Gt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(yt(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=Bt(this.Ff,14):this.Ff=Ct(this.Ff,14)}}),this.password=!0};gt(qt,Gt);var Zt={CheckBox:{createAppearanceStream:function(){return{N:{On:Zt.CheckBox.YesNormal},D:{On:Zt.CheckBox.YesPushDown,Off:Zt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ft(e);t.scope=e.scope;var n=[],o=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=Ft(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+mt(Zt.internal.getWidth(e))+" "+mt(Zt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+o+" "+mt(s.fontSize)+" Tf "+r),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=ft(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),r=[],s=Zt.internal.getHeight(e),i=Zt.internal.getWidth(e),a=Ft(e,e.caption);return r.push("1 g"),r.push("0 0 "+mt(i)+" "+mt(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+mt(i-1)+" "+mt(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+mt(a.fontSize)+" Tf "+o),r.push(a.text),r.push("ET"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=ft(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mt(Zt.internal.getWidth(e))+" "+mt(Zt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Zt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Zt.RadioButton.Circle.YesNormal,t.D[e]=Zt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ft(e);t.scope=e.scope;var n=[],o=Zt.internal.getWidth(e)<=Zt.internal.getHeight(e)?Zt.internal.getWidth(e)/4:Zt.internal.getHeight(e)/4;o=Number((.9*o).toFixed(5));var r=Zt.internal.Bezier_C,s=Number((o*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ht(Zt.internal.getWidth(e)/2)+" "+ht(Zt.internal.getHeight(e)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),n.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),n.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),n.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=ft(e);t.scope=e.scope;var n=[],o=Zt.internal.getWidth(e)<=Zt.internal.getHeight(e)?Zt.internal.getWidth(e)/4:Zt.internal.getHeight(e)/4;o=Number((.9*o).toFixed(5));var r=Number((2*o).toFixed(5)),s=Number((r*Zt.internal.Bezier_C).toFixed(5)),i=Number((o*Zt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ht(Zt.internal.getWidth(e)/2)+" "+ht(Zt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ht(Zt.internal.getWidth(e)/2)+" "+ht(Zt.internal.getHeight(e)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+i+" "+i+" "+o+" 0 "+o+" c"),n.push("-"+i+" "+o+" -"+o+" "+i+" -"+o+" 0 c"),n.push("-"+o+" -"+i+" -"+i+" -"+o+" 0 -"+o+" c"),n.push(i+" -"+o+" "+o+" -"+i+" "+o+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=ft(e);t.scope=e.scope;var n=[],o=Zt.internal.getWidth(e)<=Zt.internal.getHeight(e)?Zt.internal.getWidth(e)/4:Zt.internal.getHeight(e)/4;o=Number((.9*o).toFixed(5));var r=Number((2*o).toFixed(5)),s=Number((r*Zt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ht(Zt.internal.getWidth(e)/2)+" "+ht(Zt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Zt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Zt.RadioButton.Cross.YesNormal,t.D[e]=Zt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ft(e);t.scope=e.scope;var n=[],o=Zt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+mt(Zt.internal.getWidth(e)-2)+" "+mt(Zt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(mt(o.x1.x)+" "+mt(o.x1.y)+" m"),n.push(mt(o.x2.x)+" "+mt(o.x2.y)+" l"),n.push(mt(o.x4.x)+" "+mt(o.x4.y)+" m"),n.push(mt(o.x3.x)+" "+mt(o.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=ft(e);t.scope=e.scope;var n=Zt.internal.calculateCross(e),o=[];return o.push("0.749023 g"),o.push("0 0 "+mt(Zt.internal.getWidth(e))+" "+mt(Zt.internal.getHeight(e))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+mt(Zt.internal.getWidth(e)-2)+" "+mt(Zt.internal.getHeight(e)-2)+" re"),o.push("W"),o.push("n"),o.push(mt(n.x1.x)+" "+mt(n.x1.y)+" m"),o.push(mt(n.x2.x)+" "+mt(n.x2.y)+" l"),o.push(mt(n.x4.x)+" "+mt(n.x4.y)+" m"),o.push(mt(n.x3.x)+" "+mt(n.x3.y)+" l"),o.push("s"),o.push("Q"),t.stream=o.join("\n"),t},OffPushDown:function(e){var t=ft(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mt(Zt.internal.getWidth(e))+" "+mt(Zt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Zt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Zt.internal.getWidth(e),n=Zt.internal.getHeight(e),o=Math.min(t,n);return{x1:{x:(t-o)/2,y:(n-o)/2+o},x2:{x:(t-o)/2+o,y:(n-o)/2},x3:{x:(t-o)/2,y:(n-o)/2},x4:{x:(t-o)/2+o,y:(n-o)/2+o}}}},Zt.internal.getWidth=function(e){var t=0;return"object"===(0,Q.A)(e)&&(t=pt(e.Rect[2])),t},Zt.internal.getHeight=function(e){var t=0;return"object"===(0,Q.A)(e)&&(t=pt(e.Rect[3])),t};var Xt=lt.addField=function(e){if(Ut(this,e),!(e instanceof It))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};lt.AcroFormChoiceField=Ht,lt.AcroFormListBox=Mt,lt.AcroFormComboBox=Rt,lt.AcroFormEditBox=Pt,lt.AcroFormButton=Vt,lt.AcroFormPushButton=jt,lt.AcroFormRadioButton=zt,lt.AcroFormCheckBox=Wt,lt.AcroFormTextField=Gt,lt.AcroFormPasswordField=qt,lt.AcroFormAppearance=Zt,lt.AcroForm={ChoiceField:Ht,ListBox:Mt,ComboBox:Rt,EditBox:Pt,Button:Vt,PushButton:jt,RadioButton:zt,CheckBox:Wt,TextField:Gt,PasswordField:qt,Appearance:Zt},At.AcroForm={ChoiceField:Ht,ListBox:Mt,ComboBox:Rt,EditBox:Pt,Button:Vt,PushButton:jt,RadioButton:zt,CheckBox:Wt,TextField:Gt,PasswordField:qt,Appearance:Zt};At.AcroForm;function Jt(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=e.__addimage__.getImageFileTypeByImageData=function(e,o){var r,s,i,a,A,l=t;if("RGBA"===(o=o||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(B(e))for(A in n)for(i=n[A],r=0;r<i.length;r+=1){for(a=!0,s=0;s<i[r].length;s+=1)if(void 0!==i[r][s]&&i[r][s]!==e[s]){a=!1;break}if(!0===a){l=A;break}}else for(A in n)for(i=n[A],r=0;r<i.length;r+=1){for(a=!0,s=0;s<i[r].length;s+=1)if(void 0!==i[r][s]&&i[r][s]!==e.charCodeAt(s)){a=!1;break}if(!0===a){l=A;break}}return l===t&&o!==t&&(l=o),l},r=function e(t){for(var n=this.internal.write,o=this.internal.putStream,r=(0,this.internal.getFilters)();-1!==r.indexOf("FlateEncode");)r.splice(r.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.width}),s.push({key:"Height",value:t.height}),t.colorSpace===p.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===p.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var i="",a=0,A=t.transparency.length;a<A;a++)i+=t.transparency[a]+" "+t.transparency[a]+" ";s.push({key:"Mask",value:"["+i+"]"})}void 0!==t.sMask&&s.push({key:"SMask",value:t.objectId+1+" 0 R"});var l=void 0!==t.filter?["/"+t.filter]:void 0;if(o({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:l,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var c="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:c,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===p.INDEXED){var d=this.internal.newObject();o({data:x(new Uint8Array(t.palette)),objectId:d}),n("endobj")}},s=function(){var e=this.internal.collections.addImage_images;for(var t in e)r.call(this,e[t])},i=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var o in t)n("/I"+(e=t[o]).index,e.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",i))},A=function(){var e=this.internal.collections.addImage_images;return a.call(this),e},l=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(t){return"function"==typeof e["process"+t.toUpperCase()]},u=function(e){return"object"===(0,Q.A)(e)&&1===e.nodeType},d=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var o=""+t.getAttribute("src");if(0===o.indexOf("data:image/"))return Qe(unescape(o).split("base64,").pop());var r=e.loadFile(o,!0);if(void 0!==r)return r}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;case"JPEG":case"JPG":default:s="image/jpeg"}return Qe(t.toDataURL(s,1).split("base64,").pop())}},m=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},h=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,o,r,s){var i=h.call(this,n,o,r),a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=A.call(this);if(n=i[0],o=i[1],c[r.index]=r,s){s*=Math.PI/180;var u=Math.cos(s),d=Math.sin(s),m=function(e){return e.toFixed(4)},g=[m(u),m(d),m(-1*d),m(u),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,a(e),l(t+o),"cm"].join(" ")),this.internal.write(g.join(" ")),this.internal.write([a(n),"0","0",a(o),"0","0","cm"].join(" "))):this.internal.write([a(n),"0","0",a(o),a(e),l(t+o),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+r.index+" Do"),this.internal.write("Q")},p=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var f=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,n,o=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)o=(o<<5)-o+e.charCodeAt(t),o|=0;else if(B(e))for(n=e.byteLength/2,t=0;t<n;t++)o=(o<<5)-o+e[t],o|=0;return o},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var o=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(o)&&(n={mimeType:o[1],charset:o[2],data:t[1]})}return n},y=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return y()&&e instanceof ArrayBuffer};var B=e.__addimage__.isArrayBufferView=function(e){return y()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},C=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),o=0;o<t;o++)n[o]=e.charCodeAt(o);return n},x=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=B(e)?e:new Uint8Array(e),o=0;o<n.length;o+=8192)t+=String.fromCharCode.apply(null,n.subarray(o,o+8192));return t};e.addImage=function(){var e,n,o,r,s,i,A,l,c;if("number"==typeof arguments[1]?(n=t,o=arguments[1],r=arguments[2],s=arguments[3],i=arguments[4],A=arguments[5],l=arguments[6],c=arguments[7]):(n=arguments[1],o=arguments[2],r=arguments[3],s=arguments[4],i=arguments[5],A=arguments[6],l=arguments[7],c=arguments[8]),"object"===(0,Q.A)(e=arguments[0])&&!u(e)&&"imageData"in e){var d=e;e=d.imageData,n=d.format||n||t,o=d.x||o||0,r=d.y||r||0,s=d.w||d.width||s,i=d.h||d.height||i,A=d.alias||A,l=d.compression||l,c=d.rotation||d.angle||c}var m=this.internal.getFilters();if(void 0===l&&-1!==m.indexOf("FlateEncode")&&(l="SLOW"),isNaN(o)||isNaN(r))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var h=S.call(this,e,n,A,l);return g.call(this,o,r,s,i,h,c),this};var S=function(n,r,s,i){var a,A,h;if("string"==typeof n&&o(n)===t){n=unescape(n);var g=F(n,!1);(""!==g||void 0!==(g=e.loadFile(n,!0)))&&(n=g)}if(u(n)&&(n=d(n,r)),r=o(n,r),!c(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(h=s)||0===h.length)&&(s=function(e){return"string"==typeof e||B(e)?b(e):B(e.data)?b(e.data):null}(n)),(a=m.call(this,s))||(y()&&(n instanceof Uint8Array||"RGBA"===r||(A=n,n=C(n))),a=this["process"+r.toUpperCase()](n,l.call(this),s,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:f.NONE}(i),A)),!a)throw new Error("An unknown error occurred whilst processing the image.");return a},F=e.__addimage__.convertBase64ToBinaryString=function(e,t){var n;t="boolean"!=typeof t||t;var o,r="";if("string"==typeof e){o=null!==(n=w(e))?n.data:e;try{r=Qe(o)}catch(e){if(t)throw v(o)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(n){var r,s,i="";if(u(n)&&(n=d(n)),"string"==typeof n&&o(n)===t&&(""===(i=F(n,!1))&&(i=e.loadFile(n)||""),n=i),s=o(n),!c(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(!y()||n instanceof Uint8Array||(n=C(n)),!(r=this["process"+s.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=s,r}}(At.API),
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};At.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,o,r,s=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),A=e.pageContext.annotations,l=!1,c=0;c<A.length&&!l;c++)switch((n=A[c]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(0!=l){this.internal.write("/Annots [");for(var u=0;u<A.length;u++){n=A[u];var d=this.internal.pdfEscape,m=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var h=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(h.objId),f=n.title||"Note";r="<</Type /Annot /Subtype /Text "+(o="/Rect ["+s(n.bounds.x)+" "+i(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+i(n.bounds.y)+"] ")+"/Contents ("+d(p(n.contents))+")",r+=" /Popup "+g.objId+" 0 R",r+=" /P "+a.objId+" 0 R",r+=" /T ("+d(p(f))+") >>",h.content=r;var b=h.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+s(n.bounds.x+30)+" "+i(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+i(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(r+=" /Open true"),r+=" >>",g.content=r,this.internal.write(h.objId,"0 R",g.objId,"0 R");break;case"freetext":o="/Rect ["+s(n.bounds.x)+" "+i(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+i(n.bounds.y+n.bounds.h)+"] ";var v=n.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+d(m(n.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(o="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",r="",n.options.url)r="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+d(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,r+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var y=i(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),r+=" /XYZ "+n.options.left+" "+y+" "+n.options.zoom+"]"}""!=r&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,o,r){var s=this.internal.getCurrentPageInfo(),i=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:i(e),y:a(t),w:i(e+n),h:a(t+o)},options:r,type:"link"})},e.textWithLink=function(e,t,n,o){var r,s,i=this.getTextWidth(e),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==o.maxWidth){s=o.maxWidth;var A=this.splitTextToSize(e,s).length;r=Math.ceil(a*A)}else s=i,r=a;return this.text(e,t,n,o),n+=.2*a,"center"===o.align&&(t-=i/2),"right"===o.align&&(t-=i),this.link(t,n-a,s,r,o),i},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(At.API),
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},i=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},a=e.__arabicParser__.isArabicEndLetter=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(e){return i(e)&&r.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=1};var l=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return i(e)&&s(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,o=n,r="",s=0;for(t=0;t<e.length;t+=1)void 0!==o[e.charCodeAt(t)]?(s++,"number"==typeof(o=o[e.charCodeAt(t)])&&(r+=String.fromCharCode(o),o=n,s=0),t===e.length-1&&(o=n,r+=e.charAt(t-(s-1)),t-=s-1,s=0)):(o=n,r+=e.charAt(t-s),t-=s,s=0);return r};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==o[e.charCodeAt(0)]};var d=e.__arabicParser__.getCorrectForm=function(e,t,n){return i(e)?!1===s(e)?-1:!l(e)||!i(t)&&!i(n)||!i(n)&&a(t)||a(e)&&!i(t)||a(e)&&A(t)||a(e)&&a(t)?0:c(e)&&i(t)&&!a(t)&&i(n)&&l(n)?3:a(e)||!i(n)?1:2:-1},m=function(e){var n=0,o=0,r=0,s="",a="",A="",l=(e=e||"").split("\\s+"),c=[];for(n=0;n<l.length;n+=1){for(c.push(""),o=0;o<l[n].length;o+=1)s=l[n][o],a=l[n][o-1],A=l[n][o+1],i(s)?(r=d(s,a,A),c[n]+=-1!==r?String.fromCharCode(t[s.charCodeAt(0)][r]):s):c[n]+=s;c[n]=u(c[n])}return c.join(" ")},h=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var o=0;for(n=[],o=0;o<t.length;o+=1)Array.isArray(t[o])?n.push([m(t[o][0]),t[o][1],t[o][2]]):n.push([m(t[o])]);e=n}else e=m(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",h])}(At.API),At.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(e){o=e}});var r={};Object.defineProperty(this,"style",{get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(At.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,o=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var o=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return o},set:function(e){o=e}});var r=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var i=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return i},set:function(e){i=e}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return o.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){o.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),r=t.font||this.getFont(),s=t.scaleFactor||this.internal.scaleFactor,i=0,a=0,A=0,l=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var c=t.maxWidth;c>0?"string"==typeof e?e=this.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(l.splitTextToSize(t,c))}),[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)i<(A=this.getStringUnitWidth(e[u],{font:r})*n)&&(i=A);return 0!==i&&(a=e.length),{w:i/=s,h:Math.max((a*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},e.cellAddPage=function(){o.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var e;e=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),o.call(this);var r=this.internal.__cell__.lastCell,i=this.internal.__cell__.padding,a=this.internal.__cell__.margins||t,A=this.internal.__cell__.tableHeaderRow,l=this.internal.__cell__.printHeaders;return void 0!==r.lineNumber&&(r.lineNumber===e.lineNumber?(e.x=(r.x||0)+(r.width||0),e.y=r.y||0):r.y+r.height+e.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=a.top,l&&A&&(this.printHeaderRow(e.lineNumber,!0),e.y+=A[0].height)):e.y=r.y+r.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-i,e.y+i,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+i,{align:"center",baseline:"top",maxWidth:e.width-i-i}):this.text(e.text,e.x+i,e.y+i,{align:"left",baseline:"top",maxWidth:e.width-i-i})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,A,l,c){if(o.call(this),!A)throw new Error("No data for PDF table.");var u,d,m,h,g=[],p=[],f=[],b={},v={},w=[],y=[],B=(c=c||{}).autoSize||!1,C=!1!==c.printHeaders,x=c.css&&void 0!==c.css["font-size"]?16*c.css["font-size"]:c.fontSize||12,S=c.margins||Object.assign({width:this.getPageWidth()},t),F="number"==typeof c.padding?c.padding:3,k=c.headerBackgroundColor||"#c8c8c8",E=c.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=x,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=E,this.setFontSize(x),null==l)p=g=Object.keys(A[0]),f=g.map((function(){return"left"}));else if(Array.isArray(l)&&"object"===(0,Q.A)(l[0]))for(g=l.map((function(e){return e.name})),p=l.map((function(e){return e.prompt||e.name||""})),f=l.map((function(e){return e.align||"left"})),u=0;u<l.length;u+=1)v[l[u].name]=l[u].width*(19.049976/25.4);else Array.isArray(l)&&"string"==typeof l[0]&&(p=g=l,f=g.map((function(){return"left"})));if(B||Array.isArray(l)&&"string"==typeof l[0])for(u=0;u<g.length;u+=1){for(b[h=g[u]]=A.map((function(e){return e[h]})),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(p[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=b[h],this.setFont(void 0,"normal"),m=0;m<d.length;m+=1)w.push(this.getTextDimensions(d[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[h]=Math.max.apply(null,w)+F+F,w=[]}if(C){var _={};for(u=0;u<g.length;u+=1)_[g[u]]={},_[g[u]].text=p[u],_[g[u]].align=f[u];var O=a.call(this,_,v);y=g.map((function(t){return new s(e,n,v[t],O,_[t].text,void 0,_[t].align)})),this.setTableHeaderRow(y),this.printHeaderRow(1,!1)}var U=l.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(u=0;u<A.length;u+=1){"rowStart"in c&&c.rowStart instanceof Function&&c.rowStart({row:u,data:A[u]},this);var T=a.call(this,A[u],v);for(m=0;m<g.length;m+=1){var L=A[u][g[m]];"cellStart"in c&&c.cellStart instanceof Function&&c.cellStart({row:u,col:m,data:L},this),i.call(this,new s(e,n,v[g[m]],T,L,u+2,U[g[m]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var a=function(e,t){var n=this.internal.__cell__.padding,o=this.internal.__cell__.table_font_size,r=this.internal.scaleFactor;return Object.keys(e).map((function(o){var r=e[o];return this.splitTextToSize(r.hasOwnProperty("text")?r.text:r,t[o]-n-n)}),this).map((function(e){return this.getLineHeightFactor()*e.length*o/r+n+n}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){o.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var r;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],l=0;l<this.internal.__cell__.tableHeaderRow.length;l+=1){r=this.internal.__cell__.tableHeaderRow[l].clone(),t&&(r.y=this.internal.__cell__.margins.top||0,A.push(r)),r.lineNumber=e;var c=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,r),this.setTextColor(c)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),n=!1}}(At.API);var Yt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$t=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],en=Jt($t),tn=[100,200,300,400,500,600,700,800,900],nn=Jt(tn);function on(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return Yt[e=e||"normal"]?e:"normal"}(e.style),o=function(e){if(!e)return 400;if("number"==typeof e)return e>=100&&e<=900&&e%100==0?e:400;if(/^\d00$/.test(e))return parseInt(e);switch(e){case"bold":return 700;case"normal":default:return 400}}(e.weight),r=function(e){return"number"==typeof en[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:o,stretch:r,src:e.src||[],ref:e.ref||{name:t,style:[r,n,o].join(" ")}}}function rn(e,t,n,o){var r;for(r=n;r>=0&&r<t.length;r+=o)if(e[t[r]])return e[t[r]];for(r=n;r>=0&&r<t.length;r-=o)if(e[t[r]])return e[t[r]]}var sn={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},an={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function An(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ln(e,t,n){for(var o=(n=n||{}).defaultFontFamily||"times",r=Object.assign({},sn,n.genericFontFamilies||{}),s=null,i=null,a=0;a<t.length;++a)if(r[(s=on(t[a])).family]&&(s.family=r[s.family]),e.hasOwnProperty(s.family)){i=e[s.family];break}if(!(i=i||e[o]))throw new Error("Could not find a font-family for the rule '"+An(s)+"' and default family '"+o+"'.");if(i=function(e,t){if(t[e])return t[e];var n=en[e],o=n<=en.normal?-1:1,r=rn(t,$t,n,o);if(!r)throw new Error("Could not find a matching font-stretch value for "+e);return r}(s.stretch,i),i=function(e,t){if(t[e])return t[e];for(var n=Yt[e],o=0;o<n.length;++o)if(t[n[o]])return t[n[o]];throw new Error("Could not find a matching font-style for "+e)}(s.style,i),!(i=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=nn[e],o=rn(t,tn,n,e<400?-1:1);if(!o)throw new Error("Could not find a matching font-weight for value "+e);return o}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+An(s)+"'.");return i}function cn(e){return e.trimLeft()}function un(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function dn(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var mn,hn,gn,pn=["times"];!function(e){var t,n,o,r,s,i,a,A,l,c=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new A,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new i,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new i,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,a=this.internal.Rectangle,A=this.internal.Matrix,l=new c}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var o=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return o},set:function(e){o=Boolean(e)}});var r=0;Object.defineProperty(this,"posX",{get:function(){return r},set:function(e){isNaN(e)||(r=e)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),l.margin=t}});var i=!1;Object.defineProperty(this,"autoPaging",{get:function(){return i},set:function(e){i=e}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(e){a=e}});var A=[];Object.defineProperty(this,"pageBreaks",{get:function(){return A},set:function(e){A=e}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(e){e instanceof c&&(l=e)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(e){l.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=d(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=d(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var m=null;function h(e,t){if(null===m){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var o=null;switch(e){case"bold":o={family:n,weight:"bold"};break;case"italic":o={family:n,style:"italic"};break;case"bolditalic":o={family:n,weight:"bold",style:"italic"};break;case"":case"normal":o={family:n}}null!==o&&(o.ref={name:n,style:e},t.push(o))}))})),t}(e.getFontList());m=function(e){for(var t={},n=0;n<e.length;++n){var o=on(e[n]),r=o.family,s=o.stretch,i=o.style,a=o.weight;t[r]=t[r]||{},t[r][s]=t[r][s]||{},t[r][s][i]=t[r][s][i]||{},t[r][s][i][a]=o}return t}(n.concat(t))}return m}var g=null;Object.defineProperty(this,"fontFaces",{get:function(){return g},set:function(e){m=null,g=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],o=(t[2],t[3]),r=t[4],s=(t[5],t[6]),i=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(r)[2];r="px"===i?Math.floor(parseFloat(r)*this.pdf.internal.scaleFactor):"em"===i?Math.floor(parseFloat(r)*this.pdf.getFontSize()):Math.floor(parseFloat(r)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(r);var a=function(e){var t,n,o=[],r=e.trim();if(""===r)return pn;if(r in an)return[an[r]];for(;""!==r;){switch(n=null,t=(r=cn(r)).charAt(0)){case'"':case"'":n=un(r.substring(1),t);break;default:n=dn(r)}if(null===n)return pn;if(o.push(n[0]),""!==(r=cn(n[1]))&&","!==r.charAt(0))return pn;r=r.replace(/^,/,"")}return o}(s);if(this.fontFaces){var A=ln(h(this.pdf,this.fontFaces),a.map((function(e){return{family:e,stretch:"normal",weight:o,style:n}})));this.pdf.setFont(A.ref.name,A.ref.style)}else{var l="";("bold"===o||parseInt(o,10)>=700||"bold"===n)&&(l="bold"),"italic"===n&&(l+="italic"),0===l.length&&(l="normal");for(var c="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<a.length;d++){if(void 0!==this.pdf.internal.getFont(a[d],l,{noFallback:!0,disableWarning:!0})){c=a[d];break}if("bolditalic"===l&&void 0!==this.pdf.internal.getFont(a[d],"bold",{noFallback:!0,disableWarning:!0}))c=a[d],l="bold";else if(void 0!==this.pdf.internal.getFont(a[d],"normal",{noFallback:!0,disableWarning:!0})){c=a[d],l="normal";break}}if(""===c)for(var m=0;m<a.length;m++)if(u[a[m]]){c=u[a[m]];break}c=""===c?"Times":c,this.pdf.setFont(c,l)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){w.call(this,"fill",!1)},u.prototype.stroke=function(){w.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw Ue.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new i(e,t)},u.prototype.closePath=function(){var e=new i(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,Q.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new i(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw Ue.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new i(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,o){if(isNaN(n)||isNaN(o)||isNaN(e)||isNaN(t))throw Ue.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var r=this.ctx.transform.applyToPoint(new i(n,o)),s=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"qct",x1:s.x,y1:s.y,x:r.x,y:r.y}),this.ctx.lastPoint=new i(r.x,r.y)},u.prototype.bezierCurveTo=function(e,t,n,o,r,s){if(isNaN(r)||isNaN(s)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(o))throw Ue.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new i(r,s)),A=this.ctx.transform.applyToPoint(new i(e,t)),l=this.ctx.transform.applyToPoint(new i(n,o));this.path.push({type:"bct",x1:A.x,y1:A.y,x2:l.x,y2:l.y,x:a.x,y:a.y}),this.ctx.lastPoint=new i(a.x,a.y)},u.prototype.arc=function(e,t,n,o,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(o)||isNaN(r))throw Ue.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new i(e,t));e=a.x,t=a.y;var A=this.ctx.transform.applyToPoint(new i(0,n)),l=this.ctx.transform.applyToPoint(new i(0,0));n=Math.sqrt(Math.pow(A.x-l.x,2)+Math.pow(A.y-l.y,2))}Math.abs(r-o)>=2*Math.PI&&(o=0,r=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:o,endAngle:r,counterclockwise:s})},u.prototype.arcTo=function(e,t,n,o,r){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(o))throw Ue.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+o),this.lineTo(e,t+o),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(o))throw Ue.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var r={};"butt"!==this.lineCap&&(r.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(r.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,o),this.fill(),r.hasOwnProperty("lineCap")&&(this.lineCap=r.lineCap),r.hasOwnProperty("lineJoin")&&(this.lineJoin=r.lineJoin)}},u.prototype.strokeRect=function(e,t,n,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(o))throw Ue.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");h.call(this)||(this.beginPath(),this.rect(e,t,n,o),this.stroke())},u.prototype.clearRect=function(e,t,n,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(o))throw Ue.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,o))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var o=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=o}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(e){var t,n,o,r;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,o=0,r=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==s)t=parseInt(s[1]),n=parseInt(s[2]),o=parseInt(s[3]),r=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(s[1]),n=parseInt(s[2]),o=parseInt(s[3]),r=parseFloat(s[4]);else{if(r=1,"string"==typeof e&&"#"!==e.charAt(0)){var i=new He(e);e=i.ok?i.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,o=e.substring(3,4),o+=o):(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),o=parseInt(o,16)}}return{r:t,g:n,b:o,a:r,style:e}},m=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},h=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,o){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Ue.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(o=isNaN(o)?void 0:o,!m.call(this)){var r=N(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;E.call(this,{text:e,x:t,y:n,scale:s,angle:r,align:this.textAlign,maxWidth:o})}},u.prototype.strokeText=function(e,t,n,o){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Ue.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!h.call(this)){o=isNaN(o)?void 0:o;var r=N(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;E.call(this,{text:e,x:t,y:n,scale:s,renderingMode:"stroke",angle:r,align:this.textAlign,maxWidth:o})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw Ue.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,o=t.internal.getFontSize(),r=t.getStringUnitWidth(e)*o/t.internal.scaleFactor,s=function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this};return new s({width:r*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw Ue.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new A(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw Ue.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new A(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw Ue.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new A(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,o,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(o)||isNaN(r)||isNaN(s))throw Ue.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var i=new A(e,t,n,o,r,s);this.ctx.transform=this.ctx.transform.multiply(i)},u.prototype.setTransform=function(e,t,n,o,r,s){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,o=isNaN(o)?1:o,r=isNaN(r)?0:r,s=isNaN(s)?0:s,this.ctx.transform=new A(e,t,n,o,r,s)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,o,r,s,i,l,c){var u=this.pdf.getImageProperties(e),d=1,m=1,h=1,f=1;void 0!==o&&void 0!==l&&(h=l/o,f=c/r,d=u.width/o*l/o,m=u.height/r*c/r),void 0===s&&(s=t,i=n,t=0,n=0),void 0!==o&&void 0===l&&(l=o,c=r),void 0===o&&void 0===l&&(l=u.width,c=u.height);for(var w,B=this.ctx.transform.decompose(),C=N(B.rotate.shx),x=new A,S=(x=(x=(x=x.multiply(B.translate)).multiply(B.skew)).multiply(B.scale)).applyToRectangle(new a(s-t*h,i-n*f,o*d,r*m)),F=p.call(this,S),k=[],E=0;E<F.length;E+=1)-1===k.indexOf(F[E])&&k.push(F[E]);if(v(k),this.autoPaging)for(var _=k[0],O=k[k.length-1],U=_;U<O+1;U++){this.pdf.setPage(U);var T=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],L=1===U?this.posY+this.margin[0]:this.margin[0],Q=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],D=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],I=1===U?0:Q+(U-2)*D;if(0!==this.ctx.clip_path.length){var H=this.path;w=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(w,this.posX+this.margin[3],-I+L+this.ctx.prevPageLastElemOffset),y.call(this,"fill",!0),this.path=H}var M=JSON.parse(JSON.stringify(S));M=b([M],this.posX+this.margin[3],-I+L+this.ctx.prevPageLastElemOffset)[0];var R=(U>_||U<O)&&g.call(this);R&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],T,D,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",M.x,M.y,M.w,M.h,null,null,C),R&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",S.x,S.y,S.w,S.h,null,null,C)};var p=function(e,t,n){var o=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var r=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":o.push(Math.floor((e.y+r)/n)+1);break;case"arc":o.push(Math.floor((e.y+r-e.radius)/n)+1),o.push(Math.floor((e.y+r+e.radius)/n)+1);break;case"qct":var s=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);o.push(Math.floor((s.y+r)/n)+1),o.push(Math.floor((s.y+s.h+r)/n)+1);break;case"bct":var i=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);o.push(Math.floor((i.y+r)/n)+1),o.push(Math.floor((i.y+i.h+r)/n)+1);break;case"rect":o.push(Math.floor((e.y+r)/n)+1),o.push(Math.floor((e.y+e.h+r)/n)+1)}for(var a=0;a<o.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<o[a];)f.call(this);return o},f=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,o=this.lineCap,r=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=o,this.lineWidth=r,this.lineJoin=s},b=function(e,t,n){for(var o=0;o<e.length;o++)switch(e[o].type){case"bct":e[o].x2+=t,e[o].y2+=n;case"qct":e[o].x1+=t,e[o].y1+=n;case"mt":case"lt":case"arc":default:e[o].x+=t,e[o].y+=n}return e},v=function(e){return e.sort((function(e,t){return e-t}))},w=function(e,t){for(var n,o,r=this.fillStyle,s=this.strokeStyle,i=this.lineCap,a=this.lineWidth,A=Math.abs(a*this.ctx.transform.scaleX),l=this.lineJoin,c=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),d=[],m=0;m<u.length;m++)if(void 0!==u[m].x)for(var h=p.call(this,u[m]),w=0;w<h.length;w+=1)-1===d.indexOf(h[w])&&d.push(h[w]);for(var B=0;B<d.length;B++)for(;this.pdf.internal.getNumberOfPages()<d[B];)f.call(this);if(v(d),this.autoPaging)for(var C=d[0],x=d[d.length-1],S=C;S<x+1;S++){this.pdf.setPage(S),this.fillStyle=r,this.strokeStyle=s,this.lineCap=i,this.lineWidth=A,this.lineJoin=l;var F=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],k=1===S?this.posY+this.margin[0]:this.margin[0],E=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],O=1===S?0:E+(S-2)*_;if(0!==this.ctx.clip_path.length){var U=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(n,this.posX+this.margin[3],-O+k+this.ctx.prevPageLastElemOffset),y.call(this,e,!0),this.path=U}if(o=JSON.parse(JSON.stringify(c)),this.path=b(o,this.posX+this.margin[3],-O+k+this.ctx.prevPageLastElemOffset),!1===t||0===S){var T=(S>C||S<x)&&g.call(this);T&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],F,_,null).clip().discardPath()),y.call(this,e,t),T&&this.pdf.restoreGraphicsState()}this.lineWidth=a}else this.lineWidth=A,y.call(this,e,t),this.lineWidth=a;this.path=c},y=function(e,t){if(("stroke"!==e||t||!h.call(this))&&("stroke"===e||t||!m.call(this))){for(var n,o,r=[],s=this.path,i=0;i<s.length;i++){var a=s[i];switch(a.type){case"begin":r.push({begin:!0});break;case"close":r.push({close:!0});break;case"mt":r.push({start:a,deltas:[],abs:[]});break;case"lt":var A=r.length;if(s[i-1]&&!isNaN(s[i-1].x)&&(n=[a.x-s[i-1].x,a.y-s[i-1].y],A>0))for(;A>=0;A--)if(!0!==r[A-1].close&&!0!==r[A-1].begin){r[A-1].deltas.push(n),r[A-1].abs.push(a);break}break;case"bct":n=[a.x1-s[i-1].x,a.y1-s[i-1].y,a.x2-s[i-1].x,a.y2-s[i-1].y,a.x-s[i-1].x,a.y-s[i-1].y],r[r.length-1].deltas.push(n);break;case"qct":var l=s[i-1].x+2/3*(a.x1-s[i-1].x),c=s[i-1].y+2/3*(a.y1-s[i-1].y),u=a.x+2/3*(a.x1-a.x),d=a.y+2/3*(a.y1-a.y),g=a.x,p=a.y;n=[l-s[i-1].x,c-s[i-1].y,u-s[i-1].x,d-s[i-1].y,g-s[i-1].x,p-s[i-1].y],r[r.length-1].deltas.push(n);break;case"arc":r.push({deltas:[],abs:[],arc:!0}),Array.isArray(r[r.length-1].abs)&&r[r.length-1].abs.push(a)}}o=t?null:"stroke"===e?"stroke":"fill";for(var f=!1,b=0;b<r.length;b++)if(r[b].arc)for(var v=r[b].abs,w=0;w<v.length;w++){var y=v[w];"arc"===y.type?x.call(this,y.x,y.y,y.radius,y.startAngle,y.endAngle,y.counterclockwise,void 0,t,!f):_.call(this,y.x,y.y),f=!0}else if(!0===r[b].close)this.pdf.internal.out("h"),f=!1;else if(!0!==r[b].begin){var B=r[b].start.x,C=r[b].start.y;O.call(this,r[b].deltas,B,C),f=!0}o&&S.call(this,o),t&&F.call(this)}},B=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;case"ideographic":return e;case"alphabetic":default:return e}},C=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var x=function(e,t,n,o,r,s,i,a,A){for(var l=T.call(this,n,o,r,s),c=0;c<l.length;c++){var u=l[c];0===c&&(A?k.call(this,u.x1+e,u.y1+t):_.call(this,u.x1+e,u.y1+t)),U.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}a?F.call(this):S.call(this,i)},S=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(e,t){this.pdf.internal.out(n(e)+" "+o(t)+" m")},E=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;case"left":case"start":default:t="left"}var n=this.pdf.getTextDimensions(e.text),o=B.call(this,e.y),r=C.call(this,o)-n.h,s=this.ctx.transform.applyToPoint(new i(e.x,o)),l=this.ctx.transform.decompose(),c=new A;c=(c=(c=c.multiply(l.translate)).multiply(l.skew)).multiply(l.scale);for(var u,d,m,h=this.ctx.transform.applyToRectangle(new a(e.x,o,n.w,n.h)),f=c.applyToRectangle(new a(e.x,r,n.w,n.h)),w=p.call(this,f),x=[],S=0;S<w.length;S+=1)-1===x.indexOf(w[S])&&x.push(w[S]);if(v(x),this.autoPaging)for(var F=x[0],k=x[x.length-1],E=F;E<k+1;E++){this.pdf.setPage(E);var _=1===E?this.posY+this.margin[0]:this.margin[0],O=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],U=this.pdf.internal.pageSize.height-this.margin[2],T=U-this.margin[0],L=this.pdf.internal.pageSize.width-this.margin[1],N=L-this.margin[3],Q=1===E?0:O+(E-2)*T;if(0!==this.ctx.clip_path.length){var D=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(u,this.posX+this.margin[3],-1*Q+_),y.call(this,"fill",!0),this.path=D}var I=b([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-Q+_+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),m=this.lineWidth,this.lineWidth=m*e.scale);var H="text"!==this.autoPaging;if(H||I.y+I.h<=U){if(H||I.y>=_&&I.x<=L){var M=H?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||L-I.x)[0],R=b([JSON.parse(JSON.stringify(h))],this.posX+this.margin[3],-Q+_+this.ctx.prevPageLastElemOffset)[0],P=H&&(E>F||E<k)&&g.call(this);P&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],N,T,null).clip().discardPath()),this.pdf.text(M,R.x,R.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),P&&this.pdf.restoreGraphicsState()}}else I.y<U&&(this.ctx.prevPageLastElemOffset+=U-I.y);e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=m)}else e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),m=this.lineWidth,this.lineWidth=m*e.scale),this.pdf.text(e.text,s.x+this.posX,s.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=m)},_=function(e,t,r,s){r=r||0,s=s||0,this.pdf.internal.out(n(e+r)+" "+o(t+s)+" l")},O=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},U=function(e,n,o,i,a,A,l,c){this.pdf.internal.out([t(r(o+e)),t(s(i+n)),t(r(a+e)),t(s(A+n)),t(r(l+e)),t(s(c+n)),"c"].join(" "))},T=function(e,t,n,o){for(var r=2*Math.PI,s=Math.PI/2;t>n;)t-=r;var i=Math.abs(n-t);i<r&&o&&(i=r-i);for(var a=[],A=o?-1:1,l=t;i>1e-5;){var c=l+A*Math.min(i,s);a.push(L.call(this,e,l,c)),i-=Math.abs(c-l),l=c}return a},L=function(e,t,n){var o=(n-t)/2,r=e*Math.cos(o),s=e*Math.sin(o),i=r,a=-s,A=i*i+a*a,l=A+i*r+a*s,c=4/3*(Math.sqrt(2*A*l)-l)/(i*s-a*r),u=i-c*a,d=a+c*i,m=u,h=-d,g=o+t,p=Math.cos(g),f=Math.sin(g);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*p-d*f,y2:u*f+d*p,x3:m*p-h*f,y3:m*f+h*p,x4:e*Math.cos(n),y4:e*Math.sin(n)}},N=function(e){return 180*e/Math.PI},D=function(e,t,n,o,r,s){var i=e+.5*(n-e),A=t+.5*(o-t),l=r+.5*(n-r),c=s+.5*(o-s),u=Math.min(e,r,i,l),d=Math.max(e,r,i,l),m=Math.min(t,s,A,c),h=Math.max(t,s,A,c);return new a(u,m,d-u,h-m)},I=function(e,t,n,o,r,s,i,A){var l,c,u,d,m,h,g,p,f,b,v,w,y,B,C=n-e,x=o-t,S=r-n,F=s-o,k=i-r,E=A-s;for(c=0;c<41;c++)f=(g=(u=e+(l=c/40)*C)+l*((m=n+l*S)-u))+l*(m+l*(r+l*k-m)-g),b=(p=(d=t+l*x)+l*((h=o+l*F)-d))+l*(h+l*(s+l*E-h)-p),0==c?(v=f,w=b,y=f,B=b):(v=Math.min(v,f),w=Math.min(w,b),y=Math.max(y,f),B=Math.max(B,b));return new a(Math.round(v),Math.round(w),Math.round(y-v),Math.round(B-w))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(At.API),
/**
 * @license
 * jsPDF filters PlugIn
 * Copyright (c) 2014 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){var t,n,o,r,s,i,a,A,l,c;for(/[^\x00-\xFF]/.test(e),n=[],o=0,r=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;r>o;o+=4)0!==(s=(e.charCodeAt(o)<<24)+(e.charCodeAt(o+1)<<16)+(e.charCodeAt(o+2)<<8)+e.charCodeAt(o+3))?(i=(s=((s=((s=((s=(s-(c=s%85))/85)-(l=s%85))/85)-(A=s%85))/85)-(a=s%85))/85)%85,n.push(i+33,a+33,A+33,l+33,c+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,o,r,s,i=String,a="length",A=255,l="charCodeAt",c="slice",u="replace";for(e[c](-2),e=e[c](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),o=[],r=0,s=(e+=t="uuuuu"[c](e[a]%5||5))[a];s>r;r+=5)n=52200625*(e[l](r)-33)+614125*(e[l](r+1)-33)+7225*(e[l](r+2)-33)+85*(e[l](r+3)-33)+(e[l](r+4)-33),o.push(A&n>>24,A&n>>16,A&n>>8,A&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(o,t[a]),i.fromCharCode.apply(i,o)},o=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",o=0;o<e.length;o+=2)n+=String.fromCharCode("0x"+(e[o]+e[o+1]));return n},r=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=ke(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,s){var i=0,a=e||"",A=[];for("string"==typeof(s=s||[])&&(s=[s]),i=0;i<s.length;i+=1)switch(s[i]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=t(a),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=o(a),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=r(a),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[i]+'" is not implemented')}return{data:a,reverseChain:A.reverse().join(" ")}}}(At.API),
/**
 * @license
 * jsPDF fileloading PlugIn
 * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var o=void 0;try{o=function(e,t,n){var o=new XMLHttpRequest,r=0,s=function(e){var t=e.length,n=[],o=String.fromCharCode;for(r=0;r<t;r+=1)n.push(o(255&e.charCodeAt(r)));return n.join("")};if(o.open("GET",e,!t),o.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(o.onload=function(){200===o.status?n(s(this.responseText)):n(void 0)}),o.send(null),t&&200===o.status)return s(o.responseText)}(e,t,n)}catch(e){}return o}(e,t,n)},e.loadImageFile=e.loadFile}(At.API),function(e){function t(){return(_e.html2canvas?Promise.resolve(_e.html2canvas):Promise.resolve().then(o.t.bind(o,354,23))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function n(){return(_e.DOMPurify?Promise.resolve(_e.DOMPurify):o.e(838).then(o.t.bind(o,2838,23))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var r=function(e){var t=(0,Q.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var n=document.createElement(e);for(var o in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[o]=t.style[o];return n},i=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),o=e.convert(Promise.resolve(),n);return(o=o.setProgress(1,e,1,[e])).set(t)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(e,t){return e.__proto__=t||i.prototype,e},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(r(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(n).then((function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var o=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),r=t.firstChild;r;r=r.nextSibling)!0!==n&&1===r.nodeType&&"SCRIPT"===r.nodeName||o.appendChild(e(r,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(o.width=t.width,o.height=t.height,o.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(o.value=t.value),o.addEventListener("load",(function(){o.scrollTop=t.scrollTop,o.scrollLeft=t.scrollLeft}),!0)),o}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,o="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,r=Object.assign({async:!0,allowTaint:!0,scale:o,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete r.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var i=n[s],a=i.src.find((function(e){return"truetype"===e.format}));a&&t.addFont(a.url,i.ref.name,i.ref.style)}return r.windowHeight=r.windowHeight||0,r.windowHeight=0==r.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):r.windowHeight,t.context2d.save(!0),e(this.prop.container,r)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},i.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},i.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},i.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(e){if("object"!==r(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in i.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},i.prototype.get=function(e,t){return this.then((function(){var n=e in i.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},i.prototype.setMargin=function(e){return this.then((function(){switch(r(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},i.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},i.prototype.setProgress=function(e,t,n,o){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=o&&(this.progress.stack=o),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(e,t,n,o){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,o?this.progress.stack.concat(o):null)},i.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},i.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var o=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:i.convert(Object.assign({},this),Promise.prototype),r=n.call(o,e,t);return i.convert(r,this.__proto__)},i.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},i.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},i.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return i.convert(t,this)},i.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},i.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,At.getPageSize=function(e,t,n){if("object"===(0,Q.A)(e)){var o=e;e=o.orientation,t=o.unit||t,n=o.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var r,s=(""+n).toLowerCase(),i={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":r=1;break;case"mm":r=72/25.4;break;case"cm":r=72/2.54;break;case"in":r=72;break;case"px":r=.75;break;case"pc":case"em":r=12;break;case"ex":r=6;break;default:throw"Invalid unit: "+t}var a,A=0,l=0;if(i.hasOwnProperty(s))A=i[s][1]/r,l=i[s][0]/r;else try{A=n[1],l=n[0]}catch(c){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",l>A&&(a=l,l=A,A=a);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",A>l&&(a=l,l=A,A=a)}return{width:l,height:A,unit:t,k:r,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(on):null;var n=new i(t);return t.worker?n:n.from(e).doCallback()}}(At.API),At.API.addJS=function(e){return gn=e,this.internal.events.subscribe("postPutResources",(function(){mn=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mn+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),hn=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gn+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==mn&&void 0!==hn&&this.internal.out("/Names <</JavaScript "+mn+" 0 R>>")})),this
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=e.outline.render().split(/\r\n/),r=0;r<o.length;r++){var s=o[r],i=n.exec(s);if(null!=i){var a=i[1];e.internal.newObjectDeferredBegin(a,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,l=[];for(r=0;r<A;r++){var c=e.internal.newObject();l.push(c);var u=e.internal.getPageInfo(r+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),r=0;r<l.length;r++)e.internal.write("(page_"+(r+1)+")"+l[r]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var o={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<t.children.length;o++){var r=t.children[o];this.objStart(r),this.line("/Title "+this.makeString(r.title)),this.line("/Parent "+this.makeRef(t)),o>0&&this.line("/Prev "+this.makeRef(t.children[o-1])),o<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[o+1])),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1])));var s=this.count=this.count_r({count:0},r);if(s>0&&this.line("/Count "+s),r.options&&r.options.pageNumber){var i=e.internal.getPageInfo(r.options.pageNumber);this.line("/Dest ["+i.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var a=0;a<t.children.length;a++)this.renderItems(t.children[a])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(At.API),
/**
 * @license
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,o,r,s,i){var a,A=this.decode.DCT_DECODE,l=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(a=function(e){for(var n,o=256*e.charCodeAt(4)+e.charCodeAt(5),r=e.length,s={width:0,height:0,numcomponents:1},i=4;i<r;i+=2){if(i+=o,-1!==t.indexOf(e.charCodeAt(i+1))){n=256*e.charCodeAt(i+5)+e.charCodeAt(i+6),s={width:256*e.charCodeAt(i+7)+e.charCodeAt(i+8),height:n,numcomponents:e.charCodeAt(i+9)};break}o=256*e.charCodeAt(i+2)+e.charCodeAt(i+3)}return s}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:i=this.color_spaces.DEVICE_GRAY;break;case 4:i=this.color_spaces.DEVICE_CMYK;break;case 3:i=this.color_spaces.DEVICE_RGB}l={data:e,width:a.width,height:a.height,colorSpace:i,bitsPerComponent:8,filter:A,index:n,alias:o}}return l}}(At.API);var fn,bn,vn,wn,yn,Bn=function(){var e,t,n;function o(e){var t,n,o,r,s,i,a,A,l,c,u,d,m,h;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},i=null;;){switch(t=this.readUInt32(),l=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":i&&this.animation.frames.push(i),this.pos+=4,i={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},s=this.readUInt16(),r=this.readUInt16()||100,i.delay=1e3*s/r,i.disposeOp=this.data[this.pos++],i.blendOp=this.data[this.pos++],i.data=[];break;case"IDAT":case"fdAT":for("fdAT"===l&&(this.pos+=4,t-=4),e=(null!=i?i.data:void 0)||this.imgData,d=0;0<=t?d<t:d>t;0<=t?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(o=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>o)throw new Error("More transparent colors than palette size");if((c=o-this.transparency.indexed.length)>0)for(m=0;0<=c?m<c:m>c;0<=c?++m:--m)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":a=(u=this.read(t)).indexOf(0),A=String.fromCharCode.apply(String,u.slice(0,a)),this.text[A]=String.fromCharCode.apply(String,u.slice(a+1));break;case"IEND":return i&&this.animation.frames.push(i),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(h=this.colorType)||6===h,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}o.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),o=0,r=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function s(s,i,a,A){var l,c,u,d,m,h,g,p,f,b,v,w,y,B,C,x,S,F,k,E,_,O=Math.ceil((r.width-s)/a),U=Math.ceil((r.height-i)/A),T=r.width==O&&r.height==U;for(B=t*O,w=T?n:new Uint8Array(B*U),h=e.length,y=0,c=0;y<U&&o<h;){switch(e[o++]){case 0:for(d=S=0;S<B;d=S+=1)w[c++]=e[o++];break;case 1:for(d=F=0;F<B;d=F+=1)l=e[o++],m=d<t?0:w[c-t],w[c++]=(l+m)%256;break;case 2:for(d=k=0;k<B;d=k+=1)l=e[o++],u=(d-d%t)/t,C=y&&w[(y-1)*B+u*t+d%t],w[c++]=(C+l)%256;break;case 3:for(d=E=0;E<B;d=E+=1)l=e[o++],u=(d-d%t)/t,m=d<t?0:w[c-t],C=y&&w[(y-1)*B+u*t+d%t],w[c++]=(l+Math.floor((m+C)/2))%256;break;case 4:for(d=_=0;_<B;d=_+=1)l=e[o++],u=(d-d%t)/t,m=d<t?0:w[c-t],0===y?C=x=0:(C=w[(y-1)*B+u*t+d%t],x=u&&w[(y-1)*B+(u-1)*t+d%t]),g=m+C-x,p=Math.abs(g-m),b=Math.abs(g-C),v=Math.abs(g-x),f=p<=b&&p<=v?m:b<=v?C:x,w[c++]=(l+f)%256;break;default:throw new Error("Invalid filter algorithm: "+e[o-1])}if(!T){var L=((i+y*A)*r.width+s)*t,N=y*B;for(d=0;d<O;d+=1){for(var Q=0;Q<t;Q+=1)n[L++]=w[N++];L+=(a-1)*t}}y++}}return e=Ee(e),1==r.interlaceMethod?(s(0,0,8,8),s(4,0,8,8),s(0,4,4,8),s(2,0,4,4),s(0,2,2,4),s(1,0,2,2),s(0,1,1,2)):s(0,0,1,1),n},o.prototype.decodePalette=function(){var e,t,n,o,r,s,i,a,A;for(n=this.palette,s=this.transparency.indexed||[],r=new Uint8Array((s.length||0)+n.length),o=0,e=0,t=i=0,a=n.length;i<a;t=i+=3)r[o++]=n[t],r[o++]=n[t+1],r[o++]=n[t+2],r[o++]=null!=(A=s[e++])?A:255;return r},o.prototype.copyToImageData=function(e,t){var n,o,r,s,i,a,A,l,c,u,d;if(o=this.colors,c=null,n=this.hasAlphaChannel,this.palette.length&&(c=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),o=4,n=!0),l=(r=e.data||e).length,i=c||t,s=a=0,1===o)for(;s<l;)A=c?4*t[s/4]:a,u=i[A++],r[s++]=u,r[s++]=u,r[s++]=u,r[s++]=n?i[A++]:255,a=A;else for(;s<l;)A=c?4*t[s/4]:a,r[s++]=i[A++],r[s++]=i[A++],r[s++]=i[A++],r[s++]=n?i[A++]:255,a=A},o.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var r=function(){if("[object Window]"===Object.prototype.toString.call(_e)){try{t=_e.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return r(),e=function(e){var o;if(!0===r())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},o.prototype.decodeFrames=function(t){var n,o,r,s,i,a,A,l;if(this.animation){for(l=[],o=i=0,a=(A=this.animation.frames).length;i<a;o=++i)n=A[o],r=t.createImageData(n.width,n.height),s=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(r,s),n.imageData=r,l.push(n.image=e(r));return l}},o.prototype.renderFrame=function(e,t){var n,o,r;return n=(o=this.animation.frames)[t],r=o[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=r?r.disposeOp:void 0)?e.clearRect(r.xOffset,r.yOffset,r.width,r.height):2===(null!=r?r.disposeOp:void 0)&&e.putImageData(r.imageData,r.xOffset,r.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},o.prototype.animate=function(e){var t,n,o,r,s,i,a=this;return n=0,i=this.animation,r=i.numFrames,o=i.frames,s=i.numPlays,(t=function(){var i,A;if(i=n++%r,A=o[i],a.renderFrame(e,i),r>1&&n/r<s)return a.animation._timeout=setTimeout(t,A.delay)})()},o.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},o.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},o}();
/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
/**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Cn(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,o=e[t++]|e[t++]<<8,r=e[t++],s=r>>7,i=1<<1+(7&r);e[t++],e[t++];var a=null,A=null;s&&(a=t,A=i,t+=3*i);var l=!0,c=[],u=0,d=null,m=0,h=null;for(this.width=n,this.height=o;l&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,h=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(0===k)break;t+=k}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var g=e[t++];u=e[t++]|e[t++]<<8,d=e[t++],0==(1&g)&&(d=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(0===k)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var p=e[t++]|e[t++]<<8,f=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,w=e[t++],y=w>>6&1,B=1<<1+(7&w),C=a,x=A,S=!1;w>>7&&(S=!0,C=t,x=B,t+=3*B);var F=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(0===k)break;t+=k}c.push({x:p,y:f,width:b,height:v,has_local_palette:S,palette_offset:C,palette_size:x,data_offset:F,data_length:t-F,transparent_index:d,interlaced:!!y,delay:u,disposal:m});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return h},this.frameInfo=function(e){if(e<0||e>=c.length)throw new Error("Frame index out of range.");return c[e]},this.decodeAndBlitFrameBGRA=function(t,o){var r=this.frameInfo(t),s=r.width*r.height,i=new Uint8Array(s);xn(e,r.data_offset,i,s);var a=r.palette_offset,A=r.transparent_index;null===A&&(A=256);var l=r.width,c=n-l,u=l,d=4*(r.y*n+r.x),m=4*((r.y+r.height)*n+r.x),h=d,g=4*c;!0===r.interlaced&&(g+=4*n*7);for(var p=8,f=0,b=i.length;f<b;++f){var v=i[f];if(0===u&&(u=l,(h+=g)>=m&&(g=4*c+4*n*(p-1),h=d+(l+c)*(p<<1),p>>=1)),v===A)h+=4;else{var w=e[a+3*v],y=e[a+3*v+1],B=e[a+3*v+2];o[h++]=B,o[h++]=y,o[h++]=w,o[h++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,o){var r=this.frameInfo(t),s=r.width*r.height,i=new Uint8Array(s);xn(e,r.data_offset,i,s);var a=r.palette_offset,A=r.transparent_index;null===A&&(A=256);var l=r.width,c=n-l,u=l,d=4*(r.y*n+r.x),m=4*((r.y+r.height)*n+r.x),h=d,g=4*c;!0===r.interlaced&&(g+=4*n*7);for(var p=8,f=0,b=i.length;f<b;++f){var v=i[f];if(0===u&&(u=l,(h+=g)>=m&&(g=4*c+4*n*(p-1),h=d+(l+c)*(p<<1),p>>=1)),v===A)h+=4;else{var w=e[a+3*v],y=e[a+3*v+1],B=e[a+3*v+2];o[h++]=w,o[h++]=y,o[h++]=B,o[h++]=255}--u}}}function xn(e,t,n,o){for(var r=e[t++],s=1<<r,i=s+1,a=i+1,A=r+1,l=(1<<A)-1,c=0,u=0,d=0,m=e[t++],h=new Int32Array(4096),g=null;;){for(;c<16&&0!==m;)u|=e[t++]<<c,c+=8,1===m?m=e[t++]:--m;if(c<A)break;var p=u&l;if(u>>=A,c-=A,p!==s){if(p===i)break;for(var f=p<a?p:g,b=0,v=f;v>s;)v=h[v]>>8,++b;var w=v;if(d+b+(f!==p?1:0)>o)return void Ue.log("Warning, gif stream longer than expected.");n[d++]=w;var y=d+=b;for(f!==p&&(n[d++]=w),v=f;b--;)v=h[v],n[--y]=255&v,v>>=8;null!==g&&a<4096&&(h[a++]=g<<8|w,a>=l+1&&A<12&&(++A,l=l<<1|1)),g=p}else a=i+1,l=(1<<(A=r+1))-1,g=null}return d!==o&&Ue.log("Warning, gif stream shorter than expected."),n}
/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Sn(e){var t,n,o,r,s,i=Math.floor,a=new Array(64),A=new Array(64),l=new Array(64),c=new Array(64),u=new Array(65535),d=new Array(65535),m=new Array(64),h=new Array(64),g=[],p=0,f=7,b=new Array(64),v=new Array(64),w=new Array(64),y=new Array(256),B=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(e,t){for(var n=0,o=0,r=new Array,s=1;s<=16;s++){for(var i=1;i<=e[s];i++)r[t[o]]=[],r[t[o]][0]=n,r[t[o]][1]=s,o++,n++;n*=2}return r}function L(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(p|=1<<f),n--,--f<0&&(255==p?(N(255),N(0)):N(p),f=7,p=0)}function N(e){g.push(e)}function Q(e){N(e>>8&255),N(255&e)}function D(e,t,n,o,r){for(var s,i=r[0],a=r[240],A=function(e,t){var n,o,r,s,i,a,A,l,c,u,d=0;for(c=0;c<8;++c){n=e[d],o=e[d+1],r=e[d+2],s=e[d+3],i=e[d+4],a=e[d+5],A=e[d+6];var h=n+(l=e[d+7]),g=n-l,p=o+A,f=o-A,b=r+a,v=r-a,w=s+i,y=s-i,B=h+w,C=h-w,x=p+b,S=p-b;e[d]=B+x,e[d+4]=B-x;var F=.707106781*(S+C);e[d+2]=C+F,e[d+6]=C-F;var k=.382683433*((B=y+v)-(S=f+g)),E=.5411961*B+k,_=1.306562965*S+k,O=.707106781*(x=v+f),U=g+O,T=g-O;e[d+5]=T+E,e[d+3]=T-E,e[d+1]=U+_,e[d+7]=U-_,d+=8}for(d=0,c=0;c<8;++c){n=e[d],o=e[d+8],r=e[d+16],s=e[d+24],i=e[d+32],a=e[d+40],A=e[d+48];var L=n+(l=e[d+56]),N=n-l,Q=o+A,D=o-A,I=r+a,H=r-a,M=s+i,R=s-i,P=L+M,V=L-M,j=Q+I,z=Q-I;e[d]=P+j,e[d+32]=P-j;var K=.707106781*(z+V);e[d+16]=V+K,e[d+48]=V-K;var W=.382683433*((P=R+H)-(z=D+N)),G=.5411961*P+W,q=1.306562965*z+W,Z=.707106781*(j=H+D),X=N+Z,J=N-Z;e[d+40]=J+G,e[d+24]=J-G,e[d+8]=X+q,e[d+56]=X-q,d++}for(c=0;c<64;++c)u=e[c]*t[c],m[c]=u>0?u+.5|0:u-.5|0;return m}(e,t),l=0;l<64;++l)h[C[l]]=A[l];var c=h[0]-n;n=h[0],0==c?L(o[0]):(L(o[d[s=32767+c]]),L(u[s]));for(var g=63;g>0&&0==h[g];)g--;if(0==g)return L(i),n;for(var p,f=1;f<=g;){for(var b=f;0==h[f]&&f<=g;)++f;var v=f-b;if(v>=16){p=v>>4;for(var w=1;w<=p;++w)L(a);v&=15}s=32767+h[f],L(r[(v<<4)+d[s]]),L(u[s]),f++}return 63!=g&&L(i),n}function I(e){e=Math.min(Math.max(e,1),100),s!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var o=i((t[n]*e+50)/100);o=Math.min(Math.max(o,1),255),a[C[n]]=o}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var u=i((r[s]*e+50)/100);u=Math.min(Math.max(u,1),255),A[C[s]]=u}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],m=0,h=0;h<8;h++)for(var g=0;g<8;g++)l[m]=1/(a[C[m]]*d[h]*d[g]*8),c[m]=1/(A[C[m]]*d[h]*d[g]*8),m++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),s=e)}this.encode=function(e,s){s&&I(s),g=new Array,p=0,f=7,Q(65496),Q(65504),Q(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),Q(1),Q(1),N(0),N(0),function(){Q(65499),Q(132),N(0);for(var e=0;e<64;e++)N(a[e]);N(1);for(var t=0;t<64;t++)N(A[t])}(),function(e,t){Q(65472),Q(17),N(8),Q(t),Q(e),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1)}(e.width,e.height),function(){Q(65476),Q(418),N(0);for(var e=0;e<16;e++)N(x[e+1]);for(var t=0;t<=11;t++)N(S[t]);N(16);for(var n=0;n<16;n++)N(F[n+1]);for(var o=0;o<=161;o++)N(k[o]);N(1);for(var r=0;r<16;r++)N(E[r+1]);for(var s=0;s<=11;s++)N(_[s]);N(17);for(var i=0;i<16;i++)N(O[i+1]);for(var a=0;a<=161;a++)N(U[a])}(),Q(65498),Q(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0);var i=0,u=0,d=0;p=0,f=7,this.encode.displayName="_encode_";for(var m,h,y,C,T,H,M,R,P,V=e.data,j=e.width,z=e.height,K=4*j,W=0;W<z;){for(m=0;m<K;){for(T=K*W+m,M=-1,R=0,P=0;P<64;P++)H=T+(R=P>>3)*K+(M=4*(7&P)),W+R>=z&&(H-=K*(W+1+R-z)),m+M>=K&&(H-=m+M-K+4),h=V[H++],y=V[H++],C=V[H++],b[P]=(B[h]+B[y+256|0]+B[C+512|0]>>16)-128,v[P]=(B[h+768|0]+B[y+1024|0]+B[C+1280|0]>>16)-128,w[P]=(B[h+1280|0]+B[y+1536|0]+B[C+1792|0]>>16)-128;i=D(b,l,i,t,o),u=D(v,c,u,n,r),d=D(w,c,d,n,r),m+=32}W+=8}if(f>=0){var G=[];G[1]=f+1,G[0]=(1<<f+1)-1,L(G)}return Q(65497),new Uint8Array(g)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)y[t]=e(t)}(),t=T(x,S),n=T(E,_),o=T(F,k),r=T(O,U),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var o=e;o<t;o++)d[32767+o]=n,u[32767+o]=[],u[32767+o][1]=n,u[32767+o][0]=o;for(var r=-(t-1);r<=-e;r++)d[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=t-1+r;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)B[e]=19595*e,B[e+256|0]=38470*e,B[e+512|0]=7471*e+32768,B[e+768|0]=-11059*e,B[e+1024|0]=-21709*e,B[e+1280|0]=32768*e+8421375,B[e+1536|0]=-27439*e,B[e+1792|0]=-5329*e}(),I(e)}
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fn(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function kn(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var o=0;4>o;o++)if(e[t+o]!=n.charCodeAt(o))return!0;return!1}function o(e,t,n,o,r){for(var s=0;s<r;s++)e[t+s]=n[o+s]}function r(e,t,n,o){for(var r=0;r<o;r++)e[t+r]=n}function s(e){return new Int32Array(e)}function i(e,t){for(var n=[],o=0;o<e;o++)n.push(new t);return n}function a(e,t){var n=[];return function e(n,o,r){for(var s=r[o],i=0;i<s&&(n.push(r.length>o+1?[]:new t),!(r.length<o+1));i++)e(n[i],o+1,r)}(n,0,e),n}var A=function(){var e=this;function A(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function l(e,n,o,r,s){t(!(r%o));do{e[n+(r-=o)]=s}while(0<r)}function c(e,n,o,r,i){if(t(2328>=i),512>=i)var a=s(512);else if(null==(a=s(i)))return 0;return function(e,n,o,r,i,a){var c,d,m=n,h=1<<o,g=s(16),p=s(16);for(t(0!=i),t(null!=r),t(null!=e),t(0<o),d=0;d<i;++d){if(15<r[d])return 0;++g[r[d]]}if(g[0]==i)return 0;for(p[1]=0,c=1;15>c;++c){if(g[c]>1<<c)return 0;p[c+1]=p[c]+g[c]}for(d=0;d<i;++d)c=r[d],0<r[d]&&(a[p[c]++]=d);if(1==p[15])return(r=new u).g=0,r.value=a[0],l(e,m,1,h,r),h;var f,b=-1,v=h-1,w=0,y=1,B=1,C=1<<o;for(d=0,c=1,i=2;c<=o;++c,i<<=1){if(y+=B<<=1,0>(B-=g[c]))return 0;for(;0<g[c];--g[c])(r=new u).g=c,r.value=a[d++],l(e,m+w,i,C,r),w=A(w,c)}for(c=o+1,i=2;15>=c;++c,i<<=1){if(y+=B<<=1,0>(B-=g[c]))return 0;for(;0<g[c];--g[c]){if(r=new u,(w&v)!=b){for(m+=C,f=1<<(b=c)-o;15>b&&!(0>=(f-=g[b]));)++b,f<<=1;h+=C=1<<(f=b-o),e[n+(b=w&v)].g=f+o,e[n+b].value=m-n-b}r.g=c-o,r.value=a[d++],l(e,m+(w>>o),i,C,r),w=A(w,c)}}return y!=2*p[15]-1?0:h}(e,n,o,r,i,a)}function u(){this.value=this.g=0}function d(){this.value=this.g=0}function m(){this.G=i(5,u),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Mn,d)}function h(e,n,o,r){t(null!=e),t(null!=n),t(2147483648>r),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=o,e.Jd=n,e.Yc=o+r,e.Zc=4<=r?o+r-4+1:o,F(e)}function g(e,t){for(var n=0;0<t--;)n|=E(e,128)<<t;return n}function p(e,t){var n=g(e,t);return k(e)?-n:n}function f(e,n,o,r){var s,i=0;for(t(null!=e),t(null!=n),t(4294967288>r),e.Sb=r,e.Ra=0,e.u=0,e.h=0,4<r&&(r=4),s=0;s<r;++s)i+=n[o+s]<<8*s;e.Ra=i,e.bb=r,e.oa=n,e.pa=o}function b(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Vn-8>>>0,++e.bb,e.u-=8;C(e)&&(e.h=1,e.u=0)}function v(e,n){if(t(0<=n),!e.h&&n<=Pn){var o=B(e)&Rn[n];return e.u+=n,b(e),o}return e.h=1,e.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(e){return e.Ra>>>(e.u&Vn-1)>>>0}function C(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Vn}function x(e,t){e.u=t,e.h=C(e)}function S(e){e.u>=jn&&(t(e.u>=jn),b(e))}function F(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function k(e){return g(e,1)}function E(e,t){var n=e.Ca;0>e.b&&F(e);var o=e.b,r=n*t>>>8,s=(e.I>>>o>r)+0;for(s?(n-=r,e.I-=r+1<<o>>>0):n=r+1,o=n,r=0;256<=o;)r+=8,o>>=8;return o=7^r+zn[o],e.b-=o,e.Ca=(n<<o)-1,s}function _(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function O(e,t){return e[t+0]|e[t+1]<<8}function U(e,t){return O(e,t)|e[t+2]<<16}function T(e,t){return O(e,t)|O(e,t+2)<<16}function L(e,n){var o=1<<n;return t(null!=e),t(0<n),e.X=s(o),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function N(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),o(n.X,0,e.X,0,1<<n.Xa)}function Q(){this.X=[],this.Xa=this.Mb=0}function D(e,n,o,r){t(null!=o),t(null!=r);var s=o[0],i=r[0];return 0==s&&(s=(e*i+n/2)/n),0==i&&(i=(n*s+e/2)/e),0>=s||0>=i?0:(o[0]=s,r[0]=i,1)}function I(e,t){return e+(1<<t)-1>>>t}function H(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function M(t,n){e[n]=function(n,o,r,s,i,a,A){var l;for(l=0;l<i;++l){var c=e[t](a[A+l-1],r,s+l);a[A+l]=H(n[o+l],c)}}}function R(){this.ud=this.hd=this.jd=0}function P(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function V(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function j(e,t){return V(e+(e-t+.5>>1))}function z(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function K(e,t,n,o,r,s,i){for(o=s[i-1],n=0;n<r;++n)s[i+n]=o=H(e[t+n],o)}function W(e,t,n,o,r){var s;for(s=0;s<n;++s){var i=e[t+s],a=i>>8&255,A=16711935&(A=(A=16711935&i)+((a<<16)+a));o[r+s]=(4278255360&i)+A>>>0}}function G(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function q(e,t,n,o,r,s){var i;for(i=0;i<o;++i){var a=t[n+i],A=a>>>8,l=a,c=255&(c=(c=a>>>16)+((e.jd<<24>>24)*(A<<24>>24)>>>5));l=255&(l=(l+=(e.hd<<24>>24)*(A<<24>>24)>>>5)+((e.ud<<24>>24)*(c<<24>>24)>>>5)),r[s+i]=(4278255360&a)+(c<<16)+l}}function Z(t,n,o,r,s){e[n]=function(e,t,n,o,i,a,A,l,c){for(o=A;o<l;++o)for(A=0;A<c;++A)i[a++]=s(n[r(e[t++])])},e[t]=function(t,n,i,a,A,l,c){var u=8>>t.b,d=t.Ea,m=t.K[0],h=t.w;if(8>u)for(t=(1<<t.b)-1,h=(1<<u)-1;n<i;++n){var g,p=0;for(g=0;g<d;++g)g&t||(p=r(a[A++])),l[c++]=s(m[p&h]),p>>=u}else e["VP8LMapColor"+o](a,A,m,h,l,c,n,i,d)}}function X(e,t,n,o,r){for(n=t+n;t<n;){var s=e[t++];o[r++]=s>>16&255,o[r++]=s>>8&255,o[r++]=255&s}}function J(e,t,n,o,r){for(n=t+n;t<n;){var s=e[t++];o[r++]=s>>16&255,o[r++]=s>>8&255,o[r++]=255&s,o[r++]=s>>24&255}}function Y(e,t,n,o,r){for(n=t+n;t<n;){var s=(i=e[t++])>>16&240|i>>12&15,i=240&i|i>>28&15;o[r++]=s,o[r++]=i}}function $(e,t,n,o,r){for(n=t+n;t<n;){var s=(i=e[t++])>>16&248|i>>13&7,i=i>>5&224|i>>3&31;o[r++]=s,o[r++]=i}}function ee(e,t,n,o,r){for(n=t+n;t<n;){var s=e[t++];o[r++]=255&s,o[r++]=s>>8&255,o[r++]=s>>16&255}}function te(e,t,n,r,s,i){if(0==i)for(n=t+n;t<n;)_(r,((i=e[t++])[0]>>24|i[1]>>8&65280|i[2]<<8&16711680|i[3]<<24)>>>0),s+=32;else o(r,s,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function oe(e){return e==zo||e==Ko||e==Wo||e==Go}function re(){this.eb=[],this.size=this.A=this.fb=0}function se(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new re,this.f.kb=new se,this.sd=null}function ae(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ae(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function le(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ce(e,t){var n=e.T,r=t.ba.f.RGBA,s=r.eb,i=r.fb+e.ka*r.A,a=br[t.ba.S],A=e.y,l=e.O,c=e.f,u=e.N,d=e.ea,m=e.W,h=t.cc,g=t.dc,p=t.Mc,f=t.Nc,b=e.ka,v=e.ka+e.T,w=e.U,y=w+1>>1;for(0==b?a(A,l,null,null,c,u,d,m,c,u,d,m,s,i,null,null,w):(a(t.ec,t.fc,A,l,h,g,p,f,c,u,d,m,s,i-r.A,s,i,w),++n);b+2<v;b+=2)h=c,g=u,p=d,f=m,u+=e.Rc,m+=e.Rc,i+=2*r.A,a(A,(l+=2*e.fa)-e.fa,A,l,h,g,p,f,c,u,d,m,s,i-r.A,s,i,w);return l+=e.fa,e.j+v<e.o?(o(t.ec,t.fc,A,l,w),o(t.cc,t.dc,c,u,y),o(t.Mc,t.Nc,d,m,y),n--):1&v||a(A,l,null,null,c,u,d,m,c,u,d,m,s,i+r.A,null,null,w),n}function ue(e,n,o){var r=e.F,s=[e.J];if(null!=r){var i=e.U,a=n.ba.S,A=a==Po||a==Wo;n=n.ba.f.RGBA;var l=[0],c=e.ka;l[0]=e.T,e.Kb&&(0==c?--l[0]:(--c,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(l[0]=e.o-e.j-c));var u=n.eb;c=n.fb+c*n.A,e=Fo(r,s[0],e.width,i,l,u,c+(A?0:3),n.A),t(o==l),e&&oe(a)&&xo(u,c,A,i,l,n.A)}return 0}function de(e){var t=e.ma,n=t.ba.S,o=11>n,r=n==Ho||n==Ro||n==Po||n==Vo||12==n||oe(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Dn(t.Oa,e,r?11:12))return 0;if(r&&oe(n)&&vn(),e.da)alert("todo:use_scaling");else{if(o){if(t.Ib=le,e.Kb){if(n=e.U+1>>1,t.memory=s(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ce,vn()}}else alert("todo:EmitYUV");r&&(t.Jb=ue,o&&fn())}if(o&&!Tr){for(e=0;256>e;++e)Lr[e]=89858*(e-128)+kr>>Fr,Dr[e]=-22014*(e-128)+kr,Qr[e]=-45773*(e-128),Nr[e]=113618*(e-128)+kr>>Fr;for(e=Er;e<_r;++e)t=76283*(e-16)+kr>>Fr,Ir[e-Er]=Ke(t,255),Hr[e-Er]=Ke(t+8>>4,15);Tr=1}return 1}function me(e){var n=e.ma,o=e.U,r=e.T;return t(!(1&e.ka)),0>=o||0>=r?0:(o=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,o),n.Dc+=o,1)}function he(e){e.ma.memory=null}function ge(e,t,n,o){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,n[0]=v(e,14)+1,o[0]=v(e,1),0!=v(e,3)?0:!e.h)}function pe(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+v(t,n)+1}function fe(e,t){return 120<t?t-120:1<=(n=((n=$o[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function be(e,t,n){var o=B(n),r=e[t+=255&o].g-8;return 0<r&&(x(n,n.u+8),o=B(n),t+=e[t].value,t+=o&(1<<r)-1),x(n,n.u+e[t].g),e[t].value}function ve(e,n,o){return o.g+=e.g,o.value+=e.value<<n>>>0,t(8>=o.g),e.g}function we(e,n,o){var r=e.xc;return t((n=0==r?0:e.vc[e.md*(o>>r)+(n>>r)])<e.Wb),e.Ya[n]}function ye(e,n,r,s){var i=e.ab,a=e.c*n,A=e.C;n=A+n;var l=r,c=s;for(s=e.Ta,r=e.Ua;0<i--;){var u=e.gc[i],d=A,m=n,h=l,g=c,p=(c=s,l=r,u.Ea);switch(t(d<m),t(m<=u.nc),u.hc){case 2:Gn(h,g,(m-d)*p,c,l);break;case 0:var f=d,b=m,v=c,w=l,y=(F=u).Ea;0==f&&(Kn(h,g,null,null,1,v,w),K(h,g+1,0,0,y-1,v,w+1),g+=y,w+=y,++f);for(var B=1<<F.b,C=B-1,x=I(y,F.b),S=F.K,F=F.w+(f>>F.b)*x;f<b;){var k=S,E=F,_=1;for(Wn(h,g,v,w-y,1,v,w);_<y;){var O=(_&~C)+B;O>y&&(O=y),(0,Yn[k[E++]>>8&15])(h,g+ +_,v,w+_-y,O-_,v,w+_),_=O}g+=y,w+=y,++f&C||(F+=x)}m!=u.nc&&o(c,l-p,c,l+(m-d-1)*p,p);break;case 1:for(p=h,b=g,y=(h=u.Ea)-(w=h&~(v=(g=1<<u.b)-1)),f=I(h,u.b),B=u.K,u=u.w+(d>>u.b)*f;d<m;){for(C=B,x=u,S=new R,F=b+w,k=b+h;b<F;)G(C[x++],S),$n(S,p,b,g,c,l),b+=g,l+=g;b<k&&(G(C[x++],S),$n(S,p,b,y,c,l),b+=y,l+=y),++d&v||(u+=f)}break;case 3:if(h==c&&g==l&&0<u.b){for(b=c,h=p=l+(m-d)*p-(w=(m-d)*I(u.Ea,u.b)),g=c,v=l,f=[],w=(y=w)-1;0<=w;--w)f[w]=g[v+w];for(w=y-1;0<=w;--w)b[h+w]=f[w];qn(u,d,m,c,p,c,l)}else qn(u,d,m,h,g,c,l)}l=s,c=r}c!=r&&o(s,r,l,c,a)}function Be(e,n){var o=e.V,r=e.Ba+e.c*e.C,s=n-e.C;if(t(n<=e.l.o),t(16>=s),0<s){var i=e.l,a=e.Ta,A=e.Ua,l=i.width;if(ye(e,s,o,r),s=A=[A],t((o=e.C)<(r=n)),t(i.v<i.va),r>i.o&&(r=i.o),o<i.j){var c=i.j-o;o=i.j,s[0]+=c*l}if(o>=r?o=0:(s[0]+=4*i.v,i.ka=o-i.j,i.U=i.va-i.v,i.T=r-o,o=1),o){if(A=A[0],11>(o=e.ca).S){var u=o.f.RGBA,d=(r=o.S,s=i.U,i=i.T,c=u.eb,u.A),m=i;for(u=u.fb+e.Ma*u.A;0<m--;){var h=a,g=A,p=s,f=c,b=u;switch(r){case Io:eo(h,g,p,f,b);break;case Ho:to(h,g,p,f,b);break;case zo:to(h,g,p,f,b),xo(f,b,0,p,1,0);break;case Mo:ro(h,g,p,f,b);break;case Ro:te(h,g,p,f,b,1);break;case Ko:te(h,g,p,f,b,1),xo(f,b,0,p,1,0);break;case Po:te(h,g,p,f,b,0);break;case Wo:te(h,g,p,f,b,0),xo(f,b,1,p,1,0);break;case Vo:no(h,g,p,f,b);break;case Go:no(h,g,p,f,b),So(f,b,p,1,0);break;case jo:oo(h,g,p,f,b);break;default:t(0)}A+=l,u+=d}e.Ma+=i}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=o.height)}}e.C=n,t(e.C<=e.i)}function Ce(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,o=e.Ya[t].H;if(0<n[1][o[1]+0].g||0<n[2][o[2]+0].g||0<n[3][o[3]+0].g)return 0}return 1}function xe(e,n,o,r,s,i){if(0!=e.Z){var a=e.qd,A=e.rd;for(t(null!=fr[e.Z]);n<o;++n)fr[e.Z](a,A,r,s,r,s,i),a=r,A=s,s+=i;e.qd=a,e.rd=A}}function Se(e,n){var o=e.l.ma,r=0==o.Z||1==o.Z?e.l.j:e.C;if(r=e.C<r?r:e.C,t(n<=e.l.o),n>r){var s=e.l.width,i=o.ca,a=o.tb+s*r,A=e.V,l=e.Ba+e.c*r,c=e.gc;t(1==e.ab),t(3==c[0].hc),Xn(c[0],r,n,A,l,i,a),xe(o,r,n,i,a,s)}e.C=e.Ma=n}function Fe(e,n,o,r,s,i,a){var A=e.$/r,l=e.$%r,c=e.m,u=e.s,d=o+e.$,m=d;s=o+r*s;var h=o+r*i,g=280+u.ua,p=e.Pb?A:16777216,f=0<u.ua?u.Wa:null,b=u.wc,v=d<h?we(u,l,A):null;t(e.C<i),t(h<=s);var w=!1;e:for(;;){for(;w||d<h;){var y=0;if(A>=p){var F=d-o;t((p=e).Pb),p.wd=p.m,p.xd=F,0<p.s.ua&&N(p.s.Wa,p.s.vb),p=A+tr}if(l&b||(v=we(u,l,A)),t(null!=v),v.Qb&&(n[d]=v.qb,w=!0),!w)if(S(c),v.jc){y=c,F=n;var k=d,E=v.pd[B(y)&Mn-1];t(v.jc),256>E.g?(x(y,y.u+E.g),F[k]=E.value,y=0):(x(y,y.u+E.g-256),t(256<=E.value),y=E.value),0==y&&(w=!0)}else y=be(v.G[0],v.H[0],c);if(c.h)break;if(w||256>y){if(!w)if(v.nd)n[d]=(v.qb|y<<8)>>>0;else{if(S(c),w=be(v.G[1],v.H[1],c),S(c),F=be(v.G[2],v.H[2],c),k=be(v.G[3],v.H[3],c),c.h)break;n[d]=(k<<24|w<<16|y<<8|F)>>>0}if(w=!1,++d,++l>=r&&(l=0,++A,null!=a&&A<=i&&!(A%16)&&a(e,A),null!=f))for(;m<d;)y=n[m++],f.X[(506832829*y&4294967295)>>>f.Mb]=y}else if(280>y){if(y=pe(y-256,c),F=be(v.G[4],v.H[4],c),S(c),F=fe(r,F=pe(F,c)),c.h)break;if(d-o<F||s-d<y)break e;for(k=0;k<y;++k)n[d+k]=n[d+k-F];for(d+=y,l+=y;l>=r;)l-=r,++A,null!=a&&A<=i&&!(A%16)&&a(e,A);if(t(d<=s),l&b&&(v=we(u,l,A)),null!=f)for(;m<d;)y=n[m++],f.X[(506832829*y&4294967295)>>>f.Mb]=y}else{if(!(y<g))break e;for(w=y-280,t(null!=f);m<d;)y=n[m++],f.X[(506832829*y&4294967295)>>>f.Mb]=y;y=d,t(!(w>>>(F=f).Xa)),n[y]=F.X[w],w=!0}w||t(c.h==C(c))}if(e.Pb&&c.h&&d<s)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&N(e.s.vb,e.s.Wa);else{if(c.h)break e;null!=a&&a(e,A>i?i:A),e.a=0,e.$=d-o}return 1}return e.a=3,0}function ke(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ee(){var t=new an;return null==t?null:(t.a=0,t.xb=pr,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Gn=W,$n=q,eo=X,to=J,no=Y,oo=$,ro=ee,e.VP8LMapColor32b=Zn,e.VP8LMapColor8b=Jn,t)}function _e(e,n,o,a,A){var l=1,d=[e],h=[n],g=a.m,p=a.s,f=null,b=0;e:for(;;){if(o)for(;l&&v(g,1);){var w=d,y=h,C=a,F=1,k=C.m,E=C.gc[C.ab],_=v(k,2);if(C.Oc&1<<_)l=0;else{switch(C.Oc|=1<<_,E.hc=_,E.Ea=w[0],E.nc=y[0],E.K=[null],++C.ab,t(4>=C.ab),_){case 0:case 1:E.b=v(k,3)+2,F=_e(I(E.Ea,E.b),I(E.nc,E.b),0,C,E.K),E.K=E.K[0];break;case 3:var O,U=v(k,8)+1,T=16<U?0:4<U?1:2<U?2:3;if(w[0]=I(E.Ea,T),E.b=T,O=F=_e(U,1,0,C,E.K)){var N,Q=U,D=E,M=1<<(8>>D.b),R=s(M);if(null==R)O=0;else{var P=D.K[0],V=D.w;for(R[0]=D.K[0][0],N=1;N<1*Q;++N)R[N]=H(P[V+N],R[N-1]);for(;N<4*M;++N)R[N]=0;D.K[0]=null,D.K[0]=R,O=1}}F=O;break;case 2:break;default:t(0)}l=F}}if(d=d[0],h=h[0],l&&v(g,1)&&!(l=1<=(b=v(g,4))&&11>=b)){a.a=3;break e}var j;if(j=l)t:{var z,K,W,G=a,q=d,Z=h,X=b,J=o,Y=G.m,$=G.s,ee=[null],te=1,ne=0,oe=er[X];n:for(;;){if(J&&v(Y,1)){var re=v(Y,3)+2,se=I(q,re),ie=I(Z,re),ae=se*ie;if(!_e(se,ie,0,G,ee))break n;for(ee=ee[0],$.xc=re,z=0;z<ae;++z){var Ae=ee[z]>>8&65535;ee[z]=Ae,Ae>=te&&(te=Ae+1)}}if(Y.h)break n;for(K=0;5>K;++K){var le=Xo[K];!K&&0<X&&(le+=1<<X),ne<le&&(ne=le)}var ce=i(te*oe,u),ue=te,de=i(ue,m);if(null==de)var me=null;else t(65536>=ue),me=de;var he=s(ne);if(null==me||null==he||null==ce){G.a=1;break n}var ge=ce;for(z=W=0;z<te;++z){var pe=me[z],fe=pe.G,be=pe.H,we=0,ye=1,Be=0;for(K=0;5>K;++K){le=Xo[K],fe[K]=ge,be[K]=W,!K&&0<X&&(le+=1<<X);o:{var Ce,xe=le,Se=G,Ee=he,Oe=ge,Ue=W,Te=0,Le=Se.m,Ne=v(Le,1);if(r(Ee,0,0,xe),Ne){var Qe=v(Le,1)+1,De=v(Le,1),Ie=v(Le,0==De?1:8);Ee[Ie]=1,2==Qe&&(Ee[Ie=v(Le,8)]=1);var He=1}else{var Me=s(19),Re=v(Le,4)+4;if(19<Re){Se.a=3;var Pe=0;break o}for(Ce=0;Ce<Re;++Ce)Me[Yo[Ce]]=v(Le,3);var Ve=void 0,je=void 0,ze=Se,Ke=Me,We=xe,Ge=Ee,qe=0,Ze=ze.m,Xe=8,Je=i(128,u);r:for(;c(Je,0,7,Ke,19);){if(v(Ze,1)){var Ye=2+2*v(Ze,3);if((Ve=2+v(Ze,Ye))>We)break r}else Ve=We;for(je=0;je<We&&Ve--;){S(Ze);var $e=Je[0+(127&B(Ze))];x(Ze,Ze.u+$e.g);var et=$e.value;if(16>et)Ge[je++]=et,0!=et&&(Xe=et);else{var tt=16==et,nt=et-16,ot=Zo[nt],rt=v(Ze,qo[nt])+ot;if(je+rt>We)break r;for(var st=tt?Xe:0;0<rt--;)Ge[je++]=st}}qe=1;break r}qe||(ze.a=3),He=qe}(He=He&&!Le.h)&&(Te=c(Oe,Ue,8,Ee,xe)),He&&0!=Te?Pe=Te:(Se.a=3,Pe=0)}if(0==Pe)break n;if(ye&&1==Jo[K]&&(ye=0==ge[W].g),we+=ge[W].g,W+=Pe,3>=K){var it,at=he[0];for(it=1;it<le;++it)he[it]>at&&(at=he[it]);Be+=at}}if(pe.nd=ye,pe.Qb=0,ye&&(pe.qb=(fe[3][be[3]+0].value<<24|fe[1][be[1]+0].value<<16|fe[2][be[2]+0].value)>>>0,0==we&&256>fe[0][be[0]+0].value&&(pe.Qb=1,pe.qb+=fe[0][be[0]+0].value<<8)),pe.jc=!pe.Qb&&6>Be,pe.jc){var At,lt=pe;for(At=0;At<Mn;++At){var ct=At,ut=lt.pd[ct],dt=lt.G[0][lt.H[0]+ct];256<=dt.value?(ut.g=dt.g+256,ut.value=dt.value):(ut.g=0,ut.value=0,ct>>=ve(dt,8,ut),ct>>=ve(lt.G[1][lt.H[1]+ct],16,ut),ct>>=ve(lt.G[2][lt.H[2]+ct],0,ut),ve(lt.G[3][lt.H[3]+ct],24,ut))}}}$.vc=ee,$.Wb=te,$.Ya=me,$.yc=ce,j=1;break t}j=0}if(!(l=j)){a.a=3;break e}if(0<b){if(p.ua=1<<b,!L(p.Wa,b)){a.a=1,l=0;break e}}else p.ua=0;var mt=a,ht=d,gt=h,pt=mt.s,ft=pt.xc;if(mt.c=ht,mt.i=gt,pt.md=I(ht,ft),pt.wc=0==ft?-1:(1<<ft)-1,o){a.xb=gr;break e}if(null==(f=s(d*h))){a.a=1,l=0;break e}l=(l=Fe(a,f,0,d,h,h,null))&&!g.h;break e}return l?(null!=A?A[0]=f:(t(null==f),t(o)),a.$=0,o||ke(p)):ke(p),l}function Oe(e,n){var o=e.c*e.i,r=o+n+16*n;return t(e.c<=n),e.V=s(r),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+o+n,1)}function Ue(e,n){var o=e.C,r=n-o,s=e.V,i=e.Ba+e.c*o;for(t(n<=e.l.o);0<r;){var a=16<r?16:r,A=e.l.ma,l=e.l.width,c=l*a,u=A.ca,d=A.tb+l*o,m=e.Ta,h=e.Ua;ye(e,a,s,i),ko(m,h,u,d,c),xe(A,o,o+a,u,d,l),r-=a,s+=a*e.c,o+=a}t(o==n),e.C=e.Ma=n}function Te(){this.ub=this.yd=this.td=this.Rb=0}function Le(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ne(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Qe(){this.Yb=function(){var e=[];return function e(t,n,o){for(var r=o[n],s=0;s<r&&(t.push(o.length>n+1?[]:0),!(o.length<n+1));s++)e(t[s],n+1,o)}(e,0,[3,11]),e}()}function De(){this.jb=s(3),this.Wc=a([4,8],Qe),this.Xc=a([4,17],Qe)}function Ie(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function He(){this.ld=this.La=this.dd=this.tc=0}function Me(){this.Na=this.la=0}function Re(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pe(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ve(){this.uc=this.M=this.Nb=0,this.wa=Array(new He),this.Y=0,this.ya=Array(new Pe),this.aa=0,this.l=new We}function je(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ze(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new Te,this.Kc=new Le,this.ed=new Ie,this.Qa=new Ne,this.Ic=this.$c=this.Aa=0,this.D=new Ve,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,w),this.ia=0,this.pb=i(4,Re),this.Pa=new De,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new je),this.Hd=0,this.rb=Array(new Me),this.sb=0,this.wa=Array(new He),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pe),this.L=this.aa=0,this.gd=a([4,2],He),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ke(e,t){return 0>e?0:e>t?t:e}function We(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new ze;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,rr||(rr=Je)),e}function qe(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ze(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Xe(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return qe(e,2,"null VP8Io passed to VP8GetHeaders()");var o=n.data,s=n.w,i=n.ha;if(4>i)return qe(e,7,"Truncated header.");var a=o[s+0]|o[s+1]<<8|o[s+2]<<16,A=e.Od;if(A.Rb=!(1&a),A.td=a>>1&7,A.yd=a>>4&1,A.ub=a>>5,3<A.td)return qe(e,3,"Incorrect keyframe parameters.");if(!A.yd)return qe(e,4,"Frame not displayable.");s+=3,i-=3;var l=e.Kc;if(A.Rb){if(7>i)return qe(e,7,"cannot parse picture header");if(!Ze(o,s,i))return qe(e,3,"Bad code word");l.c=16383&(o[s+4]<<8|o[s+3]),l.Td=o[s+4]>>6,l.i=16383&(o[s+6]<<8|o[s+5]),l.Ud=o[s+6]>>6,s+=7,i-=7,e.za=l.c+15>>4,e.Ub=l.i+15>>4,n.width=l.c,n.height=l.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,r((a=e.Pa).jb,0,255,a.jb.length),t(null!=(a=e.Qa)),a.Cb=0,a.Bb=0,a.Fb=1,r(a.Zb,0,0,a.Zb.length),r(a.Lb,0,0,a.Lb)}if(A.ub>i)return qe(e,7,"bad partition length");h(a=e.m,o,s,A.ub),s+=A.ub,i-=A.ub,A.Rb&&(l.Ld=k(a),l.Kd=k(a)),l=e.Qa;var c,u=e.Pa;if(t(null!=a),t(null!=l),l.Cb=k(a),l.Cb){if(l.Bb=k(a),k(a)){for(l.Fb=k(a),c=0;4>c;++c)l.Zb[c]=k(a)?p(a,7):0;for(c=0;4>c;++c)l.Lb[c]=k(a)?p(a,6):0}if(l.Bb)for(c=0;3>c;++c)u.jb[c]=k(a)?g(a,8):255}else l.Bb=0;if(a.Ka)return qe(e,3,"cannot parse segment header");if((l=e.ed).zd=k(a),l.Tb=g(a,6),l.wb=g(a,3),l.Pc=k(a),l.Pc&&k(a)){for(u=0;4>u;++u)k(a)&&(l.vd[u]=p(a,6));for(u=0;4>u;++u)k(a)&&(l.od[u]=p(a,6))}if(e.L=0==l.Tb?0:l.zd?1:2,a.Ka)return qe(e,3,"cannot parse filter header");var d=i;if(i=c=s,s=c+d,l=d,e.Xb=(1<<g(e.m,2))-1,d<3*(u=e.Xb))o=7;else{for(c+=3*u,l-=3*u,d=0;d<u;++d){var m=o[i+0]|o[i+1]<<8|o[i+2]<<16;m>l&&(m=l),h(e.Jc[+d],o,c,m),c+=m,l-=m,i+=3}h(e.Jc[+u],o,c,l),o=c<s?0:5}if(0!=o)return qe(e,o,"cannot parse partitions");for(o=g(c=e.m,7),i=k(c)?p(c,4):0,s=k(c)?p(c,4):0,l=k(c)?p(c,4):0,u=k(c)?p(c,4):0,c=k(c)?p(c,4):0,d=e.Qa,m=0;4>m;++m){if(d.Cb){var f=d.Zb[m];d.Fb||(f+=o)}else{if(0<m){e.pb[m]=e.pb[0];continue}f=o}var b=e.pb[m];b.Sc[0]=nr[Ke(f+i,127)],b.Sc[1]=or[Ke(f+0,127)],b.Eb[0]=2*nr[Ke(f+s,127)],b.Eb[1]=101581*or[Ke(f+l,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=nr[Ke(f+u,117)],b.Qc[1]=or[Ke(f+c,127)],b.lc=f+c}if(!A.Rb)return qe(e,4,"Not a key frame.");for(k(a),A=e.Pa,o=0;4>o;++o){for(i=0;8>i;++i)for(s=0;3>s;++s)for(l=0;11>l;++l)u=E(a,cr[o][i][s][l])?g(a,8):Ar[o][i][s][l],A.Wc[o][i].Yb[s][l]=u;for(i=0;17>i;++i)A.Xc[o][i]=A.Wc[o][ur[i]]}return e.kc=k(a),e.kc&&(e.Bd=g(a,8)),e.cb=1}function Je(e,t,n,o,r,s,i){var a=t[r].Yb[n];for(n=0;16>r;++r){if(!E(e,a[n+0]))return r;for(;!E(e,a[n+1]);)if(a=t[++r].Yb[0],n=0,16==r)return 16;var A=t[r+1].Yb;if(E(e,a[n+2])){var l=e,c=0;if(E(l,(d=a)[(u=n)+3]))if(E(l,d[u+6])){for(a=0,u=2*(c=E(l,d[u+8]))+(d=E(l,d[u+9+c])),c=0,d=sr[u];d[a];++a)c+=c+E(l,d[a]);c+=3+(8<<u)}else E(l,d[u+7])?(c=7+2*E(l,165),c+=E(l,145)):c=5+E(l,159);else c=E(l,d[u+4])?3+E(l,d[u+5]):2;a=A[2]}else c=1,a=A[1];A=i+ir[r],0>(l=e).b&&F(l);var u,d=l.b,m=(u=l.Ca>>1)-(l.I>>d)>>31;--l.b,l.Ca+=m,l.Ca|=1,l.I-=(u+1&m)<<d,s[A]=((c^m)-m)*o[(0<r)+0]}return 16}function Ye(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,r(e.zc,0,0,e.zc.length),e.ja=0}function $e(e,n){if(null==e)return 0;if(null==n)return qe(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Xe(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var a=Rr[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-a>>4,e.zb=n.j-a>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+a>>4,e.Hb=n.va+15+a>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var A=e.ed;for(a=0;4>a;++a){var l;if(e.Qa.Cb){var c=e.Qa.Lb[a];e.Qa.Fb||(c+=A.Tb)}else c=A.Tb;for(l=0;1>=l;++l){var u=e.gd[a][l],d=c;if(A.Pc&&(d+=A.vd[0],l&&(d+=A.od[0])),0<(d=0>d?0:63<d?63:d)){var m=d;0<A.wb&&(m=4<A.wb?m>>2:m>>1)>9-A.wb&&(m=9-A.wb),1>m&&(m=1),u.dd=m,u.tc=2*d+m,u.ld=40<=d?2:15<=d?1:0}else u.tc=0;u.La=l}}}a=0}else qe(e,6,"Frame setup failed"),a=e.a;if(a=0==a){if(a){e.$c=0,0<e.Aa||(e.Ic=Vr);e:{a=e.Ic,A=4*(m=e.za);var h=32*m,g=m+1,p=0<e.L?m*(0<e.Aa?2:1):0,f=(2==e.Aa?2:1)*m;if((u=A+832+(l=3*(16*a+Rr[e.L])/2*h)+(c=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)a=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=s(u),e.Fc=0,null==e.Ec){a=qe(e,1,"no memory during frame initialization.");break e}e.Vb=u}u=e.Ec,d=e.Fc,e.Ac=u,e.Bc=d,d+=A,e.Gd=i(h,je),e.Hd=0,e.rb=i(g+1,Me),e.sb=1,e.wa=p?i(p,He):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=m),t(!0),e.oc=u,e.pc=d,d+=832,e.ya=i(f,Pe),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=m),e.R=16*m,e.B=8*m,m=(h=Rr[e.L])*e.R,h=h/2*e.B,e.sa=u,e.ta=d+m,e.qa=e.sa,e.ra=e.ta+16*a*e.R+h,e.Ha=e.qa,e.Ia=e.ra+8*a*e.B+h,e.$c=0,d+=l,e.mb=c?u:null,e.nb=c?d:null,t(d+c<=e.Fc+e.Vb),Ye(e),r(e.Ac,e.Bc,0,A),a=1}}if(a){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!To){for(a=-255;255>=a;++a)Eo[255+a]=0>a?-a:a;for(a=-1020;1020>=a;++a)_o[1020+a]=-128>a?-128:127<a?127:a;for(a=-112;112>=a;++a)Oo[112+a]=-16>a?-16:15<a?15:a;for(a=-255;510>=a;++a)Uo[255+a]=0>a?0:255<a?255:a;To=1}so=lt,io=st,Ao=it,lo=at,co=At,ao=rt,uo=qt,mo=Zt,ho=Yt,go=$t,po=Xt,fo=Jt,bo=en,vo=tn,wo=Vt,yo=jt,Bo=zt,Co=Kt,mr[0]=xt,mr[1]=ut,mr[2]=Bt,mr[3]=Ct,mr[4]=St,mr[5]=kt,mr[6]=Ft,mr[7]=Et,mr[8]=Ot,mr[9]=_t,dr[0]=ft,dr[1]=mt,dr[2]=ht,dr[3]=gt,dr[4]=bt,dr[5]=vt,dr[6]=wt,hr[0]=Nt,hr[1]=dt,hr[2]=Ut,hr[3]=Tt,hr[4]=Dt,hr[5]=Qt,hr[6]=It,a=1}else a=0}a&&(a=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var i,a=e.Jc[e.M&e.Xb],A=e.m,l=e;for(i=0;i<l.za;++i){var c=A,u=l,d=u.Ac,m=u.Bc+4*i,h=u.zc,g=u.ya[u.aa+i];if(u.Qa.Bb?g.$b=E(c,u.Pa.jb[0])?2+E(c,u.Pa.jb[2]):E(c,u.Pa.jb[1]):g.$b=0,u.kc&&(g.Ad=E(c,u.Bd)),g.Za=!E(c,145)+0,g.Za){var p=g.Ob,f=0;for(u=0;4>u;++u){var b,v=h[0+u];for(b=0;4>b;++b){v=lr[d[m+b]][v];for(var w=ar[E(c,v[0])];0<w;)w=ar[2*w+E(c,v[w])];v=-w,d[m+b]=v}o(p,f,d,m,4),f+=4,h[0+u]=v}}else v=E(c,156)?E(c,128)?1:3:E(c,163)?2:0,g.Ob[0]=v,r(d,m,v,4),r(h,0,v,4);g.Dd=E(c,142)?E(c,114)?E(c,183)?1:3:2:0}if(l.m.Ka)return qe(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(l=a,c=(A=e).rb[A.sb-1],d=A.rb[A.sb+A.ja],i=A.ya[A.aa+A.ja],m=A.kc?i.Ad:0)c.la=d.la=0,i.Za||(c.Na=d.Na=0),i.Hc=0,i.Gc=0,i.ia=0;else{var y,B;if(c=d,d=l,m=A.Pa.Xc,h=A.ya[A.aa+A.ja],g=A.pb[h.$b],u=h.ad,p=0,f=A.rb[A.sb-1],v=b=0,r(u,p,0,384),h.Za)var C=0,x=m[3];else{w=s(16);var S=c.Na+f.Na;if(S=rr(d,m[1],S,g.Eb,0,w,0),c.Na=f.Na=(0<S)+0,1<S)so(w,0,u,p);else{var F=w[0]+3>>3;for(w=0;256>w;w+=16)u[p+w]=F}C=1,x=m[0]}var k=15&c.la,_=15&f.la;for(w=0;4>w;++w){var O=1&_;for(F=B=0;4>F;++F)k=k>>1|(O=(S=rr(d,x,S=O+(1&k),g.Sc,C,u,p))>C)<<7,B=B<<2|(3<S?3:1<S?2:0!=u[p+0]),p+=16;k>>=4,_=_>>1|O<<7,b=(b<<8|B)>>>0}for(x=k,C=_>>4,y=0;4>y;y+=2){for(B=0,k=c.la>>4+y,_=f.la>>4+y,w=0;2>w;++w){for(O=1&_,F=0;2>F;++F)S=O+(1&k),k=k>>1|(O=0<(S=rr(d,m[2],S,g.Qc,0,u,p)))<<3,B=B<<2|(3<S?3:1<S?2:0!=u[p+0]),p+=16;k>>=2,_=_>>1|O<<5}v|=B<<4*y,x|=k<<4<<y,C|=(240&_)<<y}c.la=x,f.la=C,h.Hc=b,h.Gc=v,h.ia=43690&v?0:g.ia,m=!(b|v)}if(0<A.L&&(A.wa[A.Y+A.ja]=A.gd[i.$b][i.Za],A.wa[A.Y+A.ja].La|=!m),l.Ka)return qe(e,7,"Premature end-of-file encountered.")}if(Ye(e),A=n,l=1,i=(a=e).D,c=0<a.L&&a.M>=a.zb&&a.M<=a.Va,0==a.Aa)e:{if(i.M=a.M,i.uc=c,Nn(a,i),l=1,i=(B=a.D).Nb,c=(v=Rr[a.L])*a.R,d=v/2*a.B,w=16*i*a.R,F=8*i*a.B,m=a.sa,h=a.ta-c+w,g=a.qa,u=a.ra-d+F,p=a.Ha,f=a.Ia-d+F,_=0==(k=B.M),b=k>=a.Va-1,2==a.Aa&&Nn(a,B),B.uc)for(O=(S=a).D.M,t(S.D.uc),B=S.yb;B<S.Hb;++B){C=B,x=O;var U=(T=(P=S).D).Nb;y=P.R;var T=T.wa[T.Y+C],L=P.sa,N=P.ta+16*U*y+16*C,Q=T.dd,D=T.tc;if(0!=D)if(t(3<=D),1==P.L)0<C&&yo(L,N,y,D+4),T.La&&Co(L,N,y,D),0<x&&wo(L,N,y,D+4),T.La&&Bo(L,N,y,D);else{var I=P.B,H=P.qa,M=P.ra+8*U*I+8*C,R=P.Ha,P=P.Ia+8*U*I+8*C;U=T.ld,0<C&&(mo(L,N,y,D+4,Q,U),go(H,M,R,P,I,D+4,Q,U)),T.La&&(fo(L,N,y,D,Q,U),vo(H,M,R,P,I,D,Q,U)),0<x&&(uo(L,N,y,D+4,Q,U),ho(H,M,R,P,I,D+4,Q,U)),T.La&&(po(L,N,y,D,Q,U),bo(H,M,R,P,I,D,Q,U))}}if(a.ia&&alert("todo:DitherRow"),null!=A.put){if(B=16*k,k=16*(k+1),_?(A.y=a.sa,A.O=a.ta+w,A.f=a.qa,A.N=a.ra+F,A.ea=a.Ha,A.W=a.Ia+F):(B-=v,A.y=m,A.O=h,A.f=g,A.N=u,A.ea=p,A.W=f),b||(k-=v),k>A.o&&(k=A.o),A.F=null,A.J=null,null!=a.Fa&&0<a.Fa.length&&B<k&&(A.J=dn(a,A,B,k-B),A.F=a.mb,null==A.F&&0==A.F.length)){l=qe(a,3,"Could not decode alpha data.");break e}B<A.j&&(v=A.j-B,B=A.j,t(!(1&v)),A.O+=a.R*v,A.N+=a.B*(v>>1),A.W+=a.B*(v>>1),null!=A.F&&(A.J+=A.width*v)),B<k&&(A.O+=A.v,A.N+=A.v>>1,A.W+=A.v>>1,null!=A.F&&(A.J+=A.v),A.ka=B-A.j,A.U=A.va-A.v,A.T=k-B,l=A.put(A))}i+1!=a.Ic||b||(o(a.sa,a.ta-c,m,h+16*a.R,c),o(a.qa,a.ra-d,g,u+8*a.B,d),o(a.Ha,a.Ia-d,p,f+8*a.B,d))}if(!l)return qe(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),a&=1}return a?(e.cb=0,a):0}function et(e,t,n,o,r){r=e[t+n+32*o]+(r>>3),e[t+n+32*o]=-256&r?0>r?0:255:r}function tt(e,t,n,o,r,s){et(e,t,0,n,o+r),et(e,t,1,n,o+s),et(e,t,2,n,o-s),et(e,t,3,n,o-r)}function nt(e){return(20091*e>>16)+e}function ot(e,t,n,o){var r,i=0,a=s(16);for(r=0;4>r;++r){var A=e[t+0]+e[t+8],l=e[t+0]-e[t+8],c=(35468*e[t+4]>>16)-nt(e[t+12]),u=nt(e[t+4])+(35468*e[t+12]>>16);a[i+0]=A+u,a[i+1]=l+c,a[i+2]=l-c,a[i+3]=A-u,i+=4,t++}for(r=i=0;4>r;++r)A=(e=a[i+0]+4)+a[i+8],l=e-a[i+8],c=(35468*a[i+4]>>16)-nt(a[i+12]),et(n,o,0,0,A+(u=nt(a[i+4])+(35468*a[i+12]>>16))),et(n,o,1,0,l+c),et(n,o,2,0,l-c),et(n,o,3,0,A-u),i++,o+=32}function rt(e,t,n,o){var r=e[t+0]+4,s=35468*e[t+4]>>16,i=nt(e[t+4]),a=35468*e[t+1]>>16;tt(n,o,0,r+i,e=nt(e[t+1]),a),tt(n,o,1,r+s,e,a),tt(n,o,2,r-s,e,a),tt(n,o,3,r-i,e,a)}function st(e,t,n,o,r){ot(e,t,n,o),r&&ot(e,t+16,n,o+4)}function it(e,t,n,o){io(e,t+0,n,o,1),io(e,t+32,n,o+128,1)}function at(e,t,n,o){var r;for(e=e[t+0]+4,r=0;4>r;++r)for(t=0;4>t;++t)et(n,o,t,r,e)}function At(e,t,n,o){e[t+0]&&lo(e,t+0,n,o),e[t+16]&&lo(e,t+16,n,o+4),e[t+32]&&lo(e,t+32,n,o+128),e[t+48]&&lo(e,t+48,n,o+128+4)}function lt(e,t,n,o){var r,i=s(16);for(r=0;4>r;++r){var a=e[t+0+r]+e[t+12+r],A=e[t+4+r]+e[t+8+r],l=e[t+4+r]-e[t+8+r],c=e[t+0+r]-e[t+12+r];i[0+r]=a+A,i[8+r]=a-A,i[4+r]=c+l,i[12+r]=c-l}for(r=0;4>r;++r)a=(e=i[0+4*r]+3)+i[3+4*r],A=i[1+4*r]+i[2+4*r],l=i[1+4*r]-i[2+4*r],c=e-i[3+4*r],n[o+0]=a+A>>3,n[o+16]=c+l>>3,n[o+32]=a-A>>3,n[o+48]=c-l>>3,o+=64}function ct(e,t,n){var o,r=t-32,s=Qo,i=255-e[r-1];for(o=0;o<n;++o){var a,A=s,l=i+e[t-1];for(a=0;a<n;++a)e[t+a]=A[l+e[r+a]];t+=32}}function ut(e,t){ct(e,t,4)}function dt(e,t){ct(e,t,8)}function mt(e,t){ct(e,t,16)}function ht(e,t){var n;for(n=0;16>n;++n)o(e,t+32*n,e,t-32,16)}function gt(e,t){var n;for(n=16;0<n;--n)r(e,t,e[t-1],16),t+=32}function pt(e,t,n){var o;for(o=0;16>o;++o)r(t,n+32*o,e,16)}function ft(e,t){var n,o=16;for(n=0;16>n;++n)o+=e[t-1+32*n]+e[t+n-32];pt(o>>5,e,t)}function bt(e,t){var n,o=8;for(n=0;16>n;++n)o+=e[t-1+32*n];pt(o>>4,e,t)}function vt(e,t){var n,o=8;for(n=0;16>n;++n)o+=e[t+n-32];pt(o>>4,e,t)}function wt(e,t){pt(128,e,t)}function yt(e,t,n){return e+2*t+n+2>>2}function Bt(e,t){var n,r=t-32;for(r=new Uint8Array([yt(e[r-1],e[r+0],e[r+1]),yt(e[r+0],e[r+1],e[r+2]),yt(e[r+1],e[r+2],e[r+3]),yt(e[r+2],e[r+3],e[r+4])]),n=0;4>n;++n)o(e,t+32*n,r,0,r.length)}function Ct(e,t){var n=e[t-1],o=e[t-1+32],r=e[t-1+64],s=e[t-1+96];_(e,t+0,16843009*yt(e[t-1-32],n,o)),_(e,t+32,16843009*yt(n,o,r)),_(e,t+64,16843009*yt(o,r,s)),_(e,t+96,16843009*yt(r,s,s))}function xt(e,t){var n,o=4;for(n=0;4>n;++n)o+=e[t+n-32]+e[t-1+32*n];for(o>>=3,n=0;4>n;++n)r(e,t+32*n,o,4)}function St(e,t){var n=e[t-1+0],o=e[t-1+32],r=e[t-1+64],s=e[t-1-32],i=e[t+0-32],a=e[t+1-32],A=e[t+2-32],l=e[t+3-32];e[t+0+96]=yt(o,r,e[t-1+96]),e[t+1+96]=e[t+0+64]=yt(n,o,r),e[t+2+96]=e[t+1+64]=e[t+0+32]=yt(s,n,o),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=yt(i,s,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=yt(a,i,s),e[t+3+32]=e[t+2+0]=yt(A,a,i),e[t+3+0]=yt(l,A,a)}function Ft(e,t){var n=e[t+1-32],o=e[t+2-32],r=e[t+3-32],s=e[t+4-32],i=e[t+5-32],a=e[t+6-32],A=e[t+7-32];e[t+0+0]=yt(e[t+0-32],n,o),e[t+1+0]=e[t+0+32]=yt(n,o,r),e[t+2+0]=e[t+1+32]=e[t+0+64]=yt(o,r,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=yt(r,s,i),e[t+3+32]=e[t+2+64]=e[t+1+96]=yt(s,i,a),e[t+3+64]=e[t+2+96]=yt(i,a,A),e[t+3+96]=yt(a,A,A)}function kt(e,t){var n=e[t-1+0],o=e[t-1+32],r=e[t-1+64],s=e[t-1-32],i=e[t+0-32],a=e[t+1-32],A=e[t+2-32],l=e[t+3-32];e[t+0+0]=e[t+1+64]=s+i+1>>1,e[t+1+0]=e[t+2+64]=i+a+1>>1,e[t+2+0]=e[t+3+64]=a+A+1>>1,e[t+3+0]=A+l+1>>1,e[t+0+96]=yt(r,o,n),e[t+0+64]=yt(o,n,s),e[t+0+32]=e[t+1+96]=yt(n,s,i),e[t+1+32]=e[t+2+96]=yt(s,i,a),e[t+2+32]=e[t+3+96]=yt(i,a,A),e[t+3+32]=yt(a,A,l)}function Et(e,t){var n=e[t+0-32],o=e[t+1-32],r=e[t+2-32],s=e[t+3-32],i=e[t+4-32],a=e[t+5-32],A=e[t+6-32],l=e[t+7-32];e[t+0+0]=n+o+1>>1,e[t+1+0]=e[t+0+64]=o+r+1>>1,e[t+2+0]=e[t+1+64]=r+s+1>>1,e[t+3+0]=e[t+2+64]=s+i+1>>1,e[t+0+32]=yt(n,o,r),e[t+1+32]=e[t+0+96]=yt(o,r,s),e[t+2+32]=e[t+1+96]=yt(r,s,i),e[t+3+32]=e[t+2+96]=yt(s,i,a),e[t+3+64]=yt(i,a,A),e[t+3+96]=yt(a,A,l)}function _t(e,t){var n=e[t-1+0],o=e[t-1+32],r=e[t-1+64],s=e[t-1+96];e[t+0+0]=n+o+1>>1,e[t+2+0]=e[t+0+32]=o+r+1>>1,e[t+2+32]=e[t+0+64]=r+s+1>>1,e[t+1+0]=yt(n,o,r),e[t+3+0]=e[t+1+32]=yt(o,r,s),e[t+3+32]=e[t+1+64]=yt(r,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function Ot(e,t){var n=e[t-1+0],o=e[t-1+32],r=e[t-1+64],s=e[t-1+96],i=e[t-1-32],a=e[t+0-32],A=e[t+1-32],l=e[t+2-32];e[t+0+0]=e[t+2+32]=n+i+1>>1,e[t+0+32]=e[t+2+64]=o+n+1>>1,e[t+0+64]=e[t+2+96]=r+o+1>>1,e[t+0+96]=s+r+1>>1,e[t+3+0]=yt(a,A,l),e[t+2+0]=yt(i,a,A),e[t+1+0]=e[t+3+32]=yt(n,i,a),e[t+1+32]=e[t+3+64]=yt(o,n,i),e[t+1+64]=e[t+3+96]=yt(r,o,n),e[t+1+96]=yt(s,r,o)}function Ut(e,t){var n;for(n=0;8>n;++n)o(e,t+32*n,e,t-32,8)}function Tt(e,t){var n;for(n=0;8>n;++n)r(e,t,e[t-1],8),t+=32}function Lt(e,t,n){var o;for(o=0;8>o;++o)r(t,n+32*o,e,8)}function Nt(e,t){var n,o=8;for(n=0;8>n;++n)o+=e[t+n-32]+e[t-1+32*n];Lt(o>>4,e,t)}function Qt(e,t){var n,o=4;for(n=0;8>n;++n)o+=e[t+n-32];Lt(o>>3,e,t)}function Dt(e,t){var n,o=4;for(n=0;8>n;++n)o+=e[t-1+32*n];Lt(o>>3,e,t)}function It(e,t){Lt(128,e,t)}function Ht(e,t,n){var o=e[t-n],r=e[t+0],s=3*(r-o)+Lo[1020+e[t-2*n]-e[t+n]],i=No[112+(s+4>>3)];e[t-n]=Qo[255+o+No[112+(s+3>>3)]],e[t+0]=Qo[255+r-i]}function Mt(e,t,n,o){var r=e[t+0],s=e[t+n];return Do[255+e[t-2*n]-e[t-n]]>o||Do[255+s-r]>o}function Rt(e,t,n,o){return 4*Do[255+e[t-n]-e[t+0]]+Do[255+e[t-2*n]-e[t+n]]<=o}function Pt(e,t,n,o,r){var s=e[t-3*n],i=e[t-2*n],a=e[t-n],A=e[t+0],l=e[t+n],c=e[t+2*n],u=e[t+3*n];return 4*Do[255+a-A]+Do[255+i-l]>o?0:Do[255+e[t-4*n]-s]<=r&&Do[255+s-i]<=r&&Do[255+i-a]<=r&&Do[255+u-c]<=r&&Do[255+c-l]<=r&&Do[255+l-A]<=r}function Vt(e,t,n,o){var r=2*o+1;for(o=0;16>o;++o)Rt(e,t+o,n,r)&&Ht(e,t+o,n)}function jt(e,t,n,o){var r=2*o+1;for(o=0;16>o;++o)Rt(e,t+o*n,1,r)&&Ht(e,t+o*n,1)}function zt(e,t,n,o){var r;for(r=3;0<r;--r)Vt(e,t+=4*n,n,o)}function Kt(e,t,n,o){var r;for(r=3;0<r;--r)jt(e,t+=4,n,o)}function Wt(e,t,n,o,r,s,i,a){for(s=2*s+1;0<r--;){if(Pt(e,t,n,s,i))if(Mt(e,t,n,a))Ht(e,t,n);else{var A=e,l=t,c=n,u=A[l-2*c],d=A[l-c],m=A[l+0],h=A[l+c],g=A[l+2*c],p=27*(b=Lo[1020+3*(m-d)+Lo[1020+u-h]])+63>>7,f=18*b+63>>7,b=9*b+63>>7;A[l-3*c]=Qo[255+A[l-3*c]+b],A[l-2*c]=Qo[255+u+f],A[l-c]=Qo[255+d+p],A[l+0]=Qo[255+m-p],A[l+c]=Qo[255+h-f],A[l+2*c]=Qo[255+g-b]}t+=o}}function Gt(e,t,n,o,r,s,i,a){for(s=2*s+1;0<r--;){if(Pt(e,t,n,s,i))if(Mt(e,t,n,a))Ht(e,t,n);else{var A=e,l=t,c=n,u=A[l-c],d=A[l+0],m=A[l+c],h=No[112+(4+(g=3*(d-u))>>3)],g=No[112+(g+3>>3)],p=h+1>>1;A[l-2*c]=Qo[255+A[l-2*c]+p],A[l-c]=Qo[255+u+g],A[l+0]=Qo[255+d-h],A[l+c]=Qo[255+m-p]}t+=o}}function qt(e,t,n,o,r,s){Wt(e,t,n,1,16,o,r,s)}function Zt(e,t,n,o,r,s){Wt(e,t,1,n,16,o,r,s)}function Xt(e,t,n,o,r,s){var i;for(i=3;0<i;--i)Gt(e,t+=4*n,n,1,16,o,r,s)}function Jt(e,t,n,o,r,s){var i;for(i=3;0<i;--i)Gt(e,t+=4,1,n,16,o,r,s)}function Yt(e,t,n,o,r,s,i,a){Wt(e,t,r,1,8,s,i,a),Wt(n,o,r,1,8,s,i,a)}function $t(e,t,n,o,r,s,i,a){Wt(e,t,1,r,8,s,i,a),Wt(n,o,1,r,8,s,i,a)}function en(e,t,n,o,r,s,i,a){Gt(e,t+4*r,r,1,8,s,i,a),Gt(n,o+4*r,r,1,8,s,i,a)}function tn(e,t,n,o,r,s,i,a){Gt(e,t+4,1,r,8,s,i,a),Gt(n,o+4,1,r,8,s,i,a)}function nn(){this.ba=new ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ae,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function on(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new Q,this.vb=new Q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new m,this.yc=new u}function an(){this.xb=this.a=0,this.l=new We,this.ca=new ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new y,this.Pb=0,this.wd=new y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=i(4,rn),this.Oc=0}function An(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new We,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,o,r,s,i){for(e=null==e?0:e[t+0],t=0;t<i;++t)r[s+t]=e+n[o+t]&255,e=r[s+t]}function cn(e,t,n,o,r,s,i){var a;if(null==e)ln(null,null,n,o,r,s,i);else for(a=0;a<i;++a)r[s+a]=e[t+a]+n[o+a]&255}function un(e,t,n,o,r,s,i){if(null==e)ln(null,null,n,o,r,s,i);else{var a,A=e[t+0],l=A,c=A;for(a=0;a<i;++a)l=c+(A=e[t+a])-l,c=n[o+a]+(-256&l?0>l?0:255:l)&255,l=A,r[s+a]=c}}function dn(e,n,r,i){var a=n.width,A=n.o;if(t(null!=e&&null!=n),0>r||0>=i||r+i>A)return null;if(!e.Cc){if(null==e.ga){var l;if(e.ga=new An,(l=null==e.ga)||(l=n.width*n.o,t(0==e.Gb.length),e.Gb=s(l),e.Uc=0,null==e.Gb?l=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,l=1),l=!l),!l){l=e.ga;var c=e.Fa,u=e.P,d=e.qc,m=e.mb,h=e.nb,g=u+1,p=d-1,b=l.l;if(t(null!=c&&null!=m&&null!=n),fr[0]=null,fr[1]=ln,fr[2]=cn,fr[3]=un,l.ca=m,l.tb=h,l.c=n.width,l.i=n.height,t(0<l.c&&0<l.i),1>=d)n=0;else if(l.$a=3&c[u+0],l.Z=c[u+0]>>2&3,l.Lc=c[u+0]>>4&3,u=c[u+0]>>6&3,0>l.$a||1<l.$a||4<=l.Z||1<l.Lc||u)n=0;else if(b.put=me,b.ac=de,b.bc=he,b.ma=l,b.width=n.width,b.height=n.height,b.Da=n.Da,b.v=n.v,b.va=n.va,b.j=n.j,b.o=n.o,l.$a)e:{t(1==l.$a),n=Ee();t:for(;;){if(null==n){n=0;break e}if(t(null!=l),l.mc=n,n.c=l.c,n.i=l.i,n.l=l.l,n.l.ma=l,n.l.width=l.c,n.l.height=l.i,n.a=0,f(n.m,c,g,p),!_e(l.c,l.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Ce(n.s)?(l.ic=1,c=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(c),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(l.ic=0,n=Oe(n,l.c)),!n)break t;n=1;break e}l.mc=null,n=0}else n=p>=l.c*l.i;l=!n}if(l)return null;1!=e.ga.Lc?e.Ga=0:i=A-r}t(null!=e.ga),t(r+i<=A);e:{if(n=(c=e.ga).c,A=c.l.o,0==c.$a){if(g=e.rc,p=e.Vc,b=e.Fa,u=e.P+1+r*n,d=e.mb,m=e.nb+r*n,t(u<=e.P+e.qc),0!=c.Z)for(t(null!=fr[c.Z]),l=0;l<i;++l)fr[c.Z](g,p,b,u,d,m,n),g=d,p=m,m+=n,u+=n;else for(l=0;l<i;++l)o(d,m,b,u,n),g=d,p=m,m+=n,u+=n;e.rc=g,e.Vc=p}else{if(t(null!=c.mc),n=r+i,t(null!=(l=c.mc)),t(n<=l.i),l.C>=n)n=1;else if(c.ic||fn(),c.ic){c=l.V,g=l.Ba,p=l.c;var v=l.i,w=(b=1,u=l.$/p,d=l.$%p,m=l.m,h=l.s,l.$),y=p*v,B=p*n,x=h.wc,F=w<B?we(h,d,u):null;t(w<=y),t(n<=v),t(Ce(h));t:for(;;){for(;!m.h&&w<B;){if(d&x||(F=we(h,d,u)),t(null!=F),S(m),256>(v=be(F.G[0],F.H[0],m)))c[g+w]=v,++w,++d>=p&&(d=0,++u<=n&&!(u%16)&&Se(l,u));else{if(!(280>v)){b=0;break t}v=pe(v-256,m);var k,E=be(F.G[4],F.H[4],m);if(S(m),!(w>=(E=fe(p,E=pe(E,m)))&&y-w>=v)){b=0;break t}for(k=0;k<v;++k)c[g+w+k]=c[g+w+k-E];for(w+=v,d+=v;d>=p;)d-=p,++u<=n&&!(u%16)&&Se(l,u);w<B&&d&x&&(F=we(h,d,u))}t(m.h==C(m))}Se(l,u>n?n:u);break t}!b||m.h&&w<y?(b=0,l.a=m.h?5:3):l.$=w,n=b}else n=Fe(l,l.V,l.Ba,l.c,l.i,n,Ue);if(!n){i=0;break e}}r+i>=A&&(e.Cc=1),i=1}if(!i)return null;if(e.Cc&&(null!=(i=e.ga)&&(i.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+r*a}function mn(e,t,n,o,r,s){for(;0<r--;){var i,a=e,A=t+(n?1:0),l=e,c=t+(n?0:3);for(i=0;i<o;++i){var u=l[c+4*i];255!=u&&(u*=32897,a[A+4*i+0]=a[A+4*i+0]*u>>23,a[A+4*i+1]=a[A+4*i+1]*u>>23,a[A+4*i+2]=a[A+4*i+2]*u>>23)}t+=s}}function hn(e,t,n,o,r){for(;0<o--;){var s;for(s=0;s<n;++s){var i=e[t+2*s+0],a=15&(l=e[t+2*s+1]),A=4369*a,l=(240&l|l>>4)*A>>16;e[t+2*s+0]=(240&i|i>>4)*A>>16&240|(15&i|i<<4)*A>>16>>4&15,e[t+2*s+1]=240&l|a}t+=r}}function gn(e,t,n,o,r,s,i,a){var A,l,c=255;for(l=0;l<r;++l){for(A=0;A<o;++A){var u=e[t+A];s[i+4*A]=u,c&=u}t+=n,i+=a}return 255!=c}function pn(e,t,n,o,r){var s;for(s=0;s<r;++s)n[o+s]=e[t+s]>>8}function fn(){xo=mn,So=hn,Fo=gn,ko=pn}function bn(n,o,r){e[n]=function(e,n,s,i,a,A,l,c,u,d,m,h,g,p,f,b,v){var w,y=v-1>>1,B=a[A+0]|l[c+0]<<16,C=u[d+0]|m[h+0]<<16;t(null!=e);var x=3*B+C+131074>>2;for(o(e[n+0],255&x,x>>16,g,p),null!=s&&(x=3*C+B+131074>>2,o(s[i+0],255&x,x>>16,f,b)),w=1;w<=y;++w){var S=a[A+w]|l[c+w]<<16,F=u[d+w]|m[h+w]<<16,k=B+S+C+F+524296,E=k+2*(S+C)>>3;x=E+B>>1,B=(k=k+2*(B+F)>>3)+S>>1,o(e[n+2*w-1],255&x,x>>16,g,p+(2*w-1)*r),o(e[n+2*w-0],255&B,B>>16,g,p+(2*w-0)*r),null!=s&&(x=k+C>>1,B=E+F>>1,o(s[i+2*w-1],255&x,x>>16,f,b+(2*w-1)*r),o(s[i+2*w+0],255&B,B>>16,f,b+(2*w+0)*r)),B=S,C=F}1&v||(x=3*B+C+131074>>2,o(e[n+v-1],255&x,x>>16,g,p+(v-1)*r),null!=s&&(x=3*C+B+131074>>2,o(s[i+v-1],255&x,x>>16,f,b+(v-1)*r)))}}function vn(){br[Io]=vr,br[Ho]=yr,br[Mo]=wr,br[Ro]=Br,br[Po]=Cr,br[Vo]=xr,br[jo]=Sr,br[zo]=yr,br[Ko]=Br,br[Wo]=Cr,br[Go]=xr}function wn(e){return e&~Ur?0>e?0:255:e>>Or}function yn(e,t){return wn((19077*e>>8)+(26149*t>>8)-14234)}function Bn(e,t,n){return wn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function Cn(e,t){return wn((19077*e>>8)+(33050*t>>8)-17685)}function xn(e,t,n,o,r){o[r+0]=yn(e,n),o[r+1]=Bn(e,t,n),o[r+2]=Cn(e,t)}function Sn(e,t,n,o,r){o[r+0]=Cn(e,t),o[r+1]=Bn(e,t,n),o[r+2]=yn(e,n)}function Fn(e,t,n,o,r){var s=Bn(e,t,n);t=s<<3&224|Cn(e,t)>>3,o[r+0]=248&yn(e,n)|s>>5,o[r+1]=t}function kn(e,t,n,o,r){var s=240&Cn(e,t)|15;o[r+0]=240&yn(e,n)|Bn(e,t,n)>>4,o[r+1]=s}function En(e,t,n,o,r){o[r+0]=255,xn(e,t,n,o,r+1)}function _n(e,t,n,o,r){Sn(e,t,n,o,r),o[r+3]=255}function On(e,t,n,o,r){xn(e,t,n,o,r),o[r+3]=255}function Ke(e,t){return 0>e?0:e>t?t:e}function Un(t,n,o){e[t]=function(e,t,r,s,i,a,A,l,c){for(var u=l+(-2&c)*o;l!=u;)n(e[t+0],r[s+0],i[a+0],A,l),n(e[t+1],r[s+0],i[a+0],A,l+o),t+=2,++s,++a,l+=2*o;1&c&&n(e[t+0],r[s+0],i[a+0],A,l)}}function Tn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Ln(e,t,n,o,r){switch(e>>>30){case 3:io(t,n,o,r,0);break;case 2:ao(t,n,o,r);break;case 1:lo(t,n,o,r)}}function Nn(e,t){var n,s,i=t.M,a=t.Nb,A=e.oc,l=e.pc+40,c=e.oc,u=e.pc+584,d=e.oc,m=e.pc+600;for(n=0;16>n;++n)A[l+32*n-1]=129;for(n=0;8>n;++n)c[u+32*n-1]=129,d[m+32*n-1]=129;for(0<i?A[l-1-32]=c[u-1-32]=d[m-1-32]=129:(r(A,l-32-1,127,21),r(c,u-32-1,127,9),r(d,m-32-1,127,9)),s=0;s<e.za;++s){var h=t.ya[t.aa+s];if(0<s){for(n=-1;16>n;++n)o(A,l+32*n-4,A,l+32*n+12,4);for(n=-1;8>n;++n)o(c,u+32*n-4,c,u+32*n+4,4),o(d,m+32*n-4,d,m+32*n+4,4)}var g=e.Gd,p=e.Hd+s,f=h.ad,b=h.Hc;if(0<i&&(o(A,l-32,g[p].y,0,16),o(c,u-32,g[p].f,0,8),o(d,m-32,g[p].ea,0,8)),h.Za){var v=A,w=l-32+16;for(0<i&&(s>=e.za-1?r(v,w,g[p].y[15],4):o(v,w,g[p+1].y,0,4)),n=0;4>n;n++)v[w+128+n]=v[w+256+n]=v[w+384+n]=v[w+0+n];for(n=0;16>n;++n,b<<=2)v=A,w=l+Mr[n],mr[h.Ob[n]](v,w),Ln(b,f,16*+n,v,w)}else if(v=Tn(s,i,h.Ob[0]),dr[v](A,l),0!=b)for(n=0;16>n;++n,b<<=2)Ln(b,f,16*+n,A,l+Mr[n]);for(n=h.Gc,v=Tn(s,i,h.Dd),hr[v](c,u),hr[v](d,m),b=f,v=c,w=u,255&(h=n|0)&&(170&h?Ao(b,256,v,w):co(b,256,v,w)),h=d,b=m,255&(n>>=8)&&(170&n?Ao(f,320,h,b):co(f,320,h,b)),i<e.Ub-1&&(o(g[p].y,0,A,l+480,16),o(g[p].f,0,c,u+224,8),o(g[p].ea,0,d,m+224,8)),n=8*a*e.B,g=e.sa,p=e.ta+16*s+16*a*e.R,f=e.qa,h=e.ra+8*s+n,b=e.Ha,v=e.Ia+8*s+n,n=0;16>n;++n)o(g,p+n*e.R,A,l+32*n,16);for(n=0;8>n;++n)o(f,h+n*e.B,c,u+32*n,8),o(b,v+n*e.B,d,m+32*n,8)}}function Qn(e,o,r,s,i,a,A,l,c){var u=[0],d=[0],m=0,h=null!=c?c.kd:0,g=null!=c?c:new on;if(null==e||12>r)return 7;g.data=e,g.w=o,g.ha=r,o=[o],r=[r],g.gb=[g.gb];e:{var p=o,b=r,v=g.gb;if(t(null!=e),t(null!=b),t(null!=v),v[0]=0,12<=b[0]&&!n(e,p[0],"RIFF")){if(n(e,p[0]+8,"WEBP")){v=3;break e}var w=T(e,p[0]+4);if(12>w||4294967286<w){v=3;break e}if(h&&w>b[0]-8){v=7;break e}v[0]=w,p[0]+=12,b[0]-=12}v=0}if(0!=v)return v;for(w=0<g.gb[0],r=r[0];;){e:{var B=e;b=o,v=r;var C=u,x=d,S=p=[0];if((E=m=[m])[0]=0,8>v[0])v=7;else{if(!n(B,b[0],"VP8X")){if(10!=T(B,b[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var F=T(B,b[0]+8),k=1+U(B,b[0]+12);if(2147483648<=k*(B=1+U(B,b[0]+15))){v=3;break e}null!=S&&(S[0]=F),null!=C&&(C[0]=k),null!=x&&(x[0]=B),b[0]+=18,v[0]-=18,E[0]=1}v=0}}if(m=m[0],p=p[0],0!=v)return v;if(b=!!(2&p),!w&&m)return 3;if(null!=a&&(a[0]=!!(16&p)),null!=A&&(A[0]=b),null!=l&&(l[0]=0),A=u[0],p=d[0],m&&b&&null==c){v=0;break}if(4>r){v=7;break}if(w&&m||!w&&!m&&!n(e,o[0],"ALPH")){r=[r],g.na=[g.na],g.P=[g.P],g.Sa=[g.Sa];e:{F=e,v=o,w=r;var E=g.gb;C=g.na,x=g.P,S=g.Sa,k=22,t(null!=F),t(null!=w),B=v[0];var _=w[0];for(t(null!=C),t(null!=S),C[0]=null,x[0]=null,S[0]=0;;){if(v[0]=B,w[0]=_,8>_){v=7;break e}var O=T(F,B+4);if(4294967286<O){v=3;break e}var L=8+O+1&-2;if(k+=L,0<E&&k>E){v=3;break e}if(!n(F,B,"VP8 ")||!n(F,B,"VP8L")){v=0;break e}if(_[0]<L){v=7;break e}n(F,B,"ALPH")||(C[0]=F,x[0]=B+8,S[0]=O),B+=L,_-=L}}if(r=r[0],g.na=g.na[0],g.P=g.P[0],g.Sa=g.Sa[0],0!=v)break}r=[r],g.Ja=[g.Ja],g.xa=[g.xa];e:if(E=e,v=o,w=r,C=g.gb[0],x=g.Ja,S=g.xa,F=v[0],B=!n(E,F,"VP8 "),k=!n(E,F,"VP8L"),t(null!=E),t(null!=w),t(null!=x),t(null!=S),8>w[0])v=7;else{if(B||k){if(E=T(E,F+4),12<=C&&E>C-12){v=3;break e}if(h&&E>w[0]-8){v=7;break e}x[0]=E,v[0]+=8,w[0]-=8,S[0]=k}else S[0]=5<=w[0]&&47==E[F+0]&&!(E[F+4]>>5),x[0]=w[0];v=0}if(r=r[0],g.Ja=g.Ja[0],g.xa=g.xa[0],o=o[0],0!=v)break;if(4294967286<g.Ja)return 3;if(null==l||b||(l[0]=g.xa?2:1),A=[A],p=[p],g.xa){if(5>r){v=7;break}l=A,h=p,b=a,null==e||5>r?e=0:5<=r&&47==e[o+0]&&!(e[o+4]>>5)?(w=[0],E=[0],C=[0],f(x=new y,e,o,r),ge(x,w,E,C)?(null!=l&&(l[0]=w[0]),null!=h&&(h[0]=E[0]),null!=b&&(b[0]=C[0]),e=1):e=0):e=0}else{if(10>r){v=7;break}l=p,null==e||10>r||!Ze(e,o+3,r-3)?e=0:(h=e[o+0]|e[o+1]<<8|e[o+2]<<16,b=16383&(e[o+7]<<8|e[o+6]),e=16383&(e[o+9]<<8|e[o+8]),1&h||3<(h>>1&7)||!(h>>4&1)||h>>5>=g.Ja||!b||!e?e=0:(A&&(A[0]=b),l&&(l[0]=e),e=1))}if(!e)return 3;if(A=A[0],p=p[0],m&&(u[0]!=A||d[0]!=p))return 3;null!=c&&(c[0]=g,c.offset=o-c.w,t(4294967286>o-c.w),t(c.offset==c.ha-r));break}return 0==v||7==v&&m&&null==c?(null!=a&&(a[0]|=null!=g.na&&0<g.na.length),null!=s&&(s[0]=A),null!=i&&(i[0]=p),0):v}function Dn(e,t,n){var o=t.width,r=t.height,s=0,i=0,a=o,A=r;if(t.Da=null!=e&&0<e.Da,t.Da&&(a=e.cd,A=e.bd,s=e.v,i=e.j,11>n||(s&=-2,i&=-2),0>s||0>i||0>=a||0>=A||s+a>o||i+A>r))return 0;if(t.v=s,t.j=i,t.va=s+a,t.o=i+A,t.U=a,t.T=A,t.da=null!=e&&0<e.da,t.da){if(!D(a,A,n=[e.ib],s=[e.hb]))return 0;t.ib=n[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*o/4&&t.hb<3*r/4,t.Kb=0),1}function In(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Hn(e,t,n,o){if(null==o||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var r=n.cd,i=n.bd,a=-2&n.v,A=-2&n.j;if(0>a||0>A||0>=r||0>=i||a+r>e||A+i>t)return 2;e=r,t=i}if(n.da){if(!D(e,t,r=[n.ib],i=[n.hb]))return 2;e=r[0],t=i[0]}}o.width=e,o.height=t;e:{var l=o.width,c=o.height;if(e=o.S,0>=l||0>=c||!(e>=Io&&13>e))e=2;else{if(0>=o.Rd&&null==o.sd){a=i=r=t=0;var u=(A=l*jr[e])*c;if(11>e||(i=(c+1)/2*(t=(l+1)/2),12==e&&(a=(r=l)*c)),null==(c=s(u+2*i+a))){e=1;break e}o.sd=c,11>e?((l=o.f.RGBA).eb=c,l.fb=0,l.A=A,l.size=u):((l=o.f.kb).y=c,l.O=0,l.fa=A,l.Fd=u,l.f=c,l.N=0+u,l.Ab=t,l.Cd=i,l.ea=c,l.W=0+u+i,l.Db=t,l.Ed=i,12==e&&(l.F=c,l.J=0+u+2*i),l.Tc=a,l.lb=r)}if(t=1,r=o.S,i=o.width,a=o.height,r>=Io&&13>r)if(11>r)e=o.f.RGBA,t&=(A=Math.abs(e.A))*(a-1)+i<=e.size,t&=A>=i*jr[r],t&=null!=e.eb;else{e=o.f.kb,A=(i+1)/2,u=(a+1)/2,l=Math.abs(e.fa),c=Math.abs(e.Ab);var d=Math.abs(e.Db),m=Math.abs(e.lb),h=m*(a-1)+i;t&=l*(a-1)+i<=e.Fd,t&=c*(u-1)+A<=e.Cd,t=(t&=d*(u-1)+A<=e.Ed)&l>=i&c>=A&d>=A,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==r&&(t&=m>=i,t&=h<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=In(o)),e}var Mn=64,Rn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Pn=24,Vn=32,jn=8,zn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];M("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return P(P(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return P(e,t[n-1])},e.Predictor7=function(e,t,n){return P(e,t[n+0])},e.Predictor8=function(e,t,n){return P(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return P(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return P(P(e,t[n-1]),P(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var o=t[n+0];return 0>=z(o>>24&255,e>>24&255,(t=t[n-1])>>24&255)+z(o>>16&255,e>>16&255,t>>16&255)+z(o>>8&255,e>>8&255,t>>8&255)+z(255&o,255&e,255&t)?o:e},e.Predictor12=function(e,t,n){var o=t[n+0];return(V((e>>24&255)+(o>>24&255)-((t=t[n-1])>>24&255))<<24|V((e>>16&255)+(o>>16&255)-(t>>16&255))<<16|V((e>>8&255)+(o>>8&255)-(t>>8&255))<<8|V((255&e)+(255&o)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var o=t[n-1];return(j((e=P(e,t[n+0]))>>24&255,o>>24&255)<<24|j(e>>16&255,o>>16&255)<<16|j(e>>8&255,o>>8&255)<<8|j(255&e,255&o))>>>0};var Kn=e.PredictorAdd0;e.PredictorAdd1=K,M("Predictor2","PredictorAdd2"),M("Predictor3","PredictorAdd3"),M("Predictor4","PredictorAdd4"),M("Predictor5","PredictorAdd5"),M("Predictor6","PredictorAdd6"),M("Predictor7","PredictorAdd7"),M("Predictor8","PredictorAdd8"),M("Predictor9","PredictorAdd9"),M("Predictor10","PredictorAdd10"),M("Predictor11","PredictorAdd11"),M("Predictor12","PredictorAdd12"),M("Predictor13","PredictorAdd13");var Wn=e.PredictorAdd2;Z("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),Z("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var Gn,qn=e.ColorIndexInverseTransform,Zn=e.MapARGB,Xn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Yn=e.VP8LPredictorsAdd=[];Yn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var $n,eo,to,no,oo,ro,so,io,ao,Ao,lo,co,uo,mo,ho,go,po,fo,bo,vo,wo,yo,Bo,Co,xo,So,Fo,ko,Eo=s(511),_o=s(2041),Oo=s(225),Uo=s(767),To=0,Lo=_o,No=Oo,Qo=Uo,Do=Eo,Io=0,Ho=1,Mo=2,Ro=3,Po=4,Vo=5,jo=6,zo=7,Ko=8,Wo=9,Go=10,qo=[2,3,7],Zo=[3,3,11],Xo=[280,256,256,256,40],Jo=[0,1,1,1,0],Yo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$o=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],er=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tr=8,nr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],or=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rr=null,sr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ir=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ar=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ar=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],lr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ur=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],dr=[],mr=[],hr=[],gr=1,pr=2,fr=[],br=[];bn("UpsampleRgbLinePair",xn,3),bn("UpsampleBgrLinePair",Sn,3),bn("UpsampleRgbaLinePair",On,4),bn("UpsampleBgraLinePair",_n,4),bn("UpsampleArgbLinePair",En,4),bn("UpsampleRgba4444LinePair",kn,2),bn("UpsampleRgb565LinePair",Fn,2);var vr=e.UpsampleRgbLinePair,wr=e.UpsampleBgrLinePair,yr=e.UpsampleRgbaLinePair,Br=e.UpsampleBgraLinePair,Cr=e.UpsampleArgbLinePair,xr=e.UpsampleRgba4444LinePair,Sr=e.UpsampleRgb565LinePair,Fr=16,kr=1<<Fr-1,Er=-227,_r=482,Or=6,Ur=(256<<Or)-1,Tr=0,Lr=s(256),Nr=s(256),Qr=s(256),Dr=s(256),Ir=s(_r-Er),Hr=s(_r-Er);Un("YuvToRgbRow",xn,3),Un("YuvToBgrRow",Sn,3),Un("YuvToRgbaRow",On,4),Un("YuvToBgraRow",_n,4),Un("YuvToArgbRow",En,4),Un("YuvToRgba4444Row",kn,2),Un("YuvToRgb565Row",Fn,2);var Mr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Rr=[0,2,8],Pr=[8,7,6,4,4,2,2,2,1,1,1,1],Vr=1;this.WebPDecodeRGBA=function(e,n,o,r,s){var i=Ho,a=new nn,A=new ie;a.ba=A,A.S=i,A.width=[A.width],A.height=[A.height];var l=A.width,c=A.height,u=new ae;if(null==u||null==e)var d=2;else t(null!=u),d=Qn(e,n,o,u.width,u.height,u.Pd,u.Qd,u.format,null);if(0!=d?l=0:(null!=l&&(l[0]=u.width[0]),null!=c&&(c[0]=u.height[0]),l=1),l){A.width=A.width[0],A.height=A.height[0],null!=r&&(r[0]=A.width),null!=s&&(s[0]=A.height);e:{if(r=new We,(s=new on).data=e,s.w=n,s.ha=o,s.kd=1,n=[0],t(null!=s),(0==(e=Qn(s.data,s.w,s.ha,null,null,null,n,null,s))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=a),r.data=s.data,r.w=s.w+s.offset,r.ha=s.ha-s.offset,r.put=me,r.ac=de,r.bc=he,r.ma=a,s.xa){if(null==(e=Ee())){a=1;break e}if(function(e,n){var o=[0],r=[0],s=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,f(e.m,n.data,n.w,n.ha),!ge(e.m,o,r,s)){e.a=3;break t}if(e.xb=pr,n.width=o[0],n.height=r[0],!_e(o[0],r[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,r)){if(r=0==(n=Hn(r.width,r.height,a.Oa,a.ba))){t:{r=e;n:for(;;){if(null==r){r=0;break t}if(t(null!=r.s.yc),t(null!=r.s.Ya),t(0<r.s.Wb),t(null!=(o=r.l)),t(null!=(s=o.ma)),0!=r.xb){if(r.ca=s.ba,r.tb=s.tb,t(null!=r.ca),!Dn(s.Oa,o,Ro)){r.a=2;break n}if(!Oe(r,o.width))break n;if(o.da)break n;if((o.da||oe(r.ca.S))&&fn(),11>r.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=r.ca.f.kb.F&&fn()),r.Pb&&0<r.s.ua&&null==r.s.vb.X&&!L(r.s.vb,r.s.Wa.Xa)){r.a=1;break n}r.xb=0}if(!Fe(r,r.V,r.Ba,r.c,r.i,o.o,Be))break n;s.Dc=r.Ma,r=1;break t}t(0!=r.a),r=0}r=!r}r&&(n=e.a)}else n=e.a}else{if(null==(e=new Ge)){a=1;break e}if(e.Fa=s.na,e.P=s.P,e.qc=s.Sa,Xe(e,r)){if(0==(n=Hn(r.width,r.height,a.Oa,a.ba))){if(e.Aa=0,o=a.Oa,t(null!=(s=e)),null!=o){if(0<(l=0>(l=o.Md)?0:100<l?255:255*l/100)){for(c=u=0;4>c;++c)12>(d=s.pb[c]).lc&&(d.ia=l*Pr[0>d.lc?0:d.lc]>>3),u|=d.ia;u&&(alert("todo:VP8InitRandom"),s.ia=1)}s.Ga=o.Id,100<s.Ga?s.Ga=100:0>s.Ga&&(s.Ga=0)}$e(e,r)||(n=e.a)}}else n=e.a}0==n&&null!=a.Oa&&a.Oa.fd&&(n=In(a.ba))}a=n}i=0!=a?null:11>i?A.f.RGBA.eb:A.f.kb.y}else i=null;return i};var jr=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(e,t){for(var n="",o=0;o<4;o++)n+=String.fromCharCode(e[t++]);return n}function c(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new A;var d=[0],m=[0],h=[],g=new A,p=e,f=function(e,t){var n={},o=0,r=!1,s=0,i=0;if(n.frames=[],!
/** @license
   * Copyright (c) 2017 Dominik Homberger
  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  https://webpjs.appspot.com
  WebPRiffParser dominikhlbg@gmail.com
  */
function(e,t,n,o){for(var r=0;r<o;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}(e,t,"RIFF",4)){var a,A;for(u(e,t+=4),t+=8;t<e.length;){var d=l(e,t),m=u(e,t+=4);t+=4;var h=m+(1&m);switch(d){case"VP8 ":case"VP8L":void 0===n.frames[o]&&(n.frames[o]={}),(f=n.frames[o]).src_off=r?i:t-8,f.src_size=s+m+8,o++,r&&(r=!1,s=0,i=0);break;case"VP8X":(f=n.header={}).feature_flags=e[t];var g=t+4;f.canvas_width=1+c(e,g),g+=3,f.canvas_height=1+c(e,g),g+=3;break;case"ALPH":r=!0,s=h+8,i=t-8;break;case"ANIM":(f=n.header).bgcolor=u(e,t),g=t+4,f.loop_count=(a=e)[(A=g)+0]|a[A+1]<<8,g+=2;break;case"ANMF":var p,f;(f=n.frames[o]={}).offset_x=2*c(e,t),t+=3,f.offset_y=2*c(e,t),t+=3,f.width=1+c(e,t),t+=3,f.height=1+c(e,t),t+=3,f.duration=c(e,t),t+=3,p=e[t++],f.dispose=1&p,f.blend=p>>1&1}"ANMF"!=d&&(t+=h)}return n}}(p,0);f.response=p,f.rgbaoutput=!0,f.dataurl=!1;var b=f.header?f.header:null,v=f.frames?f.frames:null;if(b){b.loop_counter=b.loop_count,d=[b.canvas_height],m=[b.canvas_width];for(var w=0;w<v.length&&0!=v[w].blend;w++);}var y=v[0],B=g.WebPDecodeRGBA(p,y.src_off,y.src_size,m,d);y.rgba=B,y.imgwidth=m[0],y.imgheight=d[0];for(var C=0;C<m[0]*d[0]*4;C++)h[C]=B[C];return this.width=m,this.height=d,this.data=h,this}!function(e){var t=function(){return"function"==typeof ke},n=function(t,n,r,l){var c=4,u=i;switch(l){case e.image_compression.FAST:c=1,u=s;break;case e.image_compression.MEDIUM:c=6,u=a;break;case e.image_compression.SLOW:c=9,u=A}t=o(t,n,r,u);var d=ke(t,{level:c});return e.__addimage__.arrayBufferToBinaryString(d)},o=function(e,t,n,o){for(var r,s,i,a=e.length/t,A=new Uint8Array(e.length+a),l=c(),d=0;d<a;d+=1){if(i=d*t,r=e.subarray(i,i+t),o)A.set(o(r,n,s),i+d);else{for(var m,h=l.length,g=[];m<h;m+=1)g[m]=l[m](r,n,s);var p=u(g.concat());A.set(g[p],i+d)}s=r}return A},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},s=function(e,t){var n,o=[],r=e.length;o[0]=1;for(var s=0;s<r;s+=1)n=e[s-t]||0,o[s+1]=e[s]-n+256&255;return o},i=function(e,t,n){var o,r=[],s=e.length;r[0]=2;for(var i=0;i<s;i+=1)o=n&&n[i]||0,r[i+1]=e[i]-o+256&255;return r},a=function(e,t,n){var o,r,s=[],i=e.length;s[0]=3;for(var a=0;a<i;a+=1)o=e[a-t]||0,r=n&&n[a]||0,s[a+1]=e[a]+256-(o+r>>>1)&255;return s},A=function(e,t,n){var o,r,s,i,a=[],A=e.length;a[0]=4;for(var c=0;c<A;c+=1)o=e[c-t]||0,r=n&&n[c]||0,s=n&&n[c-t]||0,i=l(o,r,s),a[c+1]=e[c]-i+256&255;return a},l=function(e,t,n){if(e===t&&t===n)return e;var o=Math.abs(t-n),r=Math.abs(e-n),s=Math.abs(e+t-n-n);return o<=r&&o<=s?e:r<=s?t:n},c=function(){return[r,s,i,a,A]},u=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(o,r,s,i){var a,A,l,c,u,d,m,h,g,p,f,b,v,w,y,B=this.decode.FLATE_DECODE,C="";if(this.__addimage__.isArrayBuffer(o)&&(o=new Uint8Array(o)),this.__addimage__.isArrayBufferView(o)){if(o=(l=new Bn(o)).imgData,A=l.bits,a=l.colorSpace,u=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){g=(h=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,f=new Uint8Array(g*l.colors),p=new Uint8Array(g);var x,S=l.pixelBitlength-l.bits;for(w=0,y=0;w<g;w++){for(v=h[w],x=0;x<S;)f[y++]=v>>>x&255,x+=l.bits;p[w]=v>>>x&255}}if(16===l.bits){g=(h=new Uint32Array(l.decodePixels().buffer)).length,f=new Uint8Array(g*(32/l.pixelBitlength)*l.colors),p=new Uint8Array(g*(32/l.pixelBitlength)),b=l.colors>1,w=0,y=0;for(var F=0;w<g;)v=h[w++],f[y++]=v>>>0&255,b&&(f[y++]=v>>>16&255,v=h[w++],f[y++]=v>>>0&255),p[F++]=v>>>16&255;A=8}i!==e.image_compression.NONE&&t()?(o=n(f,l.width*l.colors,l.colors,i),m=n(p,l.width,1,i)):(o=f,m=p,B=void 0)}if(3===l.colorType&&(a=this.color_spaces.INDEXED,d=l.palette,l.transparency.indexed)){var k=l.transparency.indexed,E=0;for(w=0,g=k.length;w<g;++w)E+=k[w];if((E/=255)===g-1&&-1!==k.indexOf(0))c=[k.indexOf(0)];else if(E!==g){for(h=l.decodePixels(),p=new Uint8Array(h.length),w=0,g=h.length;w<g;w++)p[w]=k[h[w]];m=n(p,l.width,1)}}var _=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(i);return B===this.decode.FLATE_DECODE&&(C="/Predictor "+_+" "),C+="/Colors "+u+" /BitsPerComponent "+A+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(o)||this.__addimage__.isArrayBufferView(o))&&(o=this.__addimage__.arrayBufferToBinaryString(o)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:s,data:o,index:r,filter:B,decodeParameters:C,transparency:c,palette:d,sMask:m,predictor:_,width:l.width,height:l.height,bitsPerComponent:A,colorSpace:a}}}}(At.API),function(e){e.processGIF89A=function(t,n,o,r){var s=new Cn(t),i=s.width,a=s.height,A=[];s.decodeAndBlitFrameRGBA(0,A);var l={data:A,width:i,height:a},c=new Sn(100).encode(l,100);return e.processJPEG.call(this,c,n,o,r)},e.processGIF87A=e.processGIF89A}(At.API),Fn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:o,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fn.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){Ue.log("bit decode error:"+e)}},Fn.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var o=this.bottom_up?e:this.height-1-e,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),i=o*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var A=this.palette[s>>7-a&1];this.data[i+4*a]=A.blue,this.data[i+4*a+1]=A.green,this.data[i+4*a+2]=A.red,this.data[i+4*a+3]=255}0!==n&&(this.pos+=4-n)}},Fn.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,r=0;r<e;r++){var s=this.datav.getUint8(this.pos++,!0),i=o*this.width*4+2*r*4,a=s>>4,A=15&s,l=this.palette[a];if(this.data[i]=l.blue,this.data[i+1]=l.green,this.data[i+2]=l.red,this.data[i+3]=255,2*r+1>=this.width)break;l=this.palette[A],this.data[i+4]=l.blue,this.data[i+4+1]=l.green,this.data[i+4+2]=l.red,this.data[i+4+3]=255}0!==t&&(this.pos+=4-t)}},Fn.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,o=0;o<this.width;o++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*o;if(r<this.palette.length){var i=this.palette[r];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==e&&(this.pos+=4-e)}},Fn.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,A=(s>>10&t)/t*255|0,l=s>>15?255:0,c=o*this.width*4+4*r;this.data[c]=A,this.data[c+1]=a,this.data[c+2]=i,this.data[c+3]=l}this.pos+=e}},Fn.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var r=this.bottom_up?o:this.height-1-o,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,A=(i>>5&n)/n*255|0,l=(i>>11)/t*255|0,c=r*this.width*4+4*s;this.data[c]=l,this.data[c+1]=A,this.data[c+2]=a,this.data[c+3]=255}this.pos+=e}},Fn.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;this.data[i]=s,this.data[i+1]=r,this.data[i+2]=o,this.data[i+3]=255}this.pos+=this.width%4}},Fn.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=o,this.data[a+3]=i}},Fn.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2018 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.processBMP=function(t,n,o,r){var s=new Fn(t,!1),i=s.width,a=s.height,A={data:s.getData(),width:i,height:a},l=new Sn(100).encode(A,100);return e.processJPEG.call(this,l,n,o,r)}}(At.API),kn.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2019 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.processWEBP=function(t,n,o,r){var s=new kn(t,!1),i=s.width,a=s.height,A={data:s.getData(),width:i,height:a},l=new Sn(100).encode(A,100);return e.processJPEG.call(this,l,n,o,r)}}(At.API),At.API.processRGBA=function(e,t,n){for(var o=e.data,r=o.length,s=new Uint8Array(r/4*3),i=new Uint8Array(r/4),a=0,A=0,l=0;l<r;l+=4){var c=o[l],u=o[l+1],d=o[l+2],m=o[l+3];s[a++]=c,s[a++]=u,s[a++]=d,i[A++]=m}var h=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:h,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},At.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},fn=At.API,bn=fn.getCharWidthsArray=function(e,t){var n,o,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:r.metadata.Unicode.widths,A=a.fof?a.fof:1,l=t.kerning?t.kerning:r.metadata.Unicode.kerning,c=l.fof?l.fof:1,u=!1!==t.doKerning,d=0,m=e.length,h=0,g=a[0]||A,p=[];for(n=0;n<m;n++)o=e.charCodeAt(n),"function"==typeof r.metadata.widthOfString?p.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(o))+i*(1e3/s)||0)/1e3):(d=u&&"object"===(0,Q.A)(l[o])&&!isNaN(parseInt(l[o][h],10))?l[o][h]/c:0,p.push((a[o]||g)/A+d)),h=o;return p},vn=fn.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),o=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return fn.processArabic&&(e=fn.processArabic(e)),"function"==typeof o.metadata.widthOfString?o.metadata.widthOfString(e,n,r)/n:bn.apply(this,arguments).reduce((function(e,t){return e+t}),0)},wn=function(e,t,n,o){for(var r=[],s=0,i=e.length,a=0;s!==i&&a+t[s]<n;)a+=t[s],s++;r.push(e.slice(0,s));var A=s;for(a=0;s!==i;)a+t[s]>o&&(r.push(e.slice(A,s)),a=0,A=s),a+=t[s],s++;return A!==s&&r.push(e.slice(A,s)),r},yn=function(e,t,n){n||(n={});var o,r,s,i,a,A,l,c=[],u=[c],d=n.textIndent||0,m=0,h=0,g=e.split(" "),p=bn.apply(this,[" ",n])[0];if(A=-1===n.lineIndent?g[0].length+2:n.lineIndent||0){var f=Array(A).join(" "),b=[];g.map((function(e){(e=e.split(/\s*\n/)).length>1?b=b.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):b.push(e[0])})),g=b,A=vn.apply(this,[f,n])}for(s=0,i=g.length;s<i;s++){var v=0;if(o=g[s],A&&"\n"==o[0]&&(o=o.substr(1),v=1),d+m+(h=(r=bn.apply(this,[o,n])).reduce((function(e,t){return e+t}),0))>t||v){if(h>t){for(a=wn.apply(this,[o,r,t-(d+m),t]),c.push(a.shift()),c=[a.pop()];a.length;)u.push([a.shift()]);h=r.slice(o.length-(c[0]?c[0].length:0)).reduce((function(e,t){return e+t}),0)}else c=[o];u.push(c),d=h+A,m=p}else c.push(o),d+=m+h,m=p}return l=A?function(e,t){return(t?f:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(l)},fn.splitTextToSize=function(e,t,n){var o,r=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);o=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/r;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=n.lineIndent;var a,A,l=[];for(a=0,A=o.length;a<A;a++)l=l.concat(yn.apply(this,[o[a],i,s]));return l},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},o={},r=0;r<t.length;r++)n[t[r]]="0123456789abcdef"[r],o["0123456789abcdef"[r]]=t[r];var s=function(e){return"0x"+parseInt(e,10).toString(16)},i=e.__fontmetrics__.compress=function(e){var t,n,r,a,A=["{"];for(var l in e){if(t=e[l],isNaN(parseInt(l,10))?n="'"+l+"'":(l=parseInt(l,10),n=(n=s(l).slice(2)).slice(0,-1)+o[n.slice(-1)]),"number"==typeof t)t<0?(r=s(t).slice(3),a="-"):(r=s(t).slice(2),a=""),r=a+r.slice(0,-1)+o[r.slice(-1)];else{if("object"!==(0,Q.A)(t))throw new Error("Don't know what to do with value type "+(0,Q.A)(t)+".");r=i(t)}A.push(n+r)}return A.push("}"),A.join("")},a=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,o,r,s,i={},a=1,A=i,l=[],c="",u="",d=e.length-1,m=1;m<d;m+=1)"'"==(s=e[m])?t?(r=t.join(""),t=void 0):t=[]:t?t.push(s):"{"==s?(l.push([A,r]),A={},r=void 0):"}"==s?((o=l.pop())[0][o[1]]=A,r=void 0,A=o[0]):"-"==s?a=-1:void 0===r?n.hasOwnProperty(s)?(c+=n[s],r=parseInt(c,16)*a,a=1,c=""):c+=s:n.hasOwnProperty(s)?(u+=n[s],A[r]=parseInt(u,16)*a,a=1,r=void 0,u=""):u+=s;return i},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},c={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=c.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var o=l.Unicode[t.postScriptName];o&&(t.metadata.Unicode.encoding=o,t.encoding=o.codePages[0])}])}(At.API),
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),o=0;o<t;o++)n[o]=e.charCodeAt(o);return n};e.API.events.push(["addFont",function(n){var o=void 0,r=n.font,s=n.instance;if(!r.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if("string"!=typeof(o=!1===s.existsFileInVFS(r.postScriptName)?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");!function(n,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Qe(o)),n.metadata=e.API.TTFFont.open(o),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(r,o)}}])}(At),
/** @license
 * Copyright (c) 2012 Willow Systems Corporation, https://github.com/willowsystems
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(e){function t(){return(_e.canvg?Promise.resolve(_e.canvg):o.e(332).then(o.bind(o,7332))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}At.API.addSvgAsImage=function(e,n,o,r,s,i,a,A){if(isNaN(n)||isNaN(o))throw Ue.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw Ue.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then((function(t){return t.fromString(c,e,u)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(u)})).then((function(){d.addImage(l.toDataURL("image/jpeg",1),n,o,r,s,a,A)}))}}(),At.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var r=0;r<this.internal.pages[o].length;r++)this.internal.pages[o][r]=this.internal.pages[o][r].replace(t,n);return this},At.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var o,r,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(i),A=[],l=0,c=0,u=0;function d(e,t){var n,o=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(o=!0);return o}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var m=a.length;for(u=0;u<m;u+=1)n[a[u]].value=n[a[u]].defaultValue,n[a[u]].explicitSet=!1}if("object"===(0,Q.A)(e))for(r in e)if(s=e[r],d(a,r)&&void 0!==s){if("boolean"===n[r].type&&"boolean"==typeof s)n[r].value=s;else if("name"===n[r].type&&d(n[r].valueSet,s))n[r].value=s;else if("integer"===n[r].type&&Number.isInteger(s))n[r].value=s;else if("array"===n[r].type){for(l=0;l<s.length;l+=1)if(o=!0,1===s[l].length&&"number"==typeof s[l][0])A.push(String(s[l]-1));else if(s[l].length>1){for(c=0;c<s[l].length;c+=1)"number"!=typeof s[l][c]&&(o=!1);!0===o&&A.push([s[l][0]-1,s[l][1]-1].join(" "))}n[r].value="["+A.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this
/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),r=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),i=n.length+o.length+r.length+t.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+i+" >>"),this.internal.write("stream"),this.internal.write(t+n+o+r+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,o){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(At.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,o=t.metadata.Unicode.widths,r=["","0","00","000","0000"],s=[""],i=0,a=e.length;i<a;++i){if(n=t.metadata.characterToGlyph(e.charCodeAt(i)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(i),-1==o.indexOf(n)&&(o.push(n),o.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(r[4-n.length],n)}return s.join("")},o=function(e){var t,n,o,r,s,i,a;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",o=[],i=0,a=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;i<a;i++)t=n[i],o.length>=100&&(s+="\n"+o.length+" beginbfchar\n"+o.join("\n")+"\nendbfchar",o=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(r=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),o.push("<"+t+"><"+r+">"));return o.length&&(s+="\n"+o.length+" beginbfchar\n"+o.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,r=t.out,s=t.newObject,i=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var a=n.metadata.Unicode.widths,A=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),l="",c=0;c<A.length;c++)l+=String.fromCharCode(A[c]);var u=s();i({data:l,addLength1:!0,objectId:u}),r("endobj");var d=s();i({data:o(n.metadata.toUnicode),addLength1:!0,objectId:d}),r("endobj");var m=s();r("<<"),r("/Type /FontDescriptor"),r("/FontName /"+nt(n.fontName)),r("/FontFile2 "+u+" 0 R"),r("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),r("/Flags "+n.metadata.flags),r("/StemV "+n.metadata.stemV),r("/ItalicAngle "+n.metadata.italicAngle),r("/Ascent "+n.metadata.ascender),r("/Descent "+n.metadata.decender),r("/CapHeight "+n.metadata.capHeight),r(">>"),r("endobj");var h=s();r("<<"),r("/Type /Font"),r("/BaseFont /"+nt(n.fontName)),r("/FontDescriptor "+m+" 0 R"),r("/W "+e.API.PDFObject.convert(a)),r("/CIDToGIDMap /Identity"),r("/DW 1000"),r("/Subtype /CIDFontType2"),r("/CIDSystemInfo"),r("<<"),r("/Supplement 0"),r("/Registry (Adobe)"),r("/Ordering ("+n.encoding+")"),r(">>"),r(">>"),r("endobj"),n.objectNumber=s(),r("<<"),r("/Type /Font"),r("/Subtype /Type0"),r("/ToUnicode "+d+" 0 R"),r("/BaseFont /"+nt(n.fontName)),r("/Encoding /"+n.encoding),r("/DescendantFonts ["+h+" 0 R]"),r(">>"),r("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,r=t.out,s=t.newObject,i=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var a=n.metadata.rawData,A="",l=0;l<a.length;l++)A+=String.fromCharCode(a[l]);var c=s();i({data:A,addLength1:!0,objectId:c}),r("endobj");var u=s();i({data:o(n.metadata.toUnicode),addLength1:!0,objectId:u}),r("endobj");var d=s();r("<<"),r("/Descent "+n.metadata.decender),r("/CapHeight "+n.metadata.capHeight),r("/StemV "+n.metadata.stemV),r("/Type /FontDescriptor"),r("/FontFile2 "+c+" 0 R"),r("/Flags 96"),r("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),r("/FontName /"+nt(n.fontName)),r("/ItalicAngle "+n.metadata.italicAngle),r("/Ascent "+n.metadata.ascender),r(">>"),r("endobj"),n.objectNumber=s();for(var m=0;m<n.metadata.hmtx.widths.length;m++)n.metadata.hmtx.widths[m]=parseInt(n.metadata.hmtx.widths[m]*(1e3/n.metadata.head.unitsPerEm));r("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+nt(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),r("endobj"),n.isAlreadyPutted=!0}}(t)}]);var r=function(e){var t,o=e.text||"",r=e.x,s=e.y,i=e.options||{},a=e.mutex||{},A=a.pdfEscape,l=a.activeFontKey,c=a.fonts,u=l,d="",m=0,h="",g=c[u].encoding;if("Identity-H"!==c[u].encoding)return{text:o,x:r,y:s,options:i,mutex:a};for(h=o,u=l,Array.isArray(o)&&(h=o[0]),m=0;m<h.length;m+=1)c[u].metadata.hasOwnProperty("cmap")&&(t=c[u].metadata.cmap.unicode.codeMap[h[m].charCodeAt(0)]),t||h[m].charCodeAt(0)<256&&c[u].metadata.hasOwnProperty("Unicode")?d+=h[m]:d+="";var p="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===g?p=A(d,u).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===g&&(p=n(d,c[u])),a.isHex=!0,{text:p,x:r,y:s,options:i,mutex:a}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],o={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var s=0;for(s=0;s<t.length;s+=1)Array.isArray(t[s])&&3===t[s].length?n.push([r(Object.assign({},o,{text:t[s][0]})).text,t[s][1],t[s][2]]):n.push(r(Object.assign({},o,{text:t[s]})).text);e.text=n}else e.text=r(Object.assign({},o,{text:t})).text}])}(At),
/**
 * @license
 * jsPDF virtual FileSystem functionality
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(At.API),
/**
 * @license
 * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
 * MIT License
 */
function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,o,r,s,i,a,A,l=t,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},h=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),p=!1,f=0;this.__bidiEngine__={};var b=function(e){var t=e.charCodeAt(),n=t>>8,o=m[n];return void 0!==o?l[256*o+(255&t)]:252===n||253===n?"AL":g.test(n)?"L":8===n?"R":"N"},v=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=b(e.charAt(n))))return!1;if("R"===t)return!0}return!1},w=function(e,t,i,a){var A,l,c,u,d=t[a];switch(d){case"L":case"R":p=!1;break;case"N":case"AN":break;case"EN":p&&(d="AN");break;case"AL":p=!0,d="R";break;case"WS":d="N";break;case"CS":a<1||a+1>=t.length||"EN"!==(A=i[a-1])&&"AN"!==A||"EN"!==(l=t[a+1])&&"AN"!==l?d="N":p&&(l="AN"),d=l===A?l:"N";break;case"ES":d="EN"===(A=a>0?i[a-1]:"B")&&a+1<t.length&&"EN"===t[a+1]?"EN":"N";break;case"ET":if(a>0&&"EN"===i[a-1]){d="EN";break}if(p){d="N";break}for(c=a+1,u=t.length;c<u&&"ET"===t[c];)c++;d=c<u&&"EN"===t[c]?"EN":"N";break;case"NSM":if(r&&!s){for(u=t.length,c=a+1;c<u&&"NSM"===t[c];)c++;if(c<u){var m=e[a],h=m>=1425&&m<=2303||64286===m;if(A=t[c],h&&("R"===A||"AL"===A)){d="R";break}}}d=a<1||"B"===(A=t[a-1])?"N":i[a-1];break;case"B":p=!1,n=!0,d=f;break;case"S":o=!0,d="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":p=!1;break;case"BN":d="N"}return d},y=function(e,t,n){var o=e.split("");return n&&B(o,n,{hiLevel:f}),o.reverse(),t&&t.reverse(),o.join("")},B=function(e,t,r){var s,i,a,A,l,m=-1,h=e.length,g=0,v=[],y=f?u:c,B=[];for(p=!1,n=!1,o=!1,i=0;i<h;i++)B[i]=b(e[i]);for(a=0;a<h;a++){if(l=g,v[a]=w(e,B,v,a),s=240&(g=y[l][d[v[a]]]),g&=15,t[a]=A=y[g][5],s>0)if(16===s){for(i=m;i<a;i++)t[i]=1;m=-1}else m=-1;if(y[g][6])-1===m&&(m=a);else if(m>-1){for(i=m;i<a;i++)t[i]=A;m=-1}"B"===B[a]&&(t[a]=0),r.hiLevel|=A}o&&function(e,t,n){for(var o=0;o<n;o++)if("S"===e[o]){t[o]=f;for(var r=o-1;r>=0&&"WS"===e[r];r--)t[r]=f}}(B,t,h)},C=function(e,t,o,r,s){if(!(s.hiLevel<e)){if(1===e&&1===f&&!n)return t.reverse(),void(o&&o.reverse());for(var i,a,A,l,c=t.length,u=0;u<c;){if(r[u]>=e){for(A=u+1;A<c&&r[A]>=e;)A++;for(l=u,a=A-1;l<a;l++,a--)i=t[l],t[l]=t[a],t[a]=i,o&&(i=o[l],o[l]=o[a],o[a]=i);u=A}u++}}},x=function(e,t,n){var o=e.split(""),r={hiLevel:f};return n||(n=[]),B(o,n,r),function(e,t,n){if(0!==n.hiLevel&&A)for(var o,r=0;r<e.length;r++)1===t[r]&&(o=h.indexOf(e[r]))>=0&&(e[r]=h[o+1])}(o,n,r),C(2,o,t,n,r),C(1,o,t,n,r),o.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===s&&(s=v(e)),void 0===a&&(a=v(e))}(e,t),r||!i||a)if(r&&i&&s^a)f=s?1:0,e=y(e,t,n);else if(!r&&i&&a)f=s?1:0,e=x(e,t,n),e=y(e,t);else if(!r||s||i||a){if(r&&!i&&s^a)e=y(e,t),s?(f=0,e=x(e,t,n)):(f=1,e=x(e,t,n),e=y(e,t));else if(r&&s&&!i&&a)f=1,e=x(e,t,n),e=y(e,t);else if(!r&&!i&&s^a){var o=A;s?(f=1,e=x(e,t,n),f=0,A=!1,e=x(e,t,n),A=o):(f=0,e=x(e,t,n),e=y(e,t),f=1,A=!1,e=x(e,t,n),A=o,e=y(e,t))}}else f=0,e=x(e,t,n);else f=s?1:0,e=x(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(r=e.isInputVisual,i=e.isOutputVisual,s=e.isInputRtl,a=e.isOutputRtl,A=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,o=(e.x,e.y,e.options||{}),r=(e.mutex,o.lang,[]);if(o.isInputVisual="boolean"!=typeof o.isInputVisual||o.isInputVisual,n.setOptions(o),"[object Array]"===Object.prototype.toString.call(t)){var s=0;for(r=[],s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])?r.push([n.doBidiReorder(t[s][0]),t[s][1],t[s][2]]):r.push([n.doBidiReorder(t[s])]);e.text=r}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(At),At.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new _n(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new qn(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new On(this.contents),this.head=new Ln(this),this.name=new Rn(this),this.cmap=new Qn(this),this.toUnicode={},this.hhea=new Dn(this),this.maxp=new Pn(this),this.hmtx=new Vn(this),this.post=new Hn(this),this.os2=new In(this),this.loca=new Gn(this),this.glyf=new zn(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,o,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,o,r;for(r=[],t=0,n=(o=this.bbox).length;t<n;t++)e=o[t],r.push(Math.round(e*this.scaleFactor));return r}.call(this),this.stemV=0,this.post.exists?(n=255&(o=this.post.italic_angle),0!=(32768&(t=o>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(r=this.familyClass)||2===r||3===r||4===r||5===r||7===r,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var o,r,s,i;for(s=0,r=0,i=(e=""+e).length;0<=i?r<i:r>i;r=0<=i?++r:--r)o=e.charCodeAt(r),s+=this.widthOfGlyph(this.characterToGlyph(o))+n*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var En,_n=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,o;for(o=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)o.push(this.writeByte(e.charCodeAt(t)));return o},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,o,r,s,i,a;return e=this.readByte(),t=this.readByte(),n=this.readByte(),o=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^o)+16777216*(255^r)+65536*(255^s)+256*(255^i)+(255^a)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*o+16777216*r+65536*s+256*i+a},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,o,r;for(r=[],n=0,o=e.length;n<o;n++)t=e[n],r.push(this.writeByte(t));return r},e}(),On=function(){var e;function t(e){var t,n,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,o=this.tableCount;0<=o?n<o:n>o;n=0<=o?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,o,r,s,i,a,A,l,c,u,d,m,h;for(h in d=Object.keys(t).length,a=Math.log(2),c=16*Math.floor(Math.log(d)/a),s=Math.floor(c/a),l=16*d-c,(o=new _n).writeInt(this.scalarType),o.writeShort(d),o.writeShort(c),o.writeShort(s),o.writeShort(l),r=16*d,A=o.pos+r,i=null,m=[],t)for(u=t[h],o.writeString(h),o.writeInt(e(u)),o.writeInt(A),o.writeInt(u.length),m=m.concat(u),"head"===h&&(i=A),A+=u.length;A%4;)m.push(0),A++;return o.write(m),n=2981146554-e(o.data),o.pos=i+8,o.writeUInt32(n),o.data},e=function(e){var t,n,o,r;for(e=jn.call(e);e.length%4;)e.push(0);for(o=new _n(e),n=0,t=0,r=e.length;t<r;t=t+=4)n+=o.readUInt32();return 4294967295&n},t}(),Un={}.hasOwnProperty,Tn=function(e,t){for(var n in t)Un.call(t,n)&&(e[n]=t[n]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};En=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Ln=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tn(t,En),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new _n).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),Nn=function(){function e(e,t){var n,o,r,s,i,a,A,l,c,u,d,m,h,g,p,f,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(d=e.readUInt16(),u=d/2,e.pos+=6,r=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,h=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),A=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),o=(this.length-e.pos+this.offset)/2,i=function(){var t,n;for(n=[],a=t=0;0<=o?t<o:t>o;a=0<=o?++t:--t)n.push(e.readUInt16());return n}(),a=p=0,b=r.length;p<b;a=++p)for(g=r[a],n=f=m=h[a];m<=g?f<=g:f>=g;n=m<=g?++f:--f)0===l[a]?s=n+A[a]:0!==(s=i[l[a]/2+(n-m)-(u-a)]||0)&&(s+=A[a]),this.codeMap[n]=65535&s}e.pos=c}return e.encode=function(e,t){var n,o,r,s,i,a,A,l,c,u,d,m,h,g,p,f,b,v,w,y,B,C,x,S,F,k,E,_,O,U,T,L,N,Q,D,I,H,M,R,P,V,j,z,K,W,G;switch(_=new _n,s=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(h=0,g=function(){var e=[];for(m=0;m<256;++m)e.push(0);return e}(),f={0:0},r={},O=0,N=s.length;O<N;O++)null==f[z=e[o=s[O]]]&&(f[z]=++h),r[o]={old:e[o],new:f[e[o]]},g[o]=f[e[o]];return _.writeUInt16(1),_.writeUInt16(0),_.writeUInt32(12),_.writeUInt16(0),_.writeUInt16(262),_.writeUInt16(0),_.write(g),{charMap:r,subtable:_.data,maxGlyphID:h+1};case"unicode":for(k=[],c=[],b=0,f={},n={},p=A=null,U=0,Q=s.length;U<Q;U++)null==f[w=e[o=s[U]]]&&(f[w]=++b),n[o]={old:w,new:f[w]},i=f[w]-o,null!=p&&i===A||(p&&c.push(p),k.push(o),A=i),p=o;for(p&&c.push(p),c.push(65535),k.push(65535),S=2*(x=k.length),C=2*Math.pow(Math.log(x)/Math.LN2,2),u=Math.log(C/2)/Math.LN2,B=2*x-C,a=[],y=[],d=[],m=T=0,D=k.length;T<D;m=++T){if(F=k[m],l=c[m],65535===F){a.push(0),y.push(0);break}if(F-(E=n[F].new)>=32768)for(a.push(0),y.push(2*(d.length+x-m)),o=L=F;F<=l?L<=l:L>=l;o=F<=l?++L:--L)d.push(n[o].new);else a.push(E-F),y.push(0)}for(_.writeUInt16(3),_.writeUInt16(1),_.writeUInt32(12),_.writeUInt16(4),_.writeUInt16(16+8*x+2*d.length),_.writeUInt16(0),_.writeUInt16(S),_.writeUInt16(C),_.writeUInt16(u),_.writeUInt16(B),V=0,I=c.length;V<I;V++)o=c[V],_.writeUInt16(o);for(_.writeUInt16(0),j=0,H=k.length;j<H;j++)o=k[j],_.writeUInt16(o);for(K=0,M=a.length;K<M;K++)i=a[K],_.writeUInt16(i);for(W=0,R=y.length;W<R;W++)v=y[W],_.writeUInt16(v);for(G=0,P=d.length;G<P;G++)h=d[G],_.writeUInt16(h);return{charMap:n,subtable:_.data,maxGlyphID:b+1}}},e}(),Qn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tn(t,En),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,n,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=o?n<o:n>o;n=0<=o?++n:--n)t=new Nn(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var n,o;return null==t&&(t="macroman"),n=Nn.encode(e,t),(o=new _n).writeUInt16(0),o.writeUInt16(1),n.table=o.data.concat(n.subtable),n},t}(),Dn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tn(t,En),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),In=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tn(t,En),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Hn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tn(t,En),t.prototype.tag="post",t.prototype.parse=function(e){var t,n,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var r;for(n=e.readUInt16(),this.glyphNameIndex=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)t=e.readByte(),o.push(this.names.push(e.readString(t)));return o;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=function(){var t,n,o;for(o=[],r=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;r=0<=n?++t:--t)o.push(e.readUInt32());return o}.call(this)}},t}(),Mn=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Rn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tn(t,En),t.prototype.tag="name",t.prototype.parse=function(e){var t,n,o,r,s,i,a,A,l,c,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),i=e.readShort(),n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+i+e.readShort()});for(a={},r=l=0,c=n.length;l<c;r=++l)o=n[r],e.pos=o.offset,A=e.readString(o.length),s=new Mn(A,o),null==a[u=o.nameID]&&(a[u]=[]),a[o.nameID].push(s);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},t}(),Pn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tn(t,En),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Vn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tn(t,En),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,n,o,r,s,i,a;for(e.pos=this.offset,this.metrics=[],t=0,i=this.file.hhea.numberOfMetrics;0<=i?t<i:t>i;t=0<=i?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,r;for(r=[],t=n=0;0<=o?n<o:n>o;t=0<=o?++n:--n)r.push(e.readInt16());return r}(),this.widths=function(){var e,t,n,o;for(o=[],e=0,t=(n=this.metrics).length;e<t;e++)r=n[e],o.push(r.advance);return o}.call(this),n=this.widths[this.widths.length-1],a=[],t=s=0;0<=o?s<o:s>o;t=0<=o?++s:--s)a.push(this.widths.push(n));return a},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),jn=[].slice,zn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tn(t,En),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var t,n,o,r,s,i,a,A,l,c;return e in this.cache?this.cache[e]:(r=this.file.loca,t=this.file.contents,n=r.indexOf(e),0===(o=r.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,s=(i=new _n(t.read(o))).readShort(),A=i.readShort(),c=i.readShort(),a=i.readShort(),l=i.readShort(),this.cache[e]=-1===s?new Wn(i,A,c,a,l):new Kn(i,s,A,c,a,l),this.cache[e]))},t.prototype.encode=function(e,t,n){var o,r,s,i,a;for(s=[],r=[],i=0,a=t.length;i<a;i++)o=e[t[i]],r.push(s.length),o&&(s=s.concat(o.encode(n)));return r.push(s.length),{table:s,offsets:r}},t}(),Kn=function(){function e(e,t,n,o,r,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=o,this.xMax=r,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Wn=function(){function e(e,t,n,o,r){var s,i;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=o,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;i=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&i;)s.pos+=1&i?4:2,128&i?s.pos+=8:64&i?s.pos+=4:8&i&&(s.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new _n(jn.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Gn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tn(t,En),t.prototype.tag="loca",t.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,o;for(o=[],n=0,t=this.length;n<t;n+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var t,o;for(o=[],n=0,t=this.length;n<t;n+=4)o.push(e.readUInt32());return o}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),o=0,r=0,s=0;s<n.length;++s)if(n[s]=o,r<t.length&&t[r]==s){++r,n[s]=o;var i=this.offsets[s],a=this.offsets[s+1]-i;a>0&&(o+=a)}for(var A=new Array(4*n.length),l=0;l<n.length;++l)A[4*l+3]=255&n[l],A[4*l+2]=(65280&n[l])>>8,A[4*l+1]=(16711680&n[l])>>16,A[4*l]=(4278190080&n[l])>>24;return A},t}(),qn=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,o,r;for(t in o=this.font.cmap.tables[0].codeMap,e={},r=this.subset)n=r[t],e[t]=o[n];return e},e.prototype.glyphsFor=function(e){var t,n,o,r,s,i,a;for(o={},s=0,i=e.length;s<i;s++)o[r=e[s]]=this.font.glyf.glyphFor(r);for(r in t=[],o)(null!=(n=o[r])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(r in a=this.glyphsFor(t))n=a[r],o[r]=n;return o},e.prototype.encode=function(e,t){var n,o,r,s,i,a,A,l,c,u,d,m,h,g,p;for(o in n=Qn.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),d={0:0},p=n.charMap)d[(a=p[o]).old]=a.new;for(m in u=n.maxGlyphID,s)m in d||(d[m]=u++);return l=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(d),c=Object.keys(l).sort((function(e,t){return e-t})),h=function(){var e,t,n;for(n=[],e=0,t=c.length;e<t;e++)i=c[e],n.push(l[i]);return n}(),r=this.font.glyf.encode(s,h,d),A=this.font.loca.encode(r.offsets,h),g={cmap:this.font.cmap.raw(),glyf:r.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e}();At.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var o,r,s,i;if(Array.isArray(n))return"["+function(){var e,r,s;for(s=[],e=0,r=n.length;e<r;e++)o=n[e],s.push(t.convert(o));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(r in s=["<<"],n)i=n[r],s.push("/"+r+" "+t.convert(i));return s.push(">>"),s.join("\n")}return""+n},t}();var Zn=At;o(6790);var Xn={name:"CrealifeReportEditor",components:{Editor:O},props:{value:{type:String,default:""},previewWidth:{type:Number,default:749},previewHeight:{type:Number,default:669},baseUrl:{type:String,default:""},plugins:{type:[String,Array],default:"lists code table wordcount fullscreen preview"},toolbar:{type:[String,Array],default:"fontselect | bold italic underline strikethrough | link unlink | undo redo | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | code | removeformat"},showToolbar:{type:Boolean,default:!0}},data(){return{articleContent:this.value,tinymceFlag:"",editorInit:{language_url:"tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"tinymce/skins/ui/oxide",content_css:"tinymce/skins/content/default/content.css",height:this.height,content_style:"* { padding:0; margin:0; } img {max-width:100% !important }",plugin_preview_width:this.previewWidth,plugin_preview_height:this.previewHeight,lineheight_val:"1 1.1 1.2 1.3 1.35 1.4 1.5 1.55 1.6 1.75 1.8 1.9 1.95 2 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 3 3.1 3.2 3.3 3.4 4 5",fontsize_formats:"8pt 10pt 11pt 12pt 13pt 14pt 15pt 16pt 17pt 18pt 24pt 36pt",font_formats:"微软雅黑='微软雅黑';宋体='宋体';黑体='黑体';仿宋='仿宋';楷体='楷体';隶书='隶书';幼圆='幼圆';Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings",plugins:this.plugins,powerpaste_word_import:"merge",toolbar:this.toolbar,toolbar_mode:"sliding",paste_data_images:!0,statusbar:!0,menubar:!0,branding:!1}}},watch:{showToolbar(e,t){e?document.documentElement.style.setProperty("--show-tool","flex"):document.documentElement.style.setProperty("--show-tool","none")}},mounted(){this.showToolbar?document.documentElement.style.setProperty("--show-tool","flex"):document.documentElement.style.setProperty("--show-tool","none"),A().init({})},methods:{parseReport(e){const t=T()("<div>");t.html(e.replace(/Evaluation Warning: The document was created with Spire.Doc for \.NET\./g,"")),t.find('[class^="Section"]').find(".页脚").remove(),t.find('[class^="Section"]').find(".Normal").first().remove(),t.find("td").each((function(){var e=T()(this).find("p");e.each((function(){var e=T()(this).find("span"),t=T()(this).children();if(e.length==t.length&&e.length>1){var n="",o=e.prop("attributes"),r=T()("<span>");T().each(o,(function(){r.attr(this.name,this.value)})),e.each((function(){n+=T()(this).text(),T()(this).remove()})),r.text(n),T()(this).append(r)}}))})),this.articleContent=`${t.html()}`},blobToBase64(e){return new Promise(((t,n)=>{const o=new FileReader;o.readAsDataURL(e),o.onload=()=>{t(o.result.replace("data:application/msword;charset=utf-8;base64,",""))},o.onerror=()=>{n(new Error("文件流异常"))}}))},convertDocToPdfBase64(){},exportPDF(e,t=210,n=297){return new Promise(((o,r)=>{try{const s=document.createElement("div");s.style.width="794px",s.style.overflow="hidden",s.style.position="fixed",s.innerHTML=e.innerHTML,console.log(s.innerHTML),document.body.appendChild(s),N()(s,{scale:1,scrollX:0,scrollY:0}).then((e=>{console.log(e);const r=new Zn("p","mm","a4"),s=1123,i=Math.ceil(e.height/s);for(let o=0;o<i;o++){o>0&&r.addPage();const i=document.createElement("canvas"),a=i.getContext("2d");i.width=e.width,i.height=Math.min(s,e.height-o*s),a.drawImage(e,0,o*s,i.width,i.height,0,0,i.width,i.height);const A=i.toDataURL("image/jpeg",1);r.addImage(A,"JPEG",0,0,t,n)}const a=r.output("blob");o(a)})).catch((e=>{r(e)}))}catch(s){r(s)}}))},exportWord(){return new Promise((async e=>{var t=T()("#tinymce_ifr")[0].contentDocument.documentElement;const n=await this.exportPDF(T()(t).find(".mce-content-body")[0]),o=await this.blobToBase64(n).then((e=>e)),r=await this.blobToBase64(T()(t).find(".mce-content-body").wordExport("")).then((e=>e));e({pdfbase:o,wordbase:r})}))},replaceImage(e=[{key:"_BEHAVIOR_",value:"imgUrl",height:50,width:50}]){e.forEach((e=>{this.articleContent=this.articleContent.replace(e.key,`<img  src="data:image/png;base64,${e.value}" width="${e.width}" height="${e.height}" />`)}))},replaceText(e=[{key:"_BEHAVIOR_",value:"imgUrl"}]){e.forEach((e=>{this.articleContent=this.articleContent.replace(e.key,e.value)}))},generateHTML(){let e="";return e},replaceXml(e){e.forEach((e=>{console.log("◆keyImage◆",e.value),console.log(this.$newx2js.xml2js),console.log((e=>this.generateHTML(this.$x2js.xml2js(e)))),this.articleContent=this.articleContent.replace(e.key,e.value)}))},printData(){console.log(T()("#tinymce_ifr")[0].contentWindow.print())}}},Jn=o(6262);const Yn=(0,Jn.A)(Xn,[["render",i],["__scopeId","data-v-9e621a08"]]);var $n=Yn;$n.install=e=>{e.component($n.name,$n)};var eo=$n;const to=[eo],no=e=>{to.forEach((t=>{e.component(t.name,t)}))};"undefined"!==typeof window&&window.Vue&&no(window.Vue);var oo={install:no,CrealifeReportEditor:eo},ro=oo}(),r}()}));